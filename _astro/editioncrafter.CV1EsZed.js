import{r as M,E as vt,a as dr,Z as dl}from"./index.CPSiHpUv.js";(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('@charset "UTF-8";@import"https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css";@import"https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Martel+Sans:wght@200&family=Martel:wght@400;700&family=Taviraj:wght@300;500&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap";@import"https://fonts.googleapis.com/icon?family=Material+Icons";@import"https://use.fontawesome.com/releases/v5.0.8/css/all.css";@import"https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap";.r6o-editor{top:0;left:0;margin-left:-19px}.a9s-annotationlayer{position:absolute;top:0;left:0;width:100%;height:100%;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.a9s-annotationlayer.no-cursor,.a9s-annotationlayer.no-cursor *{cursor:none!important}.a9s-crosshair line{stroke-width:1px;stroke:#00000080;pointer-events:none;vector-effect:non-scaling-stroke;shape-rendering:crispEdges}.a9s-selection-mask{stroke:none;fill:transparent;pointer-events:none}.a9s-annotation rect,.a9s-annotation circle,.a9s-annotation ellipse,.a9s-annotation path,.a9s-annotation polygon,.a9s-annotation line,.a9s-selection rect,.a9s-selection circle,.a9s-selection ellipse,.a9s-selection path,.a9s-selection polygon,.a9s-selection line{fill:transparent;cursor:pointer;vector-effect:non-scaling-stroke}.a9s-annotation .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff;stroke-width:1px;fill:transparent}.a9s-annotation .a9s-inner:hover,.a9s-selection .a9s-inner:hover{stroke:#fff000}.a9s-annotation .a9s-outer,.a9s-selection .a9s-outer{stroke:#000000b3;stroke-width:3px;fill:none}.a9s-annotation .a9s-formatter-el,.a9s-selection .a9s-formatter-el{overflow:visible}.a9s-annotation.a9s-point .a9s-inner{display:none}.a9s-annotation.a9s-point .a9s-outer{stroke:#5a5a5a;stroke-width:1.5px;fill:#ffffff80}.a9s-annotation.a9s-point .a9s-outer:hover{fill:#fff000}.a9s-annotation.selected .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff000}.a9s-annotation.editable .a9s-inner{stroke:#fff000;cursor:move!important}.a9s-annotation.editable .a9s-inner:hover{fill:#fff0001a}.a9s-handle{cursor:move}.a9s-handle .a9s-handle-inner{stroke:#fff000;fill:#000}.a9s-handle .a9s-handle-outer{stroke:#000;fill:#fff}.a9s-handle:hover .a9s-handle-inner{fill:#fff000}.r6o-btn{background-color:#4483c4;border:1px solid #4483c4;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-size:14px;margin:0;outline:none;text-decoration:none;white-space:nowrap;padding:6px 18px;min-width:70px;vertical-align:middle;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.r6o-btn *{vertical-align:middle;cursor:pointer}.r6o-btn .r6o-icon{margin-right:4px}.r6o-btn:disabled{border-color:#a3c2e2!important;background-color:#a3c2e2!important}.r6o-btn:hover{background-color:#4f92d7;border-color:#4f92d7}.r6o-btn.outline{border:1px solid #4483c4;color:#4483c4;background-color:transparent;text-shadow:none}.r6o-autocomplete{display:inline;position:relative}.r6o-autocomplete div[role=combobox]{display:inline}.r6o-autocomplete input{outline:none;border:none;width:80px;height:100%;line-height:14px;white-space:pre;box-sizing:border-box;background-color:transparent;font-size:14px;color:#3f3f3f}.r6o-autocomplete ul{position:absolute;margin:0;padding:0;list-style-type:none;background-color:#fff;border-radius:3px;border:1px solid #d6d7d9;box-sizing:border-box;box-shadow:0 0 20px #00000040}.r6o-autocomplete ul:empty{display:none}.r6o-autocomplete li{box-sizing:border-box;padding:2px 12px;width:100%;cursor:pointer}.r6o-editable-text{max-height:120px;overflow:auto;outline:none;min-height:2em;font-size:14px;font-family:Lato,sans-serif}.r6o-editable-text:empty:not(:focus):before{content:attr(data-placeholder);color:#c2c2c2}.r6o-widget.comment{font-size:14px;min-height:3em;background-color:#fff;position:relative}.r6o-widget.comment .r6o-editable-text,.r6o-widget.comment .r6o-readonly-comment{padding:10px;width:100%;box-sizing:border-box;outline:none;border:none;background-color:transparent;resize:none}.r6o-widget.comment .r6o-readonly-comment{white-space:pre-line}.r6o-widget.comment .r6o-editable-text::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text::-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-ms-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-lastmodified{border:1px solid #e5e5e5;display:inline-block;border-radius:2px;margin:0 10px 8px;padding:4px 5px;line-height:100%;font-size:12px}.r6o-widget.comment .r6o-lastmodified .r6o-lastmodified-at{color:#757575;padding-left:3px}.r6o-widget.comment .r6o-arrow-down{position:absolute;height:20px;width:20px;top:9px;right:9px;line-height:22px;background-color:#fff;text-align:center;-webkit-font-smoothing:antialiased;border:1px solid #e5e5e5;cursor:pointer;-webkit-border-radius:1px;-khtml-border-radius:1px;-moz-border-radius:1px;border-radius:1px}.r6o-widget.comment .r6o-arrow-down.r6o-menu-open{border-color:#4483c4}.r6o-widget.comment .r6o-comment-dropdown-menu{position:absolute;top:32px;right:8px;background-color:#fff;border:1px solid #e5e5e5;list-style-type:none;margin:0;padding:5px 0;z-index:9999;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,.2);box-shadow:0 2px 4px #0003}.r6o-widget.comment .r6o-comment-dropdown-menu li{padding:0 15px;cursor:pointer}.r6o-widget.comment .r6o-comment-dropdown-menu li:hover{background-color:#ecf0f1}.r6o-widget.comment .r6o-purposedropdown{position:relative;z-index:2}.r6o-widget.comment.editable{background-color:#ecf0f1}.r6o-widget.r6o-tag:empty{display:none}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.r6o-widget.tag .r6o-taglist li{height:27px}.r6o-widget.tag .r6o-taglist li .r6o-delete-wrapper .r6o-delete{position:relative;top:-4px}}.r6o-widget.r6o-tag{background-color:#ecf0f1;border-bottom:1px solid #e5e5e5;padding:1px 3px;display:flex}.r6o-widget.r6o-tag ul{margin:0;padding:0;list-style-type:none;z-index:1}.r6o-widget.r6o-tag ul.r6o-taglist{flex:0;white-space:nowrap}.r6o-widget.r6o-tag ul.r6o-taglist li{display:inline-block;margin:1px 1px 1px 0;padding:0;vertical-align:middle;overflow:hidden;font-size:12px;background-color:#fff;border:1px solid #d6d7d9;cursor:pointer;position:relative;line-height:180%;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:0 0 4px rgba(0,0,0,.1);-moz-box-shadow:0 0 4px rgba(0,0,0,.1);box-shadow:0 0 4px #0000001a}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-label{padding:2px 8px;display:inline-block}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper{display:inline-block;padding:2px 0;color:#fff;width:0;height:100%;background-color:#4483c4;-webkit-border-top-right-radius:2px;-webkit-border-bottom-right-radius:2px;-khtml-border-radius-topright:2px;-khtml-border-radius-bottomright:2px;-moz-border-radius-topright:2px;-moz-border-radius-bottomright:2px;border-top-right-radius:2px;border-bottom-right-radius:2px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper .r6o-delete{padding:2px 6px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper svg{vertical-align:text-top}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-active{width:24px;transition:width .2s}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-done,.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit{width:24px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit-active{width:0;transition:width .2s}.r6o-widget.r6o-tag .r6o-autocomplete{flex:1;position:relative}.r6o-widget.r6o-tag .r6o-autocomplete li{font-size:14px}.r6o-widget.r6o-tag input{width:100%;padding:0 3px;min-width:80px;outline:none;border:none;line-height:170%;background-color:transparent;color:#3f3f3f}.r6o-widget.r6o-tag input::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input::-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-ms-input-placeholder{color:#c2c2c2}.r6o-editor{position:absolute;z-index:99999;width:400px;color:#3f3f3f;opacity:0;font-family:Lato,sans-serif;font-size:17px;line-height:27px;-webkit-transition:opacity .2s ease-in;-moz-transition:opacity .2s ease-in;transition:opacity .2s ease-in}.r6o-editor .r6o-arrow{position:absolute;overflow:hidden;top:-12px;left:12px;width:28px;height:12px;display:none}.r6o-editor .r6o-arrow:after{content:"";position:absolute;top:5px;left:5px;width:18px;height:18px;background-color:#fff;-webkit-backface-visibility:hidden;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.r6o-editor .r6o-editor-inner{background-color:#fff;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:2px 2px 42px rgba(0,0,0,.4);-moz-box-shadow:2px 2px 42px rgba(0,0,0,.4);box-shadow:2px 2px 42px #0006}.r6o-editor .r6o-editor-inner .r6o-widget:first-child{-webkit-border-top-left-radius:2px;-webkit-border-top-right-radius:2px;-khtml-border-radius-topleft:2px;-khtml-border-radius-topright:2px;-moz-border-radius-topleft:2px;-moz-border-radius-topright:2px;border-top-left-radius:2px;border-top-right-radius:2px}.r6o-editor .r6o-editor-inner .r6o-widget{border-bottom:1px solid #e5e5e5}.r6o-editor .r6o-footer{position:relative;text-align:right;padding:8px 0}.r6o-editor .r6o-footer .r6o-btn{margin-right:8px}.r6o-editor .r6o-footer .r6o-btn.delete-annotation{position:absolute;top:7px;left:7px;background-color:transparent;border:none;color:#4483c4;width:32px;height:32px;min-width:0;border-radius:100%;padding:0;display:flex;justify-content:center;align-items:center;-webkit-transition:all .1s ease-in;-moz-transition:all .1s ease-in;-o-transition:all .1s ease-in;transition:all .1s ease-in}.r6o-editor .r6o-footer .r6o-btn.delete-annotation:hover{color:#fff;background-color:#ef352c}@media (max-width: 640px){.r6o-editor{width:260px}}.r6o-editor.r6o-arrow-top .r6o-arrow{display:block}.r6o-editor.r6o-arrow-right{margin-left:8px}.r6o-editor.r6o-arrow-right .r6o-arrow{left:auto;right:12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow{display:block;top:auto;bottom:-12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow:after{top:-11px;box-shadow:none}.r6o-editor.pushed .r6o-arrow,.r6o-editor.dragged .r6o-arrow{display:none}.r6o-editor .r6o-draggable{cursor:move}.r6o-purposedropdown{width:150px;display:inline-block}.r6o-noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.a9s-annotation.hover .a9s-inner{stroke:#fff000}.a9s-annotation:not(.hover):hover .a9s-inner{stroke:#fff}.a9s-osd-crosshair-container{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none}.editioncrafter .MuiInputBase-root{font-family:Inter,sans-serif}.editioncrafter *{box-sizing:border-box}.editioncrafter div{width:auto}.editioncrafter body{padding:0;margin:0;box-sizing:border-box}.editioncrafter .warning{color:#ff0}.editioncrafter .fa{width:max(1.5rem,24px);padding:max(.2rem,3.2px) max(.1rem,1.6px) max(.1rem,1.6px);text-align:center}.editioncrafter .fa.active{background-color:#9e9e9e0a;border:max(.2rem,3.2px) solid #FF9800}.editioncrafter .fa-book.active{border-radius:0 max(2rem,32px) max(2rem,32px) 0}.editioncrafter .fa:not(.active){color:gray}.editioncrafter .fa.fa-lock,.editioncrafter .fa.fa-lock-open{border-radius:max(2rem,32px) 0 0 max(2rem,32px)}.editioncrafter .vertical-separator{height:100%;border-right:1px solid #6F747C;margin:10px 0}.editioncrafter .line-clamp{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;-webkit-line-clamp:3}.editioncrafter .line-clamp.two-lines{-webkit-line-clamp:2}.editioncrafter .flex-parent{display:flex}.editioncrafter .flex-parent.half-width{width:50%}.editioncrafter .flex-parent.full-width{width:100%}.editioncrafter .flex-parent.column{flex-direction:column}.editioncrafter .flex-parent.jc-start{justify-content:flex-start}.editioncrafter .flex-parent.jc-center{justify-content:center}.editioncrafter .flex-parent.jc-end{justify-content:flex-end}.editioncrafter .flex-parent.jc-space-btw{justify-content:space-between}.editioncrafter .flex-parent.jc-space-around{justify-content:space-around}.editioncrafter .flex-parent.ai-start{align-items:flex-start}.editioncrafter .flex-parent.ai-center{align-items:center}.editioncrafter .flex-parent.ai-end{align-items:flex-end}.editioncrafter .flex-parent.wrap{flex-wrap:wrap}.editioncrafter .flex-parent.row-reverse{flex-direction:row-reverse}.editioncrafter .flex-parent.column-reverse{flex-direction:column-reverse}.editioncrafter .flex-parent .flex-1{flex:1}.editioncrafter .flex-parent .flex-2{flex:2}.editioncrafter .flex-parent .flex-3{flex:3}.editioncrafter .flex-parent .flex-4{flex:4}.editioncrafter .flex-parent .flex-5{flex:5}.editioncrafter .flex-parent .flex-6{flex:6}.editioncrafter .flex-parent .flex-7{flex:7}.editioncrafter .flex-parent .flex-8{flex:8}.editioncrafter .flex-parent .flex-9{flex:9}.editioncrafter .flex-parent .flex-10{flex:10}.editioncrafter .flex-parent .flex-11{flex:11}.editioncrafter .flex-parent .flex-12{flex:12}.editioncrafter .bg-maroon-gradient{background-image:linear-gradient(to right,#792421,#66211c,#531d17,#411912,#30140d)}.editioncrafter .bg-dark-gradient-bt{background-image:linear-gradient(to bottom,#f2e6d9,#e6e0c1,#e4d2a5)}.editioncrafter .bg-dark-gradient-tb{background-image:linear-gradient(to bottom,#e4d2a5,#e6e0c1,#f2e6d9)}.editioncrafter .bg-light-gradient-bt{background-image:linear-gradient(to bottom,#fefcfb,#f0eddb,#ede2c4)}.editioncrafter .bg-light-gradient-tb{background-image:linear-gradient(to bottom,#ede2c4,#f0eddb,#fefcfb)}.editioncrafter .accent-bar{height:10px;width:100%}.editioncrafter .invisible{display:none}.editioncrafter .disabled{opacity:.5}.editioncrafter .figure-dialog-img-container img{display:block;width:100%;height:auto}.editioncrafter a:hover{text-decoration:underline}.editioncrafter a{color:#792421;text-decoration:none}@-webkit-keyframes slide-down{0%{height:2px;bottom:-5px}to{height:6px;bottom:-9px}}@-moz-keyframes slide-down{0%{height:2px;bottom:-5px}to{height:6px;bottom:-9px}}@-ms-keyframes slide-down{0%{height:2px;bottom:-5px}to{height:6px;bottom:-9px}}@-o-keyframes slide-down{0%{height:2px;bottom:-5px}to{height:6px;bottom:-9px}}@keyframes slide-down{0%{height:2px;bottom:-5px}to{height:6px;bottom:-9px}}.editioncrafter #globalNavigation{display:flex;align-items:center;flex-direction:row-reverse;font-size:max(.9rem,14.4px);position:relative;top:min(-4rem,-64px);right:max(2rem,32px);float:right}@container diplomatic (min-width: 960px){.editioncrafter #globalNavigation{display:block}}.editioncrafter #globalNavigation .expandedViewOnly span,.editioncrafter #globalNavigation .expandedViewOnly a{color:#fff;margin-left:max(1rem,16px);cursor:pointer}.editioncrafter #globalNavigation span .francais{font-weight:100}.editioncrafter #globalNavigation input{height:max(1.5rem,24px);padding:0 0 0 max(.5rem,8px);font-style:italic;border:1px solid rgba(0,0,0,.3882352941);color:#756c6c;background-color:#d8d8d8}.editioncrafter #loadingStateModal{position:fixed;z-index:9000;background-color:#0000007a;width:100vw;height:100vh}.editioncrafter .spinner{width:100%;height:100%;margin:calc(50vh - (max(1rem,16px)/2)) auto 0 auto;text-align:center}.editioncrafter .spinner>div{width:max(1rem,16px);height:max(1rem,16px);background-color:#fff;border-radius:100%;display:inline-block;-webkit-animation:sk-bouncedelay 1.4s infinite ease-in-out both;animation:sk-bouncedelay 1.4s infinite ease-in-out both}.editioncrafter .spinner .bounce1{-webkit-animation-delay:-.32s;animation-delay:-.32s}.editioncrafter .spinner .bounce2{-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes sk-bouncedelay{0%,to,80%{-webkit-transform:scale(0)}40%{-webkit-transform:scale(1)}}@keyframes sk-bouncedelay{0%,to,80%{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}.editioncrafter figure{padding:max(.3rem,4.8px) 0 0;border-radius:max(.2rem,3.2px);margin:0;text-align:center}.editioncrafter figure.current{background-color:#077affd4}.editioncrafter .thumbnail-caption.current{color:#077affd4!important;font-weight:900}.editioncrafter .watermarkContainer .navigationComponent{position:absolute}.editioncrafter .watermark{width:100%;height:100%;margin:calc(50% - (max(10rem,160px)/2)) auto 0 auto}.editioncrafter .transcriptContent .watermark{margin:calc(50% - 12.5rem) auto 0 auto}.editioncrafter .watermark_contents{width:max(10rem,160px);height:max(10rem,160px);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAABKCAYAAAB+UyxeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAB4ISURBVHgB7V1LcBtncu4ZgNRjt4rQLTeOKntgZb0reNd2uWpTReiWnAQdNpbsrRJ88EZyUiXylhupUyonkVVZy9k9CKqyrTg5EDrmJPDmJJsVmN2kdNPw5pwMVa1lPoD50193/4PBiwRAkJJldRUJYGYw8z/678fX3T8CmpDKV65HFIYb5FyBWq3LtX/9TYNe0UtDIU1KQbDKTBHzayGYmZ2nV/RSUZ4mIJYWFWaIa/IhoKZrt5/SK3qpKEcT0MKP3togcnV+++/MGW8zk5QXfvjT/3v8h99+69VJubxUWPjJT64svPZGxP15TN9RCmhMwsDRmd1HrEbeZ4YoiuRIkm1+rfPpS3z8Xu2fP67St4TK7914SI77QdTkv6jrpKpKMDvG6RL/VWufffQ+fQdofFXy/VaRkiDiAeMBFamBQV3mv5Xa/TsXy7/421L53Q9XmVli2jldq9XWmvQikwvOy2uSYMLj9PjO6Wa27dwnnNum7wiNzRi1T/6xzoPUlDUEieGoyt5JxAN7Sy5Idpu1z36zWr56Y4nO7j3ia+u0v7/+wnotYO6AFrkPt8XDCgLtx9m9iKVJkxmH/1yJj8DAjuk7QhMZn/Rs9nz6/uxemQfuGg/spriwLiiwumERvMerzTWYcSKamdkQZkqS9RdSzThaZ+a4xn8NYQ7natzO2J/mtoOpS9mviEo9vVOUxSFqxm3V7n+8RC8JTcYYp3cKzAgl1rdV/lTlgYPk4NUWFuGl4Hzts4/9uQq/VniwHewRliTXTAXdyw7+c6MgiFmi1Zl5uc13VgdekyRN7u88t/sS92eRoD6DPV4E4TovkjXuLxgnppeIJmMMUSG8sjrUrN3/aBVvRGrkgjIPYIEHtJoyD44D+8BEBEHExx6KmmEV9JwZJKZcDrZE2h9ta7gkKgYGKdSmk1O4Zpv7vsWfYzG8v7d3k9ohS0Lt/yAqX+HF0d5vfJtAwMkYQwYr6BiVrjOoNslreC+G6NUPl6jNEmLnVJ2NuYqIYFU/GHBInjVmkK+eI4P4yYrSI0B0iYDNPJB2Es3xaihzn0skHgp7KrmwJnbV17PxoQZ2jm5TkMdzLtK3hCaVGCwNwg73u2Rt0GUwVPmlLuokv1dlNVKnb9hYdY6N12CTsFph2AUY6+CuWP5JAhVTp5OkdhsMKpLCmLNorupNCrltCd2jkJnbtZbZsB5r1XOfyyJtWMpm7v/C06QSI85+OKyzqTphCcIYiDIRqxkW12WOs6xRPh/xEQzgUx7ASvndGzcpcQ9OyFAt8vObwqwdguta4kbWa59qG1jyrdXuj8kU715fYWP8HDPdZb7/mrj4RKnhnhqwJGNYpxeIJlcl7V0ZpHKFO7e7szqKRZ5KELU3yixqCqLfT52q0+4uG3NJQ6384AJWquAhcBOPW80E7gLrD3gj2k5j5O6L3PjxIFU9MTN/zO0vcn+cMQNUL3tBexxaYFefbTRmomUz2F8ImpQxCqkhtcfW+ZixuF47hHZ2oiDMPXFBOxKjDqvVATgDxhDA21likRzLqp42aDY7W+M+fCXvFb3tU4uy8sPcOo1LLtji/6yOwqIY41BPIjFD4ECRXQWVyh4Pe2xXrscviuSYNLoade6QFMT/n5AgRaAyXNLmQeTVA29nf3/V7slShZQJnFOX8MxuBZJEdPcUqFYVJlu3Z5R6zwtTJGFg0m5kEskQBM7uq5gOGC9gaShMweLJsXFL7it5zeVuMdO/MF5LAN2pb1mcwo1Uoyum4fAv/PkI8Dc+lH9xvURtNtIo2BbVgBXuLX3V23Gqv0MRm3rcH2u3m1AnXlVYnkcJmAFhNTHYxJ8ripNQU7wE4CD5PAzVkrXnAcS1qKUeKHtUMrzlJquR1zvHxEbYknuD1K2NVIoFBUNKC4PGR+NI/ClxVf5/znCQiN+zEesCGeMwrI/LcCdFeQr2q0QzbBQFNVJ0DxPBnMwT4Vi0gwALhyGQSxhK24b2Zeke4xi1QQ+QifaE+IkamiT3T5KCMAtPOksAHuCgKZMPCkQMlwVLgO5X97gormIYLDJDIez/QDwaiOuZmRJBupzdq/EkD2ZqnRgj3M8V7BX2Q0S9i8GFeP45ys8wU2PB5GJ5RqvVkDYxE8p1cL+JGVltCrjvTWFW2Er63Cfc+XllJjGwGzYekTEknn1BXrEwMTYBOibSxI/FvIxHkqzxIrpFx0x5uF88KYiU3uVJusgPvssdbw55uEw+X7/YddTlhq7QAUZjTGOSIqtuSUSxY28ml49MWvjVign1KicSZhkjPiMGNOwMhuy7TsiKl4mI+75zhSXl2b2SSDJFcjcFBcPEk6gLTDSkBn833GbJAYn6gCXt2oFtUZwnYsnVsOdE3ijm+VmH9Cy/88ul2ue/PvA+R6U07K4iPLhN1GKGmNkQ1HIAc4jqSAQOX5XP4qdDFZyMSJQVpvEMlmJtHrwZSC8M3qJJspqt1hJpD+fk8zcCsA1k4JQx4KYGfO+2U+kXhpJewJOpC0I9ipuM7DJD9KlbXdGeWUXtiVQ8D8aycYvM4znqGNw97sBk6pVI469c5/D5TIWXyUUMCnPm0z7OTEIM7kr55x/UpGEQj63dmE6I/MCqy5sv2+DXAVDxJG6LOHds7wROjb9A4Osyr8IlHtAnfO1mr2cDA9SCfPWe4NlTexZAuBV2L0tir8NzcrTF6Gc9aLfnXRBU7Sub/LwafX2qSt9nfMKFG+n92rBLaDo0O7vMfb3L7y7TMVGXu2rMUeXOVyQRJ5ffuHz1xlcb9+/cSy/SgFIz5VZnWMQJU5/L2xZ7aF6tf9gljKxCjDuo6mRVxHHICGeQRzoAUNZqH8rKABQfR19xb9xvjo9tsCRtqq4XKbAujAhGSZJrTg3RLX7+WhaQYwnR3eB+I3XyvoORr97YPE6V0ueuyoCH+4gDQDTewmqQFZM9z2I8NSqn2OFJSVze+3eUmaEKJbuMCub6NgB5o90CZzuHJKLzYguw4cso64bkjpD05bKoyGezMMDrpHYLpANUCTME39ex9xaGD5lZinLs2ey52qe/KvahtG0dl/I7f31TPmvQMaIpkdgqudxil3E/RRoIcIlBeuV6kdqtgPK5usQxrly/mIpFHkD+W+MBrVqm1olLjEHUYyQuidE6MwO9D3UgriYkhDI60M6AXWKAWmLcFczrapiaQYxHvQE1aCvmAW3CSD/UzQSau7eHmNCWqaLpL6DELfN92S6cvko5UOvZSooliQVuooreOD0vRtvX0biBpedBho9UCFB0x5tpGm4D9HFFjjiH95AQms+q6mNLvIyEttgtL434SIX0kcTEng0/G/hIzRuy0yIxaveT4rRVyqHmkDBHm5kDojPglfPNqaUXPo+TugJUiyr2AzJAyvAQURPblkBU1hS/4J43QM2LQNALTI+g2k1BRp27NU5wz3AKMN0W33vpOGI+/Iw1VpnVaXopI9nJKXPkxB0D6lmiF4w6qXZh2RJsYiIDmmAvYcUqUyxKog2kAuBp5yom5iWlLwMmgSqGUawLVhMmZQm4JeKm1sQ9hipltfO8w+mwlejZqfentWhHdqCYKxkedggZz/FfzMyxTFOiNGOKo6ujrkbV22HZoHzNrNLVPS8uKQeufKWcfGGfDeqZmaKIdk1ivkcBR3OdqAugr5sGczcF+xBElO+prnBJ7qG2hrPjkgXPsZuSeC7ETAU32SU1xDxOWqqqERpWDsokG4fG8qzL7/3NbUEgsRqHAGCTEDMd9C4AJkC+r/euPqtlqcgKB+kEPbXvbKdxFDUoedLwHi6lMM68xS0KMvmSkifJu400Xc9xACtAsg7iIHzcPAqVKAyJQ8oEkryzLMG8PNvsrs3SQpBNze5CvgUkUS53U1x6H29S1VSnEyABG5N2NA17YzzG0DwKACvbsrrarfpRG2HSgnW5ru7uINYHPBl5QOEIqAGomtP4Bk9um8V7XnJPGxaQQwnAkmWHeXh8S1Y+0vD+mG/01IlUCKpCXUiXws4S1Q2K5F1Lj10g6ReEupp2u2gBR6gcZUowXiLf2ZRnOjE4NRioObJq5EICHaNEsZqe6lFV2/iMoWIVQFLRVsrlSS1tYzQYeJvka2EliBQ80MF23XUdqhb4PHkYPE7tA+89IHoJDKKHEUboF1DR970qE4MOBifxsQMSaARcg/RwMhZqm4QSLPMeD8CvJyxJzgmDS+BQgLeYNPK8BeY+aCJFbWLcmTkP65PB+7ePWjE3HmNoMAvGZ00wDDXeoJcvTsKhmv2190hwBAwm1AADSAEbhI4kCnlJJIRmZMO+uZRpuTKCo8YgiTBWOyCCxU4gK0ASAxTPinysY6T7QOVJpZ4E+LxUceoNUcOkConk8JJNc15hLNcFdGMbJat6JMM8ELtIFoJPdziwHZC07aB0FGk+HmPAhWvlCQEz48wnmZyL98dhDvF0kGyrIhtA2S2ONC+y77hKEk6HbSCJO0X7yrYgkBjgnpjGSM9ThLCkMRVvG5BGQ/EsSD8lgcqlT5Ai7KoOCnyBCUZhxAyz4P5z5hEp5uzM2PVMgryPU6cigfd10W1p7MdxRJmvYfeZ2zKaJwlVOcE4eZqYMezhKm6dw0DOM8ZxeWTxnYpqT4hoBhGpmogVaBpsH0xCGVyCxJ4hxixCyXRv8kRUUlWmBJCrSsAfYORCJfjEIjUq0cYLbGOtj7MqU1UchrEwiqoazxgcjOTXmXBRJEySQPXM6Zg436Zxx3jVR8HHpfFyPtVazzYK1j/rskCTZs7uPeQVcnHEhlepizF88g8P1rNTr0/dOMufbrCE0/snUH134sxZrcfV9ggcTt6GUbsj7r2dFlblH/Hr3Kjemd2n6p+Z3kulCjNMqyDZXZBocLe1LQUD57ZFipzd+8pKJhuHht7ZCMVeJpNk24dpJ0ejct+R/TbrztayNDphH/7s7l3p6CFkiSgY0Ka8Ppt9nTu/jpV8HBa75XY2TSpdG9CeJUnzR+U+JAnKG7A6h4hiO47EmVUevxU6Stu4vxx7gW1RlXa4BO3A+BTUWxO7Z96kVpUlyy3JspuZeXjgfSUgGo4zvympxEBW0Hsf3uzkVcrRpqWZmfiUNLiyVLd7Ap6AxkmirossTa8xsuSQ7wVbaXnjux9GhjROhdiOeWigVUxaWRaL2gvD2/wsYCaXu3JE/5ivS2p/kkQEiYGK93c/9G3tze/0iTkkzHH1RoUZaSqSTiD5dz9EemVRgnzAUgJRfyVBXfMc8m9LEnZ86L3YPrIyjFUag5QxdII0RY199q6MpbMoDyBE8hgSDvi9JcaCQkQeaVm+F4YF1dMCgClzXL1x63BX1gMIpPUdSW4i17eXzDiOSJN3G7pNQ7AkfdUoKRJ0V7idT23y2QuRUgiTLFKz2uyAYoEa2Wof4L4rinaKq40IZzxlSSdM6N1O8+B4bFiSJeKSR1piMQKFiUSUxwHalDFg8bZpWbyETMKsdTTVYTyAm13fdoI1FFLIOAgemNF0TQaNXUBmjuE4hxYalSGKRU+76Saz8Mt5WS2B1HZUSPASnnjkUPRMIrdhza4BxYTw+6cfDdXf3K+mMoTwNd6XWOp+hXJGloBLdHSK+o4E9KR2X1RYrNABg2UjUO2Tj+tSclFeGtmIV8bQdL2IDQbWbTOwEaoDb9Bd4Y6WBvT1bJXO7K2KqmkbFKxZ0Cz2WGwjl+PnH8SDjCSbvAq2O+KBLhGNuALGILPKVw+9Tm2GQ69Lr1dmr2Uqy6g23UDavBVfKbUQKQ7THFOfLDwyzTJym+yBYVdHuTxMH4L4QZIDlLvOcYnBxhQbmD2dn9cgEkuVUAAcwRhEbCtQBOCmwLGFjQMNoDYyr0jRzp38eB1+ziSGI7LDph1dFbzD0bRIFmEgmXelUa7PpPaxtGCdK64NI01DLO11RuJghUfmeRQFlBFmIAOOOHCFHFBELzvGq0DfLDkGSgQZ2Pt31lh0n/s25HocN+kiwqIKtntOxXQEknRAr/YPoZQxLAtrW4wUuEw51pk9EykIYJ5dOehiFNnAvfNVZN+cqkK3in5lQMqCW7dI60GbkgSTz9+WPUJf0cEkScviIc6lkrZlVXxHJcM2DrusC/lUS373LhI+RG8iknoI0pbmM3r7IzReC826hwXvABzJ+XUYptkI6isaTClKCuNewvvBpWyNy5HuPQJcHgxskCV8SDCGZm4eFqmzKGnR/Pwo3WEnsCxr9fcXDaDZ1JI93YNr1JjDd52mPU6IVR1UFTcwViIuXrvVpN2zVVYZVYsQdm1kYhHJEvkUe/j3ug9E7DsiUge71eRyBUu5A+TcEIRUP/td8uTeds/iIHxfmPTZ9wQrGDZIg44L02ZALPmMcoKMlzTOTjdZL6SHovSdL3rOkqYAesq+p6kbriOQX8zDJNBgxlBw6JHgFCQRPsYl9hmyzpd6uUzsEKTMqcizu7YYgDlVEMM0OynIXUgSv59mZFcj1P7IPqOxyHrq90z0vD/u389nrgCDnUuBqGwtqy+W1syviBTV9WHvgg9pp/fXzwULmFHnPkRdx7ITjIUxjJDRhb9sQTcKxjW6GvXc056Xqe7vPHc+c/4pBTRcguj3OxFkuYd89lX6m1LW2WotD4IShkZXTcc9DJxblRI8pK6pGrgwLGiUqhRMnIaVm6ntEdggYPBV0lySyTAY2UoV5jVe0kNe6gwj20oBb0de+cPd5/7jYZfhN+x73ZSdmG7Kehpx//dcJ9qqgTzPrCqFIHky/T10bAY9C9/JS2YcShsgrcu9Fx9cV2LMIZE9ZFMjP2FAsY0v2JVVg4f6jnTS9OO003oultzREBlNUoDc1DxMJN6kg4K/edLcTke+kssXC2vrm+lq6PRoLruLoD1vy57du9cWUXbrhcEUd33KSgb0VYqrhXEiW/1NqcPRNlSpwwgFOS79JRooJXxppDLVJdKxWxdp7JD5LjkjUL9PDSPK0oO+vg1+hp1DfgfFw4q9D83HsEnXXxtwkhA7MFtL1E+rVZQPPSpk4H0B6TLjpEXKWsV+SWD1DkWCkXRWSER+og64v6gsapFsHi/iuscY1gzvFB72mWnyjFZr0AYvcdcD/CrNYgLqnjes/rckW1A/m00DiZpIjRwMlCIg4Zj7NDND6XOhajxpfTBL6KTm0wrTfBIkJPvNaLSdGEfZVJfV/NQq0katK6laIktM4OJMh/uu9YMsd2/Fw6rUerdPsKqtyHCPiLKTISsmzff0n5u2f5aooICC2sZnv3pgkUS0AWL8HOnWRprQ6wfUT6AZkgOz0nX3Y/3zBIbPy94ckXzWzWSy0qlhk1riGV+pfXbnfHpPnVgkUmt2WJJ0XPsu1YG9T5EYFABPKmfGC6J/JZtFn7YTJaKWRT+tX0cYp67kkXHpOW7ck1G5U7O+5G1MVjsqxzPuUidTXGDxrIHpSb6rK9/jJXxdWwJ1ZbFnEt0dz1ZyZN/XxBtncHu3wdlh7OzWTygNwH08Q8zOxiJnBnkimBAk2GjNa7atRXt2VWpcpMwTOASrxXCAwQoJ5L0YzyQOv+bwUYexlOFXSPc9b2TGJ/UIBXhkb/JEywfM3rDfKeFGtMPF2uf/NP5Odv5+6Ggm61lyJ8AYPhcS1LHMbbDAmGh1riGqQmOAuLYpaGuG+txWUS9Ecl1GSphXRV6UmyqI+hrcwWmU0BavAjSh13tBHRsLKkuZtCTGO+tzyf/MuPVDx4fHI5v4a1IbdsdFkVJqjHYY0koGplWuOH7OJ+wNFmeyUrUirUZjkuV5LKE6zHdASuwSt9wn1v0kqSUdCVOy2wwGqX16Zy1VXZ5xQIDpJ9llb+brKLXw/Q56tkGr/3xo+n4H54hYJJSovV9DKMAYBdsrbKdMBVKGxFjiOcrkgZuTX21wbG99M7uaem2aJXerMxamfpRqCIZq3sbuxrjJ2b00FmNIxzWJdw66rHz1+hp3YO1Q7v8rtidQHERYQXm9NklKWSBLVJXUiKb6tpsgLjNJwX3AFQZkJ/MzEb4SbJD6yNgZ9uxiqjr8Dn1DjNtBdkkKX2uN7LbZHjFLxFgkhK+ub7UaI7vTshNxJ6/DCqRQVHXPcBFTqfJbMTFhkWZ3PhwhnHEQjb8B7OzsKht8D+Xhp06v0i5yMWjpwO/ssQjN7TIbhgWpuUBV15nd3slv6IoXjAOGo7p5fmKTXdbnVLSkXV3FZ3bxviaG7M6Oeg+aEKa76mURyA5zoOCH34dFS7ap4/QgCZNKK9gSuMsuUgz2ijBwGImtCYinbSzKvXXbyZoBdEVJSUgyKkY3gu30CZu6aD1tiTrFVA0xTANa7ENyvWuuRjHeFcS7oW78xqr1b7FURmbZRMbo2BIDZMbiBou5ixZsKx+Eu6e1FSBzZel7uxWogvQabDj2bHbZioT9gGeMMvJ7WCkaiJ1xTvN9kL6X9Ryy5BFHpeig1LYBUHeUvvPuq9gMmIiZYt8NMMlH2Ge0qy22l0ePRK0QJIbWvPTbPGCqZ7Nde4tZFHV+khrjiRhDHmpIJare5X2rVT/I4LE61JLA5UgIQu5HNp9xZ6fKg1qx4pwotbQPwiuyRmIakwmyzMQqQgp3zpOv3/Ab3HZqXHGPOL1PFsDKMhZ0uqmyXjXW1SafIc/2CsbDtzE1ajV9END2tm60zxMMo9TcY7ETNGZ0Ket6ZnYrrMkBfM//zgrUSlpEtb+ehQhg5DN6/aRrH7URaGLGsIdixS8C15A9sg/YVMUitUWbEKy4+ZQxbBuEcXMlU0+jWzLQUVeteCoW15ByTJvcIMxdAFZCx0wG/nVFtRX3cemEj1X1Bw8wY+iPQpNuMi+EhB4xGs/s3hVE7vQBOYUcGWWdZ6tjr9C1LVweCCeNPZF90LyKW6xWDEDXIKTIrLqXkRyE22iruktH4xh+181/7pyL6STIb2KbJd3uCqkL2A0ZOykXU1RWbJvUoK733g4qCe4u93N1VIaa6Ad5s7Tww5/+Gzfs79TYo6cLP/zJ24//57++6Ltu4e3TtJ97jJW8cOENNoqCysKfvf4U1y78+A1hjKP+AO7j3/9ng9vTrP3Lr/vu87jxxc7j//6PmK/5Es+Rv//93Zdy7g+/7WPKx4/5ev6j50ALP37rbX4JuK319NiP3jrDY/w5T2xj4Qd//iXlW6pGULGmpZanoVoWXnujgD723fO1NxqwCxd+8LPPR+nXkSQGSEGVDy5TOPOIUbdlyuculd/5JfWib93WtWyGxjZB/jZz8jy1Zb8NQO41OiI97y2Pjo0gEXyA0pPGe+qjfF3m6eqNeyLdR9jl78gSA/T497/7kjmS4d4cY/nuL5lz7/DKLfBK3Bx0/cKf/qxBs1L93TSg7DS/PmZOfyA/oV0s/gmvCpEyeD9oRb/MtPCjN+WlW2K8+RcwriEVRZrxmIwr0fg7XyxcePP6wmtvPj1MOk/6eyV9ZO7qPSlaSmTL6Qpz6O2B10J6JJIAFEhI3LwIMZKQZJzPd9zBF2QP0RMltYNkWynJyNescY00H5VcC9HZ24fVsx7JKxlEYowC+gWTILaiUG0fyNIL3rzK/ewmM6TL9rExje2T0nsD30Ck9oANb6bPGJ3knmWJaxzwSwav6PnRYcwxFRsjS9B9bF/ApbpP35z5B8rtf46kEz62xediekUvBPFcNNhuCXhu/p69wzO9nuTUbIwsCQfmODx/ZndF3qvNcahee0UnS1qZliyzd7jSOzfHwhjy0E8EaNmGAWrMcVkKnEfYVOVloUwp59Hvxfc5jrGTeVLQrKuEdOo2Ri9Zyt5cGlORzCbbrlFJU+Kz6fC9P7InLbU9PT36OGp2dH+NR2SvMR2e8R0POBZlMsC3qZOxhX5sdV2p10WGSq7K7sc+A83/JpvGa5ojtAkZYRorybl1aqeb2/rv+qTj+QHfzWyS29WnyEIUwJCK2Y3fjp0xQJJ9ZDvv2/uG1LoOi6v4SGenDqObWpnNWzwNuxakOZqNNJ4yhQjo86CugNwUt1/QmJebDxzVfLDtZBjDsoqQqoZMrdpn08tmfkVHI8umQ1rlumSItdvyQ4knwhjSAP191gLp7rg+p6DQk0dZoKP+4MvwQp/e655mRHGhL59T8z4Kdi62M9uU3ZJ6lHZD/UHCzdiP+vmQu1KceR51korSrHhKd0fuiP1mWu7oyypQHe9y7H6Gw/udrf7rrgTM1ufEJL/L4honxhgg7JwjZY9h7p78dqlPsOku3xusKo5CvWrGknHHqVmdhLIZYNNSXYYTZcsaCl0lDFmmymbVy7lAfhyg64YD2oZn/D8pcUShcyMVEAAAAABJRU5ErkJggg==);background-size:100%;background-repeat:no-repeat;margin:auto}.editioncrafter .third_pane_blank{min-width:8px}.editioncrafter .navigationComponent{position:sticky;display:none;z-index:2;height:48px;width:100%;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:4px;background-color:#fff;border-radius:max(.3rem,4.8px);font-family:Inter,sans-serif;font-size:14px;justify-content:space-between;align-items:center;align-self:stretch}@container diplomatic (min-width: 600px){.editioncrafter .navigationComponent{top:80px}}@container diplomatic (min-width: 960px){.editioncrafter .navigationComponent{top:0;left:0;display:flex}}.editioncrafter .navigationComponent button{cursor:pointer}.editioncrafter .navigationComponentNarrow{display:flex;width:auto;z-index:2;height:48px;width:100%;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:4px;background-color:#fff;font-size:14px}@container diplomatic (min-width: 960px){.editioncrafter .navigationComponentNarrow{display:none}}.editioncrafter .navigationComponentNarrow button{cursor:pointer}.editioncrafter .dropdownV2{width:150px;margin-right:10px}.editioncrafter .toolbar-side{display:flex;gap:10px;height:48px;align-items:center;justify-content:center}.editioncrafter .nav-arrow{height:18px;width:18px}.editioncrafter .nav-arrow svg{height:100%;width:100%}.editioncrafter .imageViewComponent .navigationComponent{background-color:#4a4a4a;border-radius:max(.3rem,4.8px);opacity:.8}@container diplomatic (min-width: 960px){.editioncrafter .imageViewComponent .navigationComponent{background-color:#000;color:#fff;border-radius:0;opacity:1}}.editioncrafter .imageViewComponent .navigationComponentNarrow{background-color:#000;color:#fff;border-radius:0;opacity:1}.editioncrafter .transcriptionViewComponent .navigationComponent{background-color:#fff;color:#000}.editioncrafter #doc-type-help:after{color:#978e8e}.editioncrafter #doc-type-help .dark .MuiSvgIcon-root.MuiSelect-icon{color:#fff}.editioncrafter .breadcrumbs{overflow-x:hidden;display:hidden;align-items:baseline;width:100%;justify-content:space-between;align-items:center;gap:10px}@container diplomatic (min-width: 960px){.editioncrafter .breadcrumbs{display:flex}}.editioncrafter .breadcrumbs .vertical-separator{height:24px}.editioncrafter .breadcrumbsNarrow{overflow-x:hidden;display:flex;align-items:baseline;max-width:70%}@container diplomatic (min-width: 960px){.editioncrafter .breadcrumbsNarrow{display:none}}.editioncrafter .breadcrumbs .folio-path{display:flex;gap:6px;font-weight:400}.editioncrafter .breadcrumbs .folio-path .document-title{max-width:80px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.editioncrafter .breadcrumbs .folioName,.editioncrafter .breadcrumbsNarrow .folioName{font-size:14px;font-weight:700;text-decoration-line:underline;text-decoration-style:solid;text-decoration-skip-ink:none;text-decoration-thickness:auto;text-underline-offset:auto;text-underline-position:from-font}.editioncrafter .grid-view-button{height:18px;width:18px;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;background:none}.editioncrafter .grid-view-button svg{height:18px;width:18px}.editioncrafter .imageViewComponent .grid-view-button{color:#fff}.editioncrafter .toggle-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;background:none;color:#6f747c;display:flex;width:32px;height:32px;padding:8px;justify-content:center;align-items:center;gap:10px;border-radius:5px}.editioncrafter .imageViewComponent .toggle-button{background:none;color:#fff}.editioncrafter .toggle-button.active{background:#07529a;color:#fff}.editioncrafter .tag-bar{display:flex;position:absolute;background:#f3f4f7;width:100%;z-index:100}.editioncrafter .tag-bar-close{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:48px;width:48px;display:flex;align-items:center;justify-content:center;border:none;background:none;border-radius:50%}.editioncrafter .tag-bar-close:hover{cursor:pointer;background-color:#ddd}.editioncrafter .tag-bar-close svg{height:24px;width:24px}.editioncrafter .tag-list{width:calc(100% - 30px);top:46px;display:flex;flex-wrap:wrap;align-items:center;gap:6px;align-self:stretch;padding:8px 16px}.editioncrafter .tag-list button{display:flex;padding:6px 10px;justify-content:center;align-items:center;gap:4px;border-radius:50px;border:1px solid rgba(10,10,10,.2);background:#fff}.editioncrafter .tag-list button.active{background-color:#07529a;color:#fff}.editioncrafter .tag-list button:hover{cursor:pointer}.editioncrafter .tag-list .tag-label{display:flex;align-items:center;gap:6px}.editioncrafter .imageViewComponent .tag-bar{background:#242629;top:44px}.editioncrafter .imageViewComponent .tag-bar *{color:#fff}.editioncrafter .imageViewComponent .tag-bar .tag-list button{background-color:#484b51}.editioncrafter .imageViewComponent .tag-bar .tag-list button.active{background-color:#07529a;color:#fff}.editioncrafter .imageViewComponent .tag-bar .tag-bar-close:hover{background:#898888}.editioncrafter .book-mode-toggles{cursor:pointer}.editioncrafter .lockmode-container{display:flex;align-items:center;justify-content:space-between;width:100%}.editioncrafter .lockmode-container:hover{cursor:pointer}.editioncrafter .lockmode-container .switch{width:42px;position:relative;background-color:#f3f4f7;border-radius:5px;transition:all .2s ease-out;display:flex;padding:1px;align-items:center;gap:10px;height:22px}.editioncrafter .lockmode-container .switch:hover{cursor:pointer}.editioncrafter .imageViewComponent .lockmode-container .switch{background-color:#242629}.editioncrafter .lockmode-container .switch .slider{position:absolute;left:calc(50% - 20px);top:calc(50% - 10px);border-radius:5px;transition:all .2s ease-out;background-color:#fff;display:flex;width:20px;height:20px;justify-content:center;align-items:center;gap:10px;flex-shrink:0}.editioncrafter .lockmode-container .switch .slider svg{height:12px;width:12px}.editioncrafter .imageViewComponent .lockmode-container .slider{background-color:#0a0a0a}.editioncrafter .lockmode-container input{opacity:0;width:0;height:0;position:absolute}.editioncrafter .lockmode-container input:checked+.switch{background-color:#07529a}.editioncrafter .lockmode-container input:checked+.switch .slider{left:calc(50% + 0px)}.editioncrafter .book-mode-toggles button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#f3f4f7;border:none;height:32px;width:32px;color:#6f747c}.editioncrafter .book-mode-toggles button svg{height:100%;width:100%}.editioncrafter .book-mode-toggles .document-pages-icon{stroke-width:0;fill:#6f747c}.editioncrafter .book-mode-toggles button.selected,.editioncrafter .imageViewComponent .book-mode-toggles button.selected{background-color:#07529a;color:#fff;stroke:#fff}.editioncrafter .book-mode-toggles button.selected .document-pages-icon{fill:#fff}.editioncrafter .book-mode-toggles button:nth-child(1){border-radius:5px 0 0 5px}.editioncrafter .book-mode-toggles button:nth-child(2){border-radius:0 5px 5px 0}.editioncrafter .imageViewComponent .book-mode-toggles button{background-color:#242629;color:#6f747c}.editioncrafter .closeX{float:right;padding:3px;font-style:bold}.editioncrafter .closeX:hover{cursor:pointer}.editioncrafter .helpContainer .MuiListItem-root{display:flex;gap:10px}.editioncrafter .helpContainer{padding:12px;width:335px;height:min(600px,100vh - 40px);position:relative;top:40px;overflow-x:auto}.editioncrafter .helpContainer .readingGuide td{padding:8px}.editioncrafter .helpContainer .readingGuide h2{margin-top:16px;margin-bottom:10px}.editioncrafter .searchHelpContainer{padding:10px 15px 10px 0;width:335px}.editioncrafter .helpHeader{text-align:center}.editioncrafter .paginationComponent{white-space:nowrap;text-align:center;font-size:max(1.2rem,19.2px);font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-top:52px}@container diplomatic (min-width: 960px){.editioncrafter .paginationComponent{margin-bottom:0}}.editioncrafter .paginationComponent.bottom{margin-top:0}.editioncrafter .paginationControl{padding:16px}.editioncrafter .paginationControl .arrow{font-size:max(1.8rem,28.8px);color:#4a4a4a;margin:max(1rem,16px) max(1rem,16px) 0;cursor:pointer;display:inline-block}.editioncrafter .arrow svg{font-size:inherit!important}.editioncrafter .paginationControl .folioName{position:relative;top:min(-.2rem,-3.2px);color:#4a4a4a}#diplomatic.editioncrafter{container-type:inline-size;container-name:diplomatic}#diplomatic.editioncrafter #content-view h1,#diplomatic.editioncrafter #content-view h2,#diplomatic.editioncrafter #content-view h3,#diplomatic.editioncrafter #content-view h4,#diplomatic.editioncrafter .header-wrapper h1,#diplomatic.editioncrafter .header-wrapper h2,#diplomatic.editioncrafter .header-wrapper h3,#diplomatic.editioncrafter .header-wrapper h4,#diplomatic.editioncrafter #annotation-list-view h1,#diplomatic.editioncrafter #annotation-list-view h2,#diplomatic.editioncrafter #annotation-list-view h3,#diplomatic.editioncrafter #annotation-list-view h4{font-family:Lato,sans-serif;color:#000;padding:0;margin:0}#diplomatic.editioncrafter #content-view h1,#diplomatic.editioncrafter .header-wrapper h1,#diplomatic.editioncrafter #annotation-list-view h1{font-family:Taviraj,serif;font-size:32px}#diplomatic.editioncrafter #content-view h2,#diplomatic.editioncrafter #content-view h3,#diplomatic.editioncrafter .header-wrapper h2,#diplomatic.editioncrafter .header-wrapper h3,#diplomatic.editioncrafter #annotation-list-view h2,#diplomatic.editioncrafter #annotation-list-view h3{font-weight:700}#diplomatic.editioncrafter #content-view h2,#diplomatic.editioncrafter .header-wrapper h2,#diplomatic.editioncrafter #annotation-list-view h2{font-size:22px}#diplomatic.editioncrafter #content-view h3,#diplomatic.editioncrafter .header-wrapper h3,#diplomatic.editioncrafter #annotation-list-view h3{font-size:18px}#diplomatic.editioncrafter #content-view h4,#diplomatic.editioncrafter .header-wrapper h4,#diplomatic.editioncrafter #annotation-list-view h4{font-size:18px;font-weight:700}#diplomatic.editioncrafter #content-view p,#diplomatic.editioncrafter .header-wrapper p,#diplomatic.editioncrafter #annotation-list-view p{font-family:Martel,serif;line-height:1.25}#diplomatic.editioncrafter #content-view span,#diplomatic.editioncrafter .header-wrapper span,#diplomatic.editioncrafter #annotation-list-view span{font-family:Martel,serif;line-height:1.25;margin:0}#diplomatic.editioncrafter #content-view a.MuiButton-containedPrimary.cta-button,#diplomatic.editioncrafter .header-wrapper a.MuiButton-containedPrimary.cta-button,#diplomatic.editioncrafter #annotation-list-view a.MuiButton-containedPrimary.cta-button{color:#fff;padding:10px 70px;border-radius:0}#diplomatic.editioncrafter #content-view a.MuiButton-containedPrimary.cta-button .MuiButton-label span,#diplomatic.editioncrafter .header-wrapper a.MuiButton-containedPrimary.cta-button .MuiButton-label span,#diplomatic.editioncrafter #annotation-list-view a.MuiButton-containedPrimary.cta-button .MuiButton-label span{font-family:Lato,sans-serif;font-size:20px}#diplomatic.editioncrafter #content-view a,#diplomatic.editioncrafter .header-wrapper a,#diplomatic.editioncrafter #annotation-list-view a{color:#792421}#diplomatic.editioncrafter #content-view a:hover,#diplomatic.editioncrafter .header-wrapper a:hover,#diplomatic.editioncrafter #annotation-list-view a:hover{color:#cba374}#diplomatic.editioncrafter #content-view .cta-link.MuiLink-underlineHover:hover,#diplomatic.editioncrafter .header-wrapper .cta-link.MuiLink-underlineHover:hover,#diplomatic.editioncrafter #annotation-list-view .cta-link.MuiLink-underlineHover:hover{text-decoration:none}#diplomatic.editioncrafter #content-view a.cta-link,#diplomatic.editioncrafter .header-wrapper a.cta-link,#diplomatic.editioncrafter #annotation-list-view a.cta-link{color:#000;text-align:center;width:fit-content;text-decoration:none;font-family:Lato,sans-serif;font-size:16px;font-weight:700;position:relative;cursor:pointer;margin-bottom:5px}@container diplomatic (min-width: 960px){#diplomatic.editioncrafter #content-view a.cta-link,#diplomatic.editioncrafter .header-wrapper a.cta-link,#diplomatic.editioncrafter #annotation-list-view a.cta-link{font-size:18px}}#diplomatic.editioncrafter #content-view a.cta-link:before,#diplomatic.editioncrafter .header-wrapper a.cta-link:before,#diplomatic.editioncrafter #annotation-list-view a.cta-link:before{position:absolute;content:"";height:2px;background-color:#000;width:50%;right:30%;bottom:-5px;border-radius:2px}#diplomatic.editioncrafter #content-view a.cta-link:hover:before,#diplomatic.editioncrafter .header-wrapper a.cta-link:hover:before,#diplomatic.editioncrafter #annotation-list-view a.cta-link:hover:before{background-color:#792421;text-decoration:none;height:6px;bottom:-9px;-webkit-animation:slide-down .2s;-moz-animation:slide-down .2s;-ms-animation:slide-down .2s;-o-animation:slide-down .2s;animation:slide-down .2s}#diplomatic.editioncrafter #content-view a.cta-link:hover:after,#diplomatic.editioncrafter .header-wrapper a.cta-link:hover:after,#diplomatic.editioncrafter #annotation-list-view a.cta-link:hover:after{color:#792421}#diplomatic.editioncrafter #content-view a.cta-link.active:before,#diplomatic.editioncrafter .header-wrapper a.cta-link.active:before,#diplomatic.editioncrafter #annotation-list-view a.cta-link.active:before{background-color:#792421;text-decoration:none;height:6px;bottom:-9px;-webkit-animation:slide-down .2s;-moz-animation:slide-down .2s;-ms-animation:slide-down .2s;-o-animation:slide-down .2s;animation:slide-down .2s}#diplomatic.editioncrafter #content-view a.cta-link.active:after,#diplomatic.editioncrafter .header-wrapper a.cta-link.active:after,#diplomatic.editioncrafter #annotation-list-view a.cta-link.active:after{color:#792421}#diplomatic.editioncrafter #content-view a.cta-link.light,#diplomatic.editioncrafter .header-wrapper a.cta-link.light,#diplomatic.editioncrafter #annotation-list-view a.cta-link.light{color:#444}#diplomatic.editioncrafter #content-view a.cta-link.light:before,#diplomatic.editioncrafter .header-wrapper a.cta-link.light:before,#diplomatic.editioncrafter #annotation-list-view a.cta-link.light:before{background-color:#444}#diplomatic.editioncrafter #content-view a.cta-link.light:hover:before,#diplomatic.editioncrafter .header-wrapper a.cta-link.light:hover:before,#diplomatic.editioncrafter #annotation-list-view a.cta-link.light:hover:before{background-color:#792421}#diplomatic.editioncrafter #content-view a.cta-link.video-link:after,#diplomatic.editioncrafter .header-wrapper a.cta-link.video-link:after,#diplomatic.editioncrafter #annotation-list-view a.cta-link.video-link:after{content:"ï‹";font-size:12px;margin-bottom:-2px}#diplomatic.editioncrafter #content-view a.cta-link.search-link:after,#diplomatic.editioncrafter .header-wrapper a.cta-link.search-link:after,#diplomatic.editioncrafter #annotation-list-view a.cta-link.search-link:after{font-family:Material Icons;content:"search";font-size:16px}#diplomatic.editioncrafter #header{width:100%;padding:0 20px;background-color:#fff;border-radius:0}@container diplomatic (min-width: 1280px){#diplomatic.editioncrafter #header{padding:5px 50px}}#diplomatic.editioncrafter #header img{width:210px}@container diplomatic (min-width: 600px){#diplomatic.editioncrafter #header img{width:300px}}@container diplomatic (min-width: 960px){#diplomatic.editioncrafter #header img{width:300px}}#diplomatic.editioncrafter #header .expandedViewOnly{width:100%}#diplomatic.editioncrafter #header .nav-item{font-size:16px;margin-right:5px;white-space:nowrap;margin-bottom:15px}#diplomatic.editioncrafter #header .search-btn{margin-bottom:10px;font-size:18px}#diplomatic.editioncrafter .maroon-dropdown{background-color:#460c0a;border-radius:0;-webkit-box-shadow:inset 0 5px 5px -5px rgba(0,0,0,.8),0 5px 5px -5px rgba(0,0,0,.8);-moz-box-shadow:inset 0 5px 5px -5px rgba(0,0,0,.8),0 5px 5px -5px rgba(0,0,0,.8);box-shadow:inset 0 5px 5px -5px #000c,0 5px 5px -5px #000c}#diplomatic.editioncrafter .mobile-menu{padding:50px 0}#diplomatic.editioncrafter .mobile-menu .list-container{position:relative}#diplomatic.editioncrafter .mobile-menu .list-container .list{color:"white"}#diplomatic.editioncrafter .search-bar{height:162px}#diplomatic.editioncrafter .search-bar .label{font-size:32px;color:#fff;font-weight:400;white-space:nowrap}#diplomatic.editioncrafter .search-bar .content{width:50%}#diplomatic.editioncrafter .search-bar #search input{border:1px solid #DEDEDF;border-radius:4px;width:300px;height:38px;font-size:14px;padding:5px 15px;font-family:Lato,sans-serif}#diplomatic.editioncrafter.sticky .header-wrapper.sticky{position:sticky;top:0;z-index:2}#diplomatic.editioncrafter #footer{color:#fff;background-color:#460c0a;display:flex;flex-direction:column;padding:10px 20px}@container diplomatic (min-width: 600px){#diplomatic.editioncrafter #footer{padding:20px 30px}}@container diplomatic (min-width: 960px){#diplomatic.editioncrafter #footer{padding:30px 40px}}#diplomatic.editioncrafter #footer p,#diplomatic.editioncrafter #footer a{font-family:Lato,sans-serif;font-size:16px;color:#fafafa;line-height:1.5;margin:0}#diplomatic.editioncrafter #footer a:hover{color:#cba374;fill:#cba374}#diplomatic.editioncrafter #footer .top{margin-bottom:10px}#diplomatic.editioncrafter #footer .top p{margin:0 5px;white-space:nowrap}#diplomatic.editioncrafter #footer .doi{text-align:center}#diplomatic.editioncrafter #footer .copyright .symbols{text-decoration:none}#diplomatic.editioncrafter #footer .copyright svg{width:14px;height:14px}#diplomatic.editioncrafter #footer .logos{margin-bottom:10px}#diplomatic.editioncrafter #footer .logos img{width:150px}@container diplomatic (min-width: 600px){#diplomatic.editioncrafter #footer .logos img{width:200px}}@container diplomatic (min-width: 600px){#diplomatic.editioncrafter #footer .logos img{width:250px}}#diplomatic.editioncrafter #footer .footer-links{width:100%;text-align:center;font-size:12px;line-height:2}#diplomatic.editioncrafter{background:#fff;width:auto;height:min(100%,100dvh);overflow-y:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:OpenSans,sans-serif;font-size:max(.9rem,14.4px)}#diplomatic.editioncrafter #content{line-height:max(1.2rem,19.2px)}#diplomatic.editioncrafter h1,#diplomatic.editioncrafter h2,#diplomatic.editioncrafter h3,#diplomatic.editioncrafter h4{color:#000000b8;font-family:OpenSans,sans-serif;font-weight:700;padding:0;line-height:max(1.5rem,24px)}.editioncrafter .imageGridComponent{background-color:#000;font-size:max(.8rem,12.8px);overflow:scroll;height:100%;max-height:100dvh}.editioncrafter .imageGridComponent .thumbnail{background-color:inherit;border:none}.editioncrafter .imageGridComponent>ul{display:flex;flex-wrap:wrap;list-style:none;padding-left:0;margin:max(1.5rem,24px) 0 max(8rem,128px) max(2rem,32px)}.editioncrafter .imageGridComponent>ul>li{margin-bottom:20px;width:150px}.editioncrafter .imageGridComponent>ul>li>figure{margin:8px}.editioncrafter .imageGridComponent>ul>li>figure:hover{border:2px #eee solid;margin:6px}.editioncrafter .imageGridComponent>ul>li>.thumbnail-caption{text-align:center;color:#fff;margin:0 10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.editioncrafter .hidden{display:none}.editioncrafter .imageGridComponent .imageGridToolbar{padding:5px;color:#fff}.editioncrafter .imageGridComponent .imageGridToolbar .jump-to{float:right;display:"inline";margin-right:30px}.editioncrafter .imageGridComponent .imageGridToolbar .jump-to #jump-to-input{margin-left:5px}.editioncrafter .imageGridComponent .imageGridToolbar .jump-to #jump-to-button{margin-left:5px;cursor:pointer}.editioncrafter .imageGridComponent .imageGridToolbar .doc-select{display:inline;margin-left:30px;font-size:max(.8rem,12.8px)}.editioncrafter .imageGridComponent .imageGridToolbar .doc-select .MuiInputBase-root{font-size:max(.8rem,12.8px)}.editioncrafter .image-metadata{position:absolute;bottom:8px;left:8px;background-color:#80808080;color:#fff;display:flex;flex-direction:row;gap:16px;flex-wrap:wrap;padding:4px 6px}.editioncrafter .split-pane-view{height:100%;width:100%;display:grid}.editioncrafter .split-pane-view.two-pane{grid-template-areas:"image_viewer divider transcription"}.editioncrafter .split-pane-view.three-pane{grid-template-areas:"image_viewer divider transcription divider_two third_pane"}.editioncrafter .split-pane-view>.divider{z-index:2;width:max(1rem,16px);background:#bbb;cursor:ew-resize;display:flex}.editioncrafter .split-pane-view>.divider.first_divider{grid-area:divider}.editioncrafter .split-pane-view>.divider.second_divider{grid-area:divider_two}.editioncrafter .split-pane-view>.divider>.drawer-button{align-self:center;cursor:auto}.editioncrafter .split-pane-view>.divider>.drawer-button:hover{color:#fff}.editioncrafter .split-pane-view>.divider>.hidden{display:none}.editioncrafter .split-pane-view #annotation-view{font-size:16px}.editioncrafter #image-view-seadragon-left,.editioncrafter #image-view-seadragon-right,.editioncrafter #image-view-seadragon-third{width:100%;height:100%;max-height:100dvh;grid-area:image_viewer;background:#000}.editioncrafter .imageViewComponent{position:relative;padding:0;margin:0;width:100%;height:100%;max-height:100dvh}.editioncrafter .imageViewComponent .navigationComponent{position:absolute}.editioncrafter .a9s-annotation.a9s-annotation.selected>rect,.editioncrafter .a9s-annotation.a9s-annotation.selected>polygon{stroke:#4385f6!important;stroke-linejoin:round;fill:#4385f61a!important}.editioncrafter .a9s-annotation.a9s-annotation.hover>rect,.editioncrafter .a9s-annotation.a9s-annotation.hover>polygon{stroke:#4385f6!important;stroke-linejoin:round}.editioncrafter .ImageZoomControl{position:absolute;z-index:1;top:max(8rem,128px);color:#fff;list-style:none;background:#4a4a4a;opacity:.4;margin:0;padding:max(.4rem,6.4px) max(.5rem,8px);border-radius:max(.3rem,4.8px)}@container diplomatic (min-width: 960px){.editioncrafter .ImageZoomControl{top:max(4rem,64px);left:max(2rem,32px)}}.editioncrafter .ImageZoomControl>li{color:#e0e0e0;margin:0!important}.editioncrafter .ImageZoomControl>li>.zoom-in{margin-top:8px}.editioncrafter .ImageZoomControl>li:hover{color:#fff}.editioncrafter .ImageZoomControl>li>.zoom-3{margin-top:8px}.editioncrafter .ImageZoomControl>li>.zoom-2{margin-top:8px;margin-left:5px}.editioncrafter .ImageZoomControl>li>.zoom-1{margin-top:8px;margin-left:7px}.editioncrafter .ImageZoomControl>li>.zoom-out{margin-top:8px}.editioncrafter .ImageZoomControl>li>.zoom-grid{margin-top:30px}.editioncrafter .transcriptionViewComponent .transcriptContent{padding:50px 16px;font-size:max(.9rem,14.4px);-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}@container diplomatic (min-width: 960px){.editioncrafter .transcriptionViewComponent .transcriptContent{padding:5px 16px}}.editioncrafter .transcriptionViewComponent .transcriptContent figure{display:inline-flex;flex-direction:column;width:100%;align-items:center;gap:6px}.editioncrafter .transcriptionViewComponent .transcriptContent .block[data-layout=right-middle],.editioncrafter .transcriptionViewComponent .transcriptContent .block[data-layout=right-top],.editioncrafter .transcriptionViewComponent .transcriptContent .block[data-layout=right-bottom]{max-width:250px}.editioncrafter .transcriptionViewComponent .transcriptContent .x-small-inline-figure{margin:5px;border:1px solid gray;width:30px}.editioncrafter .transcriptionViewComponent .transcriptContent .small-inline-figure{margin:5px;border:1px solid gray;width:60px}.editioncrafter .transcriptionViewComponent .transcriptContent .medium-inline-figure{margin:5px;border:1px solid gray;width:200px}.editioncrafter .transcriptionViewComponent .transcriptContent .large-inline-figure{margin:5px;border:1px solid gray;width:350px}.editioncrafter .transcriptionViewComponent .transcriptContent .surface{grid-area:transcription;margin:0;padding:0;list-style:none}.editioncrafter .transcriptionViewComponent .transcriptContent .grid-mode{display:grid;grid-auto-rows:minmax(min-content,0fr);grid-gap:2px}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>.small-font{font-size:11pt}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>div{padding:10px}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z0{grid-area:z0}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z1{grid-area:z1}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z2{grid-area:z2}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z3{grid-area:z3}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z4{grid-area:z4}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z5{grid-area:z5}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z6{grid-area:z6}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z7{grid-area:z7}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z8{grid-area:z8}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z9{grid-area:z9}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z10{grid-area:z10}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z11{grid-area:z11}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z12{grid-area:z12}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z13{grid-area:z13}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z14{grid-area:z14}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z15{grid-area:z15}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z16{grid-area:z16}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z17{grid-area:z17}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z18{grid-area:z18}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z19{grid-area:z19}.editioncrafter .transcriptionViewComponent .transcriptContent .surface>#z20{grid-area:z20}.editioncrafter .transcriptionViewComponent .transcriptContent .highlight{background-color:#ff0}.editioncrafter tei-line{display:block}.editioncrafter tei-add{color:#00f;vertical-align:super;font-size:10pt}.editioncrafter tei-seg.active{background:#d4e9ff}.editioncrafter div.active{background:#f1f3f5;border-radius:5px}.editioncrafter .selected-zone{background:#eaf1fd;border-radius:5px}.editioncrafter .editor-comment-content{word-wrap:break-word}.editioncrafter .inline-image{max-width:90%;max-height:360px;margin:auto;text-align:center}.editioncrafter .xmlViewComponent .navigationComponent{background-color:#fff;color:#000}.editioncrafter .xmlContent{padding:0;margin:4.5rem 0 0;width:calc(100% - 1.2rem);max-height:100vh;min-height:100%;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;min-width:max(10rem,160px)}.editioncrafter .xmlViewComponent{overflow:auto;margin:0 0 0 max(1rem,16px);max-height:calc(100vh - max(7rem,112px))}.editioncrafter .xmlContentInner{max-height:100%}.editioncrafter .xmlContentInner pre{overflow-x:auto}.editioncrafter #glossaryView #glossaryViewInner{margin:5px 0 0;width:calc(100% - 1.2rem);max-height:calc(100vh - 170px);padding:5px 16px}@container diplomatic (min-width: 960px){.editioncrafter #glossaryView #glossaryViewInner{margin:52px 0 0}}.editioncrafter #glossaryView .cite-header{text-align:center;margin-bottom:5px}.editioncrafter #glossaryView .cite-instructions{margin:20px 15%}.editioncrafter #glossaryView .glossaryNav{background:#fff;padding:5px;position:relative}.editioncrafter #glossaryView .glossaryNav #glossary-filter{margin-right:10px}.editioncrafter #glossaryView .glossaryNav .alphaNav{display:none}@container diplomatic (min-width: 960px){.editioncrafter #glossaryView .glossaryNav .alphaNav{display:block}}.editioncrafter #glossaryView .alphaNav{color:#00f;display:inline}.editioncrafter #glossaryView .title{white-space:nowrap;position:relative;width:calc(100% - max(1.7rem,27.2px));text-align:center;top:-2em;font-size:max(1.8rem,28.8px);font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@container diplomatic (min-width: 960px){.editioncrafter #glossaryView .title{top:-1em}}.editioncrafter #glossaryView .subtitle{white-space:nowrap;position:relative;width:calc(100% - max(1.7rem,27.2px));text-align:center;top:-2em;font-style:italic;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@container diplomatic (min-width: 960px){.editioncrafter #glossaryView .subtitle{top:-1em}}.editioncrafter #glossaryView #glossaryContent{padding:max(80px,5rem) 0 0;max-height:100vh;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;min-width:max(10rem,160px)}@container diplomatic (min-width: 960px){.editioncrafter #glossaryView #glossaryContent{padding:max(3.5rem,56px) 0 0}}.editioncrafter #notesView #notesViewInner{margin:5px 0 0;width:calc(100% - 1.2rem);max-height:calc(100vh - 170px);padding:5px 16px}.editioncrafter #notesView #notesContent{padding:max(80px,5rem) 0 0;max-height:100vh;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;min-width:max(10rem,160px)}@container diplomatic (min-width: 960px){.editioncrafter #notesView #notesContent{padding:max(3.5rem,56px) 0 0}}.editioncrafter #notesView #notesContent table{margin-top:30px}.editioncrafter #notesView #notesContent td,.editioncrafter #notesView #notesContent th{border:1px solid #ddd;padding:8px}.editioncrafter #notesView #notesContent tr:nth-child(2n){background-color:#f2f2f2}.editioncrafter #notesView #notesContent th{padding-top:12px;padding-bottom:12px;text-align:left;background-color:gray;color:#fff}.editioncrafter .jumpToFolio_component{margin:max(1rem,16px) 0 0 min(-4.5rem,-72px);padding:max(.6rem,9.6px);height:max(1.2rem,19.2px);width:max(9.5rem,152px);background:#e7e7e7;border:1px solid rgba(90,98,102,.53);border-radius:max(.3rem,4.8px);-webkit-box-shadow:6px 6px 5px 0 rgba(0,0,0,.211765);-moz-box-shadow:6px 6px 5px 0 rgba(0,0,0,.211765);box-shadow:6px 6px 5px #00000036;font-family:sans-serif}.editioncrafter .jumpToFolio_component input:focus{outline:none}.editioncrafter .jumpToFolio_component:after,.editioncrafter .jumpToFolio_component:before{bottom:100%;left:50%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.editioncrafter .jumpToFolio_component:after{border-color:#fff0;border-bottom-color:#e7e7e7;border-width:9px;margin-left:-9px}.editioncrafter .jumpToFolio_component:before{border-color:#c2e1f500;border-bottom-color:#5a626687;border-width:11px;margin-left:-11px}.editioncrafter [lang=ar],.editioncrafter [lang=ota],.editioncrafter [lang=fa],.editioncrafter [lang=he],.editioncrafter [lang*=-Arab-AR]{direction:rtl;text-align:right}.editioncrafter [lang=en],.editioncrafter [lang=fr],.editioncrafter [lang=de],.editioncrafter [lang=it],.editioncrafter [lang*=ar-Latn-],.editioncrafter [lang*=ota-Latn-]{direction:ltr;text-align:left}.editioncrafter tei-choice tei-abbr+tei-expan:before,.editioncrafter tei-choice tei-expan+tei-abbr:before,.editioncrafter tei-choice tei-sic+tei-corr:before,.editioncrafter tei-choice tei-corr+tei-sic:before,.editioncrafter tei-choice tei-orig+tei-reg:before,.editioncrafter tei-choice tei-reg+tei-orig:before{content:" ("}.editioncrafter tei-choice tei-abbr+tei-expan:after,.editioncrafter tei-choice tei-expan+tei-abbr:after,.editioncrafter tei-choice tei-sic+tei-corr:after,.editioncrafter tei-choice tei-corr+tei-sic:after,.editioncrafter tei-choice tei-orig+tei-reg:after,.editioncrafter tei-choice tei-reg+tei-orig:after{content:")"}.editioncrafter tei-ab{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-accMat{display:block}.editioncrafter tei-accMat:before{content:"accompanying materials: "}.editioncrafter tei-acquisition{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-acquisition:before{font-weight:700;content:"acquisition"}.editioncrafter tei-activity{display:block}.editioncrafter tei-activity:before{content:"activity: "}.editioncrafter tei-add[place=above]{color:#00f;vertical-align:super;font-size:10pt}.editioncrafter tei-add[place=inline]:before{content:"Â«"}.editioncrafter tei-add[place=inline]:after{content:"Â»"}.editioncrafter tei-add[place=below]{vertical-align:sub}.editioncrafter tei-additional{display:block}.editioncrafter tei-additions{display:block}.editioncrafter tei-additions:before{content:"Significant additions within the document: "}.editioncrafter tei-addrLine{display:block}.editioncrafter tei-address[data-tei-rend~=block],.editioncrafter addresss[data-tei-rendition~="#block"]{display:block}.editioncrafter tei-adminInfo{display:block}.editioncrafter tei-app tei-note{display:none}.editioncrafter tei-appInfo{display:block}.editioncrafter tei-appInfo:before{content:"Application information: "}.editioncrafter tei-application{display:block}.editioncrafter tei-application:after{content:" " attr(version)}.editioncrafter tei-argument{display:block}.editioncrafter tei-att{font-family:Courier,monospace}.editioncrafter tei-att:before{content:"@"}.editioncrafter tei-titlestmt>tei-author{display:block;margin-bottom:1em}.editioncrafter tei-publicationstmt>tei-availability{font-size:80%}.editioncrafter tei-publicationstmt>tei-availability:before{font-weight:700;content:"Availability: "}.editioncrafter tei-publicationstmt>tei-availability[data-tei-status]:before{font-weight:700;content:"Availability (" attr(status) "): "}.editioncrafter tei-back{display:block}.editioncrafter tei-bibl[data-tei-rend~=block],.editioncrafter bibl[data-tei-rendition~="#block"]{display:block;padding-left:2em;text-indent:-2em}.editioncrafter tei-biblFull{display:block}.editioncrafter tei-binding{display:block}.editioncrafter tei-binding:before{content:"Binding: \\a";white-space:pre-wrap}.editioncrafter tei-binding[data-tei-contemporary]:before{content:"Binding: \\a" "Contemporary: " attr(contemporary) "\\a";white-space:pre-wrap}.editioncrafter tei-bindingdesc{display:block}.editioncrafter tei-bindngdesc:before{content:"Binding description: \\a"}.editioncrafter tei-birth{display:block}.editioncrafter tei-birth:before{content:"Birth: "}.editioncrafter tei-cRefPattern{display:none}.editioncrafter tei-caption{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-case[data-tei-value]:before{font-weight:700;content:attr(value) " "}.editioncrafter tei-castgroup{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-castitem{display:list-item}.editioncrafter tei-castlist{display:block;list-style-type:none;margin-top:1em;margin-bottom:1em;margin-left:2em}.editioncrafter tei-cb{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-cb:before{content:"[column break]"}.editioncrafter tei-cell{border-right:thin solid black;border-bottom:thin solid black;padding:2px}.editioncrafter tei-cell[data-tei-role=label]{font-weight:700}.editioncrafter tei-climate{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-climate:before{font-weight:700;content:"Climate: "}.editioncrafter tei-code{font-family:Courier,monospace}.editioncrafter tei-collation{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-condition{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-constitution{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-constitution:before{font-weight:700;content:"Constitution: "}.editioncrafter tei-constitution[data-tei-type]{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-constitution[data-tei-type]:before{font-weight:700;content:"Constitution (" attr(type) "): "}.editioncrafter tei-constitution[data-tei-type=frags]{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-constitution[data-tei-type=frags]:before{font-weight:700;content:"Constitution (fragments): "}.editioncrafter tei-custevent{display:list-item}.editioncrafter tei-custodialhist{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-date[data-tei-when]:empty:before{content:attr(when)}.editioncrafter tei-del{color:red}.editioncrafter tei-editionstmt{display:block}.editioncrafter teieg-egxml{display:block;font-size:80%;margin-left:1em;padding-left:1em;border-left:1px solid #aaaaaa;margin-top:.75em;margin-bottom:.75em;padding-top:.75em;padding-bottom:.75em;font-family:monospace;white-space:pre}.editioncrafter tei-emph{font-style:italic}.editioncrafter tei-encodingdesc{display:none}.editioncrafter tei-epigraph{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-explicit{font-style:italic}.editioncrafter tei-filedesc>tei-extent{display:none}.editioncrafter tei-figure{display:block;text-align:center;margin-left:auto;margin-right:auto}.editioncrafter tei-gap[data-tei-reason=lost]:before{content:"["}.editioncrafter tei-gap[data-tei-reason=lost]:after{content:attr(data-content) "]"}.editioncrafter tei-gap[data-tei-reason=illegible]:after{content:attr(data-content)}.editioncrafter tei-gi{font-family:Courier,monospace}.editioncrafter tei-gi:before{content:"<"}.editioncrafter tei-gi:after{content:">"}.editioncrafter tei-head{display:block;font-family:OpenSans,sans-serif;font-weight:700;font-size:1.5em;line-height:max(1.5rem,24px)}.editioncrafter tei-body>tei-head{font-size:180%;text-indent:-.5em}.editioncrafter tei-div.textpart{display:none}.editioncrafter tei-div>tei-head{font-size:170%;text-indent:-.5em}.editioncrafter tei-div>tei-div>tei-head{font-size:155%}.editioncrafter tei-div>tei-div>tei-div>tei-head{font-size:140%}.editioncrafter tei-div>tei-div>tei-div>tei-div>tei-head,.editioncrafter list>tei-head{font-size:130%}.editioncrafter tei-div>tei-div>tei-div>tei-div>tei-div>tei-head{font-size:120%}.editioncrafter tei-div>tei-div>tei-div>tei-div>tei-div>tei-div tei-head{font-size:110%}.editioncrafter tei-figure>tei-head{display:block;margin:1.5em auto;padding:.5em 1.5em 1.5em;border:1px solid black;border-radius:15px;width:325px;position:relative;border:1px solid #aaaaaa;background:#fafafa;text-indent:0;font-size:85%;text-align:justify;-webkit-box-shadow:0px 1px 3px rgba(0,0,0,.25);-moz-box-shadow:0px 1px 3px rgba(0,0,0,.25);box-shadow:0 1px 3px #00000040;width:85%;font-family:Georgia,Serif;font-size:13pt}.editioncrafter tei-hi[rend~=caps]{font-weight:700}.editioncrafter tei-hi[rend~=italic]{font-style:italic}.editioncrafter tei-hi[rend~=underline]{text-decoration:underline}.editioncrafter tei-ident{font-family:Courier,monospace}.editioncrafter tei-incipit{font-style:italic}.editioncrafter tei-item{display:list-item;margin-left:1em}.editioncrafter tei-cell item{margin-left:1em}.editioncrafter tei-l{display:block}.editioncrafter tei-l[data-lineno]:before{content:attr(data-lineno);position:absolute;left:2em}.editioncrafter tei-lb:after{content:"\\a";white-space:pre}.editioncrafter tei-lg{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-list{display:block;margin-top:1em;margin-bottom:1em;list-style-type:none}.editioncrafter tei-item>tei-list{margin-top:0}.editioncrafter tei-sourcedesc tei-list{list-style-type:none}.editioncrafter tei-sourcedesc>tei-list>tei-head{font-size:140%;font-weight:700}.editioncrafter tei-sourcedesc tei-list>tei-item{display:list-item}.editioncrafter tei-text tei-list[type=simple]{list-style-type:none}.editioncrafter tei-text tei-list[type=bulleted]{list-style-type:disc}.editioncrafter tei-text tei-list[type=ordered]{list-style-type:none;counter-reset:items 0}.editioncrafter tei-text tei-list[type=ordered]>tei-item{display:list-item;margin-left:0}.editioncrafter tei-text tei-list[type=ordered]>item:before{counter-increment:items 1;content:counter(items,decimal) ". "}.editioncrafter tei-text tei-list[type=gloss]{list-style-type:none}.editioncrafter tei-list[type=gloss]>tei-label{display:block;margin-top:.25em;margin-bottom:.25em;font-weight:700}.editioncrafter tei-list[type=gloss]>tei-item{margin-left:2em}.editioncrafter tei-item>tei-list[type=ordered]{margin-left:1em}.editioncrafter tei-listapp{display:block;margin:1em;padding:1em}.editioncrafter tei-listbibl{display:block;list-style-type:none;margin-left:.5 em;margin-top:.5em}.editioncrafter tei-listbibl>tei-head{font-size:120%;font-weight:700}.editioncrafter tei-listbibl>tei-bibl{display:list-item;margin-left:.5em}.editioncrafter tei-listwit{display:block;list-style-type:none;margin-left:.5em}.editioncrafter tei-listwit>tei-head{font-size:120%;font-weight:700}.editioncrafter tei-listwit>tei-witness{display:list-item;margin-left:2em;text-indent:-1.1em}.editioncrafter tei-witness>tei-listwit{display:inline}.editioncrafter tei-witness>tei-listwit>tei-head{display:inline}.editioncrafter tei-witness>tei-listwit>tei-witness{display:inline}.editioncrafter tei-locus{display:none}.editioncrafter tei-milestone{display:none;margin-left:auto;margin-right:auto;text-align:center}.editioncrafter tei-musicNotation{font-weight:700}.editioncrafter tei-musicNotation:before{font-weight:700;content:"Musical Notation: "}.editioncrafter tei-node{display:none}.editioncrafter tei-note{display:none}.editioncrafter tei-notesstmt{display:none}.editioncrafter tei-ovar{font-style:italic}.editioncrafter tei-origPlace{font-weight:700}.editioncrafter tei-origPlace:before{font-weight:700;content:"Place of Origin: "}.editioncrafter tei-p{display:block;margin-top:1em;margin-bottom:1em;text-align:justify}.editioncrafter *[data-tei-rendition~="#center"] p{text-align:center}.editioncrafter tei-availability>p:first-child{margin-top:0}.editioncrafter tei-performance{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-person{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-personGrp{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-postscript{display:block;margin-top:2em}.editioncrafter tei-principal{font-weight:700}.editioncrafter tei-principal:before{font-weight:700;content:"Principal: "}.editioncrafter tei-profiledesc{display:none}.editioncrafter tei-publicationstmt>*{display:none}.editioncrafter tei-publicationstmt{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-publicationstmt>date{display:none}.editioncrafter tei-publicationstmt>publisher{display:none}.editioncrafter tei-q{quotes:"â€œ" "â€" "â€˜" "â€™" "â€œ" "â€" "â€˜" "â€™" "â€œ" "â€" "â€˜" "â€™" "â€œ" "â€"}.editioncrafter tei-q:before{content:""}.editioncrafter tei-q:after{content:""}.editioncrafter tei-q[data-tei-next]:after{content:""!important}.editioncrafter tei-q[data-tei-prev]:before{content:""!important}.editioncrafter tei-quote{font-style:italic}.editioncrafter tei-app tei-rdg{display:none}.editioncrafter tei-re{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-recordhist{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-ref{color:#5f0000}.editioncrafter tei-remarks{font-weight:700}.editioncrafter tei-remarks:before{font-weight:700;content:"remarks: "}.editioncrafter tei-respstmt{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-revisiondesc{display:none}.editioncrafter tei-row{display:grid;grid-auto-flow:column;grid-auto-columns:1fr}.editioncrafter tei-salute{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-samplingdecl{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-scriptnote{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-seal{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-seal:before{font-weight:700;content:"Seal: "}.editioncrafter tei-sealdesc{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-secFol:before{font-weight:700;content:"Second Folio: "}.editioncrafter tei-secl>*:first-child:before{content:"\\a[";white-space:pre}.editioncrafter tei-secl>*:last-child:after{content:"]\\a\\a";white-space:pre}.editioncrafter tei-seg{outline:0px solid transparent}.editioncrafter tei-sense{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-seriesstmt{display:none}.editioncrafter tei-setting{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-signed{display:block;margin-top:2em}.editioncrafter tei-soCalled{quotes:"â€œ" "â€" "â€˜" "â€™" "â€œ" "â€" "â€˜" "â€™" "â€œ" "â€" "â€˜" "â€™" "â€œ" "â€"}.editioncrafter tei-soCalled:before{content:open-quote}.editioncrafter tei-soCalled:after{content:close-quote}.editioncrafter tei-soCalled[data-tei-next]:after{content:""!important}.editioncrafter tei-soCalled[data-tei-prev]:before{content:""!important}.editioncrafter tei-sound{font-style:italic}.editioncrafter tei-source{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-sourcedesc{display:none}.editioncrafter tei-space:before{font-weight:700;content:""}.editioncrafter tei-span[data-tei-data-n]:before{content:attr(data-n)}.editioncrafter tei-speaker{font-weight:700;margin-right:0}.editioncrafter tei-sponsor{display:block;margin-top:0;margin-bottom:0}.editioncrafter tei-sponsor:before{font-weight:700;content:"Sponsor:"}.editioncrafter tei-stage{display:block;margin-top:1em;margin-bottom:1em;font-style:italic}.editioncrafter tei-stamp{display:block;margin-top:1em;margin-bottom:1em}.editioncrafter tei-stamp:before{font-weight:700;content:"Stamped: "}.editioncrafter tei-surplus>*:first-child:before{content:"\\a[";white-space:pre}.editioncrafter tei-surplus>*:last-child:after{content:"]\\a\\a";white-space:pre}.editioncrafter tei-tei{display:block}.editioncrafter tei-table{display:block;border-top:thin solid black;border-left:thin solid black}.editioncrafter tei-table{margin-top:2em;margin-bottom:2em;font-size:12pt}.editioncrafter tei-table>tei-head{border-bottom:thin solid black;border-right:thin solid black;font-size:120%;font-weight:700;padding:2px;text-align:center}.editioncrafter tei-teiheader{display:block;margin-top:2em;margin-bottom:2em}.editioncrafter tei-tei>tei-text{display:block;line-height:1.5}.editioncrafter tei-textclass{display:none}.editioncrafter tei-textdesc{display:none}.editioncrafter tei-tei tei-title{display:inline}.editioncrafter tei-tei tei-title[level=a]{quotes:"â€œ" "â€" "â€˜" "â€™" "â€œ" "â€" "â€˜" "â€™" "â€œ" "â€" "â€˜" "â€™" "â€œ" "â€"}.editioncrafter tei-tei tei-title[level=a]:before{content:open-quote}.editioncrafter tei-tei tei-title[level=a]:after{content:close-quote}.editioncrafter tei-tei tei-title[level=a][next]:after{content:""!important}.editioncrafter tei-tei tei-title[level=a][prev]:before{content:""!important}.editioncrafter tei-title[level=m]{font-style:italic}.editioncrafter tei-titlestmt>tei-title{display:block;font-family:Arvo,sans-serif;font-weight:400;font-weight:700!important;font-size:150%}.editioncrafter tei-typedesc{display:none}.editioncrafter tei-u:before{content:"-"}.editioncrafter tei-view{font-style:italic}.editioncrafter tei-wit{display:inline}.editioncrafter tei-witdetail{display:none}.editioncrafter .inline-ring-spinner{display:inline-block;margin-left:10px;margin-right:10px;width:16px;height:16px}.editioncrafter .inline-ring-spinner .light{border:3px solid #fff;border-color:#fff transparent transparent transparent}.editioncrafter .inline-ring-spinner .dark{border:3px solid #000;border-color:#000 transparent transparent transparent}.editioncrafter .inline-ring-spinner div{box-sizing:border-box;display:block;position:absolute;width:16px;height:16px;border-radius:50%;animation:inline-ring-spinner 1.2s cubic-bezier(.5,0,.5,1) infinite}.editioncrafter .inline-ring-spinner div:nth-child(1){animation-delay:-.45s}.editioncrafter .inline-ring-spinner div:nth-child(2){animation-delay:-.3s}.editioncrafter .inline-ring-spinner div:nth-child(3){animation-delay:-.15s}@keyframes inline-ring-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.editioncrafter .big-ring-spinner{width:100%;height:100vh;display:flex;justify-content:center}.editioncrafter .big-ring-spinner div{box-sizing:border-box;display:block;position:absolute;width:128px;height:128px;margin-top:30vh;border-radius:50%;animation:big-ring-spinner 1.2s cubic-bezier(.5,0,.5,1) infinite}.editioncrafter .big-ring-spinner.dark div{border:16px solid #000;border-color:#000 transparent transparent transparent}.editioncrafter .big-ring-spinner.light div{border:16px solid #fff;border-color:#fff transparent transparent transparent}.editioncrafter .big-ring-spinner div:nth-child(1){animation-delay:-.45s}.editioncrafter .big-ring-spinner div:nth-child(2){animation-delay:-.3s}.editioncrafter .big-ring-spinner div:nth-child(3){animation-delay:-.15s}@keyframes big-ring-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.editioncrafter .single-pane-view{height:100%;width:100%;overflow:auto}.editioncrafter .single-pane-view>div{height:100%}.pill{-webkit-appearance:none;-moz-appearance:none;appearance:none;display:flex;height:32px;padding:4px 12px;justify-content:center;align-items:center;gap:4px;border-radius:50px;border:1px solid #CEDAE7;background:#cedae7;color:#0a0a0a;font-family:Inter;font-size:14px;font-weight:500}.editioncrafter-record-list{width:100%;height:100%;display:grid;grid-template-columns:auto 1fr;gap:20px;font-family:Inter,sans-serif;margin:0;padding:0}.editioncrafter-record-list h1,h2,h3,h4,p{margin:0;padding:0}.editioncrafter-record-list h1{font-size:32px;font-style:normal;font-weight:600}.editioncrafter-record-list h2{font-size:24px;font-style:normal;font-weight:600}.editioncrafter-record-list div.h-separator{border-top:1px solid #E1E3E6;width:100%}.editioncrafter-record-list *{box-sizing:border-box}.editioncrafter-record-list a{color:#07529a;font-family:Inter;font-size:18px;font-style:normal;font-weight:700;text-decoration:none}.editioncrafter-record-list button:hover{cursor:pointer}.editioncrafter-record-list .loading{height:100%;width:100%;display:flex;flex-flow:column;align-items:center;justify-content:center;gap:20px;background-color:#fff}.editioncrafter-record-list .record-list-view{flex-grow:1;display:flex;flex-flow:column;gap:16px}.editioncrafter-record-list .record-list-view .entries-header{padding:10px 0}.editioncrafter-record-list .record-list-view .record-box{width:100%;border-radius:5px;border:1px solid #E1E3E6;display:flex;flex-flow:column;gap:8px;padding:16px;transition:.3s}.editioncrafter-record-list .record-list-view .record-box:hover{box-shadow:1px 1px 6px #00000040}.editioncrafter-record-list .record-list-view .record-box .category-list{display:flex;gap:6px}.editioncrafter-record-list .record-list-view .record-box .tag-list{display:flex;flex-wrap:wrap;gap:8px;align-items:center;font-size:14px;font-weight:500;position:relative}.editioncrafter-record-list .record-list-view .record-box .tag-list .tag-list-label{font-weight:600}.editioncrafter-record-list .record-list-view .record-box .phrase-toggle{position:absolute;right:0;bottom:2px;background:#07529a;border:none;border-radius:5px;color:#fff;display:flex;align-items:center;justify-content:center;padding:6px}.editioncrafter-record-list .record-list-view .record-box .phrase-toggle svg{height:18px;width:18px}.editioncrafter-record-list .record-list-view .record-box .tag-list .pill,.editioncrafter-record-list .record-list-view .record-box .phrase-list-table .pill{background:#fff;display:flex;height:32px;padding:4px 12px 4px 4px;justify-content:center;align-items:center;gap:8px;border-radius:50px;border:1px solid #E1E3E6}.editioncrafter-record-list .record-list-view .record-box .category-list .pill.active{background:#07529a;color:#fff}.editioncrafter-record-list .record-list-view .record-box .pill .tag-count{display:inline-flex;height:24px;min-width:24px;padding:4px;flex-direction:column;justify-content:center;align-items:center;gap:10px;flex-shrink:0;border-radius:50px;background:#b5c8dc99}.editioncrafter-record-list .record-list-view .record-box .pill.active{border:1px solid #07529A;color:#07529a}.editioncrafter-record-list .record-list-view .record-box .pill.active .tag-count{background:#07529a;color:#fff}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table-container{position:relative}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table-container .layer-select-container{position:absolute;right:10px;top:0;display:flex;align-items:center;justify-content:center;gap:12px;font-size:13px;font-style:normal;font-weight:400;line-height:140%}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table-container button:hover{cursor:default}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table-container .layer-select{display:flex;height:32px;padding:0 12px;justify-content:space-between;align-items:center;font-size:14px;border-radius:4px;border:1px solid#E1E3E6;background:#f3f4f7}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table-container .layer-select:hover{cursor:pointer}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table th{font-weight:600}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table{text-align:left;border-collapse:collapse;font-size:14px;width:100%}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table tr{border-bottom:1px solid #E1E3E6}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table td,.editioncrafter-record-list .record-list-view .record-box .phrase-list-table th{padding:12px}.editioncrafter-record-list .record-list-view .record-box .phrase-list-table .empty-table-container{height:80px;width:100%;display:flex;align-items:center;justify-content:center}.editioncrafter-record-list .ec-sidebar{background-color:#f3f4f7;padding:32px 24px;display:flex;flex-direction:column;gap:20px;width:380px;flex-grow:0}.editioncrafter-record-list .collapsible-menu .collapsible-menu-toggle{display:flex;align-items:center;justify-content:space-between;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:none;width:100%}.editioncrafter-record-list .collapsible-menu .collapsible-menu-title{font-size:16px;font-weight:700}.editioncrafter-record-list .sidebar-tag-list{display:flex;flex-wrap:wrap;gap:6px}.editioncrafter-record-list .sidebar-tag-list .pill.active{background:#07529a;color:#fff}.editioncrafter-record-list .sidebar-tag-list .hidden{visibility:hidden}.tag-explore{display:grid;max-height:100vh;grid-template-columns:50px 1fr}.tag-explore-sidebar{position:relative;z-index:999;height:100%;max-height:100dvh}.tag-explore .narrow-sidebar{height:100vh;width:48px}.tag-explore-sidebar{overflow-y:none;height:100%;background-color:#000}.tag-explore .tag-filters{overflow-y:auto;position:absolute;top:48px;left:400px;background-color:#242629;z-index:10000;padding:12px 0 12px 12px;width:430px;height:100%;max-height:calc(97dvh - 48px);border-left:solid white 1px}.tag-explore .tag-filters .tag-filters-search{margin-bottom:24px}.tag-explore .tag-filter-button{background-color:#242629;padding:12px;color:#fff;border:1px solid white;border-radius:6px;margin:6px auto 12px;cursor:pointer}.tag-explore .tag-filter-button:hover{background-color:#fff;color:#000}.tag-explore .tag-filters ul{display:flex;flex-direction:column}.tag-explore .surface-browser-close{position:absolute;top:0;right:-24px;background-color:#242629}.tag-explore .tag-filters .tag-list,.tag-explore-sidebar{display:flex;gap:4px;flex-wrap:wrap}.surface-thumbnail-caption{text-align:center}.surface-thumbnail-overlay{position:absolute;width:100%;height:100%;top:0;right:0;bottom:0;left:0;background-color:#2426297d;opacity:0%;display:flex;justify-content:center;align-items:center;gap:12px}.surface-thumbnail-overlay-selected{position:absolute;width:100%;height:100%;top:0;right:0;bottom:0;left:0;display:flex;justify-content:flex-end;align-items:flex-end}.surface-thumbnail-overlay-selected.left{border:2px solid #008F81}.surface-thumbnail-overlay-selected.right{border:2px solid #A31621}.surface-thumbnail-overlay-selected>div{color:#fff;display:flex;flex-direction:row;justify-content:space-around;gap:6px;align-items:center;padding:6px;border-top-left-radius:6px;font-size:small}.surface-thumbnail-overlay-selected.left>div{background-color:#008f81}.surface-thumbnail-overlay-selected.right>div{background-color:#a31621}.surface-thumbnail-overlay .surface-thumbnail-overlay-content{opacity:100%;display:flex;flex-direction:row;gap:12px;justify-content:center;align-items:center;border-radius:12px;padding:8px;background-color:#242629}.surface-thumbnail-overlay:hover{opacity:100%}.surface-thumbnail-overlay a{cursor:pointer}.surface-thumbnail-figure{padding:0;margin:16px;position:relative}.tag-explore .surface-browser{position:absolute;top:0;left:48px;height:97dvh;width:400px;display:flex;flex-direction:column;background-color:#242629;color:#fff;padding:12px}.tag-explore .surface-browser-document-details{overflow-y:auto;position:relative}.tag-explore .accordion-summary{flex-direction:row-reverse;background-color:#242629}.tag-explore .accordion-summary div{display:flex;flex-direction:row;justify-content:space-between}.tag-explore .accordion-summary .MuiAccordionSummary-content{padding-left:12px;gap:12px}.tag-explore .accordion-detail{background-color:#242629;display:flex;flex-direction:column}')),document.head.appendChild(e)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}})();var l3=Object.defineProperty,c3=(e,n,t)=>n in e?l3(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Ai=(e,n,t)=>c3(e,typeof n!="symbol"?n+"":n,t),ii=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Er(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Um(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function i(){return this instanceof i?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}),t}var lE={exports:{}},qs={},Wp,Bx;function u3(){if(Bx)return Wp;Bx=1;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function i(l){if(l==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(l)}function r(){try{if(!Object.assign)return!1;var l=new String("abc");if(l[5]="de",Object.getOwnPropertyNames(l)[0]==="5")return!1;for(var h={},d=0;d<10;d++)h["_"+String.fromCharCode(d)]=d;var p=Object.getOwnPropertyNames(h).map(function(g){return h[g]});if(p.join("")!=="0123456789")return!1;var f={};return"abcdefghijklmnopqrst".split("").forEach(function(g){f[g]=g}),Object.keys(Object.assign({},f)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Wp=r()?Object.assign:function(l,h){for(var d,p=i(l),f,g=1;g<arguments.length;g++){d=Object(arguments[g]);for(var y in d)n.call(d,y)&&(p[y]=d[y]);if(e){f=e(d);for(var S=0;S<f.length;S++)t.call(d,f[S])&&(p[f[S]]=d[f[S]])}}return p},Wp}var Vx;function d3(){if(Vx)return qs;Vx=1;/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */u3();var e=vt,n=60103;if(qs.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var t=Symbol.for;n=t("react.element"),qs.Fragment=t("react.fragment")}var i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function h(d,p,f){var g,y={},S=null,T=null;f!==void 0&&(S=""+f),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(T=p.ref);for(g in p)r.call(p,g)&&!l.hasOwnProperty(g)&&(y[g]=p[g]);if(d&&d.defaultProps)for(g in p=d.defaultProps,p)y[g]===void 0&&(y[g]=p[g]);return{$$typeof:n,type:d,key:S,ref:T,props:y,_owner:i.current}}return qs.jsx=h,qs.jsxs=h,qs}lE.exports=d3();var L=lE.exports;function Wm(e,n){return function(){return null}}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ke.apply(this,arguments)}function uo(e){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},uo(e)}function Gp(e){return e&&uo(e)==="object"&&e.constructor===Object}function $o(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{clone:!0},i=t.clone?ke({},e):e;return Gp(e)&&Gp(n)&&Object.keys(n).forEach(function(r){r!=="__proto__"&&(Gp(n[r])&&r in e?i[r]=$o(e[r],n[r],t):i[r]=n[r])}),i}var cE={exports:{}},qp,Ux;function h3(){if(Ux)return qp;Ux=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qp=e,qp}var Xp,Wx;function p3(){if(Wx)return Xp;Wx=1;var e=h3();function n(){}function t(){}return t.resetWarningCache=n,Xp=function(){function i(h,d,p,f,g,y){if(y!==e){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}i.isRequired=i;function r(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:n};return l.PropTypes=l,l},Xp}cE.exports=p3()();var pa=cE.exports;const wt=Er(pa);var f3=Wm(wt.element);f3.isRequired=Wm(wt.element.isRequired);Wm(pa.elementType);function m3(e,n){if(uo(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var i=t.call(e,n);if(uo(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function uE(e){var n=m3(e,"string");return uo(n)==="symbol"?n:String(n)}function Yo(e,n,t){return n=uE(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function aa(e){for(var n="https://mui.com/production-error/?code="+e,t=1;t<arguments.length;t+=1)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified Material-UI error #"+e+"; visit "+n+" for the full message."}var _n={},Gx;function g3(){if(Gx)return _n;Gx=1;/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=60103,n=60106,t=60107,i=60108,r=60114,l=60109,h=60110,d=60112,p=60113,f=60120,g=60115,y=60116,S=60121,T=60122,k=60117,P=60129,_=60131;if(typeof Symbol=="function"&&Symbol.for){var D=Symbol.for;e=D("react.element"),n=D("react.portal"),t=D("react.fragment"),i=D("react.strict_mode"),r=D("react.profiler"),l=D("react.provider"),h=D("react.context"),d=D("react.forward_ref"),p=D("react.suspense"),f=D("react.suspense_list"),g=D("react.memo"),y=D("react.lazy"),S=D("react.block"),T=D("react.server.block"),k=D("react.fundamental"),P=D("react.debug_trace_mode"),_=D("react.legacy_hidden")}function q(be){if(typeof be=="object"&&be!==null){var Ae=be.$$typeof;switch(Ae){case e:switch(be=be.type,be){case t:case r:case i:case p:case f:return be;default:switch(be=be&&be.$$typeof,be){case h:case d:case y:case g:case l:return be;default:return Ae}}case n:return Ae}}}var G=l,ne=e,K=d,Y=t,se=y,ce=g,de=n,ie=r,ge=i,pe=p;return _n.ContextConsumer=h,_n.ContextProvider=G,_n.Element=ne,_n.ForwardRef=K,_n.Fragment=Y,_n.Lazy=se,_n.Memo=ce,_n.Portal=de,_n.Profiler=ie,_n.StrictMode=ge,_n.Suspense=pe,_n.isAsyncMode=function(){return!1},_n.isConcurrentMode=function(){return!1},_n.isContextConsumer=function(be){return q(be)===h},_n.isContextProvider=function(be){return q(be)===l},_n.isElement=function(be){return typeof be=="object"&&be!==null&&be.$$typeof===e},_n.isForwardRef=function(be){return q(be)===d},_n.isFragment=function(be){return q(be)===t},_n.isLazy=function(be){return q(be)===y},_n.isMemo=function(be){return q(be)===g},_n.isPortal=function(be){return q(be)===n},_n.isProfiler=function(be){return q(be)===r},_n.isStrictMode=function(be){return q(be)===i},_n.isSuspense=function(be){return q(be)===p},_n.isValidElementType=function(be){return typeof be=="string"||typeof be=="function"||be===t||be===r||be===P||be===i||be===p||be===f||be===_||typeof be=="object"&&be!==null&&(be.$$typeof===y||be.$$typeof===g||be.$$typeof===l||be.$$typeof===h||be.$$typeof===d||be.$$typeof===k||be.$$typeof===S||be[0]===T)},_n.typeOf=q,_n}g3();wt.oneOfType([wt.func,wt.object]);function Gm(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(n,e),t)}function v3(e){e=e.substr(1);var n=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),t=e.match(n);return t&&t[0].length===1&&(t=t.map(function(i){return i+i})),t?"rgb".concat(t.length===4?"a":"","(").concat(t.map(function(i,r){return r<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3}).join(", "),")"):""}function y3(e){e=Qo(e);var n=e,t=n.values,i=t[0],r=t[1]/100,l=t[2]/100,h=r*Math.min(l,1-l),d=function(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(g+i/30)%12;return l-h*Math.max(Math.min(y-3,9-y,1),-1)},p="rgb",f=[Math.round(d(0)*255),Math.round(d(8)*255),Math.round(d(4)*255)];return e.type==="hsla"&&(p+="a",f.push(t[3])),ed({type:p,values:f})}function Qo(e){if(e.type)return e;if(e.charAt(0)==="#")return Qo(v3(e));var n=e.indexOf("("),t=e.substring(0,n);if(["rgb","rgba","hsl","hsla"].indexOf(t)===-1)throw new Error(aa(3,e));var i=e.substring(n+1,e.length-1).split(",");return i=i.map(function(r){return parseFloat(r)}),{type:t,values:i}}function ed(e){var n=e.type,t=e.values;return n.indexOf("rgb")!==-1?t=t.map(function(i,r){return r<3?parseInt(i,10):i}):n.indexOf("hsl")!==-1&&(t[1]="".concat(t[1],"%"),t[2]="".concat(t[2],"%")),"".concat(n,"(").concat(t.join(", "),")")}function b3(e,n){var t=qx(e),i=qx(n);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function qx(e){e=Qo(e);var n=e.type==="hsl"?Qo(y3(e)).values:e.values;return n=n.map(function(t){return t/=255,t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}),Number((.2126*n[0]+.7152*n[1]+.0722*n[2]).toFixed(3))}function Ui(e,n){return e=Qo(e),n=Gm(n),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.values[3]=n,ed(e)}function w3(e,n){if(e=Qo(e),n=Gm(n),e.type.indexOf("hsl")!==-1)e.values[2]*=1-n;else if(e.type.indexOf("rgb")!==-1)for(var t=0;t<3;t+=1)e.values[t]*=1-n;return ed(e)}function x3(e,n){if(e=Qo(e),n=Gm(n),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*n;else if(e.type.indexOf("rgb")!==-1)for(var t=0;t<3;t+=1)e.values[t]+=(255-e.values[t])*n;return ed(e)}function os(e,n){if(e==null)return{};var t={},i=Object.keys(e),r,l;for(l=0;l<i.length;l++)r=i[l],!(n.indexOf(r)>=0)&&(t[r]=e[r]);return t}function At(e,n){if(e==null)return{};var t=os(e,n),i,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)i=l[r],!(n.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(t[i]=e[i])}return t}var $i=["xs","sm","md","lg","xl"];function S3(e){var n=e.values,t=n===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:n,i=e.unit,r=i===void 0?"px":i,l=e.step,h=l===void 0?5:l,d=At(e,["values","unit","step"]);function p(T){var k=typeof t[T]=="number"?t[T]:T;return"@media (min-width:".concat(k).concat(r,")")}function f(T){var k=$i.indexOf(T)+1,P=t[$i[k]];if(k===$i.length)return p("xs");var _=typeof P=="number"&&k>0?P:T;return"@media (max-width:".concat(_-h/100).concat(r,")")}function g(T,k){var P=$i.indexOf(k);return P===$i.length-1?p(T):"@media (min-width:".concat(typeof t[T]=="number"?t[T]:T).concat(r,") and ")+"(max-width:".concat((P!==-1&&typeof t[$i[P+1]]=="number"?t[$i[P+1]]:k)-h/100).concat(r,")")}function y(T){return g(T,T)}function S(T){return t[T]}return ke({keys:$i,values:t,up:p,down:f,between:g,only:y,width:S},d)}function E3(e,n,t){var i;return ke({gutters:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:",`
      paddingLeft: theme.spacing(2),
      paddingRight: theme.spacing(2),
      [theme.breakpoints.up('sm')]: {
        paddingLeft: theme.spacing(3),
        paddingRight: theme.spacing(3),
      },
      `].join(`
`)),ke({paddingLeft:n(2),paddingRight:n(2)},r,Yo({},e.up("sm"),ke({paddingLeft:n(3),paddingRight:n(3)},r[e.up("sm")])))},toolbar:(i={minHeight:56},Yo(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Yo(i,e.up("sm"),{minHeight:64}),i)},t)}var ju={black:"#000",white:"#fff"},qm={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Yp={300:"#7986cb",500:"#3f51b5",700:"#303f9f"},Kp={A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Zp={300:"#e57373",500:"#f44336",700:"#d32f2f"},Jp={300:"#ffb74d",500:"#ff9800",700:"#f57c00"},$p={300:"#64b5f6",500:"#2196f3",700:"#1976d2"},Qp={300:"#81c784",500:"#4caf50",700:"#388e3c"},Xx={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ju.white,default:qm[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ef={text:{primary:ju.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:qm[800],default:"#303030"},action:{active:ju.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Yx(e,n,t,i){var r=i.light||i,l=i.dark||i*1.5;e[n]||(e.hasOwnProperty(t)?e[n]=e[t]:n==="light"?e.light=x3(e.main,r):n==="dark"&&(e.dark=w3(e.main,l)))}function T3(e){var n=e.primary,t=n===void 0?{light:Yp[300],main:Yp[500],dark:Yp[700]}:n,i=e.secondary,r=i===void 0?{light:Kp.A200,main:Kp.A400,dark:Kp.A700}:i,l=e.error,h=l===void 0?{light:Zp[300],main:Zp[500],dark:Zp[700]}:l,d=e.warning,p=d===void 0?{light:Jp[300],main:Jp[500],dark:Jp[700]}:d,f=e.info,g=f===void 0?{light:$p[300],main:$p[500],dark:$p[700]}:f,y=e.success,S=y===void 0?{light:Qp[300],main:Qp[500],dark:Qp[700]}:y,T=e.type,k=T===void 0?"light":T,P=e.contrastThreshold,_=P===void 0?3:P,D=e.tonalOffset,q=D===void 0?.2:D,G=At(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function ne(ce){var de=b3(ce,ef.text.primary)>=_?ef.text.primary:Xx.text.primary;return de}var K=function(ce){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:300,ge=arguments.length>3&&arguments[3]!==void 0?arguments[3]:700;if(ce=ke({},ce),!ce.main&&ce[de]&&(ce.main=ce[de]),!ce.main)throw new Error(aa(4,de));if(typeof ce.main!="string")throw new Error(aa(5,JSON.stringify(ce.main)));return Yx(ce,"light",ie,q),Yx(ce,"dark",ge,q),ce.contrastText||(ce.contrastText=ne(ce.main)),ce},Y={dark:ef,light:Xx},se=$o(ke({common:ju,type:k,primary:K(t),secondary:K(r,"A400","A200","A700"),error:K(h),warning:K(p),info:K(g),success:K(S),grey:qm,contrastThreshold:_,getContrastText:ne,augmentColor:K,tonalOffset:q},Y[k]),G);return se}function dE(e){return Math.round(e*1e5)/1e5}function C3(e){return dE(e)}var Kx={textTransform:"uppercase"},Zx='"Roboto", "Helvetica", "Arial", sans-serif';function k3(e,n){var t=typeof n=="function"?n(e):n,i=t.fontFamily,r=i===void 0?Zx:i,l=t.fontSize,h=l===void 0?14:l,d=t.fontWeightLight,p=d===void 0?300:d,f=t.fontWeightRegular,g=f===void 0?400:f,y=t.fontWeightMedium,S=y===void 0?500:y,T=t.fontWeightBold,k=T===void 0?700:T,P=t.htmlFontSize,_=P===void 0?16:P,D=t.allVariants,q=t.pxToRem,G=At(t,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),ne=h/14,K=q||function(ce){return"".concat(ce/_*ne,"rem")},Y=function(ce,de,ie,ge,pe){return ke({fontFamily:r,fontWeight:ce,fontSize:K(de),lineHeight:ie},r===Zx?{letterSpacing:"".concat(dE(ge/de),"em")}:{},pe,D)},se={h1:Y(p,96,1.167,-1.5),h2:Y(p,60,1.2,-.5),h3:Y(g,48,1.167,0),h4:Y(g,34,1.235,.25),h5:Y(g,24,1.334,0),h6:Y(S,20,1.6,.15),subtitle1:Y(g,16,1.75,.15),subtitle2:Y(S,14,1.57,.1),body1:Y(g,16,1.5,.15),body2:Y(g,14,1.43,.15),button:Y(S,14,1.75,.4,Kx),caption:Y(g,12,1.66,.4),overline:Y(g,12,2.66,1,Kx)};return $o(ke({htmlFontSize:_,pxToRem:K,round:C3,fontFamily:r,fontSize:h,fontWeightLight:p,fontWeightRegular:g,fontWeightMedium:S,fontWeightBold:k},se),G,{clone:!1})}var P3=.2,_3=.14,R3=.12;function Mn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(P3,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(_3,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(R3,")")].join(",")}var O3=["none",Mn(0,2,1,-1,0,1,1,0,0,1,3,0),Mn(0,3,1,-2,0,2,2,0,0,1,5,0),Mn(0,3,3,-2,0,3,4,0,0,1,8,0),Mn(0,2,4,-1,0,4,5,0,0,1,10,0),Mn(0,3,5,-1,0,5,8,0,0,1,14,0),Mn(0,3,5,-1,0,6,10,0,0,1,18,0),Mn(0,4,5,-2,0,7,10,1,0,2,16,1),Mn(0,5,5,-3,0,8,10,1,0,3,14,2),Mn(0,5,6,-3,0,9,12,1,0,3,16,2),Mn(0,6,6,-3,0,10,14,1,0,4,18,3),Mn(0,6,7,-4,0,11,15,1,0,4,20,3),Mn(0,7,8,-4,0,12,17,2,0,5,22,4),Mn(0,7,8,-4,0,13,19,2,0,5,24,4),Mn(0,7,9,-4,0,14,21,2,0,5,26,4),Mn(0,8,9,-5,0,15,22,2,0,6,28,5),Mn(0,8,10,-5,0,16,24,2,0,6,30,5),Mn(0,8,11,-5,0,17,26,2,0,6,32,5),Mn(0,9,11,-5,0,18,28,2,0,7,34,6),Mn(0,9,12,-6,0,19,29,2,0,7,36,6),Mn(0,10,13,-6,0,20,31,3,0,8,38,7),Mn(0,10,13,-6,0,21,33,3,0,8,40,7),Mn(0,10,14,-6,0,22,35,3,0,8,42,7),Mn(0,11,14,-7,0,23,36,3,0,9,44,8),Mn(0,11,15,-7,0,24,38,3,0,9,46,8)],D3={borderRadius:4};function tm(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function A3(e){if(Array.isArray(e))return tm(e)}function hE(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xm(e,n){if(e){if(typeof e=="string")return tm(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tm(e,n)}}function I3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function td(e){return A3(e)||hE(e)||Xm(e)||I3()}function Nu(e,n){return n?$o(e,n,{clone:!1}):e}var M3={xs:0,sm:600,md:960,lg:1280,xl:1920},Jx={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(M3[e],"px)")}};function pE(e,n,t){if(Array.isArray(n)){var i=e.theme.breakpoints||Jx;return n.reduce(function(h,d,p){return h[i.up(i.keys[p])]=t(n[p]),h},{})}if(uo(n)==="object"){var r=e.theme.breakpoints||Jx;return Object.keys(n).reduce(function(h,d){return h[r.up(d)]=t(n[d]),h},{})}var l=t(n);return l}function $x(e,n){return!n||typeof n!="string"?null:n.split(".").reduce(function(t,i){return t&&t[i]?t[i]:null},e)}function St(e){var n=e.prop,t=e.cssProperty,i=t===void 0?e.prop:t,r=e.themeKey,l=e.transform,h=function(d){if(d[n]==null)return null;var p=d[n],f=d.theme,g=$x(f,r)||{},y=function(S){var T;return typeof g=="function"?T=g(S):Array.isArray(g)?T=g[S]||S:(T=$x(g,S)||S,l&&(T=l(T))),i===!1?T:Yo({},i,T)};return pE(d,p,y)};return h.propTypes={},h.filterProps=[n],h}function Nr(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var i=function(r){return n.reduce(function(l,h){var d=h(r);return d?Nu(l,d):l},{})};return i.propTypes={},i.filterProps=n.reduce(function(r,l){return r.concat(l.filterProps)},[]),i}function Al(e){return typeof e!="number"?e:"".concat(e,"px solid")}var z3=St({prop:"border",themeKey:"borders",transform:Al}),L3=St({prop:"borderTop",themeKey:"borders",transform:Al}),F3=St({prop:"borderRight",themeKey:"borders",transform:Al}),j3=St({prop:"borderBottom",themeKey:"borders",transform:Al}),N3=St({prop:"borderLeft",themeKey:"borders",transform:Al}),H3=St({prop:"borderColor",themeKey:"palette"}),B3=St({prop:"borderRadius",themeKey:"shape"}),V3=Nr(z3,L3,F3,j3,N3,H3,B3);function Qx(e,n){var t={};return Object.keys(e).forEach(function(i){n.indexOf(i)===-1&&(t[i]=e[i])}),t}function U3(e){var n=function(t){var i=e(t);return t.css?ke({},Nu(i,e(ke({theme:t.theme},t.css))),Qx(t.css,[e.filterProps])):t.sx?ke({},Nu(i,e(ke({theme:t.theme},t.sx))),Qx(t.sx,[e.filterProps])):i};return n.propTypes={},n.filterProps=["css","sx"].concat(td(e.filterProps)),n}var W3=St({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),G3=St({prop:"display"}),q3=St({prop:"overflow"}),X3=St({prop:"textOverflow"}),Y3=St({prop:"visibility"}),K3=St({prop:"whiteSpace"});const Z3=Nr(W3,G3,q3,X3,Y3,K3);var J3=St({prop:"flexBasis"}),$3=St({prop:"flexDirection"}),Q3=St({prop:"flexWrap"}),e5=St({prop:"justifyContent"}),t5=St({prop:"alignItems"}),n5=St({prop:"alignContent"}),i5=St({prop:"order"}),r5=St({prop:"flex"}),o5=St({prop:"flexGrow"}),s5=St({prop:"flexShrink"}),a5=St({prop:"alignSelf"}),l5=St({prop:"justifyItems"}),c5=St({prop:"justifySelf"}),u5=Nr(J3,$3,Q3,e5,t5,n5,i5,r5,o5,s5,a5,l5,c5),d5=St({prop:"gridGap"}),h5=St({prop:"gridColumnGap"}),p5=St({prop:"gridRowGap"}),f5=St({prop:"gridColumn"}),m5=St({prop:"gridRow"}),g5=St({prop:"gridAutoFlow"}),v5=St({prop:"gridAutoColumns"}),y5=St({prop:"gridAutoRows"}),b5=St({prop:"gridTemplateColumns"}),w5=St({prop:"gridTemplateRows"}),x5=St({prop:"gridTemplateAreas"}),S5=St({prop:"gridArea"}),E5=Nr(d5,h5,p5,f5,m5,g5,v5,y5,b5,w5,x5,S5),T5=St({prop:"color",themeKey:"palette"}),C5=St({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),k5=Nr(T5,C5),P5=St({prop:"position"}),_5=St({prop:"zIndex",themeKey:"zIndex"}),R5=St({prop:"top"}),O5=St({prop:"right"}),D5=St({prop:"bottom"}),A5=St({prop:"left"});const I5=Nr(P5,_5,R5,O5,D5,A5);var M5=St({prop:"boxShadow",themeKey:"shadows"});function fo(e){return e<=1?"".concat(e*100,"%"):e}var z5=St({prop:"width",transform:fo}),L5=St({prop:"maxWidth",transform:fo}),F5=St({prop:"minWidth",transform:fo}),j5=St({prop:"height",transform:fo}),N5=St({prop:"maxHeight",transform:fo}),H5=St({prop:"minHeight",transform:fo});St({prop:"size",cssProperty:"width",transform:fo});St({prop:"size",cssProperty:"height",transform:fo});var B5=St({prop:"boxSizing"}),V5=Nr(z5,L5,F5,j5,N5,H5,B5);function fE(e){if(Array.isArray(e))return e}function U5(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var i,r,l,h,d=[],p=!0,f=!1;try{if(l=(t=t.call(e)).next,n!==0)for(;!(p=(i=l.call(t)).done)&&(d.push(i.value),d.length!==n);p=!0);}catch(g){f=!0,r=g}finally{try{if(!p&&t.return!=null&&(h=t.return(),Object(h)!==h))return}finally{if(f)throw r}}return d}}function mE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ss(e,n){return fE(e)||U5(e,n)||Xm(e,n)||mE()}function W5(e){var n={};return function(t){return n[t]===void 0&&(n[t]=e(t)),n[t]}}var G5={m:"margin",p:"padding"},q5={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},e0={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},X5=W5(function(e){if(e.length>2)if(e0[e])e=e0[e];else return[e];var n=e.split(""),t=ss(n,2),i=t[0],r=t[1],l=G5[i],h=q5[r]||"";return Array.isArray(h)?h.map(function(d){return l+d}):[l+h]}),gE=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function vE(e){var n=e.spacing||8;return typeof n=="number"?function(t){return n*t}:Array.isArray(n)?function(t){return n[t]}:typeof n=="function"?n:function(){}}function Y5(e,n){if(typeof n=="string"||n==null)return n;var t=Math.abs(n),i=e(t);return n>=0?i:typeof i=="number"?-i:"-".concat(i)}function K5(e,n){return function(t){return e.reduce(function(i,r){return i[r]=Y5(n,t),i},{})}}function Ym(e){var n=e.theme,t=vE(n);return Object.keys(e).map(function(i){if(gE.indexOf(i)===-1)return null;var r=X5(i),l=K5(r,t),h=e[i];return pE(e,h,l)}).reduce(Nu,{})}Ym.propTypes={};Ym.filterProps=gE;var Z5=St({prop:"fontFamily",themeKey:"typography"}),J5=St({prop:"fontSize",themeKey:"typography"}),$5=St({prop:"fontStyle",themeKey:"typography"}),Q5=St({prop:"fontWeight",themeKey:"typography"}),ez=St({prop:"letterSpacing"}),tz=St({prop:"lineHeight"}),nz=St({prop:"textAlign"}),iz=Nr(Z5,J5,$5,Q5,ez,tz,nz);function rz(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;if(e.mui)return e;var n=vE({spacing:e}),t=function(){for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return r.length===0?n(1):r.length===1?n(r[0]):r.map(function(h){if(typeof h=="string")return h;var d=n(h);return typeof d=="number"?"".concat(d,"px"):d}).join(" ")};return Object.defineProperty(t,"unit",{get:function(){return e}}),t.mui=!0,t}var t0={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},kl={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function n0(e){return"".concat(Math.round(e),"ms")}const oz={easing:t0,duration:kl,create:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["all"],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=n.duration,i=t===void 0?kl.standard:t,r=n.easing,l=r===void 0?t0.easeInOut:r,h=n.delay,d=h===void 0?0:h;return At(n,["duration","easing","delay"]),(Array.isArray(e)?e:[e]).map(function(p){return"".concat(p," ").concat(typeof i=="string"?i:n0(i)," ").concat(l," ").concat(typeof d=="string"?d:n0(d))}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var n=e/36;return Math.round((4+15*Math.pow(n,.25)+n/5)*10)}};var yE={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Km(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.breakpoints,t=n===void 0?{}:n,i=e.mixins,r=i===void 0?{}:i,l=e.palette,h=l===void 0?{}:l,d=e.spacing,p=e.typography,f=p===void 0?{}:p,g=At(e,["breakpoints","mixins","palette","spacing","typography"]),y=T3(h),S=S3(t),T=rz(d),k=$o({breakpoints:S,direction:"ltr",mixins:E3(S,T,r),overrides:{},palette:y,props:{},shadows:O3,typography:k3(y,f),spacing:T,shape:D3,transitions:oz,zIndex:yE},g),P=arguments.length,_=new Array(P>1?P-1:0),D=1;D<P;D++)_[D-1]=arguments[D];return k=_.reduce(function(q,G){return $o(q,G)},k),k}var sz=typeof Symbol=="function"&&Symbol.for;const bE=sz?Symbol.for("mui.nested"):"__THEME_NESTED__";var az=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function lz(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.disableGlobal,t=n===void 0?!1:n,i=e.productionPrefix,r=i===void 0?"jss":i,l=e.seed,h=l===void 0?"":l,d=h===""?"":"".concat(h,"-"),p=0,f=function(){return p+=1,p};return function(g,y){var S=y.options.name;if(S&&S.indexOf("Mui")===0&&!y.options.link&&!t){if(az.indexOf(g.key)!==-1)return"Mui-".concat(g.key);var T="".concat(d).concat(S,"-").concat(g.key);return!y.options.theme[bE]||h!==""?T:"".concat(T,"-").concat(f())}return"".concat(d).concat(r).concat(f())}}function nd(e){var n=e.theme,t=e.name,i=e.props;if(!n||!n.props||!n.props[t])return i;var r=n.props[t],l;for(l in r)i[l]===void 0&&(i[l]=r[l]);return i}var i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il=(typeof window>"u"?"undefined":i0(window))==="object"&&(typeof document>"u"?"undefined":i0(document))==="object"&&document.nodeType===9;function cz(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,uE(i.key),i)}}function Zm(e,n,t){return n&&cz(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nm(e,n){return nm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},nm(e,n)}function id(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,nm(e,n)}function im(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var uz={}.constructor;function rm(e){if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map(rm);if(e.constructor!==uz)return e;var n={};for(var t in e)n[t]=rm(e[t]);return n}function Jm(e,n,t){e===void 0&&(e="unnamed");var i=t.jss,r=rm(n),l=i.plugins.onCreateRule(e,r,t);return l||(e[0],null)}var r0=function(e,n){for(var t="",i=0;i<e.length&&e[i]!=="!important";i++)t&&(t+=n),t+=e[i];return t},Ko=function(e){if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var t=0;t<e.length&&e[t]!=="!important";t++)n&&(n+=", "),n+=r0(e[t]," ");else n=r0(e,", ");return e[e.length-1]==="!important"&&(n+=" !important"),n};function fa(e){return e&&e.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function ol(e,n){for(var t="",i=0;i<n;i++)t+="  ";return t+e}function Pl(e,n,t){t===void 0&&(t={});var i="";if(!n)return i;var r=t,l=r.indent,h=l===void 0?0:l,d=n.fallbacks;t.format===!1&&(h=-1/0);var p=fa(t),f=p.linebreak,g=p.space;if(e&&h++,d)if(Array.isArray(d))for(var y=0;y<d.length;y++){var S=d[y];for(var T in S){var k=S[T];k!=null&&(i&&(i+=f),i+=ol(T+":"+g+Ko(k)+";",h))}}else for(var P in d){var _=d[P];_!=null&&(i&&(i+=f),i+=ol(P+":"+g+Ko(_)+";",h))}for(var D in n){var q=n[D];q!=null&&D!=="fallbacks"&&(i&&(i+=f),i+=ol(D+":"+g+Ko(q)+";",h))}return!i&&!t.allowEmpty||!e?i:(h--,i&&(i=""+f+i+f),ol(""+e+g+"{"+i,h)+ol("}",h))}var dz=/([[\].#*$><+~=|^:(),"'`\s])/g,o0=typeof CSS<"u"&&CSS.escape,$m=function(e){return o0?o0(e):e.replace(dz,"\\$1")},wE=function(){function e(t,i,r){this.type="style",this.isProcessed=!1;var l=r.sheet,h=r.Renderer;this.key=t,this.options=r,this.style=i,l?this.renderer=l.renderer:h&&(this.renderer=new h)}var n=e.prototype;return n.prop=function(t,i,r){if(i===void 0)return this.style[t];var l=r?r.force:!1;if(!l&&this.style[t]===i)return this;var h=i;(!r||r.process!==!1)&&(h=this.options.jss.plugins.onChangeValue(i,t,this));var d=h==null||h===!1,p=t in this.style;if(d&&!p&&!l)return this;var f=d&&p;if(f?delete this.style[t]:this.style[t]=h,this.renderable&&this.renderer)return f?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,h),this;var g=this.options.sheet;return g&&g.attached,this},e}(),om=function(e){id(n,e);function n(i,r,l){var h;h=e.call(this,i,r,l)||this;var d=l.selector,p=l.scoped,f=l.sheet,g=l.generateId;return d?h.selectorText=d:p!==!1&&(h.id=g(im(im(h)),f),h.selectorText="."+$m(h.id)),h}var t=n.prototype;return t.applyTo=function(i){var r=this.renderer;if(r){var l=this.toJSON();for(var h in l)r.setProperty(i,h,l[h])}return this},t.toJSON=function(){var i={};for(var r in this.style){var l=this.style[r];typeof l!="object"?i[r]=l:Array.isArray(l)&&(i[r]=Ko(l))}return i},t.toString=function(i){var r=this.options.sheet,l=r?r.options.link:!1,h=l?ke({},i,{allowEmpty:!0}):i;return Pl(this.selectorText,this.style,h)},Zm(n,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var r=this.renderer,l=this.renderable;if(!(!l||!r)){var h=r.setSelector(l,i);h||r.replaceRule(l,this)}}},get:function(){return this.selectorText}}]),n}(wE),hz={onCreateRule:function(e,n,t){return e[0]==="@"||t.parent&&t.parent.type==="keyframes"?null:new om(e,n,t)}},tf={indent:1,children:!0},pz=/@([\w-]+)/,fz=function(){function e(t,i,r){this.type="conditional",this.isProcessed=!1,this.key=t;var l=t.match(pz);this.at=l?l[1]:"unknown",this.query=r.name||"@"+this.at,this.options=r,this.rules=new rd(ke({},r,{parent:this}));for(var h in i)this.rules.add(h,i[h]);this.rules.process()}var n=e.prototype;return n.getRule=function(t){return this.rules.get(t)},n.indexOf=function(t){return this.rules.indexOf(t)},n.addRule=function(t,i,r){var l=this.rules.add(t,i,r);return l?(this.options.jss.plugins.onProcessRule(l),l):null},n.replaceRule=function(t,i,r){var l=this.rules.replace(t,i,r);return l&&this.options.jss.plugins.onProcessRule(l),l},n.toString=function(t){t===void 0&&(t=tf);var i=fa(t),r=i.linebreak;if(t.indent==null&&(t.indent=tf.indent),t.children==null&&(t.children=tf.children),t.children===!1)return this.query+" {}";var l=this.rules.toString(t);return l?this.query+" {"+r+l+r+"}":""},e}(),mz=/@container|@media|@supports\s+/,gz={onCreateRule:function(e,n,t){return mz.test(e)?new fz(e,n,t):null}},nf={indent:1,children:!0},vz=/@keyframes\s+([\w-]+)/,sm=function(){function e(t,i,r){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var l=t.match(vz);l&&l[1]?this.name=l[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=r;var h=r.scoped,d=r.sheet,p=r.generateId;this.id=h===!1?this.name:$m(p(this,d)),this.rules=new rd(ke({},r,{parent:this}));for(var f in i)this.rules.add(f,i[f],ke({},r,{parent:this}));this.rules.process()}var n=e.prototype;return n.toString=function(t){t===void 0&&(t=nf);var i=fa(t),r=i.linebreak;if(t.indent==null&&(t.indent=nf.indent),t.children==null&&(t.children=nf.children),t.children===!1)return this.at+" "+this.id+" {}";var l=this.rules.toString(t);return l&&(l=""+r+l+r),this.at+" "+this.id+" {"+l+"}"},e}(),yz=/@keyframes\s+/,bz=/\$([\w-]+)/g,am=function(e,n){return typeof e=="string"?e.replace(bz,function(t,i){return i in n?n[i]:t}):e},s0=function(e,n,t){var i=e[n],r=am(i,t);r!==i&&(e[n]=r)},wz={onCreateRule:function(e,n,t){return typeof e=="string"&&yz.test(e)?new sm(e,n,t):null},onProcessStyle:function(e,n,t){return n.type!=="style"||!t||("animation-name"in e&&s0(e,"animation-name",t.keyframes),"animation"in e&&s0(e,"animation",t.keyframes)),e},onChangeValue:function(e,n,t){var i=t.options.sheet;if(!i)return e;switch(n){case"animation":return am(e,i.keyframes);case"animation-name":return am(e,i.keyframes);default:return e}}},xz=function(e){id(n,e);function n(){return e.apply(this,arguments)||this}var t=n.prototype;return t.toString=function(i){var r=this.options.sheet,l=r?r.options.link:!1,h=l?ke({},i,{allowEmpty:!0}):i;return Pl(this.key,this.style,h)},n}(wE),Sz={onCreateRule:function(e,n,t){return t.parent&&t.parent.type==="keyframes"?new xz(e,n,t):null}},Ez=function(){function e(t,i,r){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=t,this.style=i,this.options=r}var n=e.prototype;return n.toString=function(t){var i=fa(t),r=i.linebreak;if(Array.isArray(this.style)){for(var l="",h=0;h<this.style.length;h++)l+=Pl(this.at,this.style[h]),this.style[h+1]&&(l+=r);return l}return Pl(this.at,this.style,t)},e}(),Tz=/@font-face/,Cz={onCreateRule:function(e,n,t){return Tz.test(e)?new Ez(e,n,t):null}},kz=function(){function e(t,i,r){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=t,this.style=i,this.options=r}var n=e.prototype;return n.toString=function(t){return Pl(this.key,this.style,t)},e}(),Pz={onCreateRule:function(e,n,t){return e==="@viewport"||e==="@-ms-viewport"?new kz(e,n,t):null}},_z=function(){function e(t,i,r){this.type="simple",this.isProcessed=!1,this.key=t,this.value=i,this.options=r}var n=e.prototype;return n.toString=function(t){if(Array.isArray(this.value)){for(var i="",r=0;r<this.value.length;r++)i+=this.key+" "+this.value[r]+";",this.value[r+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},e}(),Rz={"@charset":!0,"@import":!0,"@namespace":!0},Oz={onCreateRule:function(e,n,t){return e in Rz?new _z(e,n,t):null}},a0=[hz,gz,wz,Sz,Cz,Pz,Oz],Dz={process:!0},l0={force:!0,process:!0},rd=function(){function e(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var n=e.prototype;return n.add=function(t,i,r){var l=this.options,h=l.parent,d=l.sheet,p=l.jss,f=l.Renderer,g=l.generateId,y=l.scoped,S=ke({classes:this.classes,parent:h,sheet:d,jss:p,Renderer:f,generateId:g,scoped:y,name:t,keyframes:this.keyframes,selector:void 0},r),T=t;t in this.raw&&(T=t+"-d"+this.counter++),this.raw[T]=i,T in this.classes&&(S.selector="."+$m(this.classes[T]));var k=Jm(T,i,S);if(!k)return null;this.register(k);var P=S.index===void 0?this.index.length:S.index;return this.index.splice(P,0,k),k},n.replace=function(t,i,r){var l=this.get(t),h=this.index.indexOf(l);l&&this.remove(l);var d=r;return h!==-1&&(d=ke({},r,{index:h})),this.add(t,i,d)},n.get=function(t){return this.map[t]},n.remove=function(t){this.unregister(t),delete this.raw[t.key],this.index.splice(this.index.indexOf(t),1)},n.indexOf=function(t){return this.index.indexOf(t)},n.process=function(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)},n.register=function(t){this.map[t.key]=t,t instanceof om?(this.map[t.selector]=t,t.id&&(this.classes[t.key]=t.id)):t instanceof sm&&this.keyframes&&(this.keyframes[t.name]=t.id)},n.unregister=function(t){delete this.map[t.key],t instanceof om?(delete this.map[t.selector],delete this.classes[t.key]):t instanceof sm&&delete this.keyframes[t.name]},n.update=function(){var t,i,r;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(t=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],r=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],t=null),t)this.updateOne(this.get(t),i,r);else for(var l=0;l<this.index.length;l++)this.updateOne(this.index[l],i,r)},n.updateOne=function(t,i,r){r===void 0&&(r=Dz);var l=this.options,h=l.jss.plugins,d=l.sheet;if(t.rules instanceof e){t.rules.update(i,r);return}var p=t.style;if(h.onUpdate(i,t,d,r),r.process&&p&&p!==t.style){h.onProcessStyle(t.style,t,d);for(var f in t.style){var g=t.style[f],y=p[f];g!==y&&t.prop(f,g,l0)}for(var S in p){var T=t.style[S],k=p[S];T==null&&T!==k&&t.prop(S,null,l0)}}},n.toString=function(t){for(var i="",r=this.options.sheet,l=r?r.options.link:!1,h=fa(t),d=h.linebreak,p=0;p<this.index.length;p++){var f=this.index[p],g=f.toString(t);!g&&!l||(i&&(i+=d),i+=g)}return i},e}(),xE=function(){function e(t,i){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=ke({},i,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),i.Renderer&&(this.renderer=new i.Renderer(this)),this.rules=new rd(this.options);for(var r in t)this.rules.add(r,t[r]);this.rules.process()}var n=e.prototype;return n.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},n.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},n.addRule=function(t,i,r){var l=this.queue;this.attached&&!l&&(this.queue=[]);var h=this.rules.add(t,i,r);return h?(this.options.jss.plugins.onProcessRule(h),this.attached?(this.deployed&&(l?l.push(h):(this.insertRule(h),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),h):(this.deployed=!1,h)):null},n.replaceRule=function(t,i,r){var l=this.rules.get(t);if(!l)return this.addRule(t,i,r);var h=this.rules.replace(t,i,r);return h&&this.options.jss.plugins.onProcessRule(h),this.attached?(this.deployed&&this.renderer&&(h?l.renderable&&this.renderer.replaceRule(l.renderable,h):this.renderer.deleteRule(l)),h):(this.deployed=!1,h)},n.insertRule=function(t){this.renderer&&this.renderer.insertRule(t)},n.addRules=function(t,i){var r=[];for(var l in t){var h=this.addRule(l,t[l],i);h&&r.push(h)}return r},n.getRule=function(t){return this.rules.get(t)},n.deleteRule=function(t){var i=typeof t=="object"?t:this.rules.get(t);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},n.indexOf=function(t){return this.rules.indexOf(t)},n.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},n.update=function(){var t;return(t=this.rules).update.apply(t,arguments),this},n.updateOne=function(t,i,r){return this.rules.updateOne(t,i,r),this},n.toString=function(t){return this.rules.toString(t)},e}(),Az=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var n=e.prototype;return n.onCreateRule=function(t,i,r){for(var l=0;l<this.registry.onCreateRule.length;l++){var h=this.registry.onCreateRule[l](t,i,r);if(h)return h}return null},n.onProcessRule=function(t){if(!t.isProcessed){for(var i=t.options.sheet,r=0;r<this.registry.onProcessRule.length;r++)this.registry.onProcessRule[r](t,i);t.style&&this.onProcessStyle(t.style,t,i),t.isProcessed=!0}},n.onProcessStyle=function(t,i,r){for(var l=0;l<this.registry.onProcessStyle.length;l++)i.style=this.registry.onProcessStyle[l](i.style,i,r)},n.onProcessSheet=function(t){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](t)},n.onUpdate=function(t,i,r,l){for(var h=0;h<this.registry.onUpdate.length;h++)this.registry.onUpdate[h](t,i,r,l)},n.onChangeValue=function(t,i,r){for(var l=t,h=0;h<this.registry.onChangeValue.length;h++)l=this.registry.onChangeValue[h](l,i,r);return l},n.use=function(t,i){i===void 0&&(i={queue:"external"});var r=this.plugins[i.queue];r.indexOf(t)===-1&&(r.push(t),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(l,h){for(var d in h)d in l&&l[d].push(h[d]);return l},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),Iz=function(){function e(){this.registry=[]}var n=e.prototype;return n.add=function(t){var i=this.registry,r=t.options.index;if(i.indexOf(t)===-1){if(i.length===0||r>=this.index){i.push(t);return}for(var l=0;l<i.length;l++)if(i[l].options.index>r){i.splice(l,0,t);return}}},n.reset=function(){this.registry=[]},n.remove=function(t){var i=this.registry.indexOf(t);this.registry.splice(i,1)},n.toString=function(t){for(var i=t===void 0?{}:t,r=i.attached,l=os(i,["attached"]),h=fa(l),d=h.linebreak,p="",f=0;f<this.registry.length;f++){var g=this.registry[f];r!=null&&g.attached!==r||(p&&(p+=d),p+=g.toString(l))}return p},Zm(e,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),e}(),vl=new Iz,lm=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),cm="2f1acc6c3a606b082e5eef5e54414ffb";lm[cm]==null&&(lm[cm]=0);var c0=lm[cm]++,u0=function(e){e===void 0&&(e={});var n=0,t=function(i,r){n+=1;var l="",h="";return r&&(r.options.classNamePrefix&&(h=r.options.classNamePrefix),r.options.jss.id!=null&&(l=String(r.options.jss.id))),e.minify?""+(h||"c")+c0+l+n:h+i.key+"-"+c0+(l?"-"+l:"")+"-"+n};return t},SE=function(e){var n;return function(){return n||(n=e()),n}},Mz=function(e,n){try{return e.attributeStyleMap?e.attributeStyleMap.get(n):e.style.getPropertyValue(n)}catch{return""}},zz=function(e,n,t){try{var i=t;if(Array.isArray(t)&&(i=Ko(t)),e.attributeStyleMap)e.attributeStyleMap.set(n,i);else{var r=i?i.indexOf("!important"):-1,l=r>-1?i.substr(0,r-1):i;e.style.setProperty(n,l,r>-1?"important":"")}}catch{return!1}return!0},Lz=function(e,n){try{e.attributeStyleMap?e.attributeStyleMap.delete(n):e.style.removeProperty(n)}catch{}},Fz=function(e,n){return e.selectorText=n,e.selectorText===n},EE=SE(function(){return document.querySelector("head")});function jz(e,n){for(var t=0;t<e.length;t++){var i=e[t];if(i.attached&&i.options.index>n.index&&i.options.insertionPoint===n.insertionPoint)return i}return null}function Nz(e,n){for(var t=e.length-1;t>=0;t--){var i=e[t];if(i.attached&&i.options.insertionPoint===n.insertionPoint)return i}return null}function Hz(e){for(var n=EE(),t=0;t<n.childNodes.length;t++){var i=n.childNodes[t];if(i.nodeType===8&&i.nodeValue.trim()===e)return i}return null}function Bz(e){var n=vl.registry;if(n.length>0){var t=jz(n,e);if(t&&t.renderer)return{parent:t.renderer.element.parentNode,node:t.renderer.element};if(t=Nz(n,e),t&&t.renderer)return{parent:t.renderer.element.parentNode,node:t.renderer.element.nextSibling}}var i=e.insertionPoint;if(i&&typeof i=="string"){var r=Hz(i);if(r)return{parent:r.parentNode,node:r.nextSibling}}return!1}function Vz(e,n){var t=n.insertionPoint,i=Bz(n);if(i!==!1&&i.parent){i.parent.insertBefore(e,i.node);return}if(t&&typeof t.nodeType=="number"){var r=t,l=r.parentNode;l&&l.insertBefore(e,r.nextSibling);return}EE().appendChild(e)}var Uz=SE(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),d0=function(e,n,t){try{"insertRule"in e?e.insertRule(n,t):"appendRule"in e&&e.appendRule(n)}catch{return!1}return e.cssRules[t]},h0=function(e,n){var t=e.cssRules.length;return n===void 0||n>t?t:n},Wz=function(){var e=document.createElement("style");return e.textContent=`
`,e},Gz=function(){function e(t){this.getPropertyValue=Mz,this.setProperty=zz,this.removeProperty=Lz,this.setSelector=Fz,this.hasInsertedRules=!1,this.cssRules=[],t&&vl.add(t),this.sheet=t;var i=this.sheet?this.sheet.options:{},r=i.media,l=i.meta,h=i.element;this.element=h||Wz(),this.element.setAttribute("data-jss",""),r&&this.element.setAttribute("media",r),l&&this.element.setAttribute("data-meta",l);var d=Uz();d&&this.element.setAttribute("nonce",d)}var n=e.prototype;return n.attach=function(){if(!(this.element.parentNode||!this.sheet)){Vz(this.element,this.sheet.options);var t=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&t&&(this.hasInsertedRules=!1,this.deploy())}},n.detach=function(){if(this.sheet){var t=this.element.parentNode;t&&t.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},n.deploy=function(){var t=this.sheet;if(t){if(t.options.link){this.insertRules(t.rules);return}this.element.textContent=`
`+t.toString()+`
`}},n.insertRules=function(t,i){for(var r=0;r<t.index.length;r++)this.insertRule(t.index[r],r,i)},n.insertRule=function(t,i,r){if(r===void 0&&(r=this.element.sheet),t.rules){var l=t,h=r;if(t.type==="conditional"||t.type==="keyframes"){var d=h0(r,i);if(h=d0(r,l.toString({children:!1}),d),h===!1)return!1;this.refCssRule(t,d,h)}return this.insertRules(l.rules,h),h}var p=t.toString();if(!p)return!1;var f=h0(r,i),g=d0(r,p,f);return g===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(t,f,g),g)},n.refCssRule=function(t,i,r){t.renderable=r,t.options.parent instanceof xE&&this.cssRules.splice(i,0,r)},n.deleteRule=function(t){var i=this.element.sheet,r=this.indexOf(t);return r===-1?!1:(i.deleteRule(r),this.cssRules.splice(r,1),!0)},n.indexOf=function(t){return this.cssRules.indexOf(t)},n.replaceRule=function(t,i){var r=this.indexOf(t);return r===-1?!1:(this.element.sheet.deleteRule(r),this.cssRules.splice(r,1),this.insertRule(i,r))},n.getRules=function(){return this.element.sheet.cssRules},e}(),qz=0,Xz=function(){function e(t){this.id=qz++,this.version="10.10.0",this.plugins=new Az,this.options={id:{minify:!1},createGenerateId:u0,Renderer:Il?Gz:null,plugins:[]},this.generateId=u0({minify:!1});for(var i=0;i<a0.length;i++)this.plugins.use(a0[i],{queue:"internal"});this.setup(t)}var n=e.prototype;return n.setup=function(t){return t===void 0&&(t={}),t.createGenerateId&&(this.options.createGenerateId=t.createGenerateId),t.id&&(this.options.id=ke({},this.options.id,t.id)),(t.createGenerateId||t.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),t.insertionPoint!=null&&(this.options.insertionPoint=t.insertionPoint),"Renderer"in t&&(this.options.Renderer=t.Renderer),t.plugins&&this.use.apply(this,t.plugins),this},n.createStyleSheet=function(t,i){i===void 0&&(i={});var r=i,l=r.index;typeof l!="number"&&(l=vl.index===0?0:vl.index+1);var h=new xE(t,ke({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:l}));return this.plugins.onProcessSheet(h),h},n.removeStyleSheet=function(t){return t.detach(),vl.remove(t),this},n.createRule=function(t,i,r){if(i===void 0&&(i={}),r===void 0&&(r={}),typeof t=="object")return this.createRule(void 0,t,i);var l=ke({},r,{name:t,jss:this,Renderer:this.options.Renderer});l.generateId||(l.generateId=this.generateId),l.classes||(l.classes={}),l.keyframes||(l.keyframes={});var h=Jm(t,i,l);return h&&this.plugins.onProcessRule(h),h},n.use=function(){for(var t=this,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return r.forEach(function(h){t.plugins.use(h)}),this},e}(),TE=function(e){return new Xz(e)},Qm=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function CE(e){var n=null;for(var t in e){var i=e[t],r=typeof i;if(r==="function")n||(n={}),n[t]=i;else if(r==="object"&&i!==null&&!Array.isArray(i)){var l=CE(i);l&&(n||(n={}),n[t]=l)}}return n}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */TE();var kE=Date.now(),rf="fnValues"+kE,of="fnStyle"+ ++kE,Yz=function(){return{onCreateRule:function(e,n,t){if(typeof n!="function")return null;var i=Jm(e,{},t);return i[of]=n,i},onProcessStyle:function(e,n){if(rf in n||of in n)return e;var t={};for(var i in e){var r=e[i];typeof r=="function"&&(delete e[i],t[i]=r)}return n[rf]=t,e},onUpdate:function(e,n,t,i){var r=n,l=r[of];l&&(r.style=l(e)||{});var h=r[rf];if(h)for(var d in h)r.prop(d,h[d](e),i)}}},lo="@global",um="@global ",Kz=function(){function e(t,i,r){this.type="global",this.at=lo,this.isProcessed=!1,this.key=t,this.options=r,this.rules=new rd(ke({},r,{parent:this}));for(var l in i)this.rules.add(l,i[l]);this.rules.process()}var n=e.prototype;return n.getRule=function(t){return this.rules.get(t)},n.addRule=function(t,i,r){var l=this.rules.add(t,i,r);return l&&this.options.jss.plugins.onProcessRule(l),l},n.replaceRule=function(t,i,r){var l=this.rules.replace(t,i,r);return l&&this.options.jss.plugins.onProcessRule(l),l},n.indexOf=function(t){return this.rules.indexOf(t)},n.toString=function(t){return this.rules.toString(t)},e}(),Zz=function(){function e(t,i,r){this.type="global",this.at=lo,this.isProcessed=!1,this.key=t,this.options=r;var l=t.substr(um.length);this.rule=r.jss.createRule(l,i,ke({},r,{parent:this}))}var n=e.prototype;return n.toString=function(t){return this.rule?this.rule.toString(t):""},e}(),Jz=/\s*,\s*/g;function PE(e,n){for(var t=e.split(Jz),i="",r=0;r<t.length;r++)i+=n+" "+t[r].trim(),t[r+1]&&(i+=", ");return i}function $z(e,n){var t=e.options,i=e.style,r=i?i[lo]:null;if(r){for(var l in r)n.addRule(l,r[l],ke({},t,{selector:PE(l,e.selector)}));delete i[lo]}}function Qz(e,n){var t=e.options,i=e.style;for(var r in i)if(!(r[0]!=="@"||r.substr(0,lo.length)!==lo)){var l=PE(r.substr(lo.length),e.selector);n.addRule(l,i[r],ke({},t,{selector:l})),delete i[r]}}function eL(){function e(t,i,r){if(!t)return null;if(t===lo)return new Kz(t,i,r);if(t[0]==="@"&&t.substr(0,um.length)===um)return new Zz(t,i,r);var l=r.parent;return l&&(l.type==="global"||l.options.parent&&l.options.parent.type==="global")&&(r.scoped=!1),!r.selector&&r.scoped===!1&&(r.selector=t),null}function n(t,i){t.type!=="style"||!i||($z(t,i),Qz(t,i))}return{onCreateRule:e,onProcessRule:n}}var p0=/\s*,\s*/g,tL=/&/g,nL=/\$([\w-]+)/g;function iL(){function e(r,l){return function(h,d){var p=r.getRule(d)||l&&l.getRule(d);return p?p.selector:d}}function n(r,l){for(var h=l.split(p0),d=r.split(p0),p="",f=0;f<h.length;f++)for(var g=h[f],y=0;y<d.length;y++){var S=d[y];p&&(p+=", "),p+=S.indexOf("&")!==-1?S.replace(tL,g):g+" "+S}return p}function t(r,l,h){if(h)return ke({},h,{index:h.index+1});var d=r.options.nestingLevel;d=d===void 0?1:d+1;var p=ke({},r.options,{nestingLevel:d,index:l.indexOf(r)+1});return delete p.name,p}function i(r,l,h){if(l.type!=="style")return r;var d=l,p=d.options.parent,f,g;for(var y in r){var S=y.indexOf("&")!==-1,T=y[0]==="@";if(!(!S&&!T)){if(f=t(d,p,f),S){var k=n(y,d.selector);g||(g=e(p,h)),k=k.replace(nL,g);var P=d.key+"-"+y;"replaceRule"in p?p.replaceRule(P,r[y],ke({},f,{selector:k})):p.addRule(P,r[y],ke({},f,{selector:k}))}else T&&p.addRule(y,{},f).addRule(d.key,r[y],{selector:d.selector});delete r[y]}}return r}return{onProcessStyle:i}}var rL=/[A-Z]/g,oL=/^ms-/,sf={};function sL(e){return"-"+e.toLowerCase()}function _E(e){if(sf.hasOwnProperty(e))return sf[e];var n=e.replace(rL,sL);return sf[e]=oL.test(n)?"-"+n:n}function Hu(e){var n={};for(var t in e){var i=t.indexOf("--")===0?t:_E(t);n[i]=e[t]}return e.fallbacks&&(Array.isArray(e.fallbacks)?n.fallbacks=e.fallbacks.map(Hu):n.fallbacks=Hu(e.fallbacks)),n}function aL(){function e(t){if(Array.isArray(t)){for(var i=0;i<t.length;i++)t[i]=Hu(t[i]);return t}return Hu(t)}function n(t,i,r){if(i.indexOf("--")===0)return t;var l=_E(i);return i===l?t:(r.prop(l,t),null)}return{onProcessStyle:e,onChangeValue:n}}var Be=Qm&&CSS?CSS.px:"px",bu=Qm&&CSS?CSS.ms:"ms",Xs=Qm&&CSS?CSS.percent:"%",lL={"animation-delay":bu,"animation-duration":bu,"background-position":Be,"background-position-x":Be,"background-position-y":Be,"background-size":Be,border:Be,"border-bottom":Be,"border-bottom-left-radius":Be,"border-bottom-right-radius":Be,"border-bottom-width":Be,"border-left":Be,"border-left-width":Be,"border-radius":Be,"border-right":Be,"border-right-width":Be,"border-top":Be,"border-top-left-radius":Be,"border-top-right-radius":Be,"border-top-width":Be,"border-width":Be,"border-block":Be,"border-block-end":Be,"border-block-end-width":Be,"border-block-start":Be,"border-block-start-width":Be,"border-block-width":Be,"border-inline":Be,"border-inline-end":Be,"border-inline-end-width":Be,"border-inline-start":Be,"border-inline-start-width":Be,"border-inline-width":Be,"border-start-start-radius":Be,"border-start-end-radius":Be,"border-end-start-radius":Be,"border-end-end-radius":Be,margin:Be,"margin-bottom":Be,"margin-left":Be,"margin-right":Be,"margin-top":Be,"margin-block":Be,"margin-block-end":Be,"margin-block-start":Be,"margin-inline":Be,"margin-inline-end":Be,"margin-inline-start":Be,padding:Be,"padding-bottom":Be,"padding-left":Be,"padding-right":Be,"padding-top":Be,"padding-block":Be,"padding-block-end":Be,"padding-block-start":Be,"padding-inline":Be,"padding-inline-end":Be,"padding-inline-start":Be,"mask-position-x":Be,"mask-position-y":Be,"mask-size":Be,height:Be,width:Be,"min-height":Be,"max-height":Be,"min-width":Be,"max-width":Be,bottom:Be,left:Be,top:Be,right:Be,inset:Be,"inset-block":Be,"inset-block-end":Be,"inset-block-start":Be,"inset-inline":Be,"inset-inline-end":Be,"inset-inline-start":Be,"box-shadow":Be,"text-shadow":Be,"column-gap":Be,"column-rule":Be,"column-rule-width":Be,"column-width":Be,"font-size":Be,"font-size-delta":Be,"letter-spacing":Be,"text-decoration-thickness":Be,"text-indent":Be,"text-stroke":Be,"text-stroke-width":Be,"word-spacing":Be,motion:Be,"motion-offset":Be,outline:Be,"outline-offset":Be,"outline-width":Be,perspective:Be,"perspective-origin-x":Xs,"perspective-origin-y":Xs,"transform-origin":Xs,"transform-origin-x":Xs,"transform-origin-y":Xs,"transform-origin-z":Xs,"transition-delay":bu,"transition-duration":bu,"vertical-align":Be,"flex-basis":Be,"shape-margin":Be,size:Be,gap:Be,grid:Be,"grid-gap":Be,"row-gap":Be,"grid-row-gap":Be,"grid-column-gap":Be,"grid-template-rows":Be,"grid-template-columns":Be,"grid-auto-rows":Be,"grid-auto-columns":Be,"box-shadow-x":Be,"box-shadow-y":Be,"box-shadow-blur":Be,"box-shadow-spread":Be,"font-line-height":Be,"text-shadow-x":Be,"text-shadow-y":Be,"text-shadow-blur":Be};function RE(e){var n=/(-[a-z])/g,t=function(l){return l[1].toUpperCase()},i={};for(var r in e)i[r]=e[r],i[r.replace(n,t)]=e[r];return i}var cL=RE(lL);function yl(e,n,t){if(n==null)return n;if(Array.isArray(n))for(var i=0;i<n.length;i++)n[i]=yl(e,n[i],t);else if(typeof n=="object")if(e==="fallbacks")for(var r in n)n[r]=yl(r,n[r],t);else for(var l in n)n[l]=yl(e+"-"+l,n[l],t);else if(typeof n=="number"&&isNaN(n)===!1){var h=t[e]||cL[e];return h&&!(n===0&&h===Be)?typeof h=="function"?h(n).toString():""+n+h:n.toString()}return n}function uL(e){e===void 0&&(e={});var n=RE(e);function t(r,l){if(l.type!=="style")return r;for(var h in r)r[h]=yl(h,r[h],n);return r}function i(r,l){return yl(l,r,n)}return{onProcessStyle:t,onChangeValue:i}}var hl="",dm="",OE="",DE="",dL=Il&&"ontouchstart"in document.documentElement;if(Il){var af={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},hL=document.createElement("p"),lf=hL.style,pL="Transform";for(var cf in af)if(cf+pL in lf){hl=cf,dm=af[cf];break}hl==="Webkit"&&"msHyphens"in lf&&(hl="ms",dm=af.ms,DE="edge"),hl==="Webkit"&&"-apple-trailing-word"in lf&&(OE="apple")}var $t={js:hl,css:dm,vendor:OE,browser:DE,isTouch:dL};function fL(e){return e[1]==="-"||$t.js==="ms"?e:"@"+$t.css+"keyframes"+e.substr(10)}var mL={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:$t.js==="ms"?"-webkit-"+e:$t.css+e}},gL={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:$t.js==="Webkit"?$t.css+"print-"+e:e}},vL=/[-\s]+(.)?/g;function yL(e,n){return n?n.toUpperCase():""}function eg(e){return e.replace(vL,yL)}function ho(e){return eg("-"+e)}var bL={noPrefill:["mask"],supportedProperty:function(e,n){if(!/^mask/.test(e))return!1;if($t.js==="Webkit"){var t="mask-image";if(eg(t)in n)return e;if($t.js+ho(t)in n)return $t.css+e}return e}},wL={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:$t.vendor==="apple"&&!$t.isTouch?$t.css+e:e}},xL={noPrefill:["transform"],supportedProperty:function(e,n,t){return e!=="transform"?!1:t.transform?e:$t.css+e}},SL={noPrefill:["transition"],supportedProperty:function(e,n,t){return e!=="transition"?!1:t.transition?e:$t.css+e}},EL={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:$t.js==="Webkit"||$t.js==="ms"&&$t.browser!=="edge"?$t.css+e:e}},TL={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:$t.js==="Moz"||$t.js==="ms"||$t.vendor==="apple"?$t.css+e:e}},CL={supportedProperty:function(e,n){if(!/^break-/.test(e))return!1;if($t.js==="Webkit"){var t="WebkitColumn"+ho(e);return t in n?$t.css+"column-"+e:!1}if($t.js==="Moz"){var i="page"+ho(e);return i in n?"page-"+e:!1}return!1}},kL={supportedProperty:function(e,n){if(!/^(border|margin|padding)-inline/.test(e))return!1;if($t.js==="Moz")return e;var t=e.replace("-inline","");return $t.js+ho(t)in n?$t.css+t:!1}},PL={supportedProperty:function(e,n){return eg(e)in n?e:!1}},_L={supportedProperty:function(e,n){var t=ho(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:$t.js+t in n?$t.css+e:$t.js!=="Webkit"&&"Webkit"+t in n?"-webkit-"+e:!1}},RL={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:$t.js==="ms"?""+$t.css+e:e}},OL={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:$t.js==="ms"?$t.css+"scroll-chaining":e}},DL={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},AL={supportedProperty:function(e,n){var t=DL[e];return t&&$t.js+ho(t)in n?$t.css+t:!1}},AE={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},IL=Object.keys(AE),ML=function(e){return $t.css+e},zL={supportedProperty:function(e,n,t){var i=t.multiple;if(IL.indexOf(e)>-1){var r=AE[e];if(!Array.isArray(r))return $t.js+ho(r)in n?$t.css+r:!1;if(!i)return!1;for(var l=0;l<r.length;l++)if(!($t.js+ho(r[0])in n))return!1;return r.map(ML)}return!1}},IE=[mL,gL,bL,wL,xL,SL,EL,TL,CL,kL,PL,_L,RL,OL,AL,zL],f0=IE.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),LL=IE.filter(function(e){return e.noPrefill}).reduce(function(e,n){return e.push.apply(e,td(n.noPrefill)),e},[]),pl,Wo={};if(Il){pl=document.createElement("p");var uf=window.getComputedStyle(document.documentElement,"");for(var df in uf)isNaN(df)||(Wo[uf[df]]=uf[df]);LL.forEach(function(e){return delete Wo[e]})}function hm(e,n){if(n===void 0&&(n={}),!pl)return e;if(Wo[e]!=null)return Wo[e];(e==="transition"||e==="transform")&&(n[e]=e in pl.style);for(var t=0;t<f0.length&&(Wo[e]=f0[t](e,pl.style,n),!Wo[e]);t++);try{pl.style[e]=""}catch{return!1}return Wo[e]}var Ys={},FL={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},jL=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,io;function NL(e,n,t){if(n==="var")return"var";if(n==="all")return"all";if(t==="all")return", all";var i=n?hm(n):", "+hm(t);return i||n||t}Il&&(io=document.createElement("p"));function m0(e,n){var t=n;if(!io||e==="content")return n;if(typeof t!="string"||!isNaN(parseInt(t,10)))return t;var i=e+t;if(Ys[i]!=null)return Ys[i];try{io.style[e]=t}catch{return Ys[i]=!1,!1}if(FL[e])t=t.replace(jL,NL);else if(io.style[e]===""&&(t=$t.css+t,t==="-ms-flex"&&(io.style[e]="-ms-flexbox"),io.style[e]=t,io.style[e]===""))return Ys[i]=!1,!1;return io.style[e]="",Ys[i]=t,Ys[i]}function HL(){function e(r){if(r.type==="keyframes"){var l=r;l.at=fL(l.at)}}function n(r){for(var l in r){var h=r[l];if(l==="fallbacks"&&Array.isArray(h)){r[l]=h.map(n);continue}var d=!1,p=hm(l);p&&p!==l&&(d=!0);var f=!1,g=m0(p,Ko(h));g&&g!==h&&(f=!0),(d||f)&&(d&&delete r[l],r[p||l]=g||h)}return r}function t(r,l){return l.type!=="style"?r:n(r)}function i(r,l){return m0(l,Ko(r))||r}return{onProcessRule:e,onProcessStyle:t,onChangeValue:i}}function BL(){var e=function(n,t){return n.length===t.length?n>t?1:-1:n.length-t.length};return{onProcessStyle:function(n,t){if(t.type!=="style")return n;for(var i={},r=Object.keys(n).sort(e),l=0;l<r.length;l++)i[r[l]]=n[r[l]];return i}}}function VL(){return{plugins:[Yz(),eL(),iL(),aL(),uL(),typeof window>"u"?null:HL(),BL()]}}function tg(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.baseClasses,t=e.newClasses;if(e.Component,!t)return n;var i=ke({},n);return Object.keys(t).forEach(function(r){t[r]&&(i[r]="".concat(n[r]," ").concat(t[r]))}),i}var Qs={set:function(e,n,t,i){var r=e.get(n);r||(r=new Map,e.set(n,r)),r.set(t,i)},get:function(e,n,t){var i=e.get(n);return i?i.get(t):void 0},delete:function(e,n,t){var i=e.get(n);i.delete(t)}},ME=vt.createContext(null);function as(){var e=vt.useContext(ME);return e}var UL=TE(VL()),WL=lz(),GL=new Map,qL={disableGeneration:!1,generateClassName:WL,jss:UL,sheetsCache:null,sheetsManager:GL,sheetsRegistry:null},XL=vt.createContext(qL),g0=-1e9;function YL(){return g0+=1,g0}var KL={};function ZL(e){var n=typeof e=="function";return{create:function(t,i){var r;try{r=n?e(t):e}catch(d){throw d}if(!i||!t.overrides||!t.overrides[i])return r;var l=t.overrides[i],h=ke({},r);return Object.keys(l).forEach(function(d){h[d]=$o(h[d],l[d])}),h},options:{}}}function JL(e,n,t){var i=e.state,r=e.stylesOptions;if(r.disableGeneration)return n||{};i.cacheClasses||(i.cacheClasses={value:null,lastProp:null,lastJSS:{}});var l=!1;return i.classes!==i.cacheClasses.lastJSS&&(i.cacheClasses.lastJSS=i.classes,l=!0),n!==i.cacheClasses.lastProp&&(i.cacheClasses.lastProp=n,l=!0),l&&(i.cacheClasses.value=tg({baseClasses:i.cacheClasses.lastJSS,newClasses:n,Component:t})),i.cacheClasses.value}function $L(e,n){var t=e.state,i=e.theme,r=e.stylesOptions,l=e.stylesCreator,h=e.name;if(!r.disableGeneration){var d=Qs.get(r.sheetsManager,l,i);d||(d={refs:0,staticSheet:null,dynamicStyles:null},Qs.set(r.sheetsManager,l,i,d));var p=ke({},l.options,r,{theme:i,flip:typeof r.flip=="boolean"?r.flip:i.direction==="rtl"});p.generateId=p.serverGenerateClassName||p.generateClassName;var f=r.sheetsRegistry;if(d.refs===0){var g;r.sheetsCache&&(g=Qs.get(r.sheetsCache,l,i));var y=l.create(i,h);g||(g=r.jss.createStyleSheet(y,ke({link:!1},p)),g.attach(),r.sheetsCache&&Qs.set(r.sheetsCache,l,i,g)),f&&f.add(g),d.staticSheet=g,d.dynamicStyles=CE(y)}if(d.dynamicStyles){var S=r.jss.createStyleSheet(d.dynamicStyles,ke({link:!0},p));S.update(n),S.attach(),t.dynamicSheet=S,t.classes=tg({baseClasses:d.staticSheet.classes,newClasses:S.classes}),f&&f.add(S)}else t.classes=d.staticSheet.classes;d.refs+=1}}function QL(e,n){var t=e.state;t.dynamicSheet&&t.dynamicSheet.update(n)}function eF(e){var n=e.state,t=e.theme,i=e.stylesOptions,r=e.stylesCreator;if(!i.disableGeneration){var l=Qs.get(i.sheetsManager,r,t);l.refs-=1;var h=i.sheetsRegistry;l.refs===0&&(Qs.delete(i.sheetsManager,r,t),i.jss.removeStyleSheet(l.staticSheet),h&&h.remove(l.staticSheet)),n.dynamicSheet&&(i.jss.removeStyleSheet(n.dynamicSheet),h&&h.remove(n.dynamicSheet))}}function tF(e,n){var t=vt.useRef([]),i,r=vt.useMemo(function(){return{}},n);t.current!==r&&(t.current=r,i=e()),vt.useEffect(function(){return function(){i&&i()}},[r])}function zE(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=n.name,i=n.classNamePrefix,r=n.Component,l=n.defaultTheme,h=l===void 0?KL:l,d=At(n,["name","classNamePrefix","Component","defaultTheme"]),p=ZL(e),f=t||i||"makeStyles";p.options={index:YL(),name:t,meta:f,classNamePrefix:f};var g=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=as()||h,T=ke({},vt.useContext(XL),d),k=vt.useRef(),P=vt.useRef();tF(function(){var D={name:t,state:{},stylesCreator:p,stylesOptions:T,theme:S};return $L(D,y),P.current=!1,k.current=D,function(){eF(D)}},[S,p]),vt.useEffect(function(){P.current&&QL(k.current,y),P.current=!0});var _=JL(k.current,y.classes,r);return _};return g}function nF(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function LE(e){var n,t,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(t=LE(e[n]))&&(i&&(i+=" "),i+=t);else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function Nt(){for(var e,n,t=0,i="";t<arguments.length;)(e=arguments[t++])&&(n=LE(e))&&(i&&(i+=" "),i+=n);return i}var FE={exports:{}},bn={},v0;function iF(){if(v0)return bn;v0=1;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=typeof Symbol=="function"&&Symbol.for,n=e?Symbol.for("react.element"):60103,t=e?Symbol.for("react.portal"):60106,i=e?Symbol.for("react.fragment"):60107,r=e?Symbol.for("react.strict_mode"):60108,l=e?Symbol.for("react.profiler"):60114,h=e?Symbol.for("react.provider"):60109,d=e?Symbol.for("react.context"):60110,p=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,g=e?Symbol.for("react.forward_ref"):60112,y=e?Symbol.for("react.suspense"):60113,S=e?Symbol.for("react.suspense_list"):60120,T=e?Symbol.for("react.memo"):60115,k=e?Symbol.for("react.lazy"):60116,P=e?Symbol.for("react.block"):60121,_=e?Symbol.for("react.fundamental"):60117,D=e?Symbol.for("react.responder"):60118,q=e?Symbol.for("react.scope"):60119;function G(K){if(typeof K=="object"&&K!==null){var Y=K.$$typeof;switch(Y){case n:switch(K=K.type,K){case p:case f:case i:case l:case r:case y:return K;default:switch(K=K&&K.$$typeof,K){case d:case g:case k:case T:case h:return K;default:return Y}}case t:return Y}}}function ne(K){return G(K)===f}return bn.AsyncMode=p,bn.ConcurrentMode=f,bn.ContextConsumer=d,bn.ContextProvider=h,bn.Element=n,bn.ForwardRef=g,bn.Fragment=i,bn.Lazy=k,bn.Memo=T,bn.Portal=t,bn.Profiler=l,bn.StrictMode=r,bn.Suspense=y,bn.isAsyncMode=function(K){return ne(K)||G(K)===p},bn.isConcurrentMode=ne,bn.isContextConsumer=function(K){return G(K)===d},bn.isContextProvider=function(K){return G(K)===h},bn.isElement=function(K){return typeof K=="object"&&K!==null&&K.$$typeof===n},bn.isForwardRef=function(K){return G(K)===g},bn.isFragment=function(K){return G(K)===i},bn.isLazy=function(K){return G(K)===k},bn.isMemo=function(K){return G(K)===T},bn.isPortal=function(K){return G(K)===t},bn.isProfiler=function(K){return G(K)===l},bn.isStrictMode=function(K){return G(K)===r},bn.isSuspense=function(K){return G(K)===y},bn.isValidElementType=function(K){return typeof K=="string"||typeof K=="function"||K===i||K===f||K===l||K===r||K===y||K===S||typeof K=="object"&&K!==null&&(K.$$typeof===k||K.$$typeof===T||K.$$typeof===h||K.$$typeof===d||K.$$typeof===g||K.$$typeof===_||K.$$typeof===D||K.$$typeof===q||K.$$typeof===P)},bn.typeOf=G,bn}FE.exports=iF();var rF=FE.exports,ng=rF,oF={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sF={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},aF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},jE={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ig={};ig[ng.ForwardRef]=aF;ig[ng.Memo]=jE;function y0(e){return ng.isMemo(e)?jE:ig[e.$$typeof]||oF}var lF=Object.defineProperty,cF=Object.getOwnPropertyNames,b0=Object.getOwnPropertySymbols,uF=Object.getOwnPropertyDescriptor,dF=Object.getPrototypeOf,w0=Object.prototype;function NE(e,n,t){if(typeof n!="string"){if(w0){var i=dF(n);i&&i!==w0&&NE(e,i,t)}var r=cF(n);b0&&(r=r.concat(b0(n)));for(var l=y0(e),h=y0(n),d=0;d<r.length;++d){var p=r[d];if(!sF[p]&&!(t&&t[p])&&!(h&&h[p])&&!(l&&l[p])){var f=uF(n,p);try{lF(e,p,f)}catch{}}}}return e}var hF=NE;const _l=Er(hF);function pF(e,n){var t={};return Object.keys(e).forEach(function(i){n.indexOf(i)===-1&&(t[i]=e[i])}),t}function fF(e){var n=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.name,l=At(i,["name"]),h=r,d=typeof t=="function"?function(y){return{root:function(S){return t(ke({theme:y},S))}}}:{root:t},p=zE(d,ke({Component:e,name:r||e.displayName,classNamePrefix:h},l)),f;t.filterProps&&(f=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var g=vt.forwardRef(function(y,S){var T=y.children,k=y.className,P=y.clone,_=y.component,D=At(y,["children","className","clone","component"]),q=p(y),G=Nt(q.root,k),ne=D;if(f&&(ne=pF(ne,f)),P)return vt.cloneElement(T,ke({className:Nt(T.props.className,G)},ne));if(typeof T=="function")return T(ke({className:G},ne));var K=_||e;return vt.createElement(K,ke({ref:S,className:G},ne),T)});return _l(g,e),g};return n}function mF(e,n){if(typeof n=="function"){var t=n(e);return t}return ke({},e,n)}function HE(e){var n=e.children,t=e.theme,i=as(),r=vt.useMemo(function(){var l=i===null?t:mF(i,t);return l!=null&&(l[bE]=i!==null),l},[t,i]);return vt.createElement(ME.Provider,{value:r},n)}var gF=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(t){var i=n.defaultTheme,r=n.withTheme,l=r===void 0?!1:r,h=n.name,d=At(n,["defaultTheme","withTheme","name"]),p=h,f=zE(e,ke({defaultTheme:i,Component:t,name:h||t.displayName,classNamePrefix:p},d)),g=vt.forwardRef(function(y,S){y.classes;var T=y.innerRef,k=At(y,["classes","innerRef"]),P=f(ke({},t.defaultProps,y)),_,D=k;return(typeof h=="string"||l)&&(_=as()||i,h&&(D=nd({theme:_,name:h,props:k})),l&&!D.theme&&(D.theme=_)),vt.createElement(t,ke({ref:T||S,classes:P},D))});return _l(g,t),g}},rg=Km(),vF=function(e){var n=fF(e);return function(t,i){return n(t,ke({defaultTheme:rg},i))}};function ma(){var e=as()||rg;return e}function vn(e,n){return gF(e,ke({defaultTheme:rg},n))}function yF(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=as(),i=nd({theme:t,name:"MuiUseMediaQuery",props:{}}),r=typeof e=="function"?e(t):e;r=r.replace(/^@media( ?)/m,"");var l=typeof window<"u"&&typeof window.matchMedia<"u",h=ke({},i,n),d=h.defaultMatches,p=d===void 0?!1:d,f=h.matchMedia,g=f===void 0?l?window.matchMedia:null:f,y=h.noSsr,S=y===void 0?!1:y,T=h.ssrMatchMedia,k=T===void 0?null:T,P=M.useState(function(){return S&&l?g(r).matches:k?k(r).matches:p}),_=P[0],D=P[1];return M.useEffect(function(){var q=!0;if(l){var G=g(r),ne=function(){q&&D(G.matches)};return ne(),G.addListener(ne),function(){q=!1,G.removeListener(ne)}}},[r,g,l]),_}var bF=function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t?$i.indexOf(e)<=$i.indexOf(n):$i.indexOf(e)<$i.indexOf(n)},wF=typeof window>"u"?M.useEffect:M.useLayoutEffect,BE=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(n){var t=e.withTheme,i=t===void 0?!1:t,r=e.noSSR,l=r===void 0?!1:r,h=e.initialWidth;function d(p){var f=ma(),g=p.theme||f,y=nd({theme:g,name:"MuiWithWidth",props:ke({},p)}),S=y.initialWidth,T=y.width,k=At(y,["initialWidth","width"]),P=M.useState(!1),_=P[0],D=P[1];wF(function(){D(!0)},[]);var q=g.breakpoints.keys.slice().reverse(),G=q.reduce(function(K,Y){var se=yF(g.breakpoints.up(Y));return!K&&se?Y:K},null),ne=ke({width:T||(_||l?G:void 0)||S||h},i?{theme:g}:{},k);return ne.width===void 0?null:M.createElement(n,ne)}return _l(d,n),d}},ea;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ea||(ea={}));var x0=function(e){return e},S0="beforeunload",xF="popstate";function SF(e){e===void 0&&(e={});var n=e,t=n.window,i=t===void 0?document.defaultView:t,r=i.history;function l(){var se=i.location,ce=se.pathname,de=se.search,ie=se.hash,ge=r.state||{};return[ge.idx,x0({pathname:ce,search:de,hash:ie,state:ge.usr||null,key:ge.key||"default"})]}var h=null;function d(){if(h)T.call(h),h=null;else{var se=ea.Pop,ce=l(),de=ce[0],ie=ce[1];if(T.length){if(de!=null){var ge=g-de;ge&&(h={action:se,location:ie,retry:function(){K(ge*-1)}},K(ge))}}else q(se)}}i.addEventListener(xF,d);var p=ea.Pop,f=l(),g=f[0],y=f[1],S=T0(),T=T0();g==null&&(g=0,r.replaceState(ke({},r.state,{idx:g}),""));function k(se){return typeof se=="string"?se:TF(se)}function P(se,ce){return ce===void 0&&(ce=null),x0(ke({pathname:y.pathname,hash:"",search:""},typeof se=="string"?CF(se):se,{state:ce,key:EF()}))}function _(se,ce){return[{usr:se.state,key:se.key,idx:ce},k(se)]}function D(se,ce,de){return!T.length||(T.call({action:se,location:ce,retry:de}),!1)}function q(se){p=se;var ce=l();g=ce[0],y=ce[1],S.call({action:p,location:y})}function G(se,ce){var de=ea.Push,ie=P(se,ce);function ge(){G(se,ce)}if(D(de,ie,ge)){var pe=_(ie,g+1),be=pe[0],Ae=pe[1];try{r.pushState(be,"",Ae)}catch{i.location.assign(Ae)}q(de)}}function ne(se,ce){var de=ea.Replace,ie=P(se,ce);function ge(){ne(se,ce)}if(D(de,ie,ge)){var pe=_(ie,g),be=pe[0],Ae=pe[1];r.replaceState(be,"",Ae),q(de)}}function K(se){r.go(se)}var Y={get action(){return p},get location(){return y},createHref:k,push:G,replace:ne,go:K,back:function(){K(-1)},forward:function(){K(1)},listen:function(se){return S.push(se)},block:function(se){var ce=T.push(se);return T.length===1&&i.addEventListener(S0,E0),function(){ce(),T.length||i.removeEventListener(S0,E0)}}};return Y}function E0(e){e.preventDefault(),e.returnValue=""}function T0(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(t){return t!==n})}},call:function(n){e.forEach(function(t){return t&&t(n)})}}}function EF(){return Math.random().toString(36).substr(2,8)}function TF(e){var n=e.pathname,t=n===void 0?"/":n,i=e.search,r=i===void 0?"":i,l=e.hash,h=l===void 0?"":l;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),h&&h!=="#"&&(t+=h.charAt(0)==="#"?h:"#"+h),t}function CF(e){var n={};if(e){var t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));var i=e.indexOf("?");i>=0&&(n.search=e.substr(i),e=e.substr(0,i)),e&&(n.pathname=e)}return n}var VE={exports:{}},hf={},C0;function kF(){if(C0)return hf;C0=1;/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=vt;function n(y,S){return y===S&&(y!==0||1/y===1/S)||y!==y&&S!==S}var t=typeof Object.is=="function"?Object.is:n,i=e.useState,r=e.useEffect,l=e.useLayoutEffect,h=e.useDebugValue;function d(y,S){var T=S(),k=i({inst:{value:T,getSnapshot:S}}),P=k[0].inst,_=k[1];return l(function(){P.value=T,P.getSnapshot=S,p(P)&&_({inst:P})},[y,T,S]),r(function(){return p(P)&&_({inst:P}),y(function(){p(P)&&_({inst:P})})},[y]),h(T),T}function p(y){var S=y.getSnapshot;y=y.value;try{var T=S();return!t(y,T)}catch{return!0}}function f(y,S){return S()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return hf.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,hf}VE.exports=kF();var UE=VE.exports,pf={},k0;function PF(){if(k0)return pf;k0=1;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=vt,n=UE;function t(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var i=typeof Object.is=="function"?Object.is:t,r=n.useSyncExternalStore,l=e.useRef,h=e.useEffect,d=e.useMemo,p=e.useDebugValue;return pf.useSyncExternalStoreWithSelector=function(f,g,y,S,T){var k=l(null);if(k.current===null){var P={hasValue:!1,value:null};k.current=P}else P=k.current;k=d(function(){function D(Y){if(!q){if(q=!0,G=Y,Y=S(Y),T!==void 0&&P.hasValue){var se=P.value;if(T(se,Y))return ne=se}return ne=Y}if(se=ne,i(G,Y))return se;var ce=S(Y);return T!==void 0&&T(se,ce)?se:(G=Y,ne=ce)}var q=!1,G,ne,K=y===void 0?null:y;return[function(){return D(g())},K===null?void 0:function(){return D(K())}]},[g,y,S,T]);var _=r(f,k[0],k[1]);return h(function(){P.hasValue=!0,P.value=_},[_]),p(_),_},pf}PF();function _F(e){e()}let WE=_F;const RF=e=>WE=e,OF=()=>WE,GE=M.createContext(null),DF=()=>{throw new Error("uSES not initialized!")};var qE={exports:{}},wn={},P0;function AF(){if(P0)return wn;P0=1;/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),k;k=Symbol.for("react.module.reference");function P(_){if(typeof _=="object"&&_!==null){var D=_.$$typeof;switch(D){case e:switch(_=_.type,_){case t:case r:case i:case f:case g:return _;default:switch(_=_&&_.$$typeof,_){case d:case h:case p:case S:case y:case l:return _;default:return D}}case n:return D}}}return wn.ContextConsumer=h,wn.ContextProvider=l,wn.Element=e,wn.ForwardRef=p,wn.Fragment=t,wn.Lazy=S,wn.Memo=y,wn.Portal=n,wn.Profiler=r,wn.StrictMode=i,wn.Suspense=f,wn.SuspenseList=g,wn.isAsyncMode=function(){return!1},wn.isConcurrentMode=function(){return!1},wn.isContextConsumer=function(_){return P(_)===h},wn.isContextProvider=function(_){return P(_)===l},wn.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},wn.isForwardRef=function(_){return P(_)===p},wn.isFragment=function(_){return P(_)===t},wn.isLazy=function(_){return P(_)===S},wn.isMemo=function(_){return P(_)===y},wn.isPortal=function(_){return P(_)===n},wn.isProfiler=function(_){return P(_)===r},wn.isStrictMode=function(_){return P(_)===i},wn.isSuspense=function(_){return P(_)===f},wn.isSuspenseList=function(_){return P(_)===g},wn.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===t||_===r||_===i||_===f||_===g||_===T||typeof _=="object"&&_!==null&&(_.$$typeof===S||_.$$typeof===y||_.$$typeof===l||_.$$typeof===h||_.$$typeof===p||_.$$typeof===k||_.getModuleId!==void 0)},wn.typeOf=P,wn}qE.exports=AF();var IF=qE.exports;const MF=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function zF(e,n,t,i,{areStatesEqual:r,areOwnPropsEqual:l,areStatePropsEqual:h}){let d=!1,p,f,g,y,S;function T(q,G){return p=q,f=G,g=e(p,f),y=n(i,f),S=t(g,y,f),d=!0,S}function k(){return g=e(p,f),n.dependsOnOwnProps&&(y=n(i,f)),S=t(g,y,f),S}function P(){return e.dependsOnOwnProps&&(g=e(p,f)),n.dependsOnOwnProps&&(y=n(i,f)),S=t(g,y,f),S}function _(){const q=e(p,f),G=!h(q,g);return g=q,G&&(S=t(g,y,f)),S}function D(q,G){const ne=!l(G,f),K=!r(q,p,G,f);return p=q,f=G,ne&&K?k():ne?P():K?_():S}return function(q,G){return d?D(q,G):T(q,G)}}function LF(e,n){let{initMapStateToProps:t,initMapDispatchToProps:i,initMergeProps:r}=n,l=os(n,MF);const h=t(e,l),d=i(e,l),p=r(e,l);return zF(h,d,p,e,l)}function XE(e){return function(n){const t=e(n);function i(){return t}return i.dependsOnOwnProps=!1,i}}function _0(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function FF(e,n){return function(t,{displayName:i}){const r=function(l,h){return r.dependsOnOwnProps?r.mapToProps(l,h):r.mapToProps(l,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(l,h){r.mapToProps=e,r.dependsOnOwnProps=_0(e);let d=r(l,h);return typeof d=="function"&&(r.mapToProps=d,r.dependsOnOwnProps=_0(d),d=r(l,h)),d},r}}function jF(e,n){return(t,i)=>{throw new Error(`Invalid value of type ${typeof e} for ${n} argument when connecting component ${i.wrappedComponentName}.`)}}function NF(e){return XE(n=>({dispatch:n}))}function HF(e){return e?typeof e=="function"?FF(e):jF(e,"mapStateToProps"):XE(()=>({}))}function BF(e,n,t){return ke({},t,e,n)}function VF(e){return()=>BF}function UF(){const e=OF();let n=null,t=null;return{clear(){n=null,t=null},notify(){e(()=>{let i=n;for(;i;)i.callback(),i=i.next})},get(){let i=[],r=n;for(;r;)i.push(r),r=r.next;return i},subscribe(i){let r=!0,l=t={callback:i,next:null,prev:t};return l.prev?l.prev.next=l:n=l,function(){!r||n===null||(r=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:n=l.next)}}}}const R0={notify(){},get:()=>[]};function YE(e,n){let t,i=R0;function r(y){return p(),i.subscribe(y)}function l(){i.notify()}function h(){g.onStateChange&&g.onStateChange()}function d(){return!!t}function p(){t||(t=n?n.addNestedSub(h):e.subscribe(h),i=UF())}function f(){t&&(t(),t=void 0,i.clear(),i=R0)}const g={addNestedSub:r,notifyNestedSubs:l,handleChangeWrapper:h,isSubscribed:d,trySubscribe:p,tryUnsubscribe:f,getListeners:()=>i};return g}const WF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bu=WF?M.useLayoutEffect:M.useEffect;function O0(e,n){return e===n?e!==0||n!==0||1/e===1/n:e!==e&&n!==n}function ff(e,n){if(O0(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;const t=Object.keys(e),i=Object.keys(n);if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(n,t[r])||!O0(e[t[r]],n[t[r]]))return!1;return!0}const GF=["reactReduxForwardedRef"];let KE=DF;const qF=e=>{KE=e},XF=[null,null];function YF(e,n,t){Bu(()=>e(...n),t)}function KF(e,n,t,i,r,l){e.current=i,t.current=!1,r.current&&(r.current=null,l())}function ZF(e,n,t,i,r,l,h,d,p,f,g){if(!e)return()=>{};let y=!1,S=null;const T=()=>{if(y||!d.current)return;const k=n.getState();let P,_;try{P=i(k,r.current)}catch(D){_=D,S=D}_||(S=null),P===l.current?h.current||f():(l.current=P,p.current=P,h.current=!0,g())};return t.onStateChange=T,t.trySubscribe(),T(),()=>{if(y=!0,t.tryUnsubscribe(),t.onStateChange=null,S)throw S}}function JF(e,n){return e===n}function qi(e,n,t,{pure:i,areStatesEqual:r=JF,areOwnPropsEqual:l=ff,areStatePropsEqual:h=ff,areMergedPropsEqual:d=ff,forwardRef:p=!1,context:f=GE}={}){const g=f,y=HF(e),S=NF(),T=VF(),k=!!e;return P=>{const _=P.displayName||P.name||"Component",D=`Connect(${_})`,q={shouldHandleStateChanges:k,displayName:D,wrappedComponentName:_,WrappedComponent:P,initMapStateToProps:y,initMapDispatchToProps:S,initMergeProps:T,areStatesEqual:r,areStatePropsEqual:h,areOwnPropsEqual:l,areMergedPropsEqual:d};function G(K){const[Y,se,ce]=M.useMemo(()=>{const{reactReduxForwardedRef:Tt}=K,rt=os(K,GF);return[K.context,Tt,rt]},[K]),de=M.useMemo(()=>Y&&Y.Consumer&&IF.isContextConsumer(vt.createElement(Y.Consumer,null))?Y:g,[Y,g]),ie=M.useContext(de),ge=!!K.store&&!!K.store.getState&&!!K.store.dispatch,pe=!!ie&&!!ie.store,be=ge?K.store:ie.store,Ae=pe?ie.getServerState:be.getState,Le=M.useMemo(()=>LF(be.dispatch,q),[be]),[Se,ve]=M.useMemo(()=>{if(!k)return XF;const Tt=YE(be,ge?void 0:ie.subscription),rt=Tt.notifyNestedSubs.bind(Tt);return[Tt,rt]},[be,ge,ie]),Re=M.useMemo(()=>ge?ie:ke({},ie,{subscription:Se}),[ge,ie,Se]),_e=M.useRef(),J=M.useRef(ce),ze=M.useRef(),st=M.useRef(!1);M.useRef(!1);const ee=M.useRef(!1),Ct=M.useRef();Bu(()=>(ee.current=!0,()=>{ee.current=!1}),[]);const tt=M.useMemo(()=>()=>ze.current&&ce===J.current?ze.current:Le(be.getState(),ce),[be,ce]),at=M.useMemo(()=>Tt=>Se?ZF(k,be,Se,Le,J,_e,st,ee,ze,ve,Tt):()=>{},[Se]);YF(KF,[J,_e,st,ce,ze,ve]);let yt;try{yt=KE(at,tt,Ae?()=>Le(Ae(),ce):tt)}catch(Tt){throw Ct.current&&(Tt.message+=`
The error may be correlated with this previous error:
${Ct.current.stack}

`),Tt}Bu(()=>{Ct.current=void 0,ze.current=void 0,_e.current=yt});const Ot=M.useMemo(()=>vt.createElement(P,ke({},yt,{ref:se})),[se,P,yt]);return M.useMemo(()=>k?vt.createElement(de.Provider,{value:Re},Ot):Ot,[de,Ot,Re])}const ne=vt.memo(G);if(ne.WrappedComponent=P,ne.displayName=G.displayName=D,p){const K=vt.forwardRef(function(Y,se){return vt.createElement(ne,ke({},Y,{reactReduxForwardedRef:se}))});return K.displayName=D,K.WrappedComponent=P,_l(K,P)}return _l(ne,P)}}function $F({store:e,context:n,children:t,serverState:i}){const r=M.useMemo(()=>{const d=YE(e);return{store:e,subscription:d,getServerState:i?()=>i:void 0}},[e,i]),l=M.useMemo(()=>e.getState(),[e]);Bu(()=>{const{subscription:d}=r;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==e.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[r,l]);const h=n||GE;return vt.createElement(h.Provider,{value:r},t)}qF(UE.useSyncExternalStore);RF(dr.unstable_batchedUpdates);/**
 * @remix-run/router v1.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rl(){return Rl=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Rl.apply(this,arguments)}var so;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(so||(so={}));const D0="popstate";function QF(e){e===void 0&&(e={});function n(r,l){let{pathname:h="/",search:d="",hash:p=""}=ls(r.location.hash.substr(1));return pm("",{pathname:h,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(r,l){let h=r.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let p=r.location.href,f=p.indexOf("#");d=f===-1?p:p.slice(0,f)}return d+"#"+(typeof l=="string"?l:ZE(l))}function i(r,l){od(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return tj(n,t,i,e)}function Yn(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function od(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function ej(){return Math.random().toString(36).substr(2,8)}function A0(e,n){return{usr:e.state,key:e.key,idx:n}}function pm(e,n,t,i){return t===void 0&&(t=null),Rl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?ls(n):n,{state:t,key:n&&n.key||i||ej()})}function ZE(e){let{pathname:n="/",search:t="",hash:i=""}=e;return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function ls(e){let n={};if(e){let t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));let i=e.indexOf("?");i>=0&&(n.search=e.substr(i),e=e.substr(0,i)),e&&(n.pathname=e)}return n}function tj(e,n,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:l=!1}=i,h=r.history,d=so.Pop,p=null,f=g();f==null&&(f=0,h.replaceState(Rl({},h.state,{idx:f}),""));function g(){return(h.state||{idx:null}).idx}function y(){d=so.Pop;let _=g(),D=_==null?null:_-f;f=_,p&&p({action:d,location:P.location,delta:D})}function S(_,D){d=so.Push;let q=pm(P.location,_,D);t&&t(q,_),f=g()+1;let G=A0(q,f),ne=P.createHref(q);try{h.pushState(G,"",ne)}catch{r.location.assign(ne)}l&&p&&p({action:d,location:P.location,delta:1})}function T(_,D){d=so.Replace;let q=pm(P.location,_,D);t&&t(q,_),f=g();let G=A0(q,f),ne=P.createHref(q);h.replaceState(G,"",ne),l&&p&&p({action:d,location:P.location,delta:0})}function k(_){let D=r.location.origin!=="null"?r.location.origin:r.location.href,q=typeof _=="string"?_:ZE(_);return Yn(D,"No window.location.(origin|href) available to create URL for href: "+q),new URL(q,D)}let P={get action(){return d},get location(){return e(r,h)},listen(_){if(p)throw new Error("A history only accepts one active listener");return r.addEventListener(D0,y),p=_,()=>{r.removeEventListener(D0,y),p=null}},createHref(_){return n(r,_)},createURL:k,encodeLocation(_){let D=k(_);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:S,replace:T,go(_){return h.go(_)}};return P}var I0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(I0||(I0={}));function nj(e,n,t){t===void 0&&(t="/");let i=typeof n=="string"?ls(n):n,r=QE(i.pathname||"/",t);if(r==null)return null;let l=JE(e);ij(l);let h=null;for(let d=0;h==null&&d<l.length;++d)h=hj(l[d],mj(r));return h}function JE(e,n,t,i){n===void 0&&(n=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(l,h,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(Yn(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let f=Zo([i,p.relativePath]),g=t.concat(p);l.children&&l.children.length>0&&(Yn(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),JE(l.children,n,g,f)),!(l.path==null&&!l.index)&&n.push({path:f,score:uj(f,l.index),routesMeta:g})};return e.forEach((l,h)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))r(l,h);else for(let p of $E(l.path))r(l,h,p)}),n}function $E(e){let n=e.split("/");if(n.length===0)return[];let[t,...i]=n,r=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return r?[l,""]:[l];let h=$E(i.join("/")),d=[];return d.push(...h.map(p=>p===""?l:[l,p].join("/"))),r&&d.push(...h),d.map(p=>e.startsWith("/")&&p===""?"/":p)}function ij(e){e.sort((n,t)=>n.score!==t.score?t.score-n.score:dj(n.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const rj=/^:\w+$/,oj=3,sj=2,aj=1,lj=10,cj=-2,M0=e=>e==="*";function uj(e,n){let t=e.split("/"),i=t.length;return t.some(M0)&&(i+=cj),n&&(i+=sj),t.filter(r=>!M0(r)).reduce((r,l)=>r+(rj.test(l)?oj:l===""?aj:lj),i)}function dj(e,n){return e.length===n.length&&e.slice(0,-1).every((t,i)=>t===n[i])?e[e.length-1]-n[n.length-1]:0}function hj(e,n){let{routesMeta:t}=e,i={},r="/",l=[];for(let h=0;h<t.length;++h){let d=t[h],p=h===t.length-1,f=r==="/"?n:n.slice(r.length)||"/",g=pj({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},f);if(!g)return null;Object.assign(i,g.params);let y=d.route;l.push({params:i,pathname:Zo([r,g.pathname]),pathnameBase:bj(Zo([r,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(r=Zo([r,g.pathnameBase]))}return l}function pj(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,i]=fj(e.path,e.caseSensitive,e.end),r=n.match(t);if(!r)return null;let l=r[0],h=l.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:i.reduce((p,f,g)=>{if(f==="*"){let y=d[g]||"";h=l.slice(0,l.length-y.length).replace(/(.)\/+$/,"$1")}return p[f]=gj(d[g]||"",f),p},{}),pathname:l,pathnameBase:h,pattern:e}}function fj(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!0),od(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(l,h)=>(i.push(h),"/([^\\/]+)"));return e.endsWith("*")?(i.push("*"),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,n?void 0:"i"),i]}function mj(e){try{return decodeURI(e)}catch(n){return od(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function gj(e,n){try{return decodeURIComponent(e)}catch(t){return od(!1,'The value for the URL param "'+n+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),e}}function QE(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,i=e.charAt(t);return i&&i!=="/"?null:e.slice(t)||"/"}function vj(e,n){n===void 0&&(n="/");let{pathname:t,search:i="",hash:r=""}=typeof e=="string"?ls(e):e;return{pathname:t?t.startsWith("/")?t:yj(t,n):n,search:wj(i),hash:xj(r)}}function yj(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function mf(e,n,t,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eT(e){return e.filter((n,t)=>t===0||n.route.path&&n.route.path.length>0)}function tT(e,n,t,i){i===void 0&&(i=!1);let r;typeof e=="string"?r=ls(e):(r=Rl({},e),Yn(!r.pathname||!r.pathname.includes("?"),mf("?","pathname","search",r)),Yn(!r.pathname||!r.pathname.includes("#"),mf("#","pathname","hash",r)),Yn(!r.search||!r.search.includes("#"),mf("#","search","hash",r)));let l=e===""||r.pathname==="",h=l?"/":r.pathname,d;if(i||h==null)d=t;else{let y=n.length-1;if(h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),y-=1;r.pathname=S.join("/")}d=y>=0?n[y]:"/"}let p=vj(r,d),f=h&&h!=="/"&&h.endsWith("/"),g=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(f||g)&&(p.pathname+="/"),p}const Zo=e=>e.join("/").replace(/\/\/+/g,"/"),bj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Sj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nT=["post","put","patch","delete"];new Set(nT);const Ej=["get",...nT];new Set(Ej);/**
 * React Router v6.11.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Vu.apply(this,arguments)}const iT=M.createContext(null),Tj=M.createContext(null),sd=M.createContext(null),ad=M.createContext(null),mo=M.createContext({outlet:null,matches:[],isDataRoute:!1}),rT=M.createContext(null);function Ml(){return M.useContext(ad)!=null}function Hr(){return Ml()||Yn(!1),M.useContext(ad).location}function oT(e){M.useContext(sd).static||M.useLayoutEffect(e)}function ga(){let{isDataRoute:e}=M.useContext(mo);return e?jj():Cj()}function Cj(){Ml()||Yn(!1);let{basename:e,navigator:n}=M.useContext(sd),{matches:t}=M.useContext(mo),{pathname:i}=Hr(),r=JSON.stringify(eT(t).map(h=>h.pathnameBase)),l=M.useRef(!1);return oT(()=>{l.current=!0}),M.useCallback(function(h,d){if(d===void 0&&(d={}),!l.current)return;if(typeof h=="number"){n.go(h);return}let p=tT(h,JSON.parse(r),i,d.relative==="path");e!=="/"&&(p.pathname=p.pathname==="/"?e:Zo([e,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[e,n,r,i])}function kj(){let{matches:e}=M.useContext(mo),n=e[e.length-1];return n?n.params:{}}function Pj(e,n){return _j(e,n)}function _j(e,n,t){Ml()||Yn(!1);let{navigator:i}=M.useContext(sd),{matches:r}=M.useContext(mo),l=r[r.length-1],h=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let p=Hr(),f;if(n){var g;let P=typeof n=="string"?ls(n):n;d==="/"||(g=P.pathname)!=null&&g.startsWith(d)||Yn(!1),f=P}else f=p;let y=f.pathname||"/",S=d==="/"?y:y.slice(d.length)||"/",T=nj(e,{pathname:S}),k=Ij(T&&T.map(P=>Object.assign({},P,{params:Object.assign({},h,P.params),pathname:Zo([d,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?d:Zo([d,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),r,t);return n&&k?M.createElement(ad.Provider,{value:{location:Vu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:so.Pop}},k):k}function Rj(){let e=Fj(),n=Sj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},n),t?M.createElement("pre",{style:r},t):null,null)}const Oj=M.createElement(Rj,null);class Dj extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error||t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error?M.createElement(mo.Provider,{value:this.props.routeContext},M.createElement(rT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Aj(e){let{routeContext:n,match:t,children:i}=e,r=M.useContext(iT);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(mo.Provider,{value:n},i)}function Ij(e,n,t){var i;if(n===void 0&&(n=[]),t===void 0&&(t=null),e==null){var r;if((r=t)!=null&&r.errors)e=t.matches;else return null}let l=e,h=(i=t)==null?void 0:i.errors;if(h!=null){let d=l.findIndex(p=>p.route.id&&h?.[p.route.id]);d>=0||Yn(!1),l=l.slice(0,Math.min(l.length,d+1))}return l.reduceRight((d,p,f)=>{let g=p.route.id?h?.[p.route.id]:null,y=null;t&&(y=p.route.errorElement||Oj);let S=n.concat(l.slice(0,f+1)),T=()=>{let k;return g?k=y:p.route.Component?k=M.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=d,M.createElement(Aj,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:k})};return t&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?M.createElement(Dj,{location:t.location,revalidation:t.revalidation,component:y,error:g,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}var fm;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(fm||(fm={}));var Ol;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(Ol||(Ol={}));function Mj(e){let n=M.useContext(iT);return n||Yn(!1),n}function zj(e){let n=M.useContext(Tj);return n||Yn(!1),n}function Lj(e){let n=M.useContext(mo);return n||Yn(!1),n}function sT(e){let n=Lj(),t=n.matches[n.matches.length-1];return t.route.id||Yn(!1),t.route.id}function Fj(){var e;let n=M.useContext(rT),t=zj(Ol.UseRouteError),i=sT(Ol.UseRouteError);return n||((e=t.errors)==null?void 0:e[i])}function jj(){let{router:e}=Mj(fm.UseNavigateStable),n=sT(Ol.UseNavigateStable),t=M.useRef(!1);return oT(()=>{t.current=!0}),M.useCallback(function(i,r){r===void 0&&(r={}),t.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Vu({fromRouteId:n},r)))},[e,n])}function Nj(e){let{to:n,replace:t,state:i,relative:r}=e;Ml()||Yn(!1);let{matches:l}=M.useContext(mo),{pathname:h}=Hr(),d=ga(),p=tT(n,eT(l).map(g=>g.pathnameBase),h,r==="path"),f=JSON.stringify(p);return M.useEffect(()=>d(JSON.parse(f),{replace:t,state:i,relative:r}),[d,f,r,t,i]),null}function Bo(e){Yn(!1)}function Hj(e){let{basename:n="/",children:t=null,location:i,navigationType:r=so.Pop,navigator:l,static:h=!1}=e;Ml()&&Yn(!1);let d=n.replace(/^\/*/,"/"),p=M.useMemo(()=>({basename:d,navigator:l,static:h}),[d,l,h]);typeof i=="string"&&(i=ls(i));let{pathname:f="/",search:g="",hash:y="",state:S=null,key:T="default"}=i,k=M.useMemo(()=>{let P=QE(f,d);return P==null?null:{location:{pathname:P,search:g,hash:y,state:S,key:T},navigationType:r}},[d,f,g,y,S,T,r]);return k==null?null:M.createElement(sd.Provider,{value:p},M.createElement(ad.Provider,{children:t,value:k}))}function Bj(e){let{children:n,location:t}=e;return Pj(mm(n),t)}var z0;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(z0||(z0={}));new Promise(()=>{});function mm(e,n){n===void 0&&(n=[]);let t=[];return M.Children.forEach(e,(i,r)=>{if(!M.isValidElement(i))return;let l=[...n,r];if(i.type===M.Fragment){t.push.apply(t,mm(i.props.children,l));return}i.type!==Bo&&Yn(!1),!i.props.index||!i.props.children||Yn(!1);let h={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=mm(i.props.children,l)),t.push(h)}),t}function es(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((n,t)=>{let i=e[t];return n.concat(Array.isArray(i)?i.map(r=>[t,r]):[[t,i]])},[]))}function Vj(e,n){let t=es(e);if(n)for(let i of n.keys())t.has(i)||n.getAll(i).forEach(r=>{t.append(i,r)});return t}function aT(e){let{basename:n,children:t,window:i}=e,r=M.useRef();r.current==null&&(r.current=QF({window:i,v5Compat:!0}));let l=r.current,[h,d]=M.useState({action:l.action,location:l.location});return M.useLayoutEffect(()=>l.listen(d),[l]),M.createElement(Hj,{basename:n,children:t,location:h.location,navigationType:h.action,navigator:l})}var L0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(L0||(L0={}));var F0;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(F0||(F0={}));function og(e){let n=M.useRef(es(e)),t=M.useRef(!1),i=Hr(),r=M.useMemo(()=>Vj(i.search,t.current?null:n.current),[i.search]),l=ga(),h=M.useCallback((d,p)=>{const f=es(typeof d=="function"?d(r):d);t.current=!0,l("?"+f,p)},[l,r]);return[r,h]}const va=M.createContext({tagsLeft:[],tagsRight:[],toggleTag:()=>null,clearTags:()=>null});function sl(e){return e&&e!=="null"?e.split(","):[]}function lT(e){const[n]=og(),t=Hr(),i=ga(),[r,l]=M.useState(sl(n.get("tagsLeft"))),[h,d]=M.useState(sl(n.get("tagsRight"))),p=n.get("tagsLeft"),f=n.get("tagsRight");M.useEffect(()=>{const y=sl(p);l(y)},[p]),M.useEffect(()=>{const y=sl(f);d(y)},[f]);const g=M.useMemo(()=>({tagsLeft:r,tagsRight:h,toggleTag:(y,S)=>{const T=S==="right"?h:r,k=S==="right"?f:p,P=S==="right"?d:l;if(T.includes(y)){const _=sl(k).filter(D=>D!==y);n.set(`tags${S==="right"?"Right":"Left"}`,_.join(",")),P(_),i(`${t.pathname}?${es(n.toString())}`)}else n.set(`tags${S==="right"?"Right":"Left"}`,`${k},${y}`),P([...T,y]),i(`${t.pathname}?${es(n.toString())}`)},clearTags:()=>{d([]),l([])}}),[t.pathname,i,n,p,f,r,h]);return L.jsx(va.Provider,{value:g,children:e.children})}function j0(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,i)}return t}function N0(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?j0(Object(t),!0).forEach(function(i){Yo(e,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j0(Object(t)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})}return e}function vi(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var H0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),gf=function(){return Math.random().toString(36).substring(7).split("").join(".")},Uu={INIT:"@@redux/INIT"+gf(),REPLACE:"@@redux/REPLACE"+gf(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+gf()}};function Uj(e){if(typeof e!="object"||e===null)return!1;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function cT(e,n,t){var i;if(typeof n=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(vi(0));if(typeof n=="function"&&typeof t>"u"&&(t=n,n=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(vi(1));return t(cT)(e,n)}if(typeof e!="function")throw new Error(vi(2));var r=e,l=n,h=[],d=h,p=!1;function f(){d===h&&(d=h.slice())}function g(){if(p)throw new Error(vi(3));return l}function y(P){if(typeof P!="function")throw new Error(vi(4));if(p)throw new Error(vi(5));var _=!0;return f(),d.push(P),function(){if(_){if(p)throw new Error(vi(6));_=!1,f();var D=d.indexOf(P);d.splice(D,1),h=null}}}function S(P){if(!Uj(P))throw new Error(vi(7));if(typeof P.type>"u")throw new Error(vi(8));if(p)throw new Error(vi(9));try{p=!0,l=r(l,P)}finally{p=!1}for(var _=h=d,D=0;D<_.length;D++){var q=_[D];q()}return P}function T(P){if(typeof P!="function")throw new Error(vi(10));r=P,S({type:Uu.REPLACE})}function k(){var P,_=y;return P={subscribe:function(D){if(typeof D!="object"||D===null)throw new Error(vi(11));function q(){D.next&&D.next(g())}q();var G=_(q);return{unsubscribe:G}}},P[H0]=function(){return this},P}return S({type:Uu.INIT}),i={dispatch:S,subscribe:y,getState:g,replaceReducer:T},i[H0]=k,i}function Wj(e){Object.keys(e).forEach(function(n){var t=e[n],i=t(void 0,{type:Uu.INIT});if(typeof i>"u")throw new Error(vi(12));if(typeof t(void 0,{type:Uu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(vi(13))})}function Gj(e){for(var n=Object.keys(e),t={},i=0;i<n.length;i++){var r=n[i];typeof e[r]=="function"&&(t[r]=e[r])}var l=Object.keys(t),h;try{Wj(t)}catch(d){h=d}return function(d,p){if(d===void 0&&(d={}),h)throw h;for(var f=!1,g={},y=0;y<l.length;y++){var S=l[y],T=t[S],k=d[S],P=T(k,p);if(typeof P>"u")throw p&&p.type,new Error(vi(14));g[S]=P,f=f||P!==k}return f=f||l.length!==Object.keys(d).length,f?g:d}}function uT(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.length===0?function(i){return i}:n.length===1?n[0]:n.reduce(function(i,r){return function(){return i(r.apply(void 0,arguments))}})}function qj(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(i){return function(){var r=i.apply(void 0,arguments),l=function(){throw new Error(vi(15))},h={getState:r.getState,dispatch:function(){return l.apply(void 0,arguments)}},d=n.map(function(p){return p(h)});return l=uT.apply(void 0,d)(r.dispatch),N0(N0({},r),{},{dispatch:l})}}}var hr=function(e){return"@@redux-saga/"+e},Xj=hr("CANCEL_PROMISE"),dT=hr("CHANNEL_END"),hT=hr("IO"),B0=hr("MATCH"),pT=hr("MULTICAST"),fT=hr("SAGA_ACTION"),Yj=hr("SELF_CANCELLATION"),Kj=hr("TASK"),ra=hr("TASK_CANCEL"),mT=hr("TERMINATE"),Zj=hr("LOCATION"),gT=function(e){return e==null},Iu=function(e){return e!=null},Mi=function(e){return typeof e=="function"},sg=function(e){return typeof e=="string"},go=Array.isArray,ld=function(e){return e&&Mi(e.then)},ag=function(e){return e&&Mi(e.next)&&Mi(e.throw)},V0=function e(n){return n&&(sg(n)||yT(n)||Mi(n)||go(n)&&n.every(e))},lg=function(e){return e&&Mi(e.take)&&Mi(e.close)},vT=function(e){return Mi(e)&&e.hasOwnProperty("toString")},yT=function(e){return!!e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype},Jj=function(e){return lg(e)&&e[pT]},$j=function(e){return function(){return e}},Qj=$j(!0),Ei=function(){},bT=function(e){return e},cg=function(e,n){ke(e,n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach(function(t){e[t]=n[t]})},eN=function(e,n){var t;return(t=[]).concat.apply(t,n.map(e))};function cd(e,n){var t=e.indexOf(n);t>=0&&e.splice(t,1)}function tN(e){var n=!1;return function(){n||(n=!0,e())}}var nN=function(e){throw e},iN=function(e){return{value:e,done:!0}};function gm(e,n,t){n===void 0&&(n=nN),t===void 0&&(t="iterator");var i={meta:{name:t},next:e,throw:n,return:iN,isSagaIterator:!0};return typeof Symbol<"u"&&(i[Symbol.iterator]=function(){return i}),i}function rN(e,n){var t=n.sagaStack;console.error(e),console.error(t)}var wT=function(e){return Array.apply(null,new Array(e))},oN=function(e){return function(n){return e(Object.defineProperty(n,fT,{value:!0}))}},xT=function(e){return e===mT},ST=function(e){return e===ra},ET=function(e){return xT(e)||ST(e)};function TT(e,n){var t=Object.keys(e),i=t.length,r=0,l,h=go(e)?wT(i):{},d={};function p(){r===i&&(l=!0,n(h))}return t.forEach(function(f){var g=function(y,S){l||(S||ET(y)?(n.cancel(),n(y,S)):(h[f]=y,r++,p()))};g.cancel=Ei,d[f]=g}),n.cancel=function(){l||(l=!0,t.forEach(function(f){return d[f].cancel()}))},d}function ug(e){return{name:e.name||"anonymous",location:CT(e)}}function CT(e){return e[Zj]}var sN="Channel's Buffer overflow!",aN=1,lN=3,kT=4;function cN(e,n){e===void 0&&(e=10);var t=new Array(e),i=0,r=0,l=0,h=function(f){t[r]=f,r=(r+1)%e,i++},d=function(){if(i!=0){var f=t[l];return t[l]=null,i--,l=(l+1)%e,f}},p=function(){for(var f=[];i;)f.push(d());return f};return{isEmpty:function(){return i==0},put:function(f){if(i<e)h(f);else{var g;switch(n){case aN:throw new Error(sN);case lN:t[r]=f,r=(r+1)%e,l=r;break;case kT:g=2*e,t=p(),i=t.length,r=t.length,l=0,t.length=g,e=g,h(f);break}}},take:d,flush:p}}var uN=function(e){return cN(e,kT)},Mu="TAKE",PT="PUT",_T="ALL",dN="RACE",hN="CALL",pN="CPS",RT="FORK",fN="JOIN",mN="CANCEL",OT="SELECT",gN="ACTION_CHANNEL",vN="CANCELLED",yN="FLUSH",bN="GET_CONTEXT",wN="SET_CONTEXT",Jo=function(e,n){var t;return t={},t[hT]=!0,t.combinator=!1,t.type=e,t.payload=n,t};function xN(e,n){if(e===void 0&&(e="*"),V0(e))return Iu(n)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),Jo(Mu,{pattern:e});if(Jj(e)&&Iu(n)&&V0(n))return Jo(Mu,{channel:e,pattern:n});if(lg(e))return Iu(n)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),Jo(Mu,{channel:e})}function SN(e,n){return gT(n)&&(n=e,e=void 0),Jo(PT,{channel:e,action:n})}function EN(e){var n=Jo(_T,e);return n.combinator=!0,n}function TN(e,n){var t=null,i;return Mi(e)?i=e:(go(e)?(t=e[0],i=e[1]):(t=e.context,i=e.fn),t&&sg(i)&&Mi(t[i])&&(i=t[i])),{context:t,fn:i,args:n}}function DT(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];return Jo(RT,TN(e,t))}function zl(e){e===void 0&&(e=bT);for(var n=arguments.length,t=new Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];return Jo(OT,{selector:e,args:t})}function CN(){var e={};return e.promise=new Promise(function(n,t){e.resolve=n,e.reject=t}),e}var AT=[],ud=0;function kN(e){try{dg(),e()}finally{zT()}}function IT(e){AT.push(e),ud||(dg(),LT())}function MT(e){try{return dg(),e()}finally{LT()}}function dg(){ud++}function zT(){ud--}function LT(){zT();for(var e;!ud&&(e=AT.shift())!==void 0;)kN(e)}var PN=function(e){return function(n){return e.some(function(t){return hg(t)(n)})}},_N=function(e){return function(n){return e(n)}},U0=function(e){return function(n){return n.type===String(e)}},RN=function(e){return function(n){return n.type===e}},FT=function(){return Qj};function hg(e){var n=e==="*"?FT:sg(e)?U0:go(e)?PN:vT(e)?U0:Mi(e)?_N:yT(e)?RN:null;if(n===null)throw new Error("invalid pattern: "+e);return n(e)}var bl={type:dT},pg=function(e){return e&&e.type===dT};function ON(e){e===void 0&&(e=uN());var n=!1,t=[];function i(d){if(!n){if(t.length===0)return e.put(d);var p=t.shift();p(d)}}function r(d){n&&e.isEmpty()?d(bl):e.isEmpty()?(t.push(d),d.cancel=function(){cd(t,d)}):d(e.take())}function l(d){if(n&&e.isEmpty()){d(bl);return}d(e.flush())}function h(){if(!n){n=!0;var d=t;t=[];for(var p=0,f=d.length;p<f;p++){var g=d[p];g(bl)}}}return{take:r,put:i,flush:l,close:h}}function DN(){var e,n=!1,t=[],i=t,r=function(){i===t&&(i=t.slice())},l=function(){n=!0;var h=t=i;i=[],h.forEach(function(d){d(bl)})};return e={},e[pT]=!0,e.put=function(h){if(!n){if(pg(h)){l();return}for(var d=t=i,p=0,f=d.length;p<f;p++){var g=d[p];g[B0](h)&&(g.cancel(),g(h))}}},e.take=function(h,d){if(d===void 0&&(d=FT),n){h(bl);return}h[B0]=d,r(),i.push(h),h.cancel=tN(function(){r(),cd(i,h)})},e.close=l,e}function jT(){var e=DN(),n=e.put;return e.put=function(t){if(t[fT]){n(t);return}IT(function(){n(t)})},e}var Go=0,jr=1,zu=2,NT=3;function fg(e,n){var t=e[Xj];Mi(t)&&(n.cancel=t),e.then(n,function(i){n(i,!0)})}var Ll=0,HT=function(){return++Ll},hi;function AN(e,n){return e.isSagaIterator?{name:e.meta.name}:ug(n)}function IN(e){var n=e.context,t=e.fn,i=e.args;try{var r=t.apply(n,i);if(ag(r))return r;var l=!1,h=function(d){return l?{value:d,done:!0}:(l=!0,{value:r,done:!ld(r)})};return gm(h)}catch(d){return gm(function(){throw d})}}function MN(e,n,t){var i=n.channel,r=n.action,l=n.resolve;IT(function(){var h;try{h=(i?i.put:e.dispatch)(r)}catch(d){t(d,!0);return}l&&ld(h)?fg(h,t):t(h)})}function zN(e,n,t){var i=n.channel,r=i===void 0?e.channel:i,l=n.pattern,h=n.maybe,d=function(p){if(p instanceof Error){t(p,!0);return}if(pg(p)&&!h){t(mT);return}t(p)};try{r.take(d,Iu(l)?hg(l):null)}catch(p){t(p,!0);return}t.cancel=d.cancel}function LN(e,n,t,i){var r=n.context,l=n.fn,h=n.args,d=i.task;try{var p=l.apply(r,h);if(ld(p)){fg(p,t);return}if(ag(p)){dd(e,p,d.context,Ll,ug(l),!1,t);return}t(p)}catch(f){t(f,!0)}}function FN(e,n,t){var i=n.context,r=n.fn,l=n.args;try{var h=function(d,p){gT(d)?t(p):t(d,!0)};r.apply(i,l.concat(h)),h.cancel&&(t.cancel=h.cancel)}catch(d){t(d,!0)}}function jN(e,n,t,i){var r=n.context,l=n.fn,h=n.args,d=n.detached,p=i.task,f=IN({context:r,fn:l,args:h}),g=AN(f,l);MT(function(){var y=dd(e,f,p.context,Ll,g,d,void 0);d?t(y):y.isRunning()?(p.queue.addTask(y),t(y)):y.isAborted()?p.queue.abort(y.error()):t(y)})}function NN(e,n,t,i){var r=i.task,l=function(d,p){if(d.isRunning()){var f={task:r,cb:p};p.cancel=function(){d.isRunning()&&cd(d.joiners,f)},d.joiners.push(f)}else d.isAborted()?p(d.error(),!0):p(d.result())};if(go(n)){if(n.length===0){t([]);return}var h=TT(n,t);n.forEach(function(d,p){l(d,h[p])})}else l(n,t)}function vf(e){e.isRunning()&&e.cancel()}function HN(e,n,t,i){var r=i.task;n===Yj?vf(r):go(n)?n.forEach(vf):vf(n),t()}function BN(e,n,t,i){var r=i.digestEffect,l=Ll,h=Object.keys(n);if(h.length===0){t(go(n)?[]:{});return}var d=TT(n,t);h.forEach(function(p){r(n[p],l,d[p],p)})}function VN(e,n,t,i){var r=i.digestEffect,l=Ll,h=Object.keys(n),d=go(n)?wT(h.length):{},p={},f=!1;h.forEach(function(g){var y=function(S,T){f||(T||ET(S)?(t.cancel(),t(S,T)):(t.cancel(),f=!0,d[g]=S,t(d)))};y.cancel=Ei,p[g]=y}),t.cancel=function(){f||(f=!0,h.forEach(function(g){return p[g].cancel()}))},h.forEach(function(g){f||r(n[g],l,p[g],g)})}function UN(e,n,t){var i=n.selector,r=n.args;try{var l=i.apply(void 0,[e.getState()].concat(r));t(l)}catch(h){t(h,!0)}}function WN(e,n,t){var i=n.pattern,r=n.buffer,l=ON(r),h=hg(i),d=function f(g){pg(g)||e.channel.take(f,h),l.put(g)},p=l.close;l.close=function(){d.cancel(),p()},e.channel.take(d,h),t(l)}function GN(e,n,t,i){var r=i.task;t(r.isCancelled())}function qN(e,n,t){n.flush(t)}function XN(e,n,t,i){var r=i.task;t(r.context[n])}function YN(e,n,t,i){var r=i.task;cg(r.context,n),t()}var KN=(hi={},hi[Mu]=zN,hi[PT]=MN,hi[_T]=BN,hi[dN]=VN,hi[hN]=LN,hi[pN]=FN,hi[RT]=jN,hi[fN]=NN,hi[mN]=HN,hi[OT]=UN,hi[gN]=WN,hi[vN]=GN,hi[yN]=qN,hi[bN]=XN,hi[wN]=YN,hi);function ZN(e,n,t){var i=[],r,l=!1;p(e);var h=function(){return i};function d(g){n(),f(),t(g,!0)}function p(g){i.push(g),g.cont=function(y,S){l||(cd(i,g),g.cont=Ei,S?d(y):(g===e&&(r=y),i.length||(l=!0,t(r))))}}function f(){l||(l=!0,i.forEach(function(g){g.cont=Ei,g.cancel()}),i=[])}return{addTask:p,cancelAll:f,abort:d,getTasks:h}}function BT(e,n){return e+"?"+n}function JN(e){var n=CT(e);if(n){var t=n.code,i=n.fileName,r=n.lineNumber,l=t+"  "+BT(i,r);return l}return""}function W0(e){var n=e.name,t=e.location;return t?n+"  "+BT(t.fileName,t.lineNumber):n}function $N(e){var n=eN(function(t){return t.cancelledTasks},e);return n.length?["Tasks cancelled due to error:"].concat(n).join(`
`):""}var mg=null,wl=[],QN=function(e){e.crashedEffect=mg,wl.push(e)},VT=function(){mg=null,wl.length=0},e8=function(e){mg=e},t8=function(){var e=wl[0],n=wl.slice(1),t=e.crashedEffect?JN(e.crashedEffect):null,i="The above error occurred in task "+W0(e.meta)+(t?` 
 when executing effect `+t:"");return[i].concat(n.map(function(r){return"    created by "+W0(r.meta)}),[$N(wl)]).join(`
`)};function n8(e,n,t,i,r,l,h){var d;h===void 0&&(h=Ei);var p=Go,f,g,y=null,S=[],T=Object.create(t),k=ZN(n,function(){S.push.apply(S,k.getTasks().map(function(ne){return ne.meta.name}))},_);function P(){p===Go&&(p=jr,k.cancelAll(),_(ra,!1))}function _(ne,K){if(!K)ne===ra?p=jr:p!==jr&&(p=NT),f=ne,y&&y.resolve(ne);else{if(p=zu,QN({meta:r,cancelledTasks:S}),G.isRoot){var Y=t8();VT(),e.onError(ne,{sagaStack:Y})}g=ne,y&&y.reject(ne)}G.cont(ne,K),G.joiners.forEach(function(se){se.cb(ne,K)}),G.joiners=null}function D(ne){cg(T,ne)}function q(){return y||(y=CN(),p===zu?y.reject(g):p!==Go&&y.resolve(f)),y.promise}var G=(d={},d[Kj]=!0,d.id=i,d.meta=r,d.isRoot=l,d.context=T,d.joiners=[],d.queue=k,d.cancel=P,d.cont=h,d.end=_,d.setContext=D,d.toPromise=q,d.isRunning=function(){return p===Go},d.isCancelled=function(){return p===jr||p===Go&&n.status===jr},d.isAborted=function(){return p===zu},d.result=function(){return f},d.error=function(){return g},d);return G}function dd(e,n,t,i,r,l,h){var d=e.finalizeRunEffect(T);S.cancel=Ei;var p={meta:r,cancel:y,status:Go},f=n8(e,p,t,i,r,l,h),g={task:f,digestEffect:k};function y(){p.status===Go&&(p.status=jr,S(ra))}return h&&(h.cancel=f.cancel),S(),f;function S(P,_){try{var D;_?(D=n.throw(P),VT()):ST(P)?(p.status=jr,S.cancel(),D=Mi(n.return)?n.return(ra):{done:!0,value:ra}):xT(P)?D=Mi(n.return)?n.return():{done:!0}:D=n.next(P),D.done?(p.status!==jr&&(p.status=NT),p.cont(D.value)):k(D.value,i,S)}catch(q){if(p.status===jr)throw q;p.status=zu,p.cont(q,!0)}}function T(P,_,D){if(ld(P))fg(P,D);else if(ag(P))dd(e,P,f.context,_,r,!1,D);else if(P&&P[hT]){var q=KN[P.type];q(e,P.payload,D,g)}else D(P)}function k(P,_,D,q){q===void 0&&(q="");var G=HT();e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:G,parentEffectId:_,label:q,effect:P});var ne;function K(Y,se){ne||(ne=!0,D.cancel=Ei,e.sagaMonitor&&(se?e.sagaMonitor.effectRejected(G,Y):e.sagaMonitor.effectResolved(G,Y)),se&&e8(P),D(Y,se))}K.cancel=Ei,D.cancel=function(){ne||(ne=!0,K.cancel(),K.cancel=Ei,e.sagaMonitor&&e.sagaMonitor.effectCancelled(G))},d(P,G,K)}}function i8(e,n){for(var t=e.channel,i=t===void 0?jT():t,r=e.dispatch,l=e.getState,h=e.context,d=h===void 0?{}:h,p=e.sagaMonitor,f=e.effectMiddlewares,g=e.onError,y=g===void 0?rN:g,S=arguments.length,T=new Array(S>2?S-2:0),k=2;k<S;k++)T[k-2]=arguments[k];var P=n.apply(void 0,T),_=HT();p&&(p.rootSagaStarted=p.rootSagaStarted||Ei,p.effectTriggered=p.effectTriggered||Ei,p.effectResolved=p.effectResolved||Ei,p.effectRejected=p.effectRejected||Ei,p.effectCancelled=p.effectCancelled||Ei,p.actionDispatched=p.actionDispatched||Ei,p.rootSagaStarted({effectId:_,saga:n,args:T}));var D;if(f){var q=uT.apply(void 0,f);D=function(ne){return function(K,Y,se){var ce=function(de){return ne(de,Y,se)};return q(ce)(K)}}}else D=bT;var G={channel:i,dispatch:oN(r),getState:l,sagaMonitor:p,onError:y,finalizeRunEffect:D};return MT(function(){var ne=dd(G,P,d,_,ug(n),!0,void 0);return p&&p.effectResolved(_,ne),ne})}function r8(e){var n={},t=n.context,i=t===void 0?{}:t,r=n.channel,l=r===void 0?jT():r,h=n.sagaMonitor,d=os(n,["context","channel","sagaMonitor"]),p;function f(g){var y=g.getState,S=g.dispatch;return p=i8.bind(null,ke({},d,{context:i,channel:l,dispatch:S,getState:y,sagaMonitor:h})),function(T){return function(k){h&&h.actionDispatched&&h.actionDispatched(k);var P=T(k);return l.put(k),P}}}return f.run=function(){return p.apply(void 0,arguments)},f.setContext=function(g){cg(i,g)},f}var G0=function(e){return{done:!0,value:e}},yf={};function o8(e){return lg(e)?"channel":vT(e)?String(e):Mi(e)?e.name:String(e)}function s8(e,n,t){var i,r,l,h=n;function d(p,f){if(h===yf)return G0(p);if(f&&!r)throw h=yf,f;i&&i(p);var g=f?e[r](f):e[h]();return h=g.nextState,l=g.effect,i=g.stateUpdater,r=g.errorState,h===yf?G0(p):l}return gm(d,function(p){return d(null,p)},t)}function a8(e,n){for(var t=arguments.length,i=new Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];var l={done:!1,value:xN(e)},h=function(f){return{done:!1,value:DT.apply(void 0,[n].concat(i,[f]))}},d,p=function(f){return d=f};return s8({q1:function(){return{nextState:"q2",effect:l,stateUpdater:p}},q2:function(){return{nextState:"q1",effect:h(d)}}},"q1","takeEvery("+o8(e)+", "+n.name+")")}function l8(e,n){for(var t=arguments.length,i=new Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];return DT.apply(void 0,[a8,e,n].concat(i))}const UT={};UT.setFixedFrameMode=function(e,n){return{...e,fixedFrameMode:n}};const hd={},c8="https://github.com/cu-mkp/editioncrafter-project/text-partial-resource.md";hd.loadDocument=function(e,n){const t=m8(n,e.transcriptionTypes),{folioIndex:i,folioByName:r}=u8(t);return{...e,loaded:!0,folios:t,folioIndex:i,folioByName:r}};hd.loadTags=function(e,n){return{...e,tags:n}};hd.loadFolio=function(e,n){const t=e.folioIndex[n.id],i=e.folios.indexOf(t);return e.folios[i]=n,e.folioIndex[n.id]=n,e.folioByName[n.name]=n,{...e}};function u8(e){const n={},t={};for(let i=0;i<e.length;i++){const r=e[i];n[r.id]=r,t[r.name]=r}return{folioIndex:n,folioByName:t}}function yi(e){throw new Error(`IIIF manifest parser error: ${e}`)}function d8(e){console.warn(`IIIF manifest parser warning: ${e}`)}function h8(e){for(const n of e.items){n.type!=="AnnotationPage"&&yi(`Expected AnnotationPage in items property of ${e.id}`),n.items||yi(`Expected items property in AnnotationPage ${n.id}`);for(const t of n.items)if(t.type!=="Annotation"&&yi(`Expected Annotation in items property of ${n.id}`),t.motivation==="painting")return t.body||yi(`Expected body property in Annotation ${t.id}`),t.body.id?t.body.service?{bodyId:t.body.id,imageURL:`${t.body.id}/info.json`,imageType:"iiif"}:{bodyId:t.body.id,imageURL:t.body.id,imageType:"image"}:null}return yi(`Unable to find painting Annotation for canvas: ${e.id}`),null}function p8(e){return e.label?e.label.none[0]:(d8(`${e.id} does not have a label property.`),"")}function f8(e,n){const t={};if(e.annotations){for(const i of e.annotations)if(i.type==="AnnotationPage"){i.items||yi(`Expected items property in AnnotationPage ${i.id}`);for(const r of i.items)if(r.type!=="Annotation"&&yi(`Expected Annotation in items property of ${i.id}`),r.motivation==="supplementing"){r.body||yi(`Expected body property in Annotation ${r.id}`);const{body:l}=r;if(l.profile===c8&&l.type==="TextPartial"){l.id||yi(`Expected id property in TextPartial in ${r.id}`),l.format||yi(`Expected format property in TextPartial in ${r.id}`);const{id:h,format:d}=l,p=h.split("/");p.length<5&&yi(`TextPartial id property is in the wrong format: ${h}`);const f=p[p.length-2];n[f]&&(t[f]||(t[f]={}),d==="text/html"&&(t[f].htmlURL=h),d==="text/xml"&&(t[f].xmlURL=h))}}}}return t}const wu=130;function m8(e,n){if(e.type==="variorum"){let t=[];return Object.keys(e.documentData).forEach(i=>{t=t.concat(q0(e.documentData[i],n[i],i))}),t}return q0(e,n)}function q0(e,n,t){const i=[];(!e["@context"]||!e["@context"].includes("http://iiif.io/api/presentation/3/context.json"))&&yi("Expected root object to have a @context containing: http://iiif.io/api/presentation/3/context.json"),e.type!=="Manifest"&&yi("Expected root object of type 'Manifest'."),e.items||yi("Expected manifest to have an items property.");const r=e.items;for(let l=0;l<r.length;l++){const h=r[l];h.type!=="Canvas"&&yi(`Expected items[${l}] to be of type 'Canvas'.`),h.id||yi(`Expected items[${l}] to have an id property.`);const d=h8(h);if(d){const p=h.id.substr(h.id.lastIndexOf("/")+1),f=p8(h),{bodyId:g,imageURL:y,imageType:S}=d,T=f8(h,n),k=h.width/h.height;let P=[];k>1?P=[wu,Math.round(wu/k)]:P=[Math.round(wu*k),wu];const _=S==="iiif"?`${g}/full/${P.join(",")}/0/default.jpg`:y,D={id:t?`${t}_${p}`:p,doc_id:t||e.id,name:f,pageNumber:l,image_zoom_url:y,image_thumbnail_url:_,annotationURLs:T,annotations:h.annotations?h.annotations.filter(q=>q.motivation==="tagging"):[],metadata:h.metadata};i.push(D)}}return i}const WT={};WT.loadGlossary=function(e,n){return{...e,loaded:!0,glossary:n}};const g8={fixedFrameMode:!1};function X0(e){return`${e.replace("/iiif/manifest.json","")}/html/index.html`}function v8(e){if(typeof e=="string")return X0(e);const n={};return Object.entries(e).forEach(t=>{n[t[0]]=X0(t[1])}),n}function y8(e,n,t,i=!1,r=null,l=!1){return{documentName:n,derivativeNames:r,manifestURL:e,headerUrl:v8(e),transcriptionTypes:t,variorum:i,threePanel:l,folios:[],loaded:!1,folioIndex:{},folioByName:{},tags:null}}function b8(e){return{glossary:{},loaded:!1,URL:e}}function w8(e){return{notes:"",loaded:!1,URL:e}}const GT={};GT.loadNotes=function(e,n){return{...e,loaded:!0,notes:n}};function x8(e){const{documentName:n,documentInfo:t,glossaryURL:i,notesURL:r,threePanel:l=!1}=e,h=t&&Object.keys(t).length>1,d={},p={},f={};h&&Object.keys(e.documentInfo).forEach(k=>{d[k]=e.documentInfo[k].transcriptionTypes,p[k]=e.documentInfo[k].iiifManifest,f[k]=e.documentInfo[k].documentName});let g=e;t&&Object.keys(t).length===1&&(g=Object.values(t)[0]);const y=h?d:g.transcriptionTypes,S=h?p:g.iiifManifest,T=h&&f;return Gj({diplomatic:xu("DiplomaticActions",UT,g8),document:xu("DocumentActions",hd,y8(S,n,y,h,T,l)),glossary:xu("GlossaryActions",WT,b8(i)),notes:xu("NotesActions",GT,w8(r))})}var qT={exports:{}};(function(e){//! openseadragon 4.1.0
//! Built on 2023-05-25
//! Git commit: v4.1.0-0-8849681
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function n(t){return new n.Viewer(t)}(function(t){t.version={versionStr:"4.1.0",major:parseInt("4",10),minor:parseInt("1",10),revision:parseInt("0",10)};var i={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object AsyncFunction]":"function","[object Promise]":"promise","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},r=Object.prototype.toString,l=Object.prototype.hasOwnProperty;t.isFunction=function(h){return t.type(h)==="function"},t.isArray=Array.isArray||function(h){return t.type(h)==="array"},t.isWindow=function(h){return h&&typeof h=="object"&&"setInterval"in h},t.type=function(h){return h==null?String(h):i[r.call(h)]||"object"},t.isPlainObject=function(h){if(!h||n.type(h)!=="object"||h.nodeType||t.isWindow(h)||h.constructor&&!l.call(h,"constructor")&&!l.call(h.constructor.prototype,"isPrototypeOf"))return!1;var d;for(var p in h)d=p;return d===void 0||l.call(h,d)},t.isEmptyObject=function(h){for(var d in h)return!1;return!0},t.freezeObject=function(h){return Object.freeze?t.freezeObject=Object.freeze:t.freezeObject=function(d){return d},t.freezeObject(h)},t.supportsCanvas=function(){var h=document.createElement("canvas");return!!(t.isFunction(h.getContext)&&h.getContext("2d"))}(),t.isCanvasTainted=function(h){var d=!1;try{h.getContext("2d").getImageData(0,0,1,1)}catch{d=!0}return d},t.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),t.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),t.supportsEventListenerOptions=function(){var h=0;if(t.supportsAddEventListener)try{var d={get capture(){return h++,!1},get once(){return h++,!1},get passive(){return h++,!1}};window.addEventListener("test",null,d),window.removeEventListener("test",null,d)}catch{h=0}return h>=3}(),t.getCurrentPixelDensityRatio=function(){if(t.supportsCanvas){var h=document.createElement("canvas").getContext("2d"),d=window.devicePixelRatio||1,p=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1;return Math.max(d,1)/p}else return 1},t.pixelDensityRatio=t.getCurrentPixelDensityRatio()})(n),function(t){t.extend=function(){var p,f,g,y,S,T,k=arguments[0]||{},P=arguments.length,_=!1,D=1;for(typeof k=="boolean"&&(_=k,k=arguments[1]||{},D=2),typeof k!="object"&&!n.isFunction(k)&&(k={}),P===D&&(k=this,--D);D<P;D++)if(p=arguments[D],p!==null||p!==void 0)for(f in p){var q=Object.getOwnPropertyDescriptor(p,f);if(q!==void 0){if(q.get||q.set){Object.defineProperty(k,f,q);continue}y=q.value}else{t.console.warn('Could not copy inherited property "'+f+'".');continue}k!==y&&(_&&y&&(n.isPlainObject(y)||(S=n.isArray(y)))?(g=k[f],S?(S=!1,T=g&&n.isArray(g)?g:[]):T=g&&n.isPlainObject(g)?g:{},k[f]=n.extend(_,T,y)):y!==void 0&&(k[f]=y))}return k};var i=function(){if(typeof navigator!="object")return!1;var p=navigator.userAgent;return typeof p!="string"?!1:p.indexOf("iPhone")!==-1||p.indexOf("iPad")!==-1||p.indexOf("iPod")!==-1};t.extend(t,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:i(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,tileRetryMax:0,tileRetryDelay:2500,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},SIGNAL:"----seadragon----",delegate:function(p,f){return function(){var g=arguments;return g===void 0&&(g=[]),f.apply(p,g)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(p){return t._viewers.get(this.getElement(p))},getElement:function(p){return typeof p=="string"&&(p=document.getElementById(p)),p},getElementPosition:function(p){var f=new t.Point,g,y;for(p=t.getElement(p),g=t.getElementStyle(p).position==="fixed",y=d(p,g);y;)f.x+=p.offsetLeft,f.y+=p.offsetTop,g&&(f=f.plus(t.getPageScroll())),p=y,g=t.getElementStyle(p).position==="fixed",y=d(p,g);return f},getElementOffset:function(p){p=t.getElement(p);var f=p&&p.ownerDocument,g,y,S={top:0,left:0};return f?(g=f.documentElement,typeof p.getBoundingClientRect<"u"&&(S=p.getBoundingClientRect()),y=f===f.window?f:f.nodeType===9?f.defaultView||f.parentWindow:!1,new t.Point(S.left+(y.pageXOffset||g.scrollLeft)-(g.clientLeft||0),S.top+(y.pageYOffset||g.scrollTop)-(g.clientTop||0))):new t.Point},getElementSize:function(p){return p=t.getElement(p),new t.Point(p.clientWidth,p.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(p){return p=t.getElement(p),p.currentStyle}:function(p){return p=t.getElement(p),window.getComputedStyle(p,"")},getCssPropertyWithVendorPrefix:function(p){var f={};return t.getCssPropertyWithVendorPrefix=function(g){if(f[g]!==void 0)return f[g];var y=document.createElement("div").style,S=null;if(y[g]!==void 0)S=g;else for(var T=["Webkit","Moz","MS","O","webkit","moz","ms","o"],k=t.capitalizeFirstLetter(g),P=0;P<T.length;P++){var _=T[P]+k;if(y[_]!==void 0){S=_;break}}return f[g]=S,S},t.getCssPropertyWithVendorPrefix(p)},capitalizeFirstLetter:function(p){return p.charAt(0).toUpperCase()+p.slice(1)},positiveModulo:function(p,f){var g=p%f;return g<0&&(g+=f),g},pointInElement:function(p,f){p=t.getElement(p);var g=t.getElementOffset(p),y=t.getElementSize(p);return f.x>=g.x&&f.x<g.x+y.x&&f.y<g.y+y.y&&f.y>=g.y},getMousePosition:function(p){if(typeof p.pageX=="number")t.getMousePosition=function(f){var g=new t.Point;return g.x=f.pageX,g.y=f.pageY,g};else if(typeof p.clientX=="number")t.getMousePosition=function(f){var g=new t.Point;return g.x=f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,g.y=f.clientY+document.body.scrollTop+document.documentElement.scrollTop,g};else throw new Error("Unknown event mouse position, no known technique.");return t.getMousePosition(p)},getPageScroll:function(){var p=document.documentElement||{},f=document.body||{};if(typeof window.pageXOffset=="number")t.getPageScroll=function(){return new t.Point(window.pageXOffset,window.pageYOffset)};else if(f.scrollLeft||f.scrollTop)t.getPageScroll=function(){return new t.Point(document.body.scrollLeft,document.body.scrollTop)};else if(p.scrollLeft||p.scrollTop)t.getPageScroll=function(){return new t.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new t.Point(0,0);return t.getPageScroll()},setPageScroll:function(p){if(typeof window.scrollTo<"u")t.setPageScroll=function(y){window.scrollTo(y.x,y.y)};else{var f=t.getPageScroll();if(f.x===p.x&&f.y===p.y)return;document.body.scrollLeft=p.x,document.body.scrollTop=p.y;var g=t.getPageScroll();if(g.x!==f.x&&g.y!==f.y){t.setPageScroll=function(y){document.body.scrollLeft=y.x,document.body.scrollTop=y.y};return}if(document.documentElement.scrollLeft=p.x,document.documentElement.scrollTop=p.y,g=t.getPageScroll(),g.x!==f.x&&g.y!==f.y){t.setPageScroll=function(y){document.documentElement.scrollLeft=y.x,document.documentElement.scrollTop=y.y};return}t.setPageScroll=function(y){}}t.setPageScroll(p)},getWindowSize:function(){var p=document.documentElement||{},f=document.body||{};if(typeof window.innerWidth=="number")t.getWindowSize=function(){return new t.Point(window.innerWidth,window.innerHeight)};else if(p.clientWidth||p.clientHeight)t.getWindowSize=function(){return new t.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(f.clientWidth||f.clientHeight)t.getWindowSize=function(){return new t.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return t.getWindowSize()},makeCenteredNode:function(p){p=t.getElement(p);var f=[t.makeNeutralElement("div"),t.makeNeutralElement("div"),t.makeNeutralElement("div")];return t.extend(f[0].style,{display:"table",height:"100%",width:"100%"}),t.extend(f[1].style,{display:"table-row"}),t.extend(f[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),f[0].appendChild(f[1]),f[1].appendChild(f[2]),f[2].appendChild(p),f[0]},makeNeutralElement:function(p){var f=document.createElement(p),g=f.style;return g.background="transparent none",g.border="none",g.margin="0px",g.padding="0px",g.position="static",f},now:function(){return Date.now?t.now=Date.now:t.now=function(){return new Date().getTime()},t.now()},makeTransparentImage:function(p){var f=t.makeNeutralElement("img");return f.src=p,f},setElementOpacity:function(p,f,g){var y,S;p=t.getElement(p),g&&!t.Browser.alpha&&(f=Math.round(f)),t.Browser.opacity?p.style.opacity=f<1?f:"":f<1?(y=Math.round(100*f),S="alpha(opacity="+y+")",p.style.filter=S):p.style.filter=""},setElementTouchActionNone:function(p){p=t.getElement(p),typeof p.style.touchAction<"u"?p.style.touchAction="none":typeof p.style.msTouchAction<"u"&&(p.style.msTouchAction="none")},setElementPointerEvents:function(p,f){p=t.getElement(p),typeof p.style<"u"&&typeof p.style.pointerEvents<"u"&&(p.style.pointerEvents=f)},setElementPointerEventsNone:function(p){t.setElementPointerEvents(p,"none")},addClass:function(p,f){p=t.getElement(p),p.className?(" "+p.className+" ").indexOf(" "+f+" ")===-1&&(p.className+=" "+f):p.className=f},indexOf:function(p,f,g){return Array.prototype.indexOf?this.indexOf=function(y,S,T){return y.indexOf(S,T)}:this.indexOf=function(y,S,T){var k,P=T||0,_;if(!y)throw new TypeError;if(_=y.length,_===0||P>=_)return-1;for(P<0&&(P=_-Math.abs(P)),k=P;k<_;k++)if(y[k]===S)return k;return-1},this.indexOf(p,f,g)},removeClass:function(p,f){var g,y=[],S;for(p=t.getElement(p),g=p.className.split(/\s+/),S=0;S<g.length;S++)g[S]&&g[S]!==f&&y.push(g[S]);p.className=y.join(" ")},normalizeEventListenerOptions:function(p){var f;return typeof p<"u"?typeof p=="boolean"?f=t.supportsEventListenerOptions?{capture:p}:p:f=t.supportsEventListenerOptions?p:typeof p.capture<"u"?p.capture:!1:f=t.supportsEventListenerOptions?{capture:!1}:!1,f},addEvent:function(){if(t.supportsAddEventListener)return function(p,f,g,y){y=t.normalizeEventListenerOptions(y),p=t.getElement(p),p.addEventListener(f,g,y)};if(document.documentElement.attachEvent&&document.attachEvent)return function(p,f,g){p=t.getElement(p),p.attachEvent("on"+f,g)};throw new Error("No known event model.")}(),removeEvent:function(){if(t.supportsRemoveEventListener)return function(p,f,g,y){y=t.normalizeEventListenerOptions(y),p=t.getElement(p),p.removeEventListener(f,g,y)};if(document.documentElement.detachEvent&&document.detachEvent)return function(p,f,g){p=t.getElement(p),p.detachEvent("on"+f,g)};throw new Error("No known event model.")}(),cancelEvent:function(p){p.preventDefault()},eventIsCanceled:function(p){return p.defaultPrevented},stopEvent:function(p){p.stopPropagation()},createCallback:function(p,f){var g=[],y;for(y=2;y<arguments.length;y++)g.push(arguments[y]);return function(){var S=g.concat([]),T;for(T=0;T<arguments.length;T++)S.push(arguments[T]);return f.apply(p,S)}},getUrlParameter:function(p){var f=h[p];return f||null},getUrlProtocol:function(p){var f=p.match(/^([a-z]+:)\/\//i);return f===null?window.location.protocol:f[1].toLowerCase()},createAjaxRequest:function(p){var f;try{f=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{f=!1}if(f)window.XMLHttpRequest?t.createAjaxRequest=function(g){return g?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:t.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)t.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return t.createAjaxRequest(p)},makeAjaxRequest:function(p,f,g){var y,S,T,k;t.isPlainObject(p)&&(f=p.success,g=p.error,y=p.withCredentials,S=p.headers,T=p.responseType||null,k=p.postData||null,p=p.url);var P=t.getUrlProtocol(p),_=t.createAjaxRequest(P==="file:");if(!t.isFunction(f))throw new Error("makeAjaxRequest requires a success callback");_.onreadystatechange=function(){_.readyState===4&&(_.onreadystatechange=function(){},_.status>=200&&_.status<300||_.status===0&&P!=="http:"&&P!=="https:"?f(_):t.isFunction(g)?g(_):t.console.error("AJAX request returned %d: %s",_.status,p))};var D=k?"POST":"GET";try{if(_.open(D,p,!0),T&&(_.responseType=T),S)for(var q in S)Object.prototype.hasOwnProperty.call(S,q)&&S[q]&&_.setRequestHeader(q,S[q]);y&&(_.withCredentials=!0),_.send(k)}catch(G){t.console.error("%s while making AJAX request: %s",G.name,G.message),_.onreadystatechange=function(){},t.isFunction(g)&&g(_,G)}return _},jsonp:function(p){var f,g=p.url,y=document.head||document.getElementsByTagName("head")[0]||document.documentElement,S=p.callbackName||"openseadragon"+t.now(),T=window[S],k="$1"+S+"$2",P=p.param||"callback",_=p.callback;g=g.replace(/(=)\?(&|$)|\?\?/i,k),g+=(/\?/.test(g)?"&":"?")+P+"="+S,window[S]=function(D){if(T)window[S]=T;else try{delete window[S]}catch{}_&&t.isFunction(_)&&_(D)},f=document.createElement("script"),(p.async!==void 0||p.async!==!1)&&(f.async="async"),p.scriptCharset&&(f.charset=p.scriptCharset),f.src=g,f.onload=f.onreadystatechange=function(D,q){(q||!f.readyState||/loaded|complete/.test(f.readyState))&&(f.onload=f.onreadystatechange=null,y&&f.parentNode&&y.removeChild(f),f=void 0)},y.insertBefore(f,y.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(p){if(window.DOMParser)t.parseXml=function(f){var g=null,y;return y=new DOMParser,g=y.parseFromString(f,"text/xml"),g};else if(window.ActiveXObject)t.parseXml=function(f){var g=null;return g=new ActiveXObject("Microsoft.XMLDOM"),g.async=!1,g.loadXML(f),g};else throw new Error("Browser doesn't support XML DOM.");return t.parseXml(p)},parseJSON:function(p){return t.parseJSON=window.JSON.parse,t.parseJSON(p)},imageFormatSupported:function(p){return p=p||"",!!l[p.toLowerCase()]},setImageFormatsSupported:function(p){t.extend(l,p)}});var r=function(p){};t.console=window.console||{log:r,debug:r,info:r,warn:r,error:r,assert:r},t.Browser={vendor:t.BROWSERS.UNKNOWN,version:0,alpha:!0};var l={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},h={};(function(){var p=navigator.appVersion,f=navigator.userAgent,g;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(f.substring(f.indexOf("MSIE")+5,f.indexOf(";",f.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(f.indexOf("Edge")>=0?(t.Browser.vendor=t.BROWSERS.EDGE,t.Browser.version=parseFloat(f.substring(f.indexOf("Edge")+5))):f.indexOf("Edg")>=0?(t.Browser.vendor=t.BROWSERS.CHROMEEDGE,t.Browser.version=parseFloat(f.substring(f.indexOf("Edg")+4))):f.indexOf("Firefox")>=0?(t.Browser.vendor=t.BROWSERS.FIREFOX,t.Browser.version=parseFloat(f.substring(f.indexOf("Firefox")+8))):f.indexOf("Safari")>=0?(t.Browser.vendor=f.indexOf("Chrome")>=0?t.BROWSERS.CHROME:t.BROWSERS.SAFARI,t.Browser.version=parseFloat(f.substring(f.substring(0,f.indexOf("Safari")).lastIndexOf("/")+1,f.indexOf("Safari")))):(g=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),g.exec(f)!==null&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":t.Browser.vendor=t.BROWSERS.OPERA,t.Browser.version=parseFloat(p);break}var y=window.location.search.substring(1),S=y.split("&"),T,k,P;for(P=0;P<S.length;P++)if(T=S[P],k=T.indexOf("="),k>0){var _=T.substring(0,k),D=T.substring(k+1);try{h[_]=decodeURIComponent(D)}catch{t.console.error("Ignoring malformed URL parameter: %s=%s",_,D)}}t.Browser.alpha=!(t.Browser.vendor===t.BROWSERS.CHROME&&t.Browser.version<2),t.Browser.opacity=!0,t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<11&&t.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(p){var f=p.requestAnimationFrame||p.mozRequestAnimationFrame||p.webkitRequestAnimationFrame||p.msRequestAnimationFrame,g=p.cancelAnimationFrame||p.mozCancelAnimationFrame||p.webkitCancelAnimationFrame||p.msCancelAnimationFrame;if(f&&g)t.requestAnimationFrame=function(){return f.apply(p,arguments)},t.cancelAnimationFrame=function(){return g.apply(p,arguments)};else{var y=[],S=[],T=0,k;t.requestAnimationFrame=function(P){return y.push([++T,P]),k||(k=setInterval(function(){if(y.length){var _=t.now(),D=S;for(S=y,y=D;S.length;)S.shift()[1](_)}else clearInterval(k),k=void 0},1e3/50)),T},t.cancelAnimationFrame=function(P){var _,D;for(_=0,D=y.length;_<D;_+=1)if(y[_][0]===P){y.splice(_,1);return}for(_=0,D=S.length;_<D;_+=1)if(S[_][0]===P){S.splice(_,1);return}}}}(window);function d(p,f){return f&&p!==document.body?document.body:p.offsetParent}}(n),function(t,i){e.exports?e.exports=i():t.OpenSeadragon=i()}(ii,function(){return n}),function(t){var i={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(i.supportsFullScreen=!0,i.getFullScreenElement=function(){return document.fullscreenElement},i.requestFullScreen=function(r){return r.requestFullscreen()},i.exitFullScreen=function(){document.exitFullscreen()},i.fullScreenEventName="fullscreenchange",i.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(i.supportsFullScreen=!0,i.getFullScreenElement=function(){return document.msFullscreenElement},i.requestFullScreen=function(r){return r.msRequestFullscreen()},i.exitFullScreen=function(){document.msExitFullscreen()},i.fullScreenEventName="MSFullscreenChange",i.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(i.supportsFullScreen=!0,i.getFullScreenElement=function(){return document.webkitFullscreenElement},i.requestFullScreen=function(r){return r.webkitRequestFullscreen()},i.exitFullScreen=function(){document.webkitExitFullscreen()},i.fullScreenEventName="webkitfullscreenchange",i.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(i.supportsFullScreen=!0,i.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},i.requestFullScreen=function(r){return r.webkitRequestFullScreen()},i.exitFullScreen=function(){document.webkitCancelFullScreen()},i.fullScreenEventName="webkitfullscreenchange",i.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(i.supportsFullScreen=!0,i.getFullScreenElement=function(){return document.mozFullScreenElement},i.requestFullScreen=function(r){return r.mozRequestFullScreen()},i.exitFullScreen=function(){document.mozCancelFullScreen()},i.fullScreenEventName="mozfullscreenchange",i.fullScreenErrorEventName="mozfullscreenerror"),i.isFullScreen=function(){return i.getFullScreenElement()!==null},i.cancelFullScreen=function(){t.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),i.exitFullScreen()},t.extend(t,i)}(n),function(t){t.EventSource=function(){this.events={}},t.EventSource.prototype={addOnceHandler:function(i,r,l,h,d){var p=this;h=h||1;var f=0,g=function(y){return f++,f===h&&p.removeHandler(i,g),r(y)};this.addHandler(i,g,l,d)},addHandler:function(i,r,l,h){var d=this.events[i];if(d||(this.events[i]=d=[]),r&&t.isFunction(r)){var p=d.length,f={handler:r,userData:l||null,priority:h||0};for(d[p]=f;p>0&&d[p-1].priority<d[p].priority;)d[p]=d[p-1],d[p-1]=f,p--}},removeHandler:function(i,r){var l=this.events[i],h=[],d;if(l&&t.isArray(l)){for(d=0;d<l.length;d++)l[d].handler!==r&&h.push(l[d]);this.events[i]=h}},numberOfHandlers:function(i){var r=this.events[i];return r?r.length:0},removeAllHandlers:function(i){if(i)this.events[i]=[];else for(var r in this.events)this.events[r]=[]},getHandler:function(i){var r=this.events[i];return!r||!r.length?null:(r=r.length===1?[r[0]]:Array.apply(null,r),function(l,h){var d,p=r.length;for(d=0;d<p;d++)r[d]&&(h.eventSource=l,h.userData=r[d].userData,r[d].handler(h))})},raiseEvent:function(i,r){var l=this.getHandler(i);if(l)return l(this,r||{})}}}(n),function(t){var i={};t.MouseTracker=function(F){var N=arguments;t.isPlainObject(F)||(F={element:N[0],clickTimeThreshold:N[1],clickDistThreshold:N[2]}),this.hash=Math.random(),this.element=t.getElement(F.element),this.clickTimeThreshold=F.clickTimeThreshold||t.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=F.clickDistThreshold||t.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=F.dblClickTimeThreshold||t.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=F.dblClickDistThreshold||t.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=F.userData||null,this.stopDelay=F.stopDelay||50,this.preProcessEventHandler=F.preProcessEventHandler||null,this.contextMenuHandler=F.contextMenuHandler||null,this.enterHandler=F.enterHandler||null,this.leaveHandler=F.leaveHandler||null,this.exitHandler=F.exitHandler||null,this.overHandler=F.overHandler||null,this.outHandler=F.outHandler||null,this.pressHandler=F.pressHandler||null,this.nonPrimaryPressHandler=F.nonPrimaryPressHandler||null,this.releaseHandler=F.releaseHandler||null,this.nonPrimaryReleaseHandler=F.nonPrimaryReleaseHandler||null,this.moveHandler=F.moveHandler||null,this.scrollHandler=F.scrollHandler||null,this.clickHandler=F.clickHandler||null,this.dblClickHandler=F.dblClickHandler||null,this.dragHandler=F.dragHandler||null,this.dragEndHandler=F.dragEndHandler||null,this.pinchHandler=F.pinchHandler||null,this.stopHandler=F.stopHandler||null,this.keyDownHandler=F.keyDownHandler||null,this.keyUpHandler=F.keyUpHandler||null,this.keyHandler=F.keyHandler||null,this.focusHandler=F.focusHandler||null,this.blurHandler=F.blurHandler||null;var W=this;i[this.hash]={click:function(Z){G(W,Z)},dblclick:function(Z){ne(W,Z)},keydown:function(Z){K(W,Z)},keyup:function(Z){Y(W,Z)},keypress:function(Z){se(W,Z)},focus:function(Z){ce(W,Z)},blur:function(Z){de(W,Z)},contextmenu:function(Z){ie(W,Z)},wheel:function(Z){ge(W,Z)},mousewheel:function(Z){pe(W,Z)},DOMMouseScroll:function(Z){pe(W,Z)},MozMousePixelScroll:function(Z){pe(W,Z)},losecapture:function(Z){Ae(W,Z)},mouseenter:function(Z){ee(W,Z)},mouseleave:function(Z){Ct(W,Z)},mouseover:function(Z){tt(W,Z)},mouseout:function(Z){at(W,Z)},mousedown:function(Z){yt(W,Z)},mouseup:function(Z){Ot(W,Z)},mousemove:function(Z){Ye(W,Z)},touchstart:function(Z){Le(W,Z)},touchend:function(Z){Se(W,Z)},touchmove:function(Z){ve(W,Z)},touchcancel:function(Z){Re(W,Z)},gesturestart:function(Z){_e(W,Z)},gesturechange:function(Z){J(W,Z)},gotpointercapture:function(Z){ze(W,Z)},lostpointercapture:function(Z){st(W,Z)},pointerenter:function(Z){ee(W,Z)},pointerleave:function(Z){Ct(W,Z)},pointerover:function(Z){tt(W,Z)},pointerout:function(Z){at(W,Z)},pointerdown:function(Z){yt(W,Z)},pointerup:function(Z){Ot(W,Z)},pointermove:function(Z){Ye(W,Z)},pointercancel:function(Z){on(W,Z)},pointerupcaptured:function(Z){Tt(W,Z)},pointermovecaptured:function(Z){xt(W,Z)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,t.MouseTracker.havePointerEvents&&t.setElementPointerEvents(this.element,"auto"),this.exitHandler&&t.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),F.startDisabled||this.setTracking(!0)},t.MouseTracker.prototype={destroy:function(){p(this),this.element=null,i[this.hash]=null,delete i[this.hash]},isTracking:function(){return i[this.hash].tracking},setTracking:function(F){return F?d(this):p(this),this},getActivePointersListByType:function(F){var N=i[this.hash],W,Z=N.activePointersLists.length,Te;for(W=0;W<Z;W++)if(N.activePointersLists[W].type===F)return N.activePointersLists[W];return Te=new t.MouseTracker.GesturePointList(F),N.activePointersLists.push(Te),Te},getActivePointerCount:function(){var F=i[this.hash],N,W=F.activePointersLists.length,Z=0;for(N=0;N<W;N++)Z+=F.activePointersLists[N].getLength();return Z},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var r=function(){try{return window.self!==window.top}catch{return!0}}();function l(F){try{return F.addEventListener&&F.removeEventListener}catch{return!1}}t.MouseTracker.gesturePointVelocityTracker=function(){var F=[],N=0,W=0,Z=function(He,lt){return He.hash.toString()+lt.type+lt.id.toString()},Te=function(){var He,lt=F.length,Rn,en,oi=t.now(),wo,zi,kr;for(wo=oi-W,W=oi,He=0;He<lt;He++)Rn=F[He],en=Rn.gPoint,en.direction=Math.atan2(en.currentPos.y-Rn.lastPos.y,en.currentPos.x-Rn.lastPos.x),zi=Rn.lastPos.distanceTo(en.currentPos),Rn.lastPos=en.currentPos,kr=1e3*zi/(wo+1),en.speed=.75*kr+.25*en.speed},Ue=function(He,lt){var Rn=Z(He,lt);F.push({guid:Rn,gPoint:lt,lastPos:lt.currentPos}),F.length===1&&(W=t.now(),N=window.setInterval(Te,50))},gt=function(He,lt){var Rn=Z(He,lt),en,oi=F.length;for(en=0;en<oi;en++)if(F[en].guid===Rn){F.splice(en,1),oi--,oi===0&&window.clearInterval(N);break}};return{addPoint:Ue,removePoint:gt}}(),t.MouseTracker.captureElement=document,t.MouseTracker.wheelEventName=t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",t.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",t.MouseTracker.wheelEventName],t.MouseTracker.wheelEventName==="DOMMouseScroll"&&t.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(t.MouseTracker.havePointerEvents=!0,t.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),t.MouseTracker.havePointerCapture=function(){var F=document.createElement("div");return t.isFunction(F.setPointerCapture)&&t.isFunction(F.releasePointerCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(t.MouseTracker.havePointerEvents=!1,t.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),t.MouseTracker.mousePointerId="legacy-mouse",t.MouseTracker.havePointerCapture=function(){var F=document.createElement("div");return t.isFunction(F.setCapture)&&t.isFunction(F.releaseCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&t.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&t.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),t.MouseTracker.GesturePointList=function(F){this._gPoints=[],this.type=F,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},t.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(F){return this._gPoints.push(F)},removeById:function(F){var N,W=this._gPoints.length;for(N=0;N<W;N++)if(this._gPoints[N].id===F){this._gPoints.splice(N,1);break}return this._gPoints.length},getByIndex:function(F){return F<this._gPoints.length?this._gPoints[F]:null},getById:function(F){var N,W=this._gPoints.length;for(N=0;N<W;N++)if(this._gPoints[N].id===F)return this._gPoints[N];return null},getPrimary:function(F){var N,W=this._gPoints.length;for(N=0;N<W;N++)if(this._gPoints[N].isPrimary)return this._gPoints[N];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(t.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function h(F){var N=i[F.hash],W,Z,Te,Ue,gt,He=N.activePointersLists.length;for(W=0;W<He;W++)if(Te=N.activePointersLists[W],Te.getLength()>0){for(gt=[],Ue=Te.asArray(),Z=0;Z<Ue.length;Z++)gt.push(Ue[Z]);for(Z=0;Z<gt.length;Z++)Yt(F,Te,gt[Z])}for(W=0;W<He;W++)N.activePointersLists.pop();N.sentDragEvent=!1}function d(F){var N=i[F.hash],W,Z;if(!N.tracking){for(Z=0;Z<t.MouseTracker.subscribeEvents.length;Z++)W=t.MouseTracker.subscribeEvents[Z],t.addEvent(F.element,W,N[W],W===t.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);h(F),N.tracking=!0}}function p(F){var N=i[F.hash],W,Z;if(N.tracking){for(Z=0;Z<t.MouseTracker.subscribeEvents.length;Z++)W=t.MouseTracker.subscribeEvents[Z],t.removeEvent(F.element,W,N[W],!1);h(F),N.tracking=!1}}function f(F,N){var W=i[F.hash];if(N==="pointerevent")return{upName:"pointerup",upHandler:W.pointerupcaptured,moveName:"pointermove",moveHandler:W.pointermovecaptured};if(N==="mouse")return{upName:"pointerup",upHandler:W.pointerupcaptured,moveName:"pointermove",moveHandler:W.pointermovecaptured};if(N==="touch")return{upName:"touchend",upHandler:W.touchendcaptured,moveName:"touchmove",moveHandler:W.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function g(F,N){var W;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents)try{F.element.setPointerCapture(N.id)}catch{t.console.warn("setPointerCapture() called on invalid pointer ID");return}else F.element.setCapture(!0);else W=f(F,t.MouseTracker.havePointerEvents?"pointerevent":N.type),r&&l(window.top)&&t.addEvent(window.top,W.upName,W.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,W.upName,W.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,W.moveName,W.moveHandler,!0);xe(F,N,!0)}function y(F,N){var W,Z,Te;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents){if(Z=F.getActivePointersListByType(N.type),Te=Z.getById(N.id),!Te||!Te.captured)return;try{F.element.releasePointerCapture(N.id)}catch{}}else F.element.releaseCapture();else W=f(F,t.MouseTracker.havePointerEvents?"pointerevent":N.type),r&&l(window.top)&&t.removeEvent(window.top,W.upName,W.upHandler,!0),t.removeEvent(t.MouseTracker.captureElement,W.moveName,W.moveHandler,!0),t.removeEvent(t.MouseTracker.captureElement,W.upName,W.upHandler,!0);xe(F,N,!1)}function S(F){return t.MouseTracker.havePointerEvents?F.pointerId:t.MouseTracker.mousePointerId}function T(F){return t.MouseTracker.havePointerEvents?F.pointerType||(t.Browser.vendor===t.BROWSERS.IE?"mouse":""):"mouse"}function k(F){return t.MouseTracker.havePointerEvents?F.isPrimary:!0}function P(F){return t.getMousePosition(F)}function _(F,N){return D(P(F),N)}function D(F,N){var W=t.getElementOffset(N);return F.minus(W)}function q(F,N){return new t.Point((F.x+N.x)/2,(F.y+N.y)/2)}function G(F,N){var W={originalEvent:N,eventType:"click",pointerType:"mouse",isEmulated:!1};Q(F,W),W.preventDefault&&!W.defaultPrevented&&t.cancelEvent(N),W.stopPropagation&&t.stopEvent(N)}function ne(F,N){var W={originalEvent:N,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};Q(F,W),W.preventDefault&&!W.defaultPrevented&&t.cancelEvent(N),W.stopPropagation&&t.stopEvent(N)}function K(F,N){var W=null,Z={originalEvent:N,eventType:"keydown",pointerType:"",isEmulated:!1};Q(F,Z),F.keyDownHandler&&!Z.preventGesture&&!Z.defaultPrevented&&(W={eventSource:F,keyCode:N.keyCode?N.keyCode:N.charCode,ctrl:N.ctrlKey,shift:N.shiftKey,alt:N.altKey,meta:N.metaKey,originalEvent:N,preventDefault:Z.preventDefault||Z.defaultPrevented,userData:F.userData},F.keyDownHandler(W)),(W&&W.preventDefault||Z.preventDefault&&!Z.defaultPrevented)&&t.cancelEvent(N),Z.stopPropagation&&t.stopEvent(N)}function Y(F,N){var W=null,Z={originalEvent:N,eventType:"keyup",pointerType:"",isEmulated:!1};Q(F,Z),F.keyUpHandler&&!Z.preventGesture&&!Z.defaultPrevented&&(W={eventSource:F,keyCode:N.keyCode?N.keyCode:N.charCode,ctrl:N.ctrlKey,shift:N.shiftKey,alt:N.altKey,meta:N.metaKey,originalEvent:N,preventDefault:Z.preventDefault||Z.defaultPrevented,userData:F.userData},F.keyUpHandler(W)),(W&&W.preventDefault||Z.preventDefault&&!Z.defaultPrevented)&&t.cancelEvent(N),Z.stopPropagation&&t.stopEvent(N)}function se(F,N){var W=null,Z={originalEvent:N,eventType:"keypress",pointerType:"",isEmulated:!1};Q(F,Z),F.keyHandler&&!Z.preventGesture&&!Z.defaultPrevented&&(W={eventSource:F,keyCode:N.keyCode?N.keyCode:N.charCode,ctrl:N.ctrlKey,shift:N.shiftKey,alt:N.altKey,meta:N.metaKey,originalEvent:N,preventDefault:Z.preventDefault||Z.defaultPrevented,userData:F.userData},F.keyHandler(W)),(W&&W.preventDefault||Z.preventDefault&&!Z.defaultPrevented)&&t.cancelEvent(N),Z.stopPropagation&&t.stopEvent(N)}function ce(F,N){var W={originalEvent:N,eventType:"focus",pointerType:"",isEmulated:!1};Q(F,W),F.focusHandler&&!W.preventGesture&&F.focusHandler({eventSource:F,originalEvent:N,userData:F.userData})}function de(F,N){var W={originalEvent:N,eventType:"blur",pointerType:"",isEmulated:!1};Q(F,W),F.blurHandler&&!W.preventGesture&&F.blurHandler({eventSource:F,originalEvent:N,userData:F.userData})}function ie(F,N){var W=null,Z={originalEvent:N,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};Q(F,Z),F.contextMenuHandler&&!Z.preventGesture&&!Z.defaultPrevented&&(W={eventSource:F,position:D(P(N),F.element),originalEvent:Z.originalEvent,preventDefault:Z.preventDefault||Z.defaultPrevented,userData:F.userData},F.contextMenuHandler(W)),(W&&W.preventDefault||Z.preventDefault&&!Z.defaultPrevented)&&t.cancelEvent(N),Z.stopPropagation&&t.stopEvent(N)}function ge(F,N){be(F,N,N)}function pe(F,N){var W={target:N.target||N.srcElement,type:"wheel",shiftKey:N.shiftKey||!1,clientX:N.clientX,clientY:N.clientY,pageX:N.pageX?N.pageX:N.clientX,pageY:N.pageY?N.pageY:N.clientY,deltaMode:N.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};t.MouseTracker.wheelEventName==="mousewheel"?W.deltaY=-N.wheelDelta/t.DEFAULT_SETTINGS.pixelsPerWheelLine:W.deltaY=N.detail,be(F,W,N)}function be(F,N,W){var Z=0,Te,Ue=null;Z=N.deltaY<0?1:-1,Te={originalEvent:N,eventType:"wheel",pointerType:"mouse",isEmulated:N!==W},Q(F,Te),F.scrollHandler&&!Te.preventGesture&&!Te.defaultPrevented&&(Ue={eventSource:F,pointerType:"mouse",position:_(N,F.element),scroll:Z,shift:N.shiftKey,isTouchEvent:!1,originalEvent:W,preventDefault:Te.preventDefault||Te.defaultPrevented,userData:F.userData},F.scrollHandler(Ue)),Te.stopPropagation&&t.stopEvent(W),(Ue&&Ue.preventDefault||Te.preventDefault&&!Te.defaultPrevented)&&t.cancelEvent(W)}function Ae(F,N){var W={id:t.MouseTracker.mousePointerId,type:"mouse"},Z={originalEvent:N,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};Q(F,Z),N.target===F.element&&xe(F,W,!1),Z.stopPropagation&&t.stopEvent(N)}function Le(F,N){var W,Z,Te=N.changedTouches.length,Ue,gt=F.getActivePointersListByType("touch");W=t.now(),gt.getLength()>N.touches.length-Te&&t.console.warn("Tracked touch contact count doesn't match event.touches.length");var He={originalEvent:N,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(Q(F,He),Z=0;Z<Te;Z++)Ue={id:N.changedTouches[Z].identifier,type:"touch",isPrimary:gt.getLength()===0,currentPos:P(N.changedTouches[Z]),currentTime:W},Ne(F,He,Ue),Et(F,He,Ue,0),xe(F,Ue,!0);He.preventDefault&&!He.defaultPrevented&&t.cancelEvent(N),He.stopPropagation&&t.stopEvent(N)}function Se(F,N){var W,Z,Te=N.changedTouches.length,Ue;W=t.now();var gt={originalEvent:N,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(Q(F,gt),Z=0;Z<Te;Z++)Ue={id:N.changedTouches[Z].identifier,type:"touch",currentPos:P(N.changedTouches[Z]),currentTime:W},It(F,gt,Ue,0),xe(F,Ue,!1),je(F,gt,Ue);gt.preventDefault&&!gt.defaultPrevented&&t.cancelEvent(N),gt.stopPropagation&&t.stopEvent(N)}function ve(F,N){var W,Z,Te=N.changedTouches.length,Ue;W=t.now();var gt={originalEvent:N,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(Q(F,gt),Z=0;Z<Te;Z++)Ue={id:N.changedTouches[Z].identifier,type:"touch",currentPos:P(N.changedTouches[Z]),currentTime:W},Lt(F,gt,Ue);gt.preventDefault&&!gt.defaultPrevented&&t.cancelEvent(N),gt.stopPropagation&&t.stopEvent(N)}function Re(F,N){var W=N.changedTouches.length,Z,Te,Ue={originalEvent:N,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(Q(F,Ue),Z=0;Z<W;Z++)Te={id:N.changedTouches[Z].identifier,type:"touch"},me(F,Ue,Te);Ue.stopPropagation&&t.stopEvent(N)}function _e(F,N){return t.eventIsCanceled(N)||N.preventDefault(),!1}function J(F,N){return t.eventIsCanceled(N)||N.preventDefault(),!1}function ze(F,N){var W={originalEvent:N,eventType:"gotpointercapture",pointerType:T(N),isEmulated:!1};Q(F,W),N.target===F.element&&xe(F,{id:N.pointerId,type:T(N)},!0),W.stopPropagation&&t.stopEvent(N)}function st(F,N){var W={originalEvent:N,eventType:"lostpointercapture",pointerType:T(N),isEmulated:!1};Q(F,W),N.target===F.element&&xe(F,{id:N.pointerId,type:T(N)},!1),W.stopPropagation&&t.stopEvent(N)}function ee(F,N){var W={id:S(N),type:T(N),isPrimary:k(N),currentPos:P(N),currentTime:t.now()},Z={originalEvent:N,eventType:"pointerenter",pointerType:W.type,isEmulated:!1};Q(F,Z),Ne(F,Z,W)}function Ct(F,N){var W={id:S(N),type:T(N),isPrimary:k(N),currentPos:P(N),currentTime:t.now()},Z={originalEvent:N,eventType:"pointerleave",pointerType:W.type,isEmulated:!1};Q(F,Z),je(F,Z,W)}function tt(F,N){var W={id:S(N),type:T(N),isPrimary:k(N),currentPos:P(N),currentTime:t.now()},Z={originalEvent:N,eventType:"pointerover",pointerType:W.type,isEmulated:!1};Q(F,Z),$e(F,Z,W),Z.preventDefault&&!Z.defaultPrevented&&t.cancelEvent(N),Z.stopPropagation&&t.stopEvent(N)}function at(F,N){var W={id:S(N),type:T(N),isPrimary:k(N),currentPos:P(N),currentTime:t.now()},Z={originalEvent:N,eventType:"pointerout",pointerType:W.type,isEmulated:!1};Q(F,Z),Ke(F,Z,W),Z.preventDefault&&!Z.defaultPrevented&&t.cancelEvent(N),Z.stopPropagation&&t.stopEvent(N)}function yt(F,N){var W={id:S(N),type:T(N),isPrimary:k(N),currentPos:P(N),currentTime:t.now()},Z=t.MouseTracker.havePointerEvents&&W.type==="touch"&&t.Browser.vendor!==t.BROWSERS.IE,Te={originalEvent:N,eventType:"pointerdown",pointerType:W.type,isEmulated:!1};Q(F,Te),Et(F,Te,W,N.button),Te.preventDefault&&!Te.defaultPrevented&&t.cancelEvent(N),Te.stopPropagation&&t.stopEvent(N),Te.shouldCapture&&(Z?xe(F,W,!0):g(F,W))}function Ot(F,N){rt(F,N)}function Tt(F,N){var W=F.getActivePointersListByType(T(N));W.getById(N.pointerId)&&rt(F,N),t.stopEvent(N)}function rt(F,N){var W;W={id:S(N),type:T(N),isPrimary:k(N),currentPos:P(N),currentTime:t.now()};var Z={originalEvent:N,eventType:"pointerup",pointerType:W.type,isEmulated:!1};Q(F,Z),It(F,Z,W,N.button),Z.preventDefault&&!Z.defaultPrevented&&t.cancelEvent(N),Z.stopPropagation&&t.stopEvent(N),Z.shouldReleaseCapture&&(N.target===F.element?y(F,W):xe(F,W,!1))}function Ye(F,N){Ht(F,N)}function xt(F,N){var W=F.getActivePointersListByType(T(N));W.getById(N.pointerId)&&Ht(F,N),t.stopEvent(N)}function Ht(F,N){var W={id:S(N),type:T(N),isPrimary:k(N),currentPos:P(N),currentTime:t.now()},Z={originalEvent:N,eventType:"pointermove",pointerType:W.type,isEmulated:!1};Q(F,Z),Lt(F,Z,W),Z.preventDefault&&!Z.defaultPrevented&&t.cancelEvent(N),Z.stopPropagation&&t.stopEvent(N)}function on(F,N){var W={id:N.pointerId,type:T(N)},Z={originalEvent:N,eventType:"pointercancel",pointerType:W.type,isEmulated:!1};Q(F,Z),me(F,Z,W),Z.stopPropagation&&t.stopEvent(N)}function Dt(F,N){return N.speed=0,N.direction=0,N.contactPos=N.currentPos,N.contactTime=N.currentTime,N.lastPos=N.currentPos,N.lastTime=N.currentTime,F.add(N)}function Yt(F,N,W){var Z,Te=N.getById(W.id);return Te?(Te.captured&&(t.console.warn("stopTrackingPointer() called on captured pointer"),y(F,Te)),N.removeContact(),Z=N.removeById(W.id)):Z=N.getLength(),Z}function I(F,N){switch(N.eventType){case"pointermove":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!1,N.preventGesture=!F.hasGestureHandlers,N.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!1,N.preventGesture=!1,N.stopPropagation=!1;break;case"pointerdown":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!1,N.preventGesture=!F.hasGestureHandlers,N.stopPropagation=!1;break;case"pointerup":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!1,N.preventGesture=!F.hasGestureHandlers,N.stopPropagation=!1;break;case"wheel":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!1,N.preventGesture=!F.hasScrollHandler,N.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":N.isStoppable=!0,N.isCancelable=!1,N.preventDefault=!1,N.preventGesture=!1,N.stopPropagation=!1;break;case"click":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!!F.clickHandler,N.preventGesture=!1,N.stopPropagation=!1;break;case"dblclick":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!!F.dblClickHandler,N.preventGesture=!1,N.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:N.isStoppable=!1,N.isCancelable=!1,N.preventDefault=!1,N.preventGesture=!1,N.stopPropagation=!1;break}}function Q(F,N){N.eventSource=F,N.eventPhase=N.originalEvent&&typeof N.originalEvent.eventPhase<"u"?N.originalEvent.eventPhase:0,N.defaultPrevented=t.eventIsCanceled(N.originalEvent),N.shouldCapture=!1,N.shouldReleaseCapture=!1,N.userData=F.userData,I(F,N),F.preProcessEventHandler&&F.preProcessEventHandler(N)}function xe(F,N,W){var Z=F.getActivePointersListByType(N.type),Te=Z.getById(N.id);Te?W&&!Te.captured?(Te.captured=!0,Z.captureCount++):!W&&Te.captured&&(Te.captured=!1,Z.captureCount--,Z.captureCount<0&&(Z.captureCount=0,t.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):t.console.warn("updatePointerCaptured() called on untracked pointer")}function Ne(F,N,W){var Z=F.getActivePointersListByType(W.type),Te;Te=Z.getById(W.id),Te?(Te.insideElement=!0,Te.lastPos=Te.currentPos,Te.lastTime=Te.currentTime,Te.currentPos=W.currentPos,Te.currentTime=W.currentTime,W=Te):(W.captured=!1,W.insideElementPressed=!1,W.insideElement=!0,Dt(Z,W)),F.enterHandler&&F.enterHandler({eventSource:F,pointerType:W.type,position:D(W.currentPos,F.element),buttons:Z.buttons,pointers:F.getActivePointerCount(),insideElementPressed:W.insideElementPressed,buttonDownAny:Z.buttons!==0,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:F.userData})}function je(F,N,W){var Z=F.getActivePointersListByType(W.type),Te,Ue;Te=Z.getById(W.id),Te?(Te.captured?(Te.insideElement=!1,Te.lastPos=Te.currentPos,Te.lastTime=Te.currentTime,Te.currentPos=W.currentPos,Te.currentTime=W.currentTime):Yt(F,Z,Te),W=Te):(W.captured=!1,W.insideElementPressed=!1),(F.leaveHandler||F.exitHandler)&&(Ue={eventSource:F,pointerType:W.type,position:W.currentPos&&D(W.currentPos,F.element),buttons:Z.buttons,pointers:F.getActivePointerCount(),insideElementPressed:W.insideElementPressed,buttonDownAny:Z.buttons!==0,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:F.userData},F.leaveHandler&&F.leaveHandler(Ue),F.exitHandler&&F.exitHandler(Ue))}function $e(F,N,W){var Z,Te;Z=F.getActivePointersListByType(W.type),Te=Z.getById(W.id),Te?W=Te:(W.captured=!1,W.insideElementPressed=!1),F.overHandler&&F.overHandler({eventSource:F,pointerType:W.type,position:D(W.currentPos,F.element),buttons:Z.buttons,pointers:F.getActivePointerCount(),insideElementPressed:W.insideElementPressed,buttonDownAny:Z.buttons!==0,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:F.userData})}function Ke(F,N,W){var Z,Te;Z=F.getActivePointersListByType(W.type),Te=Z.getById(W.id),Te?W=Te:(W.captured=!1,W.insideElementPressed=!1),F.outHandler&&F.outHandler({eventSource:F,pointerType:W.type,position:W.currentPos&&D(W.currentPos,F.element),buttons:Z.buttons,pointers:F.getActivePointerCount(),insideElementPressed:W.insideElementPressed,buttonDownAny:Z.buttons!==0,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:F.userData})}function Et(F,N,W,Z){var Te=i[F.hash],Ue=F.getActivePointersListByType(W.type),gt;if(typeof N.originalEvent.buttons<"u"?Ue.buttons=N.originalEvent.buttons:Z===0?Ue.buttons|=1:Z===1?Ue.buttons|=4:Z===2?Ue.buttons|=2:Z===3?Ue.buttons|=8:Z===4?Ue.buttons|=16:Z===5&&(Ue.buttons|=32),Z!==0){N.shouldCapture=!1,N.shouldReleaseCapture=!1,F.nonPrimaryPressHandler&&!N.preventGesture&&!N.defaultPrevented&&(N.preventDefault=!0,F.nonPrimaryPressHandler({eventSource:F,pointerType:W.type,position:D(W.currentPos,F.element),button:Z,buttons:Ue.buttons,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:F.userData}));return}gt=Ue.getById(W.id),gt?(gt.insideElementPressed=!0,gt.insideElement=!0,gt.originalTarget=N.originalEvent.target,gt.contactPos=W.currentPos,gt.contactTime=W.currentTime,gt.lastPos=gt.currentPos,gt.lastTime=gt.currentTime,gt.currentPos=W.currentPos,gt.currentTime=W.currentTime,W=gt):(W.captured=!1,W.insideElementPressed=!0,W.insideElement=!0,W.originalTarget=N.originalEvent.target,Dt(Ue,W)),Ue.addContact(),!N.preventGesture&&!N.defaultPrevented?(N.shouldCapture=!0,N.shouldReleaseCapture=!1,N.preventDefault=!0,(F.dragHandler||F.dragEndHandler||F.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.addPoint(F,W),Ue.contacts===1?F.pressHandler&&!N.preventGesture&&F.pressHandler({eventSource:F,pointerType:W.type,position:D(W.contactPos,F.element),buttons:Ue.buttons,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:F.userData}):Ue.contacts===2&&F.pinchHandler&&W.type==="touch"&&(Te.pinchGPoints=Ue.asArray(),Te.lastPinchDist=Te.currentPinchDist=Te.pinchGPoints[0].currentPos.distanceTo(Te.pinchGPoints[1].currentPos),Te.lastPinchCenter=Te.currentPinchCenter=q(Te.pinchGPoints[0].currentPos,Te.pinchGPoints[1].currentPos))):(N.shouldCapture=!1,N.shouldReleaseCapture=!1)}function It(F,N,W,Z){var Te=i[F.hash],Ue=F.getActivePointersListByType(W.type),gt,He,lt,Rn=!1,en;if(typeof N.originalEvent.buttons<"u"?Ue.buttons=N.originalEvent.buttons:Z===0?Ue.buttons^=-2:Z===1?Ue.buttons^=-5:Z===2?Ue.buttons^=-3:Z===3?Ue.buttons^=-9:Z===4?Ue.buttons^=-17:Z===5&&(Ue.buttons^=-33),N.shouldCapture=!1,Z!==0){N.shouldReleaseCapture=!1,F.nonPrimaryReleaseHandler&&!N.preventGesture&&!N.defaultPrevented&&(N.preventDefault=!0,F.nonPrimaryReleaseHandler({eventSource:F,pointerType:W.type,position:D(W.currentPos,F.element),button:Z,buttons:Ue.buttons,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:F.userData}));return}lt=Ue.getById(W.id),lt?(Ue.removeContact(),lt.captured&&(Rn=!0),lt.lastPos=lt.currentPos,lt.lastTime=lt.currentTime,lt.currentPos=W.currentPos,lt.currentTime=W.currentTime,lt.insideElement||Yt(F,Ue,lt),gt=lt.currentPos,He=lt.currentTime):(W.captured=!1,W.insideElementPressed=!1,W.insideElement=!0,Dt(Ue,W),lt=W),!N.preventGesture&&!N.defaultPrevented&&(Rn?(N.shouldReleaseCapture=!0,N.preventDefault=!0,(F.dragHandler||F.dragEndHandler||F.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.removePoint(F,lt),Ue.contacts===0?(F.releaseHandler&&gt&&F.releaseHandler({eventSource:F,pointerType:lt.type,position:D(gt,F.element),buttons:Ue.buttons,insideElementPressed:lt.insideElementPressed,insideElementReleased:lt.insideElement,isTouchEvent:lt.type==="touch",originalEvent:N.originalEvent,userData:F.userData}),F.dragEndHandler&&Te.sentDragEvent&&F.dragEndHandler({eventSource:F,pointerType:lt.type,position:D(lt.currentPos,F.element),speed:lt.speed,direction:lt.direction,shift:N.originalEvent.shiftKey,isTouchEvent:lt.type==="touch",originalEvent:N.originalEvent,userData:F.userData}),Te.sentDragEvent=!1,(F.clickHandler||F.dblClickHandler)&&lt.insideElement&&(en=He-lt.contactTime<=F.clickTimeThreshold&&lt.contactPos.distanceTo(gt)<=F.clickDistThreshold,F.clickHandler&&F.clickHandler({eventSource:F,pointerType:lt.type,position:D(lt.currentPos,F.element),quick:en,shift:N.originalEvent.shiftKey,isTouchEvent:lt.type==="touch",originalEvent:N.originalEvent,originalTarget:lt.originalTarget,userData:F.userData}),F.dblClickHandler&&en&&(Ue.clicks++,Ue.clicks===1?(Te.lastClickPos=gt,Te.dblClickTimeOut=setTimeout(function(){Ue.clicks=0},F.dblClickTimeThreshold)):Ue.clicks===2&&(clearTimeout(Te.dblClickTimeOut),Ue.clicks=0,Te.lastClickPos.distanceTo(gt)<=F.dblClickDistThreshold&&F.dblClickHandler({eventSource:F,pointerType:lt.type,position:D(lt.currentPos,F.element),shift:N.originalEvent.shiftKey,isTouchEvent:lt.type==="touch",originalEvent:N.originalEvent,userData:F.userData}),Te.lastClickPos=null)))):Ue.contacts===2&&F.pinchHandler&&lt.type==="touch"&&(Te.pinchGPoints=Ue.asArray(),Te.lastPinchDist=Te.currentPinchDist=Te.pinchGPoints[0].currentPos.distanceTo(Te.pinchGPoints[1].currentPos),Te.lastPinchCenter=Te.currentPinchCenter=q(Te.pinchGPoints[0].currentPos,Te.pinchGPoints[1].currentPos))):(N.shouldReleaseCapture=!1,F.releaseHandler&&gt&&(F.releaseHandler({eventSource:F,pointerType:lt.type,position:D(gt,F.element),buttons:Ue.buttons,insideElementPressed:lt.insideElementPressed,insideElementReleased:lt.insideElement,isTouchEvent:lt.type==="touch",originalEvent:N.originalEvent,userData:F.userData}),N.preventDefault=!0)))}function Lt(F,N,W){var Z=i[F.hash],Te=F.getActivePointersListByType(W.type),Ue,gt,He;if(typeof N.originalEvent.buttons<"u"&&(Te.buttons=N.originalEvent.buttons),Ue=Te.getById(W.id),Ue)Ue.lastPos=Ue.currentPos,Ue.lastTime=Ue.currentTime,Ue.currentPos=W.currentPos,Ue.currentTime=W.currentTime;else return;N.shouldCapture=!1,N.shouldReleaseCapture=!1,F.stopHandler&&W.type==="mouse"&&(clearTimeout(F.stopTimeOut),F.stopTimeOut=setTimeout(function(){Ie(F,N.originalEvent,W.type)},F.stopDelay)),Te.contacts===0?F.moveHandler&&F.moveHandler({eventSource:F,pointerType:W.type,position:D(W.currentPos,F.element),buttons:Te.buttons,isTouchEvent:W.type==="touch",originalEvent:N.originalEvent,userData:F.userData}):Te.contacts===1?(F.moveHandler&&(Ue=Te.asArray()[0],F.moveHandler({eventSource:F,pointerType:Ue.type,position:D(Ue.currentPos,F.element),buttons:Te.buttons,isTouchEvent:Ue.type==="touch",originalEvent:N.originalEvent,userData:F.userData})),F.dragHandler&&!N.preventGesture&&!N.defaultPrevented&&(Ue=Te.asArray()[0],He=Ue.currentPos.minus(Ue.lastPos),F.dragHandler({eventSource:F,pointerType:Ue.type,position:D(Ue.currentPos,F.element),buttons:Te.buttons,delta:He,speed:Ue.speed,direction:Ue.direction,shift:N.originalEvent.shiftKey,isTouchEvent:Ue.type==="touch",originalEvent:N.originalEvent,userData:F.userData}),N.preventDefault=!0,Z.sentDragEvent=!0)):Te.contacts===2&&(F.moveHandler&&(gt=Te.asArray(),F.moveHandler({eventSource:F,pointerType:gt[0].type,position:D(q(gt[0].currentPos,gt[1].currentPos),F.element),buttons:Te.buttons,isTouchEvent:gt[0].type==="touch",originalEvent:N.originalEvent,userData:F.userData})),F.pinchHandler&&W.type==="touch"&&!N.preventGesture&&!N.defaultPrevented&&(He=Z.pinchGPoints[0].currentPos.distanceTo(Z.pinchGPoints[1].currentPos),He!==Z.currentPinchDist&&(Z.lastPinchDist=Z.currentPinchDist,Z.currentPinchDist=He,Z.lastPinchCenter=Z.currentPinchCenter,Z.currentPinchCenter=q(Z.pinchGPoints[0].currentPos,Z.pinchGPoints[1].currentPos),F.pinchHandler({eventSource:F,pointerType:"touch",gesturePoints:Z.pinchGPoints,lastCenter:D(Z.lastPinchCenter,F.element),center:D(Z.currentPinchCenter,F.element),lastDistance:Z.lastPinchDist,distance:Z.currentPinchDist,shift:N.originalEvent.shiftKey,originalEvent:N.originalEvent,userData:F.userData}),N.preventDefault=!0)))}function me(F,N,W){var Z=F.getActivePointersListByType(W.type),Te;Te=Z.getById(W.id),Te&&Yt(F,Z,Te)}function Ie(F,N,W){F.stopHandler&&F.stopHandler({eventSource:F,pointerType:W,position:_(N,F.element),buttons:F.getActivePointersListByType(W).buttons,isTouchEvent:W==="touch",originalEvent:N,userData:F.userData})}}(n),function(t){t.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},t.Control=function(i,r,l){var h=i.parentNode;typeof r=="number"&&(t.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),r={anchor:r}),r.attachToViewer=typeof r.attachToViewer>"u"?!0:r.attachToViewer,this.autoFade=typeof r.autoFade>"u"?!0:r.autoFade,this.element=i,this.anchor=r.anchor,this.container=l,this.anchor===t.ControlAnchor.ABSOLUTE?(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof r.top=="number"?r.top+"px":r.top,this.wrapper.style.left=typeof r.left=="number"?r.left+"px":r.left,this.wrapper.style.height=typeof r.height=="number"?r.height+"px":r.height,this.wrapper.style.width=typeof r.width=="number"?r.width+"px":r.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===t.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),r.attachToViewer?this.anchor===t.ControlAnchor.TOP_RIGHT||this.anchor===t.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):h.appendChild(this.wrapper)},t.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==t.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(i){this.wrapper.style.display=i?this.anchor===t.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(i){this.element[t.SIGNAL]&&t.Browser.vendor===t.BROWSERS.IE?t.setElementOpacity(this.element,i,!0):t.setElementOpacity(this.wrapper,i,!0)}}}(n),function(t){t.ControlDock=function(r){var l=["topleft","topright","bottomright","bottomleft"],h,d;for(t.extend(!0,this,{id:"controldock-"+t.now()+"-"+Math.floor(Math.random()*1e6),container:t.makeNeutralElement("div"),controls:[]},r),this.container.onsubmit=function(){return!1},this.element&&(this.element=t.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),d=0;d<l.length;d++)h=l[d],this.controls[h]=t.makeNeutralElement("div"),this.controls[h].style.position="absolute",h.match("left")&&(this.controls[h].style.left="0px"),h.match("right")&&(this.controls[h].style.right="0px"),h.match("top")&&(this.controls[h].style.top="0px"),h.match("bottom")&&(this.controls[h].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},t.ControlDock.prototype={addControl:function(r,l){r=t.getElement(r);var h=null;if(!(i(this,r)>=0)){switch(l.anchor){case t.ControlAnchor.TOP_RIGHT:h=this.controls.topright,r.style.position="relative",r.style.paddingRight="0px",r.style.paddingTop="0px";break;case t.ControlAnchor.BOTTOM_RIGHT:h=this.controls.bottomright,r.style.position="relative",r.style.paddingRight="0px",r.style.paddingBottom="0px";break;case t.ControlAnchor.BOTTOM_LEFT:h=this.controls.bottomleft,r.style.position="relative",r.style.paddingLeft="0px",r.style.paddingBottom="0px";break;case t.ControlAnchor.TOP_LEFT:h=this.controls.topleft,r.style.position="relative",r.style.paddingLeft="0px",r.style.paddingTop="0px";break;case t.ControlAnchor.ABSOLUTE:h=this.container,r.style.margin="0px",r.style.padding="0px";break;default:case t.ControlAnchor.NONE:h=this.container,r.style.margin="0px",r.style.padding="0px";break}this.controls.push(new t.Control(r,l,h)),r.style.display="inline-block"}},removeControl:function(r){r=t.getElement(r);var l=i(this,r);return l>=0&&(this.controls[l].destroy(),this.controls.splice(l,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var r;for(r=this.controls.length-1;r>=0;r--)if(this.controls[r].isVisible())return!0;return!1},setControlsEnabled:function(r){var l;for(l=this.controls.length-1;l>=0;l--)this.controls[l].setVisible(r);return this}};function i(r,l){var h=r.controls,d;for(d=h.length-1;d>=0;d--)if(h[d].element===l)return d;return-1}}(n),function(t){t.Placement=t.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(n),function(t){var i={},r=1;t.Viewer=function(I){var Q=arguments,xe=this,Ne;if(t.isPlainObject(I)||(I={id:Q[0],xmlPath:Q.length>1?Q[1]:void 0,prefixUrl:Q.length>2?Q[2]:void 0,controls:Q.length>3?Q[3]:void 0,overlays:Q.length>4?Q[4]:void 0}),I.config&&(t.extend(!0,I,I.config),delete I.config),t.extend(!0,this,{id:I.id,hash:I.hash||r++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},t.DEFAULT_SETTINGS,I),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof i[this.hash]<"u"&&t.console.warn("Hash "+this.hash+" has already been used."),i[this.hash]={fsBoundsDelta:new t.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=t.now(),t.EventSource.call(this),this.addHandler("open-failed",function(je){var $e=t.getString("Errors.OpenFailed",je.eventSource,je.message);xe._showMessage($e)}),t.ControlDock.call(this,I),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=t.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(je){je.width="100%",je.height="100%",je.overflow="hidden",je.position="absolute",je.top="0px",je.left="0px"}(this.canvas.style),t.setElementTouchActionNone(this.canvas),I.tabIndex!==""&&(this.canvas.tabIndex=I.tabIndex===void 0?0:I.tabIndex),this.container.className="openseadragon-container",function(je){je.width="100%",je.height="100%",je.position="relative",je.overflow="hidden",je.left="0px",je.top="0px",je.textAlign="left"}(this.container.style),t.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new t.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:t.delegate(this,_),keyDownHandler:t.delegate(this,D),keyHandler:t.delegate(this,q),clickHandler:t.delegate(this,G),dblClickHandler:t.delegate(this,ne),dragHandler:t.delegate(this,K),dragEndHandler:t.delegate(this,Y),enterHandler:t.delegate(this,se),leaveHandler:t.delegate(this,ce),pressHandler:t.delegate(this,de),releaseHandler:t.delegate(this,ie),nonPrimaryPressHandler:t.delegate(this,ge),nonPrimaryReleaseHandler:t.delegate(this,pe),scrollHandler:t.delegate(this,Se),pinchHandler:t.delegate(this,be),focusHandler:t.delegate(this,Ae),blurHandler:t.delegate(this,Le)}),this.outerTracker=new t.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:t.delegate(this,ve),leaveHandler:t.delegate(this,Re)}),this.toolbar&&(this.toolbar=new t.ControlDock({element:this.toolbar})),this.bindStandardControls(),i[this.hash].prevContainerSize=l(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver(function(){i[xe.hash].needsResize=!0}),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new t.World({viewer:this}),this.world.addHandler("add-item",function(je){xe.source=xe.world.getItemAt(0).source,i[xe.hash].forceRedraw=!0,xe._updateRequestId||(xe._updateRequestId=f(xe,_e))}),this.world.addHandler("remove-item",function(je){xe.world.getItemCount()?xe.source=xe.world.getItemAt(0).source:xe.source=null,i[xe.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(je){xe.viewport&&xe.viewport._setContentBounds(xe.world.getHomeBounds(),xe.world.getContentFactor())}),this.world.addHandler("item-index-change",function(je){xe.source=xe.world.getItemAt(0).source}),this.viewport=new t.Viewport({containerSize:i[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new t.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:I.timeout,tileRetryMax:this.tileRetryMax,tileRetryDelay:this.tileRetryDelay}),this.tileCache=new t.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new t.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=t.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(Ne=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(Ne,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(Ne=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(Ne,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new t.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),Ne=0;Ne<this.customControls.length;Ne++)this.addControl(this.customControls[Ne].id,{anchor:this.customControls[Ne].anchor});t.requestAnimationFrame(function(){y(xe)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),t._viewers.set(this.element,this)},t.extend(t.Viewer.prototype,t.EventSource.prototype,t.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(I){return t.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(I)},openTileSource:function(I){return t.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(I)},get buttons(){return t.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(I,Q){var xe=this;if(this.close(),!I)return this;if(this.sequenceMode&&t.isArray(I))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof Q<"u"&&!isNaN(Q)&&(this.initialPage=Q),this.tileSources=I,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(t.isArray(I)||(I=[I]),!I.length)return this;this._opening=!0;for(var Ne=I.length,je=0,$e=0,Ke,Et=function(){if(je+$e===Ne)if(je){(xe._firstOpen||!xe.preserveViewport)&&(xe.viewport.goHome(!0),xe.viewport.update()),xe._firstOpen=!1;var me=I[0];if(me.tileSource&&(me=me.tileSource),xe.overlays&&!xe.preserveOverlays)for(var Ie=0;Ie<xe.overlays.length;Ie++)xe.currentOverlays[Ie]=d(xe,xe.overlays[Ie]);xe._drawOverlays(),xe._opening=!1,xe.raiseEvent("open",{source:me})}else xe._opening=!1,xe.raiseEvent("open-failed",Ke)},It=function(me){(!t.isPlainObject(me)||!me.tileSource)&&(me={tileSource:me}),me.index!==void 0&&(t.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete me.index),me.collectionImmediately===void 0&&(me.collectionImmediately=!0);var Ie=me.success;me.success=function(N){if(je++,me.tileSource.overlays)for(var W=0;W<me.tileSource.overlays.length;W++)xe.addOverlay(me.tileSource.overlays[W]);Ie&&Ie(N),Et()};var F=me.error;me.error=function(N){$e++,Ke||(Ke=N),F&&F(N),Et()},xe.addTiledImage(me)},Lt=0;Lt<I.length;Lt++)It(I[Lt]);return this},close:function(){return i[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),i[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(i[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(t.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),i[this.navigator.hash]=null,delete i[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),i[this.hash]=null,delete i[this.hash],this.canvas=null,this.container=null,t._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(I){return this.innerTracker.setTracking(I),this.outerTracker.setTracking(I),this.raiseEvent("mouse-enabled",{enabled:I}),this},areControlsEnabled:function(){var I=this.controls.length,Q;for(Q=0;Q<this.controls.length;Q++)I=I&&this.controls[Q].isVisible();return I},setControlsEnabled:function(I){return I?T(this):y(this),this.raiseEvent("controls-enabled",{enabled:I}),this},setDebugMode:function(I){for(var Q=0;Q<this.world.getItemCount();Q++)this.world.getItemAt(Q).debugMode=I;this.debugMode=I,this.forceRedraw()},setAjaxHeaders:function(I,Q){if(I===null&&(I={}),!t.isPlainObject(I)){console.error("[Viewer.setAjaxHeaders] Ignoring invalid headers, must be a plain object");return}if(Q===void 0&&(Q=!0),this.ajaxHeaders=I,Q){for(var xe=0;xe<this.world.getItemCount();xe++)this.world.getItemAt(xe)._updateAjaxHeaders(!0);if(this.navigator&&this.navigator.setAjaxHeaders(this.ajaxHeaders,!0),this.referenceStrip&&this.referenceStrip.miniViewers)for(var Ne in this.referenceStrip.miniViewers)this.referenceStrip.miniViewers[Ne].setAjaxHeaders(this.ajaxHeaders,!0)}},addButton:function(I){this.buttonGroup.addButton(I)},isFullPage:function(){return i[this.hash].fullPage},setFullPage:function(I){var Q=document.body,xe=Q.style,Ne=document.documentElement.style,je=this,$e,Ke;if(I===this.isFullPage())return this;var Et={fullPage:I,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",Et),Et.preventDefaultAction)return this;if(I){for(this.elementSize=t.getElementSize(this.element),this.pageScroll=t.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=xe.margin,this.docMargin=Ne.margin,xe.margin="0",Ne.margin="0",this.bodyPadding=xe.padding,this.docPadding=Ne.padding,xe.padding="0",Ne.padding="0",this.bodyWidth=xe.width,this.docWidth=Ne.width,xe.width="100%",Ne.width="100%",this.bodyHeight=xe.height,this.docHeight=Ne.height,xe.height="100%",Ne.height="100%",this.bodyDisplay=xe.display,xe.display="block",this.previousBody=[],i[this.hash].prevElementParent=this.element.parentNode,i[this.hash].prevNextSibling=this.element.nextSibling,i[this.hash].prevElementWidth=this.element.style.width,i[this.hash].prevElementHeight=this.element.style.height,$e=Q.childNodes.length,Ke=0;Ke<$e;Ke++)this.previousBody.push(Q.childNodes[0]),Q.removeChild(Q.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,Q.appendChild(this.toolbar.element),t.addClass(this.toolbar.element,"fullpage")),t.addClass(this.element,"fullpage"),Q.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=t.getElementSize(this.element).y-t.getElementSize(this.toolbar.element).y+"px"),i[this.hash].fullPage=!0,t.delegate(this,ve)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,xe.margin=this.bodyMargin,Ne.margin=this.docMargin,xe.padding=this.bodyPadding,Ne.padding=this.docPadding,xe.width=this.bodyWidth,Ne.width=this.docWidth,xe.height=this.bodyHeight,Ne.height=this.docHeight,xe.display=this.bodyDisplay,Q.removeChild(this.element),$e=this.previousBody.length,Ke=0;Ke<$e;Ke++)Q.appendChild(this.previousBody.shift());t.removeClass(this.element,"fullpage"),i[this.hash].prevElementParent.insertBefore(this.element,i[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(Q.removeChild(this.toolbar.element),t.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=i[this.hash].prevElementWidth,this.element.style.height=i[this.hash].prevElementHeight;var It=0,Lt=function(){t.setPageScroll(je.pageScroll);var me=t.getPageScroll();It++,It<10&&(me.x!==je.pageScroll.x||me.y!==je.pageScroll.y)&&t.requestAnimationFrame(Lt)};t.requestAnimationFrame(Lt),i[this.hash].fullPage=!1,t.delegate(this,Re)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:I}),this},setFullScreen:function(I){var Q=this;if(!t.supportsFullScreen)return this.setFullPage(I);if(t.isFullScreen()===I)return this;var xe={fullScreen:I,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",xe),xe.preventDefaultAction)return this;if(I){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var Ne=function(){var je=t.isFullScreen();je||(t.removeEvent(document,t.fullScreenEventName,Ne),t.removeEvent(document,t.fullScreenErrorEventName,Ne),Q.setFullPage(!1),Q.isFullPage()&&(Q.element.style.width=Q.fullPageStyleWidth,Q.element.style.height=Q.fullPageStyleHeight)),Q.navigator&&Q.viewport&&setTimeout(function(){Q.navigator.update(Q.viewport)}),Q.raiseEvent("full-screen",{fullScreen:je})};t.addEvent(document,t.fullScreenEventName,Ne),t.addEvent(document,t.fullScreenErrorEventName,Ne),t.requestFullScreen(document.body)}else t.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},isFullScreen:function(){return t.isFullScreen()&&this.isFullPage()},setVisible:function(I){return this.container.style.visibility=I?"":"hidden",this.raiseEvent("visible",{visible:I}),this},addTiledImage:function(I){t.console.assert(I,"[Viewer.addTiledImage] options is required"),t.console.assert(I.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),t.console.assert(!I.replace||I.index>-1&&I.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var Q=this;I.replace&&(I.replaceItem=Q.world.getItemAt(I.index)),this._hideMessage(),I.placeholderFillStyle===void 0&&(I.placeholderFillStyle=this.placeholderFillStyle),I.opacity===void 0&&(I.opacity=this.opacity),I.preload===void 0&&(I.preload=this.preload),I.compositeOperation===void 0&&(I.compositeOperation=this.compositeOperation),I.crossOriginPolicy===void 0&&(I.crossOriginPolicy=I.tileSource.crossOriginPolicy!==void 0?I.tileSource.crossOriginPolicy:this.crossOriginPolicy),I.ajaxWithCredentials===void 0&&(I.ajaxWithCredentials=this.ajaxWithCredentials),I.loadTilesWithAjax===void 0&&(I.loadTilesWithAjax=this.loadTilesWithAjax),t.isPlainObject(I.ajaxHeaders)||(I.ajaxHeaders={});var xe={options:I};function Ne(Ke){for(var Et=0;Et<Q._loadQueue.length;Et++)if(Q._loadQueue[Et]===xe){Q._loadQueue.splice(Et,1);break}Q._loadQueue.length===0&&je(xe),Q.raiseEvent("add-item-failed",Ke),I.error&&I.error(Ke)}function je(Ke){Q.collectionMode&&(Q.world.arrange({immediately:Ke.options.collectionImmediately,rows:Q.collectionRows,columns:Q.collectionColumns,layout:Q.collectionLayout,tileSize:Q.collectionTileSize,tileMargin:Q.collectionTileMargin}),Q.world.setAutoRefigureSizes(!0))}if(t.isArray(I.tileSource)){setTimeout(function(){Ne({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:I.tileSource,options:I})});return}this._loadQueue.push(xe);function $e(){for(var Ke,Et,It;Q._loadQueue.length&&(Ke=Q._loadQueue[0],!!Ke.tileSource);){if(Q._loadQueue.splice(0,1),Ke.options.replace){var Lt=Q.world.getIndexOfItem(Ke.options.replaceItem);Lt!==-1&&(Ke.options.index=Lt),Q.world.removeItem(Ke.options.replaceItem)}Et=new t.TiledImage({viewer:Q,source:Ke.tileSource,viewport:Q.viewport,drawer:Q.drawer,tileCache:Q.tileCache,imageLoader:Q.imageLoader,x:Ke.options.x,y:Ke.options.y,width:Ke.options.width,height:Ke.options.height,fitBounds:Ke.options.fitBounds,fitBoundsPlacement:Ke.options.fitBoundsPlacement,clip:Ke.options.clip,placeholderFillStyle:Ke.options.placeholderFillStyle,opacity:Ke.options.opacity,preload:Ke.options.preload,degrees:Ke.options.degrees,flipped:Ke.options.flipped,compositeOperation:Ke.options.compositeOperation,springStiffness:Q.springStiffness,animationTime:Q.animationTime,minZoomImageRatio:Q.minZoomImageRatio,wrapHorizontal:Q.wrapHorizontal,wrapVertical:Q.wrapVertical,immediateRender:Q.immediateRender,blendTime:Q.blendTime,alwaysBlend:Q.alwaysBlend,minPixelRatio:Q.minPixelRatio,smoothTileEdgesMinZoom:Q.smoothTileEdgesMinZoom,iOSDevice:Q.iOSDevice,crossOriginPolicy:Ke.options.crossOriginPolicy,ajaxWithCredentials:Ke.options.ajaxWithCredentials,loadTilesWithAjax:Ke.options.loadTilesWithAjax,ajaxHeaders:Ke.options.ajaxHeaders,debugMode:Q.debugMode,subPixelRoundingForTransparency:Q.subPixelRoundingForTransparency}),Q.collectionMode&&Q.world.setAutoRefigureSizes(!1),Q.navigator&&(It=t.extend({},Ke.options,{replace:!1,originalTiledImage:Et,tileSource:Ke.tileSource}),Q.navigator.addTiledImage(It)),Q.world.addItem(Et,{index:Ke.options.index}),Q._loadQueue.length===0&&je(Ke),Q.world.getItemCount()===1&&!Q.preserveViewport&&Q.viewport.goHome(!0),Ke.options.success&&Ke.options.success({item:Et})}}h(this,I.tileSource,I,function(Ke){xe.tileSource=Ke,$e()},function(Ke){Ke.options=I,Ne(Ke),$e()})},addSimpleImage:function(I){t.console.assert(I,"[Viewer.addSimpleImage] options is required"),t.console.assert(I.url,"[Viewer.addSimpleImage] options.url is required");var Q=t.extend({},I,{tileSource:{type:"image",url:I.url}});delete Q.url,this.addTiledImage(Q)},addLayer:function(I){var Q=this;t.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var xe=t.extend({},I,{success:function(Ne){Q.raiseEvent("add-layer",{options:I,drawer:Ne.item})},error:function(Ne){Q.raiseEvent("add-layer-failed",Ne)}});return this.addTiledImage(xe),this},getLayerAtLevel:function(I){return t.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(I)},getLevelOfLayer:function(I){return t.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(I)},getLayersCount:function(){return t.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(I,Q){return t.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(I,Q)},removeLayer:function(I){return t.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(I)},forceRedraw:function(){return i[this.hash].forceRedraw=!0,this},forceResize:function(){i[this.hash].needsResize=!0,i[this.hash].forceResize=!0},bindSequenceControls:function(){var I=t.delegate(this,k),Q=t.delegate(this,P),xe=t.delegate(this,this.goToNextPage),Ne=t.delegate(this,this.goToPreviousPage),je=this.navImages,$e=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&($e=!1),this.previousButton=new t.Button({element:this.previousButton?t.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.PreviousPage"),srcRest:ee(this.prefixUrl,je.previous.REST),srcGroup:ee(this.prefixUrl,je.previous.GROUP),srcHover:ee(this.prefixUrl,je.previous.HOVER),srcDown:ee(this.prefixUrl,je.previous.DOWN),onRelease:Ne,onFocus:I,onBlur:Q}),this.nextButton=new t.Button({element:this.nextButton?t.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.NextPage"),srcRest:ee(this.prefixUrl,je.next.REST),srcGroup:ee(this.prefixUrl,je.next.GROUP),srcHover:ee(this.prefixUrl,je.next.HOVER),srcDown:ee(this.prefixUrl,je.next.DOWN),onRelease:xe,onFocus:I,onBlur:Q}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),$e&&(this.paging=new t.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:t.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||t.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var I=t.delegate(this,Ct),Q=t.delegate(this,at),xe=t.delegate(this,Tt),Ne=t.delegate(this,tt),je=t.delegate(this,rt),$e=t.delegate(this,xt),Ke=t.delegate(this,Ht),Et=t.delegate(this,on),It=t.delegate(this,Dt),Lt=t.delegate(this,Yt),me=t.delegate(this,k),Ie=t.delegate(this,P),F=this.navImages,N=[],W=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(W=!1),this.showZoomControl&&(N.push(this.zoomInButton=new t.Button({element:this.zoomInButton?t.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomIn"),srcRest:ee(this.prefixUrl,F.zoomIn.REST),srcGroup:ee(this.prefixUrl,F.zoomIn.GROUP),srcHover:ee(this.prefixUrl,F.zoomIn.HOVER),srcDown:ee(this.prefixUrl,F.zoomIn.DOWN),onPress:I,onRelease:Q,onClick:xe,onEnter:I,onExit:Q,onFocus:me,onBlur:Ie})),N.push(this.zoomOutButton=new t.Button({element:this.zoomOutButton?t.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomOut"),srcRest:ee(this.prefixUrl,F.zoomOut.REST),srcGroup:ee(this.prefixUrl,F.zoomOut.GROUP),srcHover:ee(this.prefixUrl,F.zoomOut.HOVER),srcDown:ee(this.prefixUrl,F.zoomOut.DOWN),onPress:Ne,onRelease:Q,onClick:je,onEnter:Ne,onExit:Q,onFocus:me,onBlur:Ie}))),this.showHomeControl&&N.push(this.homeButton=new t.Button({element:this.homeButton?t.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Home"),srcRest:ee(this.prefixUrl,F.home.REST),srcGroup:ee(this.prefixUrl,F.home.GROUP),srcHover:ee(this.prefixUrl,F.home.HOVER),srcDown:ee(this.prefixUrl,F.home.DOWN),onRelease:$e,onFocus:me,onBlur:Ie})),this.showFullPageControl&&N.push(this.fullPageButton=new t.Button({element:this.fullPageButton?t.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.FullPage"),srcRest:ee(this.prefixUrl,F.fullpage.REST),srcGroup:ee(this.prefixUrl,F.fullpage.GROUP),srcHover:ee(this.prefixUrl,F.fullpage.HOVER),srcDown:ee(this.prefixUrl,F.fullpage.DOWN),onRelease:Ke,onFocus:me,onBlur:Ie})),this.showRotationControl&&(N.push(this.rotateLeftButton=new t.Button({element:this.rotateLeftButton?t.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateLeft"),srcRest:ee(this.prefixUrl,F.rotateleft.REST),srcGroup:ee(this.prefixUrl,F.rotateleft.GROUP),srcHover:ee(this.prefixUrl,F.rotateleft.HOVER),srcDown:ee(this.prefixUrl,F.rotateleft.DOWN),onRelease:Et,onFocus:me,onBlur:Ie})),N.push(this.rotateRightButton=new t.Button({element:this.rotateRightButton?t.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateRight"),srcRest:ee(this.prefixUrl,F.rotateright.REST),srcGroup:ee(this.prefixUrl,F.rotateright.GROUP),srcHover:ee(this.prefixUrl,F.rotateright.HOVER),srcDown:ee(this.prefixUrl,F.rotateright.DOWN),onRelease:It,onFocus:me,onBlur:Ie}))),this.showFlipControl&&N.push(this.flipButton=new t.Button({element:this.flipButton?t.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Flip"),srcRest:ee(this.prefixUrl,F.flip.REST),srcGroup:ee(this.prefixUrl,F.flip.GROUP),srcHover:ee(this.prefixUrl,F.flip.HOVER),srcDown:ee(this.prefixUrl,F.flip.DOWN),onRelease:Lt,onFocus:me,onBlur:Ie})),W?(this.buttonGroup=new t.ButtonGroup({buttons:N,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",t.delegate(this,Ye)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT})):this.customButtons=N),this},currentPage:function(){return this._sequenceIndex},goToPage:function(I){return this.tileSources&&I>=0&&I<this.tileSources.length&&(this._sequenceIndex=I,this._updateSequenceButtons(I),this.open(this.tileSources[I]),this.referenceStrip&&this.referenceStrip.setFocus(I),this.raiseEvent("page",{page:I})),this},addOverlay:function(I,Q,xe,Ne){var je;if(t.isPlainObject(I)?je=I:je={element:I,location:Q,placement:xe,onDraw:Ne},I=t.getElement(je.element),p(this.currentOverlays,I)>=0)return this;var $e=d(this,je);return this.currentOverlays.push($e),$e.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:I,location:je.location,placement:je.placement}),this},updateOverlay:function(I,Q,xe){var Ne;return I=t.getElement(I),Ne=p(this.currentOverlays,I),Ne>=0&&(this.currentOverlays[Ne].update(Q,xe),i[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:I,location:Q,placement:xe})),this},removeOverlay:function(I){var Q;return I=t.getElement(I),Q=p(this.currentOverlays,I),Q>=0&&(this.currentOverlays[Q].destroy(),this.currentOverlays.splice(Q,1),i[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:I})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return i[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(I){var Q;return I=t.getElement(I),Q=p(this.currentOverlays,I),Q>=0?this.currentOverlays[Q]:null},_updateSequenceButtons:function(I){this.nextButton&&(!this.tileSources||this.tileSources.length-1===I?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(I>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(I){this._hideMessage();var Q=t.makeNeutralElement("div");Q.appendChild(document.createTextNode(I)),this.messageDiv=t.makeCenteredNode(Q),t.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var I=this.messageDiv;I&&(I.parentNode.removeChild(I),delete this.messageDiv)},gestureSettingsByDeviceType:function(I){switch(I){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var I,Q=this.currentOverlays.length;for(I=0;I<Q;I++)this.currentOverlays[I].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new t.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else t.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),t.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){t.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var I=t.pixelDensityRatio,Q=t.getCurrentPixelDensityRatio();I!==Q&&(t.pixelDensityRatio=Q,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var I=this._sequenceIndex-1;this.navPrevNextWrap&&I<0&&(I+=this.tileSources.length),this.goToPage(I)},goToNextPage:function(){var I=this._sequenceIndex+1;this.navPrevNextWrap&&I>=this.tileSources.length&&(I=0),this.goToPage(I)},isAnimating:function(){return i[this.hash].animating}});function l(I){return I=t.getElement(I),new t.Point(I.clientWidth===0?1:I.clientWidth,I.clientHeight===0?1:I.clientHeight)}function h(I,Q,xe,Ne,je){var $e=I;if(t.type(Q)==="string"){if(Q.match(/^\s*<.*>\s*$/))Q=t.parseXml(Q);else if(Q.match(/^\s*[{[].*[}\]]\s*$/))try{var Ke=t.parseJSON(Q);Q=Ke}catch{}}function Et(It,Lt){It.ready?Ne(It):(It.addHandler("ready",function(){Ne(It)}),It.addHandler("open-failed",function(me){je({message:me.message,source:Lt})}))}setTimeout(function(){if(t.type(Q)==="string")Q=new t.TileSource({url:Q,crossOriginPolicy:xe.crossOriginPolicy!==void 0?xe.crossOriginPolicy:I.crossOriginPolicy,ajaxWithCredentials:I.ajaxWithCredentials,ajaxHeaders:xe.ajaxHeaders?xe.ajaxHeaders:I.ajaxHeaders,splitHashDataForPost:I.splitHashDataForPost,useCanvas:I.useCanvas,success:function(Ie){Ne(Ie.tileSource)}}),Q.addHandler("open-failed",function(Ie){je(Ie)});else if(t.isPlainObject(Q)||Q.nodeType)if(Q.crossOriginPolicy===void 0&&(xe.crossOriginPolicy!==void 0||I.crossOriginPolicy!==void 0)&&(Q.crossOriginPolicy=xe.crossOriginPolicy!==void 0?xe.crossOriginPolicy:I.crossOriginPolicy),Q.ajaxWithCredentials===void 0&&(Q.ajaxWithCredentials=I.ajaxWithCredentials),Q.useCanvas===void 0&&(Q.useCanvas=I.useCanvas),t.isFunction(Q.getTileUrl)){var It=new t.TileSource(Q);It.getTileUrl=Q.getTileUrl,Ne(It)}else{var Lt=t.TileSource.determineType($e,Q);if(!Lt){je({message:"Unable to load TileSource",source:Q});return}var me=Lt.prototype.configure.apply($e,[Q]);Et(new Lt(me),Q)}else Et(Q,Q)})}function d(I,Q){if(Q instanceof t.Overlay)return Q;var xe=null;if(Q.element)xe=t.getElement(Q.element);else{var Ne=Q.id?Q.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);xe=t.getElement(Q.id),xe||(xe=document.createElement("a"),xe.href="#/overlay/"+Ne),xe.id=Ne,t.addClass(xe,Q.className?Q.className:"openseadragon-overlay")}var je=Q.location,$e=Q.width,Ke=Q.height;if(!je){var Et=Q.x,It=Q.y;if(Q.px!==void 0){var Lt=I.viewport.imageToViewportRectangle(new t.Rect(Q.px,Q.py,$e||0,Ke||0));Et=Lt.x,It=Lt.y,$e=$e!==void 0?Lt.width:void 0,Ke=Ke!==void 0?Lt.height:void 0}je=new t.Point(Et,It)}var me=Q.placement;return me&&t.type(me)==="string"&&(me=t.Placement[Q.placement.toUpperCase()]),new t.Overlay({element:xe,location:je,placement:me,onDraw:Q.onDraw,checkResize:Q.checkResize,width:$e,height:Ke,rotationMode:Q.rotationMode})}function p(I,Q){var xe;for(xe=I.length-1;xe>=0;xe--)if(I[xe].element===Q)return xe;return-1}function f(I,Q){return t.requestAnimationFrame(function(){Q(I)})}function g(I){t.requestAnimationFrame(function(){S(I)})}function y(I){I.autoHideControls&&(I.controlsShouldFade=!0,I.controlsFadeBeginTime=t.now()+I.controlsFadeDelay,window.setTimeout(function(){g(I)},I.controlsFadeDelay))}function S(I){var Q,xe,Ne,je;if(I.controlsShouldFade){for(Q=t.now(),xe=Q-I.controlsFadeBeginTime,Ne=1-xe/I.controlsFadeLength,Ne=Math.min(1,Ne),Ne=Math.max(0,Ne),je=I.controls.length-1;je>=0;je--)I.controls[je].autoFade&&I.controls[je].setOpacity(Ne);Ne>0&&g(I)}}function T(I){var Q;for(I.controlsShouldFade=!1,Q=I.controls.length-1;Q>=0;Q--)I.controls[Q].setOpacity(1)}function k(){T(this)}function P(){y(this)}function _(I){var Q={tracker:I.eventSource,position:I.position,originalEvent:I.originalEvent,preventDefault:I.preventDefault};this.raiseEvent("canvas-contextmenu",Q),I.preventDefault=Q.preventDefault}function D(I){var Q={originalEvent:I.originalEvent,preventDefaultAction:!1,preventVerticalPan:I.preventVerticalPan||!this.panVertical,preventHorizontalPan:I.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",Q),!Q.preventDefaultAction&&!I.ctrl&&!I.alt&&!I.meta)switch(I.keyCode){case 38:Q.preventVerticalPan||(I.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 40:Q.preventVerticalPan||(I.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 37:Q.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 39:Q.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 187:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 189:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 87:Q.preventVerticalPan||(I.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-40))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 83:Q.preventVerticalPan||(I.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,40))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 65:Q.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-40,0))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 68:Q.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(40,0))),this.viewport.applyConstraints()),I.preventDefault=!0;break;case 82:I.shift?this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),I.preventDefault=!0;break;case 70:this.viewport.toggleFlip(),I.preventDefault=!0;break;case 74:this.goToPreviousPage();break;case 75:this.goToNextPage();break;default:I.preventDefault=!1;break}else I.preventDefault=!1}function q(I){var Q={originalEvent:I.originalEvent};this.raiseEvent("canvas-key-press",Q)}function G(I){var Q,xe=document.activeElement===this.canvas;xe||this.canvas.focus(),this.viewport.flipped&&(I.position.x=this.viewport.getContainerSize().x-I.position.x);var Ne={tracker:I.eventSource,position:I.position,quick:I.quick,shift:I.shift,originalEvent:I.originalEvent,originalTarget:I.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",Ne),!Ne.preventDefaultAction&&this.viewport&&I.quick&&(Q=this.gestureSettingsByDeviceType(I.pointerType),Q.clickToZoom===!0&&(this.viewport.zoomBy(I.shift?1/this.zoomPerClick:this.zoomPerClick,Q.zoomToRefPoint?this.viewport.pointFromPixel(I.position,!0):null),this.viewport.applyConstraints()),Q.dblClickDragToZoom&&(i[this.hash].draggingToZoom===!0?(i[this.hash].lastClickTime=null,i[this.hash].draggingToZoom=!1):i[this.hash].lastClickTime=t.now()))}function ne(I){var Q,xe={tracker:I.eventSource,position:I.position,shift:I.shift,originalEvent:I.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",xe),!xe.preventDefaultAction&&this.viewport&&(Q=this.gestureSettingsByDeviceType(I.pointerType),Q.dblClickToZoom&&(this.viewport.zoomBy(I.shift?1/this.zoomPerClick:this.zoomPerClick,Q.zoomToRefPoint?this.viewport.pointFromPixel(I.position,!0):null),this.viewport.applyConstraints()))}function K(I){var Q,xe={tracker:I.eventSource,pointerType:I.pointerType,position:I.position,delta:I.delta,speed:I.speed,direction:I.direction,shift:I.shift,originalEvent:I.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",xe),Q=this.gestureSettingsByDeviceType(I.pointerType),!xe.preventDefaultAction&&this.viewport){if(Q.dblClickDragToZoom&&i[this.hash].draggingToZoom){var Ne=Math.pow(this.zoomPerDblClickDrag,I.delta.y/50);this.viewport.zoomBy(Ne)}else if(Q.dragToPan&&!i[this.hash].draggingToZoom){if(this.panHorizontal||(I.delta.x=0),this.panVertical||(I.delta.y=0),this.viewport.flipped&&(I.delta.x=-I.delta.x),this.constrainDuringPan){var je=this.viewport.deltaPointsFromPixels(I.delta.negate());this.viewport.centerSpringX.target.value+=je.x,this.viewport.centerSpringY.target.value+=je.y;var $e=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=je.x,this.viewport.centerSpringY.target.value-=je.y,$e.xConstrained&&(I.delta.x=0),$e.yConstrained&&(I.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(I.delta.negate()),Q.flickEnabled&&!this.constrainDuringPan)}}}function Y(I){var Q,xe={tracker:I.eventSource,pointerType:I.pointerType,position:I.position,speed:I.speed,direction:I.direction,shift:I.shift,originalEvent:I.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",xe),Q=this.gestureSettingsByDeviceType(I.pointerType),!xe.preventDefaultAction&&this.viewport){if(!i[this.hash].draggingToZoom&&Q.flickEnabled&&I.speed>=Q.flickMinSpeed){var Ne=0;this.panHorizontal&&(Ne=Q.flickMomentum*I.speed*Math.cos(I.direction));var je=0;this.panVertical&&(je=Q.flickMomentum*I.speed*Math.sin(I.direction));var $e=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),Ke=this.viewport.pointFromPixel(new t.Point($e.x-Ne,$e.y-je));this.viewport.panTo(Ke,!1)}this.viewport.applyConstraints()}Q.dblClickDragToZoom&&i[this.hash].draggingToZoom===!0&&(i[this.hash].draggingToZoom=!1)}function se(I){this.raiseEvent("canvas-enter",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,buttons:I.buttons,pointers:I.pointers,insideElementPressed:I.insideElementPressed,buttonDownAny:I.buttonDownAny,originalEvent:I.originalEvent})}function ce(I){this.raiseEvent("canvas-exit",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,buttons:I.buttons,pointers:I.pointers,insideElementPressed:I.insideElementPressed,buttonDownAny:I.buttonDownAny,originalEvent:I.originalEvent})}function de(I){var Q;if(this.raiseEvent("canvas-press",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,insideElementPressed:I.insideElementPressed,insideElementReleased:I.insideElementReleased,originalEvent:I.originalEvent}),Q=this.gestureSettingsByDeviceType(I.pointerType),Q.dblClickDragToZoom){var xe=i[this.hash].lastClickTime,Ne=t.now();if(xe===null)return;Ne-xe<this.dblClickTimeThreshold&&(i[this.hash].draggingToZoom=!0),i[this.hash].lastClickTime=null}}function ie(I){this.raiseEvent("canvas-release",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,insideElementPressed:I.insideElementPressed,insideElementReleased:I.insideElementReleased,originalEvent:I.originalEvent})}function ge(I){this.raiseEvent("canvas-nonprimary-press",{tracker:I.eventSource,position:I.position,pointerType:I.pointerType,button:I.button,buttons:I.buttons,originalEvent:I.originalEvent})}function pe(I){this.raiseEvent("canvas-nonprimary-release",{tracker:I.eventSource,position:I.position,pointerType:I.pointerType,button:I.button,buttons:I.buttons,originalEvent:I.originalEvent})}function be(I){var Q,xe,Ne,je,$e={tracker:I.eventSource,pointerType:I.pointerType,gesturePoints:I.gesturePoints,lastCenter:I.lastCenter,center:I.center,lastDistance:I.lastDistance,distance:I.distance,shift:I.shift,originalEvent:I.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",$e),this.viewport&&(Q=this.gestureSettingsByDeviceType(I.pointerType),Q.pinchToZoom&&(!$e.preventDefaultPanAction||!$e.preventDefaultZoomAction)&&(xe=this.viewport.pointFromPixel(I.center,!0),Q.zoomToRefPoint&&!$e.preventDefaultPanAction&&(Ne=this.viewport.pointFromPixel(I.lastCenter,!0),je=Ne.minus(xe),this.panHorizontal||(je.x=0),this.panVertical||(je.y=0),this.viewport.panBy(je,!0)),$e.preventDefaultZoomAction||this.viewport.zoomBy(I.distance/I.lastDistance,xe,!0),this.viewport.applyConstraints()),Q.pinchRotate&&!$e.preventDefaultRotateAction)){var Ke=Math.atan2(I.gesturePoints[0].currentPos.y-I.gesturePoints[1].currentPos.y,I.gesturePoints[0].currentPos.x-I.gesturePoints[1].currentPos.x),Et=Math.atan2(I.gesturePoints[0].lastPos.y-I.gesturePoints[1].lastPos.y,I.gesturePoints[0].lastPos.x-I.gesturePoints[1].lastPos.x);xe=this.viewport.pointFromPixel(I.center,!0),this.viewport.rotateTo(this.viewport.getRotation(!0)+(Ke-Et)*(180/Math.PI),xe,!0)}}function Ae(I){this.raiseEvent("canvas-focus",{tracker:I.eventSource,originalEvent:I.originalEvent})}function Le(I){this.raiseEvent("canvas-blur",{tracker:I.eventSource,originalEvent:I.originalEvent})}function Se(I){var Q,xe,Ne,je,$e;je=t.now(),$e=je-this._lastScrollTime,$e>this.minScrollDeltaTime?(this._lastScrollTime=je,Q={tracker:I.eventSource,position:I.position,scroll:I.scroll,shift:I.shift,originalEvent:I.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",Q),!Q.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(I.position.x=this.viewport.getContainerSize().x-I.position.x),xe=this.gestureSettingsByDeviceType(I.pointerType),xe.scrollToZoom&&(Ne=Math.pow(this.zoomPerScroll,I.scroll),this.viewport.zoomBy(Ne,xe.zoomToRefPoint?this.viewport.pointFromPixel(I.position,!0):null),this.viewport.applyConstraints())),I.preventDefault=Q.preventDefault):I.preventDefault=!0}function ve(I){i[this.hash].mouseInside=!0,T(this),this.raiseEvent("container-enter",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,buttons:I.buttons,pointers:I.pointers,insideElementPressed:I.insideElementPressed,buttonDownAny:I.buttonDownAny,originalEvent:I.originalEvent})}function Re(I){I.pointers<1&&(i[this.hash].mouseInside=!1,i[this.hash].animating||y(this)),this.raiseEvent("container-exit",{tracker:I.eventSource,pointerType:I.pointerType,position:I.position,buttons:I.buttons,pointers:I.pointers,insideElementPressed:I.insideElementPressed,buttonDownAny:I.buttonDownAny,originalEvent:I.originalEvent})}function _e(I){ze(I),I.isOpen()?I._updateRequestId=f(I,_e):I._updateRequestId=!1}function J(I,Q){var xe=I.viewport,Ne=xe.getZoom(),je=xe.getCenter();xe.resize(Q,I.preserveImageSizeOnResize),xe.panTo(je,!0);var $e;if(I.preserveImageSizeOnResize)$e=i[I.hash].prevContainerSize.x/Q.x;else{var Ke=new t.Point(0,0),Et=new t.Point(i[I.hash].prevContainerSize.x,i[I.hash].prevContainerSize.y).distanceTo(Ke),It=new t.Point(Q.x,Q.y).distanceTo(Ke);$e=It/Et*i[I.hash].prevContainerSize.x/Q.x}xe.zoomTo(Ne*$e,null,!0),i[I.hash].prevContainerSize=Q,i[I.hash].forceRedraw=!0,i[I.hash].needsResize=!1,i[I.hash].forceResize=!1}function ze(I){if(!(I._opening||!i[I.hash])){if(I.autoResize||i[I.hash].forceResize){var Q;if(I._autoResizePolling){Q=l(I.container);var xe=i[I.hash].prevContainerSize;Q.equals(xe)||(i[I.hash].needsResize=!0)}i[I.hash].needsResize&&J(I,Q||l(I.container))}var Ne=I.viewport.update(),je=I.world.update()||Ne;Ne&&I.raiseEvent("viewport-change"),I.referenceStrip&&(je=I.referenceStrip.update(I.viewport)||je);var $e=i[I.hash].animating;!$e&&je&&(I.raiseEvent("animation-start"),T(I));var Ke=$e&&!je;Ke&&(i[I.hash].animating=!1),(je||Ke||i[I.hash].forceRedraw||I.world.needsDraw())&&(st(I),I._drawOverlays(),I.navigator&&I.navigator.update(I.viewport),i[I.hash].forceRedraw=!1,je&&I.raiseEvent("animation")),Ke&&(I.raiseEvent("animation-finish"),i[I.hash].mouseInside||y(I)),i[I.hash].animating=je}}function st(I){I.imageLoader.clear(),I.drawer.clear(),I.world.draw(),I.raiseEvent("update-viewport",{})}function ee(I,Q){return I?I+Q:Q}function Ct(){i[this.hash].lastZoomTime=t.now(),i[this.hash].zoomFactor=this.zoomPerSecond,i[this.hash].zooming=!0,yt(this)}function tt(){i[this.hash].lastZoomTime=t.now(),i[this.hash].zoomFactor=1/this.zoomPerSecond,i[this.hash].zooming=!0,yt(this)}function at(){i[this.hash].zooming=!1}function yt(I){t.requestAnimationFrame(t.delegate(I,Ot))}function Ot(){var I,Q,xe;i[this.hash].zooming&&this.viewport&&(I=t.now(),Q=I-i[this.hash].lastZoomTime,xe=Math.pow(i[this.hash].zoomFactor,Q/1e3),this.viewport.zoomBy(xe),this.viewport.applyConstraints(),i[this.hash].lastZoomTime=I,yt(this))}function Tt(){this.viewport&&(i[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function rt(){this.viewport&&(i[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function Ye(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function xt(){this.viewport&&this.viewport.goHome()}function Ht(){this.isFullPage()&&!t.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function on(){if(this.viewport){var I=this.viewport.getRotation();this.viewport.flipped?I+=this.rotationIncrement:I-=this.rotationIncrement,this.viewport.setRotation(I)}}function Dt(){if(this.viewport){var I=this.viewport.getRotation();this.viewport.flipped?I-=this.rotationIncrement:I+=this.rotationIncrement,this.viewport.setRotation(I)}}function Yt(){this.viewport.toggleFlip()}}(n),function(t){t.Navigator=function(f){var g=f.viewer,y=this,S,T;f.element||f.id?(f.element?(f.id&&t.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),f.element.id?f.id=f.element.id:f.id="navigator-"+t.now(),this.element=f.element):this.element=document.getElementById(f.id),f.controlOptions={anchor:t.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(f.id="navigator-"+t.now(),this.element=t.makeNeutralElement("div"),f.controlOptions={anchor:t.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:f.autoFade},f.position&&(f.position==="BOTTOM_RIGHT"?f.controlOptions.anchor=t.ControlAnchor.BOTTOM_RIGHT:f.position==="BOTTOM_LEFT"?f.controlOptions.anchor=t.ControlAnchor.BOTTOM_LEFT:f.position==="TOP_RIGHT"?f.controlOptions.anchor=t.ControlAnchor.TOP_RIGHT:f.position==="TOP_LEFT"?f.controlOptions.anchor=t.ControlAnchor.TOP_LEFT:f.position==="ABSOLUTE"&&(f.controlOptions.anchor=t.ControlAnchor.ABSOLUTE,f.controlOptions.top=f.top,f.controlOptions.left=f.left,f.controlOptions.height=f.height,f.controlOptions.width=f.width))),this.element.id=f.id,this.element.className+=" navigator",f=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.navigatorSizeRatio},f,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:f.animationTime,autoResize:!1,minZoomImageRatio:1,background:f.background,opacity:f.opacity,borderColor:f.borderColor,displayRegionColor:f.displayRegionColor}),f.minPixelRatio=this.minPixelRatio=g.minPixelRatio,t.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new t.Point(1,1),this.totalBorderWidths=new t.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),f.controlOptions.anchor!==t.ControlAnchor.NONE&&function(_,D){_.margin="0px",_.border=D+"px solid "+f.borderColor,_.padding="0px",_.background=f.background,_.opacity=f.opacity,_.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=t.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(_,D){_.position="relative",_.top="0px",_.left="0px",_.fontSize="0px",_.overflow="hidden",_.border=D+"px solid "+f.displayRegionColor,_.margin="0px",_.padding="0px",_.background="transparent",_.float="left",_.cssFloat="left",_.styleFloat="left",_.zIndex=999999999,_.cursor="default",_.boxSizing="content-box"}(this.displayRegion.style,this.borderWidth),t.setElementPointerEventsNone(this.displayRegion),t.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=t.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",t.setElementPointerEventsNone(this.displayRegionContainer),t.setElementTouchActionNone(this.displayRegionContainer),g.addControl(this.element,f.controlOptions),this._resizeWithViewer=f.controlOptions.anchor!==t.ControlAnchor.ABSOLUTE&&f.controlOptions.anchor!==t.ControlAnchor.NONE,f.width&&f.height?(this.setWidth(f.width),this.setHeight(f.height)):this._resizeWithViewer&&(S=t.getElementSize(g.element),this.element.style.height=Math.round(S.y*f.sizeRatio)+"px",this.element.style.width=Math.round(S.x*f.sizeRatio)+"px",this.oldViewerSize=S,T=t.getElementSize(this.element),this.elementArea=T.x*T.y),this.oldContainerSize=new t.Point(0,0),t.Viewer.apply(this,[f]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function k(_,D){d(y.displayRegionContainer,_),d(y.displayRegion,-_),y.viewport.setRotation(_,D)}if(f.navigatorRotate){var P=f.viewer.viewport?f.viewer.viewport.getRotation():f.viewer.degrees||0;k(P,!0),f.viewer.addHandler("rotate",function(_){k(_.degrees,_.immediately)})}this.innerTracker.destroy(),this.innerTracker=new t.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:t.delegate(this,r),clickHandler:t.delegate(this,i),releaseHandler:t.delegate(this,l),scrollHandler:t.delegate(this,h),preProcessEventHandler:function(_){_.eventType==="wheel"&&(_.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",t.setElementPointerEventsNone(this.canvas),t.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){y.viewport&&y.viewport.goHome(!0)}),g.world.addHandler("item-index-change",function(_){window.setTimeout(function(){var D=y.world.getItemAt(_.previousIndex);y.world.setItemIndex(D,_.newIndex)},1)}),g.world.addHandler("remove-item",function(_){var D=_.item,q=y._getMatchingItem(D);q&&y.world.removeItem(q)}),this.update(g.viewport)},t.extend(t.Navigator.prototype,t.EventSource.prototype,t.Viewer.prototype,{updateSize:function(){if(this.viewport){var f=new t.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);f.equals(this.oldContainerSize)||(this.viewport.resize(f,!0),this.viewport.goHome(!0),this.oldContainerSize=f,this.drawer.clear(),this.world.draw())}},setWidth:function(f){this.width=f,this.element.style.width=typeof f=="number"?f+"px":f,this._resizeWithViewer=!1,this.updateSize()},setHeight:function(f){this.height=f,this.element.style.height=typeof f=="number"?f+"px":f,this._resizeWithViewer=!1,this.updateSize()},setFlip:function(f){return this.viewport.setFlip(f),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(f){p(this.displayRegion,f),p(this.canvas,f),p(this.element,f)},update:function(f){var g,y,S,T,k,P;if(g=t.getElementSize(this.viewer.element),this._resizeWithViewer&&g.x&&g.y&&!g.equals(this.oldViewerSize)&&(this.oldViewerSize=g,this.maintainSizeRatio||!this.elementArea?(y=g.x*this.sizeRatio,S=g.y*this.sizeRatio):(y=Math.sqrt(this.elementArea*(g.x/g.y)),S=this.elementArea/y),this.element.style.width=Math.round(y)+"px",this.element.style.height=Math.round(S)+"px",this.elementArea||(this.elementArea=y*S),this.updateSize()),f&&this.viewport){if(T=f.getBoundsNoRotate(!0),k=this.viewport.pixelFromPointNoRotate(T.getTopLeft(),!1),P=this.viewport.pixelFromPointNoRotate(T.getBottomRight(),!1).minus(this.totalBorderWidths),!this.navigatorRotate){var _=f.getRotation(!0);d(this.displayRegion,-_)}var D=this.displayRegion.style;D.display=this.world.getItemCount()?"block":"none",D.top=k.y.toFixed(2)+"px",D.left=k.x.toFixed(2)+"px";var q=P.x-k.x,G=P.y-k.y;D.width=Math.round(Math.max(q,0))+"px",D.height=Math.round(Math.max(G,0))+"px"}},addTiledImage:function(f){var g=this,y=f.originalTiledImage;delete f.original;var S=t.extend({},f,{success:function(T){var k=T.item;k._originalForNavigator=y,g._matchBounds(k,y,!0),g._matchOpacity(k,y),g._matchCompositeOperation(k,y);function P(){g._matchBounds(k,y)}function _(){g._matchOpacity(k,y)}function D(){g._matchCompositeOperation(k,y)}y.addHandler("bounds-change",P),y.addHandler("clip-change",P),y.addHandler("opacity-change",_),y.addHandler("composite-operation-change",D)}});return t.Viewer.prototype.addTiledImage.apply(this,[S])},destroy:function(){return t.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(f){for(var g=this.world.getItemCount(),y,S=0;S<g;S++)if(y=this.world.getItemAt(S),y._originalForNavigator===f)return y;return null},_matchBounds:function(f,g,y){var S=g.getBoundsNoRotate();f.setPosition(S.getTopLeft(),y),f.setWidth(S.width,y),f.setRotation(g.getRotation(),y),f.setClip(g.getClip()),f.setFlip(g.getFlip())},_matchOpacity:function(f,g){f.setOpacity(g.opacity)},_matchCompositeOperation:function(f,g){f.setCompositeOperation(g.compositeOperation)}});function i(f){var g={tracker:f.eventSource,position:f.position,quick:f.quick,shift:f.shift,originalEvent:f.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",g),!g.preventDefaultAction&&f.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(f.position.x=this.viewport.getContainerSize().x-f.position.x);var y=this.viewport.pointFromPixel(f.position);this.panVertical?this.panHorizontal||(y.x=this.viewer.viewport.getCenter(!0).x):y.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(y),this.viewer.viewport.applyConstraints()}}function r(f){var g={tracker:f.eventSource,position:f.position,delta:f.delta,speed:f.speed,direction:f.direction,shift:f.shift,originalEvent:f.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",g),!g.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(f.delta.x=0),this.panVertical||(f.delta.y=0),this.viewer.viewport.flipped&&(f.delta.x=-f.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(f.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function l(f){f.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function h(f){var g={tracker:f.eventSource,position:f.position,scroll:f.scroll,shift:f.shift,originalEvent:f.originalEvent,preventDefault:f.preventDefault};this.viewer.raiseEvent("navigator-scroll",g),f.preventDefault=g.preventDefault}function d(f,g){p(f,"rotate("+g+"deg)")}function p(f,g){f.style.webkitTransform=g,f.style.mozTransform=g,f.style.msTransform=g,f.style.oTransform=g,f.style.transform=g}}(n),function(t){var i={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};t.extend(t,{getString:function(r){var l=r.split("."),h=null,d=arguments,p=i,f;for(f=0;f<l.length-1;f++)p=p[l[f]]||{};return h=p[l[f]],typeof h!="string"&&(t.console.error("Untranslated source string:",r),h=""),h.replace(/\{\d+\}/g,function(g){var y=parseInt(g.match(/\d+/),10)+1;return y<d.length?d[y]:""})},setString:function(r,l){var h=r.split("."),d=i,p;for(p=0;p<h.length-1;p++)d[h[p]]||(d[h[p]]={}),d=d[h[p]];d[h[p]]=l}})}(n),function(t){t.Point=function(i,r){this.x=typeof i=="number"?i:0,this.y=typeof r=="number"?r:0},t.Point.prototype={clone:function(){return new t.Point(this.x,this.y)},plus:function(i){return new t.Point(this.x+i.x,this.y+i.y)},minus:function(i){return new t.Point(this.x-i.x,this.y-i.y)},times:function(i){return new t.Point(this.x*i,this.y*i)},divide:function(i){return new t.Point(this.x/i,this.y/i)},negate:function(){return new t.Point(-this.x,-this.y)},distanceTo:function(i){return Math.sqrt(Math.pow(this.x-i.x,2)+Math.pow(this.y-i.y,2))},squaredDistanceTo:function(i){return Math.pow(this.x-i.x,2)+Math.pow(this.y-i.y,2)},apply:function(i){return new t.Point(i(this.x),i(this.y))},equals:function(i){return i instanceof t.Point&&this.x===i.x&&this.y===i.y},rotate:function(i,r){r=r||new t.Point(0,0);var l,h;if(i%90===0){var d=t.positiveModulo(i,360);switch(d){case 0:l=1,h=0;break;case 90:l=0,h=1;break;case 180:l=-1,h=0;break;case 270:l=0,h=-1;break}}else{var p=i*Math.PI/180;l=Math.cos(p),h=Math.sin(p)}var f=l*(this.x-r.x)-h*(this.y-r.y)+r.x,g=h*(this.x-r.x)+l*(this.y-r.y)+r.y;return new t.Point(f,g)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(n),function(t){t.TileSource=function(r,l,h,d,p,f){var g=this,y=arguments,S,T;if(t.isPlainObject(r)?S=r:S={width:y[0],height:y[1],tileSize:y[2],tileOverlap:y[3],minLevel:y[4],maxLevel:y[5]},t.EventSource.call(this),t.extend(!0,this,S),!this.success){for(T=0;T<arguments.length;T++)if(t.isFunction(arguments[T])){this.success=arguments[T];break}}this.success&&this.addHandler("ready",function(k){g.success(k)}),t.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new t.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=S.width&&S.height?S.width/S.height:1,this.dimensions=new t.Point(S.width,S.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=S.tileOverlap?S.tileOverlap:0,this.minLevel=S.minLevel?S.minLevel:0,this.maxLevel=S.maxLevel!==void 0&&S.maxLevel!==null?S.maxLevel:S.width&&S.height?Math.ceil(Math.log(Math.max(S.width,S.height))/Math.log(2)):0,this.success&&t.isFunction(this.success)&&this.success(this))},t.TileSource.prototype={getTileSize:function(r){return t.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(r){return this._tileWidth?this._tileWidth:this.getTileSize(r)},getTileHeight:function(r){return this._tileHeight?this._tileHeight:this.getTileSize(r)},setMaxLevel:function(r){this.maxLevel=r,this._memoizeLevelScale()},getLevelScale:function(r){return this._memoizeLevelScale(),this.getLevelScale(r)},_memoizeLevelScale:function(){var r={},l;for(l=0;l<=this.maxLevel;l++)r[l]=1/Math.pow(2,this.maxLevel-l);this.getLevelScale=function(h){return r[h]}},getNumTiles:function(r){var l=this.getLevelScale(r),h=Math.ceil(l*this.dimensions.x/this.getTileWidth(r)),d=Math.ceil(l*this.dimensions.y/this.getTileHeight(r));return new t.Point(h,d)},getPixelRatio:function(r){var l=this.dimensions.times(this.getLevelScale(r)),h=1/l.x*t.pixelDensityRatio,d=1/l.y*t.pixelDensityRatio;return new t.Point(h,d)},getClosestLevel:function(){var r,l;for(r=this.minLevel+1;r<=this.maxLevel&&(l=this.getNumTiles(r),!(l.x>1||l.y>1));r++);return r-1},getTileAtPoint:function(r,l){var h=l.x>=0&&l.x<=1&&l.y>=0&&l.y<=1/this.aspectRatio;t.console.assert(h,"[TileSource.getTileAtPoint] must be called with a valid point.");var d=this.dimensions.x*this.getLevelScale(r),p=l.x*d,f=l.y*d,g=Math.floor(p/this.getTileWidth(r)),y=Math.floor(f/this.getTileHeight(r));l.x>=1&&(g=this.getNumTiles(r).x-1);var S=1e-15;return l.y>=1/this.aspectRatio-S&&(y=this.getNumTiles(r).y-1),new t.Point(g,y)},getTileBounds:function(r,l,h,d){var p=this.dimensions.times(this.getLevelScale(r)),f=this.getTileWidth(r),g=this.getTileHeight(r),y=l===0?0:f*l-this.tileOverlap,S=h===0?0:g*h-this.tileOverlap,T=f+(l===0?1:2)*this.tileOverlap,k=g+(h===0?1:2)*this.tileOverlap,P=1/p.x;return T=Math.min(T,p.x-y),k=Math.min(k,p.y-S),d?new t.Rect(0,0,T,k):new t.Rect(y*P,S*P,T*P,k*P)},getImageInfo:function(r){var l=this,h,d,p,f,g,y,S;r&&(g=r.split("/"),y=g[g.length-1],S=y.lastIndexOf("."),S>-1&&(g[g.length-1]=y.slice(0,S)));var T=null;if(this.splitHashDataForPost){var k=r.indexOf("#");k!==-1&&(T=r.substring(k+1),r=r.substr(0,k))}d=function(P){typeof P=="string"&&(P=t.parseXml(P));var _=t.TileSource.determineType(l,P,r);if(!_){l.raiseEvent("open-failed",{message:"Unable to load TileSource",source:r});return}f=_.prototype.configure.apply(l,[P,r,T]),f.ajaxWithCredentials===void 0&&(f.ajaxWithCredentials=l.ajaxWithCredentials),p=new _(f),l.ready=!0,l.raiseEvent("ready",{tileSource:p})},r.match(/\.js$/)?(h=r.split("/").pop().replace(".js",""),t.jsonp({url:r,async:!1,callbackName:h,callback:d})):t.makeAjaxRequest({url:r,postData:T,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(P){var _=i(P);d(_)},error:function(P,_){var D;try{D="HTTP "+P.status+" attempting to load TileSource: "+r}catch{var q;typeof _>"u"||!_.toString?q="Unknown error":q=_.toString(),D=q+" attempting to load TileSource: "+r}t.console.error(D),l.raiseEvent("open-failed",{message:D,source:r,postData:T})}})},supports:function(r,l){return!1},configure:function(r,l,h){throw new Error("Method not implemented.")},getTileUrl:function(r,l,h){throw new Error("Method not implemented.")},getTilePostData:function(r,l,h){return null},getTileAjaxHeaders:function(r,l,h){return{}},getTileHashKey:function(r,l,h,d,p,f){function g(y){return p?y+"+"+JSON.stringify(p):y}return g(typeof d!="string"?r+"/"+l+"_"+h:d)},tileExists:function(r,l,h){var d=this.getNumTiles(r);return r>=this.minLevel&&r<=this.maxLevel&&l>=0&&h>=0&&l<d.x&&h<d.y},hasTransparency:function(r,l,h,d){return!!r||l.match(".png")},downloadTileStart:function(r){var l=r.userData,h=new Image;l.image=h,l.request=null;var d=function(p){if(!h){r.finish(null,l.request,"Image load failed: undefined Image instance.");return}h.onload=h.onerror=h.onabort=null,r.finish(p?null:h,l.request,p)};h.onload=function(){d()},h.onabort=h.onerror=function(){d("Image load aborted.")},r.loadWithAjax?l.request=t.makeAjaxRequest({url:r.src,withCredentials:r.ajaxWithCredentials,headers:r.ajaxHeaders,responseType:"arraybuffer",postData:r.postData,success:function(p){var f;try{f=new window.Blob([p.response])}catch(S){var g=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(S.name==="TypeError"&&g){var y=new g;y.append(p.response),f=y.getBlob()}}f.size===0?d("Empty image response."):h.src=(window.URL||window.webkitURL).createObjectURL(f)},error:function(p){d("Image load aborted - XHR error")}}):(r.crossOriginPolicy!==!1&&(h.crossOrigin=r.crossOriginPolicy),h.src=r.src)},downloadTileAbort:function(r){r.userData.request&&r.userData.request.abort();var l=r.userData.image;r.userData.image&&(l.onload=l.onerror=l.onabort=null)},createTileCache:function(r,l,h){r._data=l},destroyTileCache:function(r){r._data=null,r._renderedContext=null},getTileCacheData:function(r){return r._data},getTileCacheDataAsImage:function(r){return r._data},getTileCacheDataAsContext2D:function(r){if(!r._renderedContext){var l=document.createElement("canvas");l.width=r._data.width,l.height=r._data.height,r._renderedContext=l.getContext("2d"),r._renderedContext.drawImage(r._data,0,0),r._data=null}return r._renderedContext}},t.extend(!0,t.TileSource.prototype,t.EventSource.prototype);function i(r){var l=r.responseText,h=r.status,d,p;if(r){if(r.status!==200&&r.status!==0)throw h=r.status,d=h===404?"Not Found":r.statusText,new Error(t.getString("Errors.Status",h,d))}else throw new Error(t.getString("Errors.Security"));if(l.match(/^\s*<.*/))try{p=r.responseXML&&r.responseXML.documentElement?r.responseXML:t.parseXml(l)}catch{p=r.responseText}else if(l.match(/\s*[{[].*/))try{p=t.parseJSON(l)}catch{p=l}else p=l;return p}t.TileSource.determineType=function(r,l,h){var d;for(d in n)if(d.match(/.+TileSource$/)&&t.isFunction(n[d])&&t.isFunction(n[d].prototype.supports)&&n[d].prototype.supports.call(r,l,h))return n[d];return t.console.error("No TileSource was able to open %s %s",h,l),null}}(n),function(t){t.DziTileSource=function(l,h,d,p,f,g,y,S,T){var k,P,_,D;if(t.isPlainObject(l)?D=l:D={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=D.tilesUrl,this.fileFormat=D.fileFormat,this.displayRects=D.displayRects,this.displayRects)for(k=this.displayRects.length-1;k>=0;k--)for(P=this.displayRects[k],_=P.minLevel;_<=P.maxLevel;_++)this._levelRects[_]||(this._levelRects[_]=[]),this._levelRects[_].push(P);t.TileSource.apply(this,[D])},t.extend(t.DziTileSource.prototype,t.TileSource.prototype,{supports:function(l,h){var d;return l.Image?d=l.Image.xmlns:l.documentElement&&(l.documentElement.localName==="Image"||l.documentElement.tagName==="Image")&&(d=l.documentElement.namespaceURI),d=(d||"").toLowerCase(),d.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||d.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(l,h,d){var p;return t.isPlainObject(l)?p=r(this,l):p=i(this,l),h&&!p.tilesUrl&&(p.tilesUrl=h.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),h.search(/\.(dzi|xml|js)\?/)!==-1?p.queryParams=h.match(/\?.*/):p.queryParams=""),p},getTileUrl:function(l,h,d){return[this.tilesUrl,l,"/",h,"_",d,".",this.fileFormat,this.queryParams].join("")},tileExists:function(l,h,d){var p=this._levelRects[l],f,g,y,S,T,k,P;if(this.minLevel&&l<this.minLevel||this.maxLevel&&l>this.maxLevel)return!1;if(!p||!p.length)return!0;for(P=p.length-1;P>=0;P--)if(f=p[P],!(l<f.minLevel||l>f.maxLevel)&&(g=this.getLevelScale(l),y=f.x*g,S=f.y*g,T=y+f.width*g,k=S+f.height*g,y=Math.floor(y/this._tileWidth),S=Math.floor(S/this._tileWidth),T=Math.ceil(T/this._tileWidth),k=Math.ceil(k/this._tileWidth),y<=h&&h<T&&S<=d&&d<k))return!0;return!1}});function i(l,h){if(!h||!h.documentElement)throw new Error(t.getString("Errors.Xml"));var d=h.documentElement,p=d.localName||d.tagName,f=h.documentElement.namespaceURI,g=null,y=[],S,T,k,P,_;if(p==="Image")try{if(P=d.getElementsByTagName("Size")[0],P===void 0&&(P=d.getElementsByTagNameNS(f,"Size")[0]),g={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:d.getAttribute("Url"),Format:d.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(d.getAttribute("Overlap"),10),TileSize:parseInt(d.getAttribute("TileSize"),10),Size:{Height:parseInt(P.getAttribute("Height"),10),Width:parseInt(P.getAttribute("Width"),10)}}},!t.imageFormatSupported(g.Image.Format))throw new Error(t.getString("Errors.ImageFormat",g.Image.Format.toUpperCase()));for(S=d.getElementsByTagName("DisplayRect"),S===void 0&&(S=d.getElementsByTagNameNS(f,"DisplayRect")[0]),_=0;_<S.length;_++)T=S[_],k=T.getElementsByTagName("Rect")[0],k===void 0&&(k=T.getElementsByTagNameNS(f,"Rect")[0]),y.push({Rect:{X:parseInt(k.getAttribute("X"),10),Y:parseInt(k.getAttribute("Y"),10),Width:parseInt(k.getAttribute("Width"),10),Height:parseInt(k.getAttribute("Height"),10),MinLevel:parseInt(T.getAttribute("MinLevel"),10),MaxLevel:parseInt(T.getAttribute("MaxLevel"),10)}});return y.length&&(g.Image.DisplayRect=y),r(l,g)}catch(G){throw G instanceof Error?G:new Error(t.getString("Errors.Dzi"))}else{if(p==="Collection")throw new Error(t.getString("Errors.Dzc"));if(p==="Error"){var D=d.getElementsByTagName("Message")[0],q=D.firstChild.nodeValue;throw new Error(q)}}throw new Error(t.getString("Errors.Dzi"))}function r(l,h){var d=h.Image,p=d.Url,f=d.Format,g=d.Size,y=d.DisplayRect||[],S=parseInt(g.Width,10),T=parseInt(g.Height,10),k=parseInt(d.TileSize,10),P=parseInt(d.Overlap,10),_=[],D,q;for(q=0;q<y.length;q++)D=y[q].Rect,_.push(new t.DisplayRect(parseInt(D.X,10),parseInt(D.Y,10),parseInt(D.Width,10),parseInt(D.Height,10),parseInt(D.MinLevel,10),parseInt(D.MaxLevel,10)));return t.extend(!0,{width:S,height:T,tileSize:k,tileOverlap:P,minLevel:null,maxLevel:null,tilesUrl:p,fileFormat:f,displayRects:_},h)}}(n),function(t){t.IIIFTileSource=function(d){if(t.extend(!0,this,d),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(d.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=d.version,this.tile_width&&this.tile_height)d.tileWidth=this.tile_width,d.tileHeight=this.tile_height;else if(this.tile_width)d.tileSize=this.tile_width;else if(this.tile_height)d.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)d.tileWidth=this.tiles[0].width,d.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var p=0;p<this.tiles.length;p++)for(var f=0;f<this.tiles[p].scaleFactors.length;f++){var g=this.tiles[p].scaleFactors[f];this.scale_factors.push(g),d.tileSizePerScaleFactor[g]={width:this.tiles[p].width,height:this.tiles[p].height||this.tiles[p].width}}}else if(i(d)){for(var y=Math.min(this.height,this.width),S=[256,512,1024],T=[],k=0;k<S.length;k++)S[k]<=y&&T.push(S[k]);T.length>0?d.tileSize=Math.max.apply(null,T):d.tileSize=y}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,d.levels=r(this),t.extend(!0,d,{width:d.levels[d.levels.length-1].width,height:d.levels[d.levels.length-1].height,tileSize:Math.max(d.height,d.width),tileOverlap:0,minLevel:0,maxLevel:d.levels.length-1}),this.levels=d.levels):t.console.error("Nothing in the info.json to construct image pyramids from");if(!d.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)d.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));else{var P=Math.max.apply(null,this.scale_factors);d.maxLevel=Math.round(Math.log(P)*Math.LOG2E)}if(this.sizes){var _=this.sizes.length;(_===d.maxLevel||_===d.maxLevel+1)&&(this.levelSizes=this.sizes,_===d.maxLevel&&this.levelSizes.push({width:this.width,height:this.height}))}t.TileSource.apply(this,[d])},t.extend(t.IIIFTileSource.prototype,t.TileSource.prototype,{supports:function(d,p){return d.protocol&&d.protocol==="http://iiif.io/api/image"||d["@context"]&&(d["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||d["@context"]==="http://iiif.io/api/image/1/context.json")||d.profile&&d.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||d.identifier&&d.width&&d.height?!0:!!(d.documentElement&&d.documentElement.tagName==="info"&&d.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(d,p,f){if(t.isPlainObject(d)){if(!d["@context"])d["@context"]="http://iiif.io/api/image/1.0/context.json",d["@id"]=p.replace("/info.json",""),d.version=1;else{var g=d["@context"];if(Array.isArray(g)){for(var y=0;y<g.length;y++)if(typeof g[y]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(g[y])||g[y]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){g=g[y];break}}switch(g){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":d.version=1;break;case"http://iiif.io/api/image/2/context.json":d.version=2;break;case"http://iiif.io/api/image/3/context.json":d.version=3;break;default:t.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(d.preferredFormats){for(var S=0;S<d.preferredFormats.length;S++)if(n.imageFormatSupported(d.preferredFormats[S])){d.tileFormat=d.preferredFormats[S];break}}return d}else{var T=l(d);return T["@context"]="http://iiif.io/api/image/1.0/context.json",T["@id"]=p.replace("/info.xml",""),T.version=1,T}},getTileWidth:function(d){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileWidth.call(this,d);var p=Math.pow(2,this.maxLevel-d);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[p]?this.tileSizePerScaleFactor[p].width:this._tileWidth},getTileHeight:function(d){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileHeight.call(this,d);var p=Math.pow(2,this.maxLevel-d);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[p]?this.tileSizePerScaleFactor[p].height:this._tileHeight},getLevelScale:function(d){if(this.emulateLegacyImagePyramid){var p=NaN;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(p=this.levels[d].width/this.levels[this.maxLevel].width),p}return t.TileSource.prototype.getLevelScale.call(this,d)},getNumTiles:function(d){if(this.emulateLegacyImagePyramid){var p=this.getLevelScale(d);return p?new t.Point(1,1):new t.Point(0,0)}if(this.levelSizes){var f=this.levelSizes[d],g=Math.ceil(f.width/this.getTileWidth(d)),y=Math.ceil(f.height/this.getTileHeight(d));return new t.Point(g,y)}else return t.TileSource.prototype.getNumTiles.call(this,d)},getTileAtPoint:function(d,p){if(this.emulateLegacyImagePyramid)return new t.Point(0,0);if(this.levelSizes){var f=p.x>=0&&p.x<=1&&p.y>=0&&p.y<=1/this.aspectRatio;t.console.assert(f,"[TileSource.getTileAtPoint] must be called with a valid point.");var g=this.levelSizes[d].width,y=p.x*g,S=p.y*g,T=Math.floor(y/this.getTileWidth(d)),k=Math.floor(S/this.getTileHeight(d));p.x>=1&&(T=this.getNumTiles(d).x-1);var P=1e-15;return p.y>=1/this.aspectRatio-P&&(k=this.getNumTiles(d).y-1),new t.Point(T,k)}return t.TileSource.prototype.getTileAtPoint.call(this,d,p)},getTileUrl:function(d,p,f){if(this.emulateLegacyImagePyramid){var g=null;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(g=this.levels[d].url),g}var y="0",S=Math.pow(.5,this.maxLevel-d),T,k,P,_,D,q,G,ne,K,Y,se,ce,de,ie,ge,pe;return this.levelSizes?(T=this.levelSizes[d].width,k=this.levelSizes[d].height):(T=Math.ceil(this.width*S),k=Math.ceil(this.height*S)),P=this.getTileWidth(d),_=this.getTileHeight(d),D=Math.round(P/S),q=Math.round(_/S),this.version===1?ge="native."+this.tileFormat:ge="default."+this.tileFormat,T<P&&k<_?(this.version===2&&T===this.width?ce="full":this.version===3&&T===this.width&&k===this.height?ce="max":this.version===3?ce=T+","+k:ce=T+",",G="full"):(ne=p*D,K=f*q,Y=Math.min(D,this.width-ne),se=Math.min(q,this.height-K),p===0&&f===0&&Y===this.width&&se===this.height?G="full":G=[ne,K,Y,se].join(","),de=Math.min(P,T-p*P),ie=Math.min(_,k-f*_),this.version===2&&de===this.width?ce="full":this.version===3&&de===this.width&&ie===this.height?ce="max":this.version===3?ce=de+","+ie:ce=de+","),pe=[this._id,G,ce,y,ge].join("/"),pe},__testonly__:{canBeTiled:i,constructLevels:r}});function i(d){var p=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],f=Array.isArray(d.profile)?d.profile[0]:d.profile,g=p.indexOf(f)!==-1,y=!1;return d.version===2&&d.profile.length>1&&d.profile[1].supports&&(y=d.profile[1].supports.indexOf("sizeByW")!==-1),d.version===3&&d.extraFeatures&&(y=d.extraFeatures.indexOf("sizeByWh")!==-1),!g||y}function r(d){for(var p=[],f=0;f<d.sizes.length;f++)p.push({url:d._id+"/full/"+d.sizes[f].width+","+(d.version===3?d.sizes[f].height:"")+"/0/default."+d.tileFormat,width:d.sizes[f].width,height:d.sizes[f].height});return p.sort(function(g,y){return g.width-y.width})}function l(d){if(!d||!d.documentElement)throw new Error(t.getString("Errors.Xml"));var p=d.documentElement,f=p.tagName,g=null;if(f==="info")try{return g={},h(p,g),g}catch(y){throw y instanceof Error?y:new Error(t.getString("Errors.IIIF"))}throw new Error(t.getString("Errors.IIIF"))}function h(d,p,f){var g,y;if(d.nodeType===3&&f)y=d.nodeValue.trim(),y.match(/^\d*$/)&&(y=Number(y)),p[f]?(t.isArray(p[f])||(p[f]=[p[f]]),p[f].push(y)):p[f]=y;else if(d.nodeType===1)for(g=0;g<d.childNodes.length;g++)h(d.childNodes[g],p,d.nodeName)}}(n),function(t){t.OsmTileSource=function(i,r,l,h,d){var p;t.isPlainObject(i)?p=i:p={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!p.width||!p.height)&&(p.width=65572864,p.height=65572864),p.tileSize||(p.tileSize=256,p.tileOverlap=0),p.tilesUrl||(p.tilesUrl="http://tile.openstreetmap.org/"),p.minLevel=8,t.TileSource.apply(this,[p])},t.extend(t.OsmTileSource.prototype,t.TileSource.prototype,{supports:function(i,r){return i.type&&i.type==="openstreetmaps"},configure:function(i,r,l){return i},getTileUrl:function(i,r,l){return this.tilesUrl+(i-8)+"/"+r+"/"+l+".png"}})}(n),function(t){t.TmsTileSource=function(i,r,l,h,d){var p;t.isPlainObject(i)?p=i:p={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var f=Math.ceil(p.width/256)*256,g=Math.ceil(p.height/256)*256,y;f>g?y=f/256:y=g/256,p.maxLevel=Math.ceil(Math.log(y)/Math.log(2))-1,p.tileSize=256,p.width=f,p.height=g,t.TileSource.apply(this,[p])},t.extend(t.TmsTileSource.prototype,t.TileSource.prototype,{supports:function(i,r){return i.type&&i.type==="tiledmapservice"},configure:function(i,r,l){return i},getTileUrl:function(i,r,l){var h=this.getNumTiles(i).y-1;return this.tilesUrl+i+"/"+r+"/"+(h-l)+".png"}})}(n),function(t){t.ZoomifyTileSource=function(i){typeof i.tileSize>"u"&&(i.tileSize=256),typeof i.fileFormat>"u"&&(i.fileFormat="jpg",this.fileFormat=i.fileFormat);var r={x:i.width,y:i.height};for(i.imageSizes=[{x:i.width,y:i.height}],i.gridSize=[this._getGridSize(i.width,i.height,i.tileSize)];parseInt(r.x,10)>i.tileSize||parseInt(r.y,10)>i.tileSize;)r.x=Math.floor(r.x/2),r.y=Math.floor(r.y/2),i.imageSizes.push({x:r.x,y:r.y}),i.gridSize.push(this._getGridSize(r.x,r.y,i.tileSize));i.imageSizes.reverse(),i.gridSize.reverse(),i.minLevel=0,i.maxLevel=i.gridSize.length-1,n.TileSource.apply(this,[i])},t.extend(t.ZoomifyTileSource.prototype,t.TileSource.prototype,{_getGridSize:function(i,r,l){return{x:Math.ceil(i/l),y:Math.ceil(r/l)}},_calculateAbsoluteTileNumber:function(i,r,l){for(var h=0,d={},p=0;p<i;p++)d=this.gridSize[p],h+=d.x*d.y;return d=this.gridSize[i],h+=d.x*l+r,h},supports:function(i,r){return i.type&&i.type==="zoomifytileservice"},configure:function(i,r,l){return i},getTileUrl:function(i,r,l){var h=0,d=this._calculateAbsoluteTileNumber(i,r,l);return h=Math.floor(d/256),this.tilesUrl+"TileGroup"+h+"/"+i+"-"+r+"-"+l+"."+this.fileFormat}})}(n),function(t){t.LegacyTileSource=function(h){var d,p,f;t.isArray(h)&&(d={type:"legacy-image-pyramid",levels:h}),d.levels=i(d.levels),d.levels.length>0?(p=d.levels[d.levels.length-1].width,f=d.levels[d.levels.length-1].height):(p=0,f=0,t.console.error("No supported image formats found")),t.extend(!0,d,{width:p,height:f,tileSize:Math.max(f,p),tileOverlap:0,minLevel:0,maxLevel:d.levels.length>0?d.levels.length-1:0}),t.TileSource.apply(this,[d]),this.levels=d.levels},t.extend(t.LegacyTileSource.prototype,t.TileSource.prototype,{supports:function(h,d){return h.type&&h.type==="legacy-image-pyramid"||h.documentElement&&h.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(h,d,p){var f;return t.isPlainObject(h)?f=l(this,h):f=r(this,h),f},getLevelScale:function(h){var d=NaN;return this.levels.length>0&&h>=this.minLevel&&h<=this.maxLevel&&(d=this.levels[h].width/this.levels[this.maxLevel].width),d},getNumTiles:function(h){var d=this.getLevelScale(h);return d?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(h,d,p){var f=null;return this.levels.length>0&&h>=this.minLevel&&h<=this.maxLevel&&(f=this.levels[h].url),f}});function i(h){var d=[],p,f;for(f=0;f<h.length;f++)p=h[f],p.height&&p.width&&p.url?d.push({url:p.url,width:Number(p.width),height:Number(p.height)}):t.console.error("Unsupported image format: %s",p.url?p.url:"<no URL>");return d.sort(function(g,y){return g.height-y.height})}function r(h,d){if(!d||!d.documentElement)throw new Error(t.getString("Errors.Xml"));var p=d.documentElement,f=p.tagName,g=null,y=[],S,T;if(f==="image")try{for(g={type:p.getAttribute("type"),levels:[]},y=p.getElementsByTagName("level"),T=0;T<y.length;T++)S=y[T],g.levels.push({url:S.getAttribute("url"),width:parseInt(S.getAttribute("width"),10),height:parseInt(S.getAttribute("height"),10)});return l(h,g)}catch(k){throw k instanceof Error?k:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(f==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(f==="error")throw new Error("Error: "+d)}throw new Error("Unknown element "+f)}function l(h,d){return d.levels}}(n),function(t){t.ImageTileSource=function(i){i=t.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},i),t.TileSource.apply(this,[i])},t.extend(t.ImageTileSource.prototype,t.TileSource.prototype,{supports:function(i,r){return i.type&&i.type==="image"},configure:function(i,r,l){return i},getImageInfo:function(i){var r=this._image=new Image,l=this;this.crossOriginPolicy&&(r.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(r.useCredentials=this.ajaxWithCredentials),t.addEvent(r,"load",function(){l.width=r.naturalWidth,l.height=r.naturalHeight,l.aspectRatio=l.width/l.height,l.dimensions=new t.Point(l.width,l.height),l._tileWidth=l.width,l._tileHeight=l.height,l.tileOverlap=0,l.minLevel=0,l.levels=l._buildLevels(),l.maxLevel=l.levels.length-1,l.ready=!0,l.raiseEvent("ready",{tileSource:l})}),t.addEvent(r,"error",function(){l.raiseEvent("open-failed",{message:"Error loading image at "+i,source:i})}),r.src=i},getLevelScale:function(i){var r=NaN;return i>=this.minLevel&&i<=this.maxLevel&&(r=this.levels[i].width/this.levels[this.maxLevel].width),r},getNumTiles:function(i){var r=this.getLevelScale(i);return r?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(i,r,l){var h=null;return i>=this.minLevel&&i<=this.maxLevel&&(h=this.levels[i].url),h},getContext2D:function(i,r,l){var h=null;return i>=this.minLevel&&i<=this.maxLevel&&(h=this.levels[i].context2D),h},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var i=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!t.supportsCanvas||!this.useCanvas)return delete this._image,i;var r=this._image.naturalWidth,l=this._image.naturalHeight,h=document.createElement("canvas"),d=h.getContext("2d");if(h.width=r,h.height=l,d.drawImage(this._image,0,0,r,l),i[0].context2D=d,delete this._image,t.isCanvasTainted(h))return i;for(;r>=2&&l>=2;){r=Math.floor(r/2),l=Math.floor(l/2);var p=document.createElement("canvas"),f=p.getContext("2d");p.width=r,p.height=l,f.drawImage(h,0,0,r,l),i.splice(0,0,{context2D:f,width:r,height:l}),h=p,d=f}return i},_freeupCanvasMemory:function(){for(var i=0;i<this.levels.length;i++)this.levels[i].context2D&&(this.levels[i].context2D.canvas.height=0,this.levels[i].context2D.canvas.width=0)}})}(n),function(t){t.TileSourceCollection=function(i,r,l,h){t.console.error("TileSourceCollection is deprecated; use World instead")}}(n),function(t){t.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},t.Button=function(f){var g=this;t.EventSource.call(this),t.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},f),this.element=f.element||t.makeNeutralElement("div"),f.element||(this.imgRest=t.makeTransparentImage(this.srcRest),this.imgGroup=t.makeTransparentImage(this.srcGroup),this.imgHover=t.makeTransparentImage(this.srcHover),this.imgDown=t.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,t.setElementPointerEventsNone(this.imgRest),t.setElementPointerEventsNone(this.imgGroup),t.setElementPointerEventsNone(this.imgHover),t.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",t.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",t.Browser.vendor===t.BROWSERS.FIREFOX&&t.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=t.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new t.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(y){y.insideElementPressed?(d(g,t.ButtonState.DOWN),g.raiseEvent("enter",{originalEvent:y.originalEvent})):y.buttonDownAny||d(g,t.ButtonState.HOVER)},focusHandler:function(y){g.tracker.enterHandler(y),g.raiseEvent("focus",{originalEvent:y.originalEvent})},leaveHandler:function(y){p(g,t.ButtonState.GROUP),y.insideElementPressed&&g.raiseEvent("exit",{originalEvent:y.originalEvent})},blurHandler:function(y){g.tracker.leaveHandler(y),g.raiseEvent("blur",{originalEvent:y.originalEvent})},pressHandler:function(y){d(g,t.ButtonState.DOWN),g.raiseEvent("press",{originalEvent:y.originalEvent})},releaseHandler:function(y){y.insideElementPressed&&y.insideElementReleased?(p(g,t.ButtonState.HOVER),g.raiseEvent("release",{originalEvent:y.originalEvent})):y.insideElementPressed?p(g,t.ButtonState.GROUP):d(g,t.ButtonState.HOVER)},clickHandler:function(y){y.quick&&g.raiseEvent("click",{originalEvent:y.originalEvent})},keyHandler:function(y){y.keyCode===13?(g.raiseEvent("click",{originalEvent:y.originalEvent}),g.raiseEvent("release",{originalEvent:y.originalEvent}),y.preventDefault=!0):y.preventDefault=!1}}),p(this,t.ButtonState.REST)},t.extend(t.Button.prototype,t.EventSource.prototype,{notifyGroupEnter:function(){d(this,t.ButtonState.GROUP)},notifyGroupExit:function(){p(this,t.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),t.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),t.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function i(f){t.requestAnimationFrame(function(){r(f)})}function r(f){var g,y,S;f.shouldFade&&(g=t.now(),y=g-f.fadeBeginTime,S=1-y/f.fadeLength,S=Math.min(1,S),S=Math.max(0,S),f.imgGroup&&t.setElementOpacity(f.imgGroup,S,!0),S>0&&i(f))}function l(f){f.shouldFade=!0,f.fadeBeginTime=t.now()+f.fadeDelay,window.setTimeout(function(){i(f)},f.fadeDelay)}function h(f){f.shouldFade=!1,f.imgGroup&&t.setElementOpacity(f.imgGroup,1,!0)}function d(f,g){f.element.disabled||(g>=t.ButtonState.GROUP&&f.currentState===t.ButtonState.REST&&(h(f),f.currentState=t.ButtonState.GROUP),g>=t.ButtonState.HOVER&&f.currentState===t.ButtonState.GROUP&&(f.imgHover&&(f.imgHover.style.visibility=""),f.currentState=t.ButtonState.HOVER),g>=t.ButtonState.DOWN&&f.currentState===t.ButtonState.HOVER&&(f.imgDown&&(f.imgDown.style.visibility=""),f.currentState=t.ButtonState.DOWN))}function p(f,g){f.element.disabled||(g<=t.ButtonState.HOVER&&f.currentState===t.ButtonState.DOWN&&(f.imgDown&&(f.imgDown.style.visibility="hidden"),f.currentState=t.ButtonState.HOVER),g<=t.ButtonState.GROUP&&f.currentState===t.ButtonState.HOVER&&(f.imgHover&&(f.imgHover.style.visibility="hidden"),f.currentState=t.ButtonState.GROUP),g<=t.ButtonState.REST&&f.currentState===t.ButtonState.GROUP&&(l(f),f.currentState=t.ButtonState.REST))}}(n),function(t){t.ButtonGroup=function(i){t.extend(!0,this,{buttons:[],clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},i);var r=this.buttons.concat([]),l=this,h;if(this.element=i.element||t.makeNeutralElement("div"),!i.group)for(this.element.style.display="inline-block",h=0;h<r.length;h++)this.element.appendChild(r[h].element);t.setElementTouchActionNone(this.element),this.tracker=new t.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(d){var p;for(p=0;p<l.buttons.length;p++)l.buttons[p].notifyGroupEnter()},leaveHandler:function(d){var p;if(!d.insideElementPressed)for(p=0;p<l.buttons.length;p++)l.buttons[p].notifyGroupExit()}})},t.ButtonGroup.prototype={addButton:function(i){this.buttons.push(i),this.element.appendChild(i.element)},emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var i=this.buttons.pop();this.element.removeChild(i.element),i.destroy()}this.tracker.destroy(),this.element=null}}}(n),function(t){t.Rect=function(i,r,l,h,d){this.x=typeof i=="number"?i:0,this.y=typeof r=="number"?r:0,this.width=typeof l=="number"?l:0,this.height=typeof h=="number"?h:0,this.degrees=typeof d=="number"?d:0,this.degrees=t.positiveModulo(this.degrees,360);var p,f;this.degrees>=270?(p=this.getTopRight(),this.x=p.x,this.y=p.y,f=this.height,this.height=this.width,this.width=f,this.degrees-=270):this.degrees>=180?(p=this.getBottomRight(),this.x=p.x,this.y=p.y,this.degrees-=180):this.degrees>=90&&(p=this.getBottomLeft(),this.x=p.x,this.y=p.y,f=this.height,this.height=this.width,this.width=f,this.degrees-=90)},t.Rect.fromSummits=function(i,r,l){var h=i.distanceTo(r),d=i.distanceTo(l),p=r.minus(i),f=Math.atan(p.y/p.x);return p.x<0?f+=Math.PI:p.y<0&&(f+=2*Math.PI),new t.Rect(i.x,i.y,h,d,f/Math.PI*180)},t.Rect.prototype={clone:function(){return new t.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new t.Point(this.x,this.y)},getBottomRight:function(){return new t.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new t.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new t.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new t.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new t.Point(this.width,this.height)},equals:function(i){return i instanceof t.Rect&&this.x===i.x&&this.y===i.y&&this.width===i.width&&this.height===i.height&&this.degrees===i.degrees},times:function(i){return new t.Rect(this.x*i,this.y*i,this.width*i,this.height*i,this.degrees)},translate:function(i){return new t.Rect(this.x+i.x,this.y+i.y,this.width,this.height,this.degrees)},union:function(i){var r=this.getBoundingBox(),l=i.getBoundingBox(),h=Math.min(r.x,l.x),d=Math.min(r.y,l.y),p=Math.max(r.x+r.width,l.x+l.width),f=Math.max(r.y+r.height,l.y+l.height);return new t.Rect(h,d,p-h,f-d)},intersection:function(i){var r=1e-10,l=[],h=this.getTopLeft();i.containsPoint(h,r)&&l.push(h);var d=this.getTopRight();i.containsPoint(d,r)&&l.push(d);var p=this.getBottomLeft();i.containsPoint(p,r)&&l.push(p);var f=this.getBottomRight();i.containsPoint(f,r)&&l.push(f);var g=i.getTopLeft();this.containsPoint(g,r)&&l.push(g);var y=i.getTopRight();this.containsPoint(y,r)&&l.push(y);var S=i.getBottomLeft();this.containsPoint(S,r)&&l.push(S);var T=i.getBottomRight();this.containsPoint(T,r)&&l.push(T);for(var k=this._getSegments(),P=i._getSegments(),_=0;_<k.length;_++)for(var D=k[_],q=0;q<P.length;q++){var G=P[q],ne=K(D[0],D[1],G[0],G[1]);ne&&l.push(ne)}function K(pe,be,Ae,Le){var Se=be.minus(pe),ve=Le.minus(Ae),Re=-ve.x*Se.y+Se.x*ve.y;if(Re===0)return null;var _e=(Se.x*(pe.y-Ae.y)-Se.y*(pe.x-Ae.x))/Re,J=(ve.x*(pe.y-Ae.y)-ve.y*(pe.x-Ae.x))/Re;return-1e-10<=_e&&_e<=1-r&&-1e-10<=J&&J<=1-r?new t.Point(pe.x+J*Se.x,pe.y+J*Se.y):null}if(l.length===0)return null;for(var Y=l[0].x,se=l[0].x,ce=l[0].y,de=l[0].y,ie=1;ie<l.length;ie++){var ge=l[ie];ge.x<Y&&(Y=ge.x),ge.x>se&&(se=ge.x),ge.y<ce&&(ce=ge.y),ge.y>de&&(de=ge.y)}return new t.Rect(Y,ce,se-Y,de-ce)},_getSegments:function(){var i=this.getTopLeft(),r=this.getTopRight(),l=this.getBottomLeft(),h=this.getBottomRight();return[[i,r],[r,h],[h,l],[l,i]]},rotate:function(i,r){if(i=t.positiveModulo(i,360),i===0)return this.clone();r=r||this.getCenter();var l=this.getTopLeft().rotate(i,r),h=this.getTopRight().rotate(i,r),d=h.minus(l);d=d.apply(function(f){var g=1e-15;return Math.abs(f)<g?0:f});var p=Math.atan(d.y/d.x);return d.x<0?p+=Math.PI:d.y<0&&(p+=2*Math.PI),new t.Rect(l.x,l.y,this.width,this.height,p/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var i=this.getTopLeft(),r=this.getTopRight(),l=this.getBottomLeft(),h=this.getBottomRight(),d=Math.min(i.x,r.x,l.x,h.x),p=Math.max(i.x,r.x,l.x,h.x),f=Math.min(i.y,r.y,l.y,h.y),g=Math.max(i.y,r.y,l.y,h.y);return new t.Rect(d,f,p-d,g-f)},getIntegerBoundingBox:function(){var i=this.getBoundingBox(),r=Math.floor(i.x),l=Math.floor(i.y),h=Math.ceil(i.width+i.x-r),d=Math.ceil(i.height+i.y-l);return new t.Rect(r,l,h,d)},containsPoint:function(i,r){r=r||0;var l=this.getTopLeft(),h=this.getTopRight(),d=this.getBottomLeft(),p=h.minus(l),f=d.minus(l);return(i.x-l.x)*p.x+(i.y-l.y)*p.y>=-r&&(i.x-h.x)*p.x+(i.y-h.y)*p.y<=r&&(i.x-l.x)*f.x+(i.y-l.y)*f.y>=-r&&(i.x-d.x)*f.x+(i.y-d.y)*f.y<=r},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(n),function(t){var i={};t.ReferenceStrip=function(S){var T=this,k=S.viewer,P=t.getElementSize(k.element),_,D,q;for(S.id||(S.id="referencestrip-"+t.now(),this.element=t.makeNeutralElement("div"),this.element.id=S.id,this.element.className="referencestrip"),S=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.referenceStripSizeRatio,position:t.DEFAULT_SETTINGS.referenceStripPosition,scroll:t.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold},S,{element:this.element}),t.extend(this,S),i[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,D=this.element.style,D.marginTop="0px",D.marginRight="0px",D.marginBottom="0px",D.marginLeft="0px",D.left="0px",D.bottom="0px",D.border="0px",D.background="#000",D.position="relative",t.setElementTouchActionNone(this.element),t.setElementOpacity(this.element,.8),this.viewer=k,this.tracker=new t.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:t.delegate(this,r),dragHandler:t.delegate(this,l),scrollHandler:t.delegate(this,h),enterHandler:t.delegate(this,p),leaveHandler:t.delegate(this,f),keyDownHandler:t.delegate(this,g),keyHandler:t.delegate(this,y),preProcessEventHandler:function(G){G.eventType==="wheel"&&(G.preventDefault=!0)}}),S.width&&S.height?(this.element.style.width=S.width+"px",this.element.style.height=S.height+"px",k.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):S.scroll==="horizontal"?(this.element.style.width=P.x*S.sizeRatio*k.tileSources.length+12*k.tileSources.length+"px",this.element.style.height=P.y*S.sizeRatio+"px",k.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=P.y*S.sizeRatio*k.tileSources.length+12*k.tileSources.length+"px",this.element.style.width=P.x*S.sizeRatio+"px",k.addControl(this.element,{anchor:t.ControlAnchor.TOP_LEFT})),this.panelWidth=P.x*this.sizeRatio+8,this.panelHeight=P.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},q=0;q<k.tileSources.length;q++)_=t.makeNeutralElement("div"),_.id=this.element.id+"-"+q,_.style.width=T.panelWidth+"px",_.style.height=T.panelHeight+"px",_.style.display="inline",_.style.float="left",_.style.cssFloat="left",_.style.styleFloat="left",_.style.padding="2px",t.setElementTouchActionNone(_),t.setElementPointerEventsNone(_),this.element.appendChild(_),_.activePanel=!1,this.panels.push(_);d(this,this.scroll==="vertical"?P.y:P.x,0),this.setFocus(0)},t.ReferenceStrip.prototype={setFocus:function(S){var T=this.element.querySelector("#"+this.element.id+"-"+S),k=t.getElementSize(this.viewer.canvas),P=Number(this.element.style.width.replace("px","")),_=Number(this.element.style.height.replace("px","")),D=-Number(this.element.style.marginLeft.replace("px","")),q=-Number(this.element.style.marginTop.replace("px","")),G;this.currentSelected!==T&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=T,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(G=Number(S)*(this.panelWidth+3),G>D+k.x-this.panelWidth?(G=Math.min(G,P-k.x),this.element.style.marginLeft=-G+"px",d(this,k.x,-G)):G<D&&(G=Math.max(0,G-k.x/2),this.element.style.marginLeft=-G+"px",d(this,k.x,-G))):(G=Number(S)*(this.panelHeight+3),G>q+k.y-this.panelHeight?(G=Math.min(G,_-k.y),this.element.style.marginTop=-G+"px",d(this,k.y,-G)):G<q&&(G=Math.max(0,G-k.y/2),this.element.style.marginTop=-G+"px",d(this,k.y,-G))),this.currentPage=S,p.call(this,{eventSource:this.tracker}))},update:function(){return!!i[this.id].animating},destroy:function(){if(this.miniViewers)for(var S in this.miniViewers)this.miniViewers[S].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function r(S){if(S.quick){var T;this.scroll==="horizontal"?T=Math.floor(S.position.x/(this.panelWidth+4)):T=Math.floor(S.position.y/this.panelHeight),this.viewer.goToPage(T)}this.element.focus()}function l(S){if(this.dragging=!0,this.element){var T=Number(this.element.style.marginLeft.replace("px","")),k=Number(this.element.style.marginTop.replace("px","")),P=Number(this.element.style.width.replace("px","")),_=Number(this.element.style.height.replace("px","")),D=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-S.delta.x>0?T>-(P-D.x)&&(this.element.style.marginLeft=T+S.delta.x*2+"px",d(this,D.x,T+S.delta.x*2)):-S.delta.x<0&&T<0&&(this.element.style.marginLeft=T+S.delta.x*2+"px",d(this,D.x,T+S.delta.x*2)):-S.delta.y>0?k>-(_-D.y)&&(this.element.style.marginTop=k+S.delta.y*2+"px",d(this,D.y,k+S.delta.y*2)):-S.delta.y<0&&k<0&&(this.element.style.marginTop=k+S.delta.y*2+"px",d(this,D.y,k+S.delta.y*2))}}function h(S){if(this.element){var T=Number(this.element.style.marginLeft.replace("px","")),k=Number(this.element.style.marginTop.replace("px","")),P=Number(this.element.style.width.replace("px","")),_=Number(this.element.style.height.replace("px","")),D=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?S.scroll>0?T>-(P-D.x)&&(this.element.style.marginLeft=T-S.scroll*60+"px",d(this,D.x,T-S.scroll*60)):S.scroll<0&&T<0&&(this.element.style.marginLeft=T-S.scroll*60+"px",d(this,D.x,T-S.scroll*60)):S.scroll<0?k>D.y-_&&(this.element.style.marginTop=k+S.scroll*60+"px",d(this,D.y,k+S.scroll*60)):S.scroll>0&&k<0&&(this.element.style.marginTop=k+S.scroll*60+"px",d(this,D.y,k+S.scroll*60)),S.preventDefault=!0}}function d(S,T,k){var P,_,D,q,G,ne;for(S.scroll==="horizontal"?P=S.panelWidth:P=S.panelHeight,_=Math.ceil(T/P)+5,D=Math.ceil((Math.abs(k)+T)/P)+1,_=D-_,_=_<0?0:_,G=_;G<D&&G<S.panels.length;G++)if(ne=S.panels[G],!ne.activePanel){var K,Y=S.viewer.tileSources[G];Y.referenceStripThumbnailUrl?K={type:"image",url:Y.referenceStripThumbnailUrl}:K=Y,q=new t.Viewer({id:ne.id,tileSources:[K],element:ne,navigatorSizeRatio:S.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:S.viewer.loadTilesWithAjax,ajaxHeaders:S.viewer.ajaxHeaders,useCanvas:S.useCanvas}),t.setElementPointerEventsNone(q.canvas),t.setElementPointerEventsNone(q.container),q.innerTracker.setTracking(!1),q.outerTracker.setTracking(!1),S.miniViewers[ne.id]=q,ne.activePanel=!0}}function p(S){var T=S.eventSource.element;this.scroll==="horizontal"?T.style.marginBottom="0px":T.style.marginLeft="0px"}function f(S){var T=S.eventSource.element;this.scroll==="horizontal"?T.style.marginBottom="-"+t.getElementSize(T).y/2+"px":T.style.marginLeft="-"+t.getElementSize(T).x/2+"px"}function g(S){if(!S.ctrl&&!S.alt&&!S.meta)switch(S.keyCode){case 38:h.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;case 40:h.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 37:h.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 39:h.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;default:S.preventDefault=!1;break}else S.preventDefault=!1}function y(S){if(!S.ctrl&&!S.alt&&!S.meta)switch(S.keyCode){case 61:h.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;case 45:h.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 48:case 119:case 87:h.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;case 115:case 83:h.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 97:h.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;case 100:h.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;default:S.preventDefault=!1;break}else S.preventDefault=!1}}(n),function(t){t.DisplayRect=function(i,r,l,h,d,p){t.Rect.apply(this,[i,r,l,h]),this.minLevel=d,this.maxLevel=p},t.extend(t.DisplayRect.prototype,t.Rect.prototype)}(n),function(t){t.Spring=function(r){var l=arguments;typeof r!="object"&&(r={initial:l.length&&typeof l[0]=="number"?l[0]:void 0,springStiffness:l.length>1?l[1].springStiffness:5,animationTime:l.length>1?l[1].animationTime:1.5}),t.console.assert(typeof r.springStiffness=="number"&&r.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),t.console.assert(typeof r.animationTime=="number"&&r.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),r.exponential&&(this._exponential=!0,delete r.exponential),t.extend(!0,this,r),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:t.now()},t.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},t.Spring.prototype={resetTo:function(r){t.console.assert(!this._exponential||r!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=r,this.start.time=this.target.time=this.current.time=t.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(r){t.console.assert(!this._exponential||r!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=r,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(r){this.start.value+=r,this.target.value+=r,this._exponential&&(t.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(r){this._exponential=r,this._exponential&&(t.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=t.now();var r,l;this._exponential?(r=this.start._logValue,l=this.target._logValue):(r=this.start.value,l=this.target.value);var h=this.current.time>=this.target.time?l:r+(l-r)*i(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),d=this.current.value;return this._exponential?this.current.value=Math.exp(h):this.current.value=h,d!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function i(r,l){return(1-Math.exp(r*-l))/(1-Math.exp(-r))}}(n),function(t){t.ImageJob=function(r){t.extend(!0,this,{timeout:t.DEFAULT_SETTINGS.timeout,jobId:null,tries:0},r),this.data=null,this.userData={},this.errorMsg=null},t.ImageJob.prototype={start:function(){this.tries++;var r=this,l=this.abort;this.jobId=window.setTimeout(function(){r.finish(null,null,"Image load exceeded timeout ("+r.timeout+" ms)")},this.timeout),this.abort=function(){r.source.downloadTileAbort(r),typeof l=="function"&&l()},this.source.downloadTileStart(this)},finish:function(r,l,h){this.data=r,this.request=l,this.errorMsg=h,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},t.ImageLoader=function(r){t.extend(!0,this,{jobLimit:t.DEFAULT_SETTINGS.imageLoaderLimit,timeout:t.DEFAULT_SETTINGS.timeout,jobQueue:[],failedTiles:[],jobsInProgress:0},r)},t.ImageLoader.prototype={addJob:function(r){if(!r.source){t.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var l=t.TileSource.prototype;r.source={downloadTileStart:l.downloadTileStart,downloadTileAbort:l.downloadTileAbort}}var h=this,d=function(g){i(h,g,r.callback)},p={src:r.src,tile:r.tile||{},source:r.source,loadWithAjax:r.loadWithAjax,ajaxHeaders:r.loadWithAjax?r.ajaxHeaders:null,crossOriginPolicy:r.crossOriginPolicy,ajaxWithCredentials:r.ajaxWithCredentials,postData:r.postData,callback:d,abort:r.abort,timeout:this.timeout},f=new t.ImageJob(p);!this.jobLimit||this.jobsInProgress<this.jobLimit?(f.start(),this.jobsInProgress++):this.jobQueue.push(f)},clear:function(){for(var r=0;r<this.jobQueue.length;r++){var l=this.jobQueue[r];typeof l.abort=="function"&&l.abort()}this.jobQueue=[]}};function i(r,l,h){l.errorMsg!==""&&(l.data===null||l.data===void 0)&&l.tries<1+r.tileRetryMax&&r.failedTiles.push(l);var d;r.jobsInProgress--,(!r.jobLimit||r.jobsInProgress<r.jobLimit)&&r.jobQueue.length>0&&(d=r.jobQueue.shift(),d.start(),r.jobsInProgress++),r.tileRetryMax>0&&r.jobQueue.length===0&&(!r.jobLimit||r.jobsInProgress<r.jobLimit)&&r.failedTiles.length>0&&(d=r.failedTiles.shift(),setTimeout(function(){d.start()},r.tileRetryDelay),r.jobsInProgress++),h(l.data,l.errorMsg,l.request)}}(n),function(t){t.Tile=function(i,r,l,h,d,p,f,g,y,S,T,k){this.level=i,this.x=r,this.y=l,this.bounds=h,this.sourceBounds=S,this.exists=d,this._url=p,this.postData=T,this.context2D=f,this.loadWithAjax=g,this.ajaxHeaders=y,k===void 0&&(t.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),k=t.TileSource.prototype.getTileHashKey(i,r,l,p,y,T)),this.cacheKey=k,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},t.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},drawHTML:function(i){if(!this.cacheImageRecord){t.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}if(!this.element){var r=this.getImage();if(!r)return;this.element=t.makeNeutralElement("div"),this.imgElement=r.cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"}this.element.parentNode!==i&&i.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),t.setElementOpacity(this.element,this.opacity)},get image(){return t.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return t.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return typeof this._url=="function"?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord.getRenderedContext()},drawCanvas:function(i,r,l,h,d,p){var f=this.position.times(t.pixelDensityRatio),g=this.size.times(t.pixelDensityRatio),y;if(!this.context2D&&!this.cacheImageRecord){t.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(y=this.getCanvasContext(),!this.loaded||!y){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}i.save(),i.globalAlpha=this.opacity,typeof l=="number"&&l!==1&&(f=f.times(l),g=g.times(l)),h instanceof t.Point&&(f=f.plus(h)),i.globalAlpha===1&&this.hasTransparency&&(d&&(f.x=Math.round(f.x),f.y=Math.round(f.y),g.x=Math.round(g.x),g.y=Math.round(g.y)),i.clearRect(f.x,f.y,g.x,g.y)),r({context:i,tile:this,rendered:y});var S,T;this.sourceBounds?(S=Math.min(this.sourceBounds.width,y.canvas.width),T=Math.min(this.sourceBounds.height,y.canvas.height)):(S=y.canvas.width,T=y.canvas.height),i.translate(f.x+g.x/2,0),this.flipped&&i.scale(-1,1),i.drawImage(y.canvas,0,0,S,T,-g.x/2,f.y,g.x,g.y),i.restore()},getScaleForEdgeSmoothing:function(){var i;if(this.cacheImageRecord)i=this.cacheImageRecord.getRenderedContext();else if(this.context2D)i=this.context2D;else return t.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return i.canvas.width/(this.size.x*t.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(i,r,l){var h=Math.max(1,Math.ceil((l.x-r.x)/2)),d=Math.max(1,Math.ceil((l.y-r.y)/2));return new t.Point(h,d).minus(this.position.times(t.pixelDensityRatio).times(i||1).apply(function(p){return p%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(n),function(t){t.OverlayPlacement=t.Placement,t.OverlayRotationMode=t.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),t.Overlay=function(i,r,l){var h;t.isPlainObject(i)?h=i:h={element:i,location:r,placement:l},this.element=h.element,this.style=h.element.style,this._init(h)},t.Overlay.prototype={_init:function(i){this.location=i.location,this.placement=i.placement===void 0?t.Placement.TOP_LEFT:i.placement,this.onDraw=i.onDraw,this.checkResize=i.checkResize===void 0?!0:i.checkResize,this.width=i.width===void 0?null:i.width,this.height=i.height===void 0?null:i.height,this.rotationMode=i.rotationMode||t.OverlayRotationMode.EXACT,this.location instanceof t.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=t.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new t.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(i,r){var l=t.Placement.properties[this.placement];l&&(l.isHorizontallyCentered?i.x-=r.x/2:l.isRight&&(i.x-=r.x),l.isVerticallyCentered?i.y-=r.y/2:l.isBottom&&(i.y-=r.y))},destroy:function(){var i=this.element,r=this.style;i.parentNode&&(i.parentNode.removeChild(i),i.prevElementParent&&(r.display="none",document.body.appendChild(i))),this.onDraw=null,r.top="",r.left="",r.position="",this.width!==null&&(r.width=""),this.height!==null&&(r.height="");var l=t.getCssPropertyWithVendorPrefix("transformOrigin"),h=t.getCssPropertyWithVendorPrefix("transform");l&&h&&(r[l]="",r[h]="")},drawHTML:function(i,r){var l=this.element;l.parentNode!==i&&(l.prevElementParent=l.parentNode,l.prevNextSibling=l.nextSibling,i.appendChild(l),this.style.position="absolute",this.size=t.getElementSize(l));var h=this._getOverlayPositionAndSize(r),d=h.position,p=this.size=h.size,f=h.rotate;if(this.onDraw)this.onDraw(d,p,this.element);else{var g=this.style;g.left=d.x+"px",g.top=d.y+"px",this.width!==null&&(g.width=p.x+"px"),this.height!==null&&(g.height=p.y+"px");var y=t.getCssPropertyWithVendorPrefix("transformOrigin"),S=t.getCssPropertyWithVendorPrefix("transform");y&&S&&(f?(g[y]=this._getTransformOrigin(),g[S]="rotate("+f+"deg)"):(g[y]="",g[S]="")),g.display="block"}},_getOverlayPositionAndSize:function(i){var r=i.pixelFromPoint(this.location,!0),l=this._getSizeInPixels(i);this.adjust(r,l);var h=0;if(i.getRotation(!0)&&this.rotationMode!==t.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var d=new t.Rect(r.x,r.y,l.x,l.y),p=this._getBoundingBox(d,i.getRotation(!0));r=p.getTopLeft(),l=p.getSize()}else h=i.getRotation(!0);return{position:r,size:l,rotate:h}},_getSizeInPixels:function(i){var r=this.size.x,l=this.size.y;if(this.width!==null||this.height!==null){var h=i.deltaPixelsFromPointsNoRotate(new t.Point(this.width||0,this.height||0),!0);this.width!==null&&(r=h.x),this.height!==null&&(l=h.y)}if(this.checkResize&&(this.width===null||this.height===null)){var d=this.size=t.getElementSize(this.element);this.width===null&&(r=d.x),this.height===null&&(l=d.y)}return new t.Point(r,l)},_getBoundingBox:function(i,r){var l=this._getPlacementPoint(i);return i.rotate(r,l).getBoundingBox()},_getPlacementPoint:function(i){var r=new t.Point(i.x,i.y),l=t.Placement.properties[this.placement];return l&&(l.isHorizontallyCentered?r.x+=i.width/2:l.isRight&&(r.x+=i.width),l.isVerticallyCentered?r.y+=i.height/2:l.isBottom&&(r.y+=i.height)),r},_getTransformOrigin:function(){var i="",r=t.Placement.properties[this.placement];return r&&(r.isLeft?i="left":r.isRight&&(i="right"),r.isTop?i+=" top":r.isBottom&&(i+=" bottom")),i},update:function(i,r){var l=t.isPlainObject(i)?i:{location:i,placement:r};this._init({location:l.location||this.location,placement:l.placement!==void 0?l.placement:this.placement,onDraw:l.onDraw||this.onDraw,checkResize:l.checkResize||this.checkResize,width:l.width!==void 0?l.width:this.width,height:l.height!==void 0?l.height:this.height,rotationMode:l.rotationMode||this.rotationMode})},getBounds:function(i){t.console.assert(i,"A viewport must now be passed to Overlay.getBounds.");var r=this.width,l=this.height;if(r===null||l===null){var h=i.deltaPointsFromPixelsNoRotate(this.size,!0);r===null&&(r=h.x),l===null&&(l=h.y)}var d=this.location.clone();return this.adjust(d,new t.Point(r,l)),this._adjustBoundsForRotation(i,new t.Rect(d.x,d.y,r,l))},_adjustBoundsForRotation:function(i,r){if(!i||i.getRotation(!0)===0||this.rotationMode===t.OverlayRotationMode.EXACT)return r;if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return r;var l=this._getOverlayPositionAndSize(i);return i.viewerElementToViewportRectangle(new t.Rect(l.position.x,l.position.y,l.size.x,l.size.y))}return r.rotate(-i.getRotation(!0),this._getPlacementPoint(r))}}}(n),function(t){t.Drawer=function(i){t.console.assert(i.viewer,"[Drawer] options.viewer is required");var r=arguments;if(t.isPlainObject(i)||(i={source:r[0],viewport:r[1],element:r[2]}),t.console.assert(i.viewport,"[Drawer] options.viewport is required"),t.console.assert(i.element,"[Drawer] options.element is required"),i.source&&t.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=i.viewer,this.viewport=i.viewport,this.debugGridColor=typeof i.debugGridColor=="string"?[i.debugGridColor]:i.debugGridColor||t.DEFAULT_SETTINGS.debugGridColor,i.opacity&&t.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=t.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=t.getElement(i.element),this.canvas=t.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var l=this._calculateCanvasSize();this.canvas.width=l.x,this.canvas.height=l.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",t.setElementOpacity(this.canvas,this.opacity,!0),t.setElementPointerEventsNone(this.canvas),t.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},t.Drawer.prototype={addOverlay:function(i,r,l,h){return t.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(i,r,l,h),this},updateOverlay:function(i,r,l){return t.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(i,r,l),this},removeOverlay:function(i){return t.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(i),this},clearOverlays:function(){return t.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(i){var r=this.viewport.pixelFromPointNoRotate(i,!0);return new t.Point(r.x*t.pixelDensityRatio,r.y*t.pixelDensityRatio)},clipWithPolygons:function(i,r){if(this.useCanvas){var l=this._getContext(r);l.beginPath(),i.forEach(function(h){h.forEach(function(d,p){l[p===0?"moveTo":"lineTo"](d.x,d.y)})}),l.clip()}},setOpacity:function(i){t.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var r=this.viewer.world,l=0;l<r.getItemCount();l++)r.getItemAt(l).setOpacity(i);return this},getOpacity:function(){t.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var i=this.viewer.world,r=0,l=0;l<i.getItemCount();l++){var h=i.getItemAt(l).getOpacity();h>r&&(r=h)}return r},needsUpdate:function(){return t.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return t.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return t.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return t.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var i=this._calculateCanvasSize();if((this.canvas.width!==i.x||this.canvas.height!==i.y)&&(this.canvas.width=i.x,this.canvas.height=i.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var r=this._calculateSketchCanvasSize();this.sketchCanvas.width=r.x,this.sketchCanvas.height=r.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(i,r){if(this.useCanvas){var l=this._getContext(i);if(r)l.clearRect(r.x,r.y,r.width,r.height);else{var h=l.canvas;l.clearRect(0,0,h.width,h.height)}}},viewportToDrawerRectangle:function(i){var r=this.viewport.pixelFromPointNoRotate(i.getTopLeft(),!0),l=this.viewport.deltaPixelsFromPointsNoRotate(i.getSize(),!0);return new t.Rect(r.x*t.pixelDensityRatio,r.y*t.pixelDensityRatio,l.x*t.pixelDensityRatio,l.y*t.pixelDensityRatio)},drawTile:function(i,r,l,h,d,p,f){if(t.console.assert(i,"[Drawer.drawTile] tile is required"),t.console.assert(r,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var g=this._getContext(l);h=h||1,i.drawCanvas(g,r,h,d,p,f)}else i.drawHTML(this.canvas)},_getContext:function(i){var r=this.context;if(i){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var l=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=l.x,this.sketchCanvas.height=l.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var h=this;this.viewer.addHandler("rotate",function d(){if(h.viewport.getRotation()!==0){h.viewer.removeHandler("rotate",d);var p=h._calculateSketchCanvasSize();h.sketchCanvas.width=p.x,h.sketchCanvas.height=p.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}r=this.sketchContext}return r},saveContext:function(i){this.useCanvas&&this._getContext(i).save()},restoreContext:function(i){this.useCanvas&&this._getContext(i).restore()},setClip:function(i,r){if(this.useCanvas){var l=this._getContext(r);l.beginPath(),l.rect(i.x,i.y,i.width,i.height),l.clip()}},drawRectangle:function(i,r,l){if(this.useCanvas){var h=this._getContext(l);h.save(),h.fillStyle=r,h.fillRect(i.x,i.y,i.width,i.height),h.restore()}},blendSketch:function(i,r,l,h){var d=i;if(t.isPlainObject(d)||(d={opacity:i,scale:r,translate:l,compositeOperation:h}),!(!this.useCanvas||!this.sketchCanvas)){i=d.opacity,h=d.compositeOperation;var p=d.bounds;if(this.context.save(),this.context.globalAlpha=i,h&&(this.context.globalCompositeOperation=h),p)p.x<0&&(p.width+=p.x,p.x=0),p.x+p.width>this.canvas.width&&(p.width=this.canvas.width-p.x),p.y<0&&(p.height+=p.y,p.y=0),p.y+p.height>this.canvas.height&&(p.height=this.canvas.height-p.y),this.context.drawImage(this.sketchCanvas,p.x,p.y,p.width,p.height,p.x,p.y,p.width,p.height);else{r=d.scale||1,l=d.translate;var f=l instanceof t.Point?l:new t.Point(0,0),g=0,y=0;if(l){var S=this.sketchCanvas.width-this.canvas.width,T=this.sketchCanvas.height-this.canvas.height;g=Math.round(S/2),y=Math.round(T/2)}this.context.drawImage(this.sketchCanvas,f.x-g*r,f.y-y*r,(this.canvas.width+2*g)*r,(this.canvas.height+2*y)*r,-g,-y,this.canvas.width+2*g,this.canvas.height+2*y)}this.context.restore()}},drawDebugInfo:function(i,r,l,h){if(this.useCanvas){var d=this.viewer.world.getIndexOfItem(h)%this.debugGridColor.length,p=this.context;p.save(),p.lineWidth=2*t.pixelDensityRatio,p.font="small-caps bold "+13*t.pixelDensityRatio+"px arial",p.strokeStyle=this.debugGridColor[d],p.fillStyle=this.debugGridColor[d],this.viewport.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:this.viewport.getRotation(!0)}),h.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:h.getRotation(!0),point:h.viewport.pixelFromPointNoRotate(h._getRotationPoint(!0),!0)}),h.viewport.getRotation(!0)%360===0&&h.getRotation(!0)%360===0&&h._drawer.viewer.viewport.getFlip()&&h._drawer._flip(),p.strokeRect(i.position.x*t.pixelDensityRatio,i.position.y*t.pixelDensityRatio,i.size.x*t.pixelDensityRatio,i.size.y*t.pixelDensityRatio);var f=(i.position.x+i.size.x/2)*t.pixelDensityRatio,g=(i.position.y+i.size.y/2)*t.pixelDensityRatio;p.translate(f,g),p.rotate(Math.PI/180*-this.viewport.getRotation(!0)),p.translate(-f,-g),i.x===0&&i.y===0&&(p.fillText("Zoom: "+this.viewport.getZoom(),i.position.x*t.pixelDensityRatio,(i.position.y-30)*t.pixelDensityRatio),p.fillText("Pan: "+this.viewport.getBounds().toString(),i.position.x*t.pixelDensityRatio,(i.position.y-20)*t.pixelDensityRatio)),p.fillText("Level: "+i.level,(i.position.x+10)*t.pixelDensityRatio,(i.position.y+20)*t.pixelDensityRatio),p.fillText("Column: "+i.x,(i.position.x+10)*t.pixelDensityRatio,(i.position.y+30)*t.pixelDensityRatio),p.fillText("Row: "+i.y,(i.position.x+10)*t.pixelDensityRatio,(i.position.y+40)*t.pixelDensityRatio),p.fillText("Order: "+l+" of "+r,(i.position.x+10)*t.pixelDensityRatio,(i.position.y+50)*t.pixelDensityRatio),p.fillText("Size: "+i.size.toString(),(i.position.x+10)*t.pixelDensityRatio,(i.position.y+60)*t.pixelDensityRatio),p.fillText("Position: "+i.position.toString(),(i.position.x+10)*t.pixelDensityRatio,(i.position.y+70)*t.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),h.getRotation(!0)%360!==0&&this._restoreRotationChanges(),h.viewport.getRotation(!0)%360===0&&h.getRotation(!0)%360===0&&h._drawer.viewer.viewport.getFlip()&&h._drawer._flip(),p.restore()}},debugRect:function(i){if(this.useCanvas){var r=this.context;r.save(),r.lineWidth=2*t.pixelDensityRatio,r.strokeStyle=this.debugGridColor[0],r.fillStyle=this.debugGridColor[0],r.strokeRect(i.x*t.pixelDensityRatio,i.y*t.pixelDensityRatio,i.width*t.pixelDensityRatio,i.height*t.pixelDensityRatio),r.restore()}},setImageSmoothingEnabled:function(i){this.useCanvas&&(this._imageSmoothingEnabled=i,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(i){i.msImageSmoothingEnabled=this._imageSmoothingEnabled,i.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(i){var r=this._getContext(i).canvas;return new t.Point(r.width,r.height)},getCanvasCenter:function(){return new t.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(i){var r=i.point?i.point.times(t.pixelDensityRatio):this.getCanvasCenter(),l=this._getContext(i.useSketch);l.save(),l.translate(r.x,r.y),this.viewer.viewport.flipped?(l.rotate(Math.PI/180*-i.degrees),l.scale(-1,1)):l.rotate(Math.PI/180*i.degrees),l.translate(-r.x,-r.y)},_flip:function(i){i=i||{};var r=i.point?i.point.times(t.pixelDensityRatio):this.getCanvasCenter(),l=this._getContext(i.useSketch);l.translate(r.x,0),l.scale(-1,1),l.translate(-r.x,0)},_restoreRotationChanges:function(i){var r=this._getContext(i);r.restore()},_calculateCanvasSize:function(){var i=t.pixelDensityRatio,r=this.viewport.getContainerSize();return{x:Math.round(r.x*i),y:Math.round(r.y*i)}},_calculateSketchCanvasSize:function(){var i=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return i;var r=Math.ceil(Math.sqrt(i.x*i.x+i.y*i.y));return{x:r,y:r}}}}(n),function(t){t.Viewport=function(i){var r=arguments;r.length&&r[0]instanceof t.Point&&(i={containerSize:r[0],contentSize:r[1],config:r[2]}),i.config&&(t.extend(!0,i,i.config),delete i.config),this._margins=t.extend({left:0,top:0,right:0,bottom:0},i.margins||{}),delete i.margins,i.initialDegrees=i.degrees,delete i.degrees,t.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:t.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:t.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:t.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:t.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:t.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:t.DEFAULT_SETTINGS.degrees,flipped:t.DEFAULT_SETTINGS.flipped,homeFillsViewer:t.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:t.DEFAULT_SETTINGS.silenceMultiImageWarnings},i),this._updateContainerInnerSize(),this.centerSpringX=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new t.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new t.Spring({initial:i.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new t.Rect(0,0,1,1),1),this.goHome(!0),this.update()},t.Viewport.prototype={get degrees(){return t.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(i){t.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(i)},resetContentSize:function(i){return t.console.assert(i,"[Viewport.resetContentSize] contentSize is required"),t.console.assert(i instanceof t.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),t.console.assert(i.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),t.console.assert(i.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new t.Rect(0,0,1,i.y/i.x),i.x),this},setHomeBounds:function(i,r){t.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(i,r)},_setContentBounds:function(i,r){t.console.assert(i,"[Viewport._setContentBounds] bounds is required"),t.console.assert(i instanceof t.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),t.console.assert(i.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),t.console.assert(i.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=i.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(r),this._contentBounds=i.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(r),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:r,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var i=this._contentAspectRatio/this.getAspectRatio(),r;return this.homeFillsViewer?r=i>=1?i:1:r=i>=1?1:i,r/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var i=this._contentBounds.getCenter(),r=1/this.getHomeZoom(),l=r/this.getAspectRatio();return new t.Rect(i.x-r/2,i.y-l/2,r,l)},goHome:function(i){return this.viewer&&this.viewer.raiseEvent("home",{immediately:i}),this.fitBounds(this.getHomeBounds(),i)},getMinZoom:function(){var i=this.getHomeZoom(),r=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*i;return r},getMaxZoom:function(){var i=this.maxZoomLevel;return i||(i=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,i/=this._contentBounds.width),Math.max(i,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new t.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return t.extend({},this._margins)},setMargins:function(i){t.console.assert(t.type(i)==="object","[Viewport.setMargins] margins must be an object"),this._margins=t.extend({left:0,top:0,right:0,bottom:0},i),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(i){return this.getBoundsNoRotate(i).rotate(-this.getRotation(i))},getBoundsNoRotate:function(i){var r=this.getCenter(i),l=1/this.getZoom(i),h=l/this.getAspectRatio();return new t.Rect(r.x-l/2,r.y-h/2,l,h)},getBoundsWithMargins:function(i){return this.getBoundsNoRotateWithMargins(i).rotate(-this.getRotation(i),this.getCenter(i))},getBoundsNoRotateWithMargins:function(i){var r=this.getBoundsNoRotate(i),l=this._containerInnerSize.x*this.getZoom(i);return r.x-=this._margins.left/l,r.y-=this._margins.top/l,r.width+=(this._margins.left+this._margins.right)/l,r.height+=(this._margins.top+this._margins.bottom)/l,r},getCenter:function(i){var r=new t.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),l=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),h,d,p,f,g,y,S,T;return i?r:this.zoomPoint?(h=this.pixelFromPoint(this.zoomPoint,!0),d=this.getZoom(),p=1/d,f=p/this.getAspectRatio(),g=new t.Rect(r.x-p/2,r.y-f/2,p,f),y=this._pixelFromPoint(this.zoomPoint,g),S=y.minus(h).rotate(-this.getRotation(!0)),T=S.divide(this._containerInnerSize.x*d),l.plus(T)):l},getZoom:function(i){return i?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(i){return Math.max(Math.min(i,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(i){var r=this.viewportToViewerElementRectangle(i).getBoundingBox(),l=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),h=!1,d=!1;if(!this.wrapHorizontal){var p=r.x+r.width,f=l.x+l.width,g,y,S;r.width>l.width?g=this.visibilityRatio*l.width:g=this.visibilityRatio*r.width,y=l.x-p+g,S=f-r.x-g,g>l.width?(r.x+=(y+S)/2,h=!0):S<0?(r.x+=S,h=!0):y>0&&(r.x+=y,h=!0)}if(!this.wrapVertical){var T=r.y+r.height,k=l.y+l.height,P,_,D;r.height>l.height?P=this.visibilityRatio*l.height:P=this.visibilityRatio*r.height,_=l.y-T+P,D=k-r.y-P,P>l.height?(r.y+=(_+D)/2,d=!0):D<0?(r.y+=D,d=!0):_>0&&(r.y+=_,d=!0)}var q=h||d,G=q?this.viewerElementToViewportRectangle(r):i.clone();return G.xConstrained=h,G.yConstrained=d,G.constraintApplied=q,G},_raiseConstraintsEvent:function(i){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:i})},applyConstraints:function(i){var r=this.getZoom(),l=this._applyZoomConstraints(r);r!==l&&this.zoomTo(l,this.zoomPoint,i);var h=this.getConstrainedBounds(!1);return h.constraintApplied&&(this.fitBounds(h,i),this._raiseConstraintsEvent(i)),this},ensureVisible:function(i){return this.applyConstraints(i)},_fitBounds:function(i,r){r=r||{};var l=r.immediately||!1,h=r.constraints||!1,d=this.getAspectRatio(),p=i.getCenter(),f=new t.Rect(i.x,i.y,i.width,i.height,i.degrees+this.getRotation()).getBoundingBox();f.getAspectRatio()>=d?f.height=f.width/d:f.width=f.height*d,f.x=p.x-f.width/2,f.y=p.y-f.height/2;var g=1/f.width;if(l)return this.panTo(p,!0),this.zoomTo(g,null,!0),h&&this.applyConstraints(!0),this;var y=this.getCenter(!0),S=this.getZoom(!0);this.panTo(y,!0),this.zoomTo(S,null,!0);var T=this.getBounds(),k=this.getZoom();if(k===0||Math.abs(g/k-1)<1e-8)return this.zoomTo(g,null,!0),this.panTo(p,l),h&&this.applyConstraints(!1),this;if(h){this.panTo(p,!1),g=this._applyZoomConstraints(g),this.zoomTo(g,null,!1);var P=this.getConstrainedBounds();this.panTo(y,!0),this.zoomTo(S,null,!0),this.fitBounds(P)}else{var _=f.rotate(-this.getRotation()),D=_.getTopLeft().times(g).minus(T.getTopLeft().times(k)).divide(g-k);this.zoomTo(g,D,l)}return this},fitBounds:function(i,r){return this._fitBounds(i,{immediately:r,constraints:!1})},fitBoundsWithConstraints:function(i,r){return this._fitBounds(i,{immediately:r,constraints:!0})},fitVertically:function(i){var r=new t.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(r,i)},fitHorizontally:function(i){var r=new t.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(r,i)},getConstrainedBounds:function(i){var r,l;return r=this.getBounds(i),l=this._applyBoundaryConstraints(r),l},panBy:function(i,r){var l=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(l.plus(i),r)},panTo:function(i,r){return r?(this.centerSpringX.resetTo(i.x),this.centerSpringY.resetTo(i.y)):(this.centerSpringX.springTo(i.x),this.centerSpringY.springTo(i.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:i,immediately:r}),this},zoomBy:function(i,r,l){return this.zoomTo(this.zoomSpring.target.value*i,r,l)},zoomTo:function(i,r,l){var h=this;return this.zoomPoint=r instanceof t.Point&&!isNaN(r.x)&&!isNaN(r.y)?r:null,l?this._adjustCenterSpringsForZoomPoint(function(){h.zoomSpring.resetTo(i)}):this.zoomSpring.springTo(i),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:i,refPoint:r,immediately:l}),this},setRotation:function(i,r){return this.rotateTo(i,null,r)},getRotation:function(i){return i?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(i,r,l){return this.rotateTo(i,r,l)},rotateTo:function(i,r,l){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===i&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=r instanceof t.Point&&!isNaN(r.x)&&!isNaN(r.y)?r:null,l)if(this.rotationPivot){var h=i-this._oldDegrees;if(!h)return this.rotationPivot=null,this;this._rotateAboutPivot(i)}else this.degreesSpring.resetTo(i);else{var d=t.positiveModulo(this.degreesSpring.current.value,360),p=t.positiveModulo(i,360),f=p-d;f>180?p-=360:f<-180&&(p+=360);var g=d-p;this.degreesSpring.resetTo(i+g),this.degreesSpring.springTo(i)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:i,immediately:!!l,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(i,r,l){return this.rotateTo(this.degreesSpring.target.value+i,r,l)},resize:function(i,r){var l=this.getBoundsNoRotate(),h=l,d;this.containerSize.x=i.x,this.containerSize.y=i.y,this._updateContainerInnerSize(),r&&(d=i.x/this.containerSize.x,h.width=l.width*d,h.height=h.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:i,maintain:r});var p=this.fitBounds(h,!0);return this.viewer&&this.viewer.raiseEvent("after-resize",{newContainerSize:i,maintain:r}),p},_updateContainerInnerSize:function(){this._containerInnerSize=new t.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var i=this;this._adjustCenterSpringsForZoomPoint(function(){i.zoomSpring.update()}),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var r=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,r},_rotateAboutPivot:function(i){var r=i===!0,l=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(l.x),this.centerSpringY.shiftBy(l.y),r?this.degreesSpring.update():this.degreesSpring.resetTo(i);var h=this.degreesSpring.current.value-this._oldDegrees,d=l.rotate(h*-1).times(-1);this.centerSpringX.shiftBy(d.x),this.centerSpringY.shiftBy(d.y)},_adjustCenterSpringsForZoomPoint:function(i){if(this.zoomPoint){var r=this.pixelFromPoint(this.zoomPoint,!0);i();var l=this.pixelFromPoint(this.zoomPoint,!0),h=l.minus(r),d=this.deltaPointsFromPixels(h,!0);this.centerSpringX.shiftBy(d.x),this.centerSpringY.shiftBy(d.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else i()},deltaPixelsFromPointsNoRotate:function(i,r){return i.times(this._containerInnerSize.x*this.getZoom(r))},deltaPixelsFromPoints:function(i,r){return this.deltaPixelsFromPointsNoRotate(i.rotate(this.getRotation(r)),r)},deltaPointsFromPixelsNoRotate:function(i,r){return i.divide(this._containerInnerSize.x*this.getZoom(r))},deltaPointsFromPixels:function(i,r){return this.deltaPointsFromPixelsNoRotate(i,r).rotate(-this.getRotation(r))},pixelFromPointNoRotate:function(i,r){return this._pixelFromPointNoRotate(i,this.getBoundsNoRotate(r))},pixelFromPoint:function(i,r){return this._pixelFromPoint(i,this.getBoundsNoRotate(r))},_pixelFromPointNoRotate:function(i,r){return i.minus(r.getTopLeft()).times(this._containerInnerSize.x/r.width).plus(new t.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(i,r){return this._pixelFromPointNoRotate(i.rotate(this.getRotation(!0),this.getCenter(!0)),r)},pointFromPixelNoRotate:function(i,r){var l=this.getBoundsNoRotate(r);return i.minus(new t.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/l.width).plus(l.getTopLeft())},pointFromPixel:function(i,r){return this.pointFromPixelNoRotate(i,r).rotate(-this.getRotation(r),this.getCenter(r))},_viewportToImageDelta:function(i,r){var l=this._contentBoundsNoRotate.width;return new t.Point(i*this._contentSizeNoRotate.x/l,r*this._contentSizeNoRotate.x/l)},viewportToImageCoordinates:function(i,r){if(i instanceof t.Point)return this.viewportToImageCoordinates(i.x,i.y);if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(l===1){var h=this.viewer.world.getItemAt(0);return h.viewportToImageCoordinates(i,r,!0)}}return this._viewportToImageDelta(i-this._contentBoundsNoRotate.x,r-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(i,r){var l=this._contentBoundsNoRotate.width;return new t.Point(i/this._contentSizeNoRotate.x*l,r/this._contentSizeNoRotate.x*l)},imageToViewportCoordinates:function(i,r){if(i instanceof t.Point)return this.imageToViewportCoordinates(i.x,i.y);if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(l===1){var h=this.viewer.world.getItemAt(0);return h.imageToViewportCoordinates(i,r,!0)}}var d=this._imageToViewportDelta(i,r);return d.x+=this._contentBoundsNoRotate.x,d.y+=this._contentBoundsNoRotate.y,d},imageToViewportRectangle:function(i,r,l,h){var d=i;if(d instanceof t.Rect||(d=new t.Rect(i,r,l,h)),this.viewer){var p=this.viewer.world.getItemCount();if(p>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(p===1){var f=this.viewer.world.getItemAt(0);return f.imageToViewportRectangle(i,r,l,h,!0)}}var g=this.imageToViewportCoordinates(d.x,d.y),y=this._imageToViewportDelta(d.width,d.height);return new t.Rect(g.x,g.y,y.x,y.y,d.degrees)},viewportToImageRectangle:function(i,r,l,h){var d=i;if(d instanceof t.Rect||(d=new t.Rect(i,r,l,h)),this.viewer){var p=this.viewer.world.getItemCount();if(p>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(p===1){var f=this.viewer.world.getItemAt(0);return f.viewportToImageRectangle(i,r,l,h,!0)}}var g=this.viewportToImageCoordinates(d.x,d.y),y=this._viewportToImageDelta(d.width,d.height);return new t.Rect(g.x,g.y,y.x,y.y,d.degrees)},viewerElementToImageCoordinates:function(i){var r=this.pointFromPixel(i,!0);return this.viewportToImageCoordinates(r)},imageToViewerElementCoordinates:function(i){var r=this.imageToViewportCoordinates(i);return this.pixelFromPoint(r,!0)},windowToImageCoordinates:function(i){t.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var r=i.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(r)},imageToWindowCoordinates:function(i){t.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var r=this.imageToViewerElementCoordinates(i);return r.plus(t.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(i){return this.pointFromPixel(i,!0)},viewportToViewerElementCoordinates:function(i){return this.pixelFromPoint(i,!0)},viewerElementToViewportRectangle:function(i){return t.Rect.fromSummits(this.pointFromPixel(i.getTopLeft(),!0),this.pointFromPixel(i.getTopRight(),!0),this.pointFromPixel(i.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(i){return t.Rect.fromSummits(this.pixelFromPoint(i.getTopLeft(),!0),this.pixelFromPoint(i.getTopRight(),!0),this.pixelFromPoint(i.getBottomLeft(),!0))},windowToViewportCoordinates:function(i){t.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var r=i.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(r)},viewportToWindowCoordinates:function(i){t.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var r=this.viewportToViewerElementCoordinates(i);return r.plus(t.getElementPosition(this.viewer.element))},viewportToImageZoom:function(i){if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(r===1){var l=this.viewer.world.getItemAt(0);return l.viewportToImageZoom(i)}}var h=this._contentSizeNoRotate.x,d=this._containerInnerSize.x,p=this._contentBoundsNoRotate.width,f=d/h*p;return i*f},imageToViewportZoom:function(i){if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(r===1){var l=this.viewer.world.getItemAt(0);return l.imageToViewportZoom(i)}}var h=this._contentSizeNoRotate.x,d=this._containerInnerSize.x,p=this._contentBoundsNoRotate.width,f=h/d/p;return i*f},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(i){return this.flipped===i?this:(this.flipped=i,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:i}),this)}}}(n),function(t){t.TiledImage=function(d){var p=this;t.console.assert(d.tileCache,"[TiledImage] options.tileCache is required"),t.console.assert(d.drawer,"[TiledImage] options.drawer is required"),t.console.assert(d.viewer,"[TiledImage] options.viewer is required"),t.console.assert(d.imageLoader,"[TiledImage] options.imageLoader is required"),t.console.assert(d.source,"[TiledImage] options.source is required"),t.console.assert(!d.clip||d.clip instanceof t.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),t.EventSource.call(this),this._tileCache=d.tileCache,delete d.tileCache,this._drawer=d.drawer,delete d.drawer,this._imageLoader=d.imageLoader,delete d.imageLoader,d.clip instanceof t.Rect&&(this._clip=d.clip.clone()),delete d.clip;var f=d.x||0;delete d.x;var g=d.y||0;delete d.y,this.normHeight=d.source.dimensions.y/d.source.dimensions.x,this.contentAspectX=d.source.dimensions.x/d.source.dimensions.y;var y=1;d.width?(y=d.width,delete d.width,d.height&&(t.console.error("specifying both width and height to a tiledImage is not supported"),delete d.height)):d.height&&(y=d.height/this.normHeight,delete d.height);var S=d.fitBounds;delete d.fitBounds;var T=d.fitBoundsPlacement||n.Placement.CENTER;delete d.fitBoundsPlacement;var k=d.degrees||0;delete d.degrees;var P=d.ajaxHeaders;delete d.ajaxHeaders,t.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,immediateRender:t.DEFAULT_SETTINGS.immediateRender,blendTime:t.DEFAULT_SETTINGS.blendTime,alwaysBlend:t.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:t.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:t.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:t.DEFAULT_SETTINGS.iOSDevice,debugMode:t.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:t.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:t.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:t.DEFAULT_SETTINGS.placeholderFillStyle,opacity:t.DEFAULT_SETTINGS.opacity,preload:t.DEFAULT_SETTINGS.preload,compositeOperation:t.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:t.DEFAULT_SETTINGS.subPixelRoundingForTransparency},d),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new t.Spring({initial:f,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new t.Spring({initial:g,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new t.Spring({initial:y,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new t.Spring({initial:k,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),S&&this.fitBounds(S,T,!0),this._drawingHandler=function(_){p.viewer.raiseEvent("tile-drawing",t.extend({tiledImage:p},_))},this._ownAjaxHeaders={},this.setAjaxHeaders(P,!1)},t.extend(t.TiledImage.prototype,t.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(d){d!==this._fullyLoaded&&(this._fullyLoaded=d,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=t.now(),this._needsDraw=!0},update:function(){var d=this._xSpring.update(),p=this._ySpring.update(),f=this._scaleSpring.update(),g=this._degreesSpring.update();return d||p||f||g?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(d){return this.getBoundsNoRotate(d).rotate(this.getRotation(d),this._getRotationPoint(d))},getBoundsNoRotate:function(d){return d?new t.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new t.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return t.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(d){var p=this.getBoundsNoRotate(d);if(this._clip){var f=d?this._worldWidthCurrent:this._worldWidthTarget,g=f/this.source.dimensions.x,y=this._clip.times(g);p=new t.Rect(p.x+y.x,p.y+y.y,y.width,y.height)}return p.rotate(this.getRotation(d),this._getRotationPoint(d))},getTileBounds:function(d,p,f){var g=this.source.getNumTiles(d),y=(g.x+p%g.x)%g.x,S=(g.y+f%g.y)%g.y,T=this.source.getTileBounds(d,y,S);return this.getFlip()&&(T.x=1-T.x-T.width),T.x+=(p-y)/g.x,T.y+=this._worldHeightCurrent/this._worldWidthCurrent*((f-S)/g.y),T},getContentSize:function(){return new t.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var d=this.imageToWindowCoordinates(new t.Point(0,0)),p=this.imageToWindowCoordinates(this.getContentSize());return new t.Point(p.x-d.x,p.y-d.y)},_viewportToImageDelta:function(d,p,f){var g=f?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(d*(this.source.dimensions.x/g),p*(this.source.dimensions.y*this.contentAspectX/g))},viewportToImageCoordinates:function(d,p,f){var g;return d instanceof t.Point?(f=p,g=d):g=new t.Point(d,p),g=g.rotate(-this.getRotation(f),this._getRotationPoint(f)),f?this._viewportToImageDelta(g.x-this._xSpring.current.value,g.y-this._ySpring.current.value):this._viewportToImageDelta(g.x-this._xSpring.target.value,g.y-this._ySpring.target.value)},_imageToViewportDelta:function(d,p,f){var g=f?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(d/this.source.dimensions.x*g,p/this.source.dimensions.y/this.contentAspectX*g)},imageToViewportCoordinates:function(d,p,f){d instanceof t.Point&&(f=p,p=d.y,d=d.x);var g=this._imageToViewportDelta(d,p);return f?(g.x+=this._xSpring.current.value,g.y+=this._ySpring.current.value):(g.x+=this._xSpring.target.value,g.y+=this._ySpring.target.value),g.rotate(this.getRotation(f),this._getRotationPoint(f))},imageToViewportRectangle:function(d,p,f,g,y){var S=d;S instanceof t.Rect?y=p:S=new t.Rect(d,p,f,g);var T=this.imageToViewportCoordinates(S.getTopLeft(),y),k=this._imageToViewportDelta(S.width,S.height,y);return new t.Rect(T.x,T.y,k.x,k.y,S.degrees+this.getRotation(y))},viewportToImageRectangle:function(d,p,f,g,y){var S=d;d instanceof t.Rect?y=p:S=new t.Rect(d,p,f,g);var T=this.viewportToImageCoordinates(S.getTopLeft(),y),k=this._viewportToImageDelta(S.width,S.height,y);return new t.Rect(T.x,T.y,k.x,k.y,S.degrees-this.getRotation(y))},viewerElementToImageCoordinates:function(d){var p=this.viewport.pointFromPixel(d,!0);return this.viewportToImageCoordinates(p)},imageToViewerElementCoordinates:function(d){var p=this.imageToViewportCoordinates(d);return this.viewport.pixelFromPoint(p,!0)},windowToImageCoordinates:function(d){var p=d.minus(n.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(p)},imageToWindowCoordinates:function(d){var p=this.imageToViewerElementCoordinates(d);return p.plus(n.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(d){var p=this._scaleSpring.current.value;return d=d.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new t.Rect((d.x-this._xSpring.current.value)/p,(d.y-this._ySpring.current.value)/p,d.width/p,d.height/p,d.degrees)},viewportToImageZoom:function(d){var p=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return p*d},imageToViewportZoom:function(d){var p=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return d/p},setPosition:function(d,p){var f=this._xSpring.target.value===d.x&&this._ySpring.target.value===d.y;if(p){if(f&&this._xSpring.current.value===d.x&&this._ySpring.current.value===d.y)return;this._xSpring.resetTo(d.x),this._ySpring.resetTo(d.y),this._needsDraw=!0}else{if(f)return;this._xSpring.springTo(d.x),this._ySpring.springTo(d.y),this._needsDraw=!0}f||this._raiseBoundsChange()},setWidth:function(d,p){this._setScale(d,p)},setHeight:function(d,p){this._setScale(d/this.normHeight,p)},setCroppingPolygons:function(d){var p=function(g){return g instanceof t.Point||typeof g.x=="number"&&typeof g.y=="number"},f=function(g){return g.map(function(y){try{if(p(y))return{x:y.x,y:y.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!t.isArray(d))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=d.map(function(g){return f(g)})}catch(g){t.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),t.console.error(g),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(d,p,f){p=p||t.Placement.CENTER;var g=t.Placement.properties[p],y=this.contentAspectX,S=0,T=0,k=1,P=1;if(this._clip&&(y=this._clip.getAspectRatio(),k=this._clip.width/this.source.dimensions.x,P=this._clip.height/this.source.dimensions.y,d.getAspectRatio()>y?(S=this._clip.x/this._clip.height*d.height,T=this._clip.y/this._clip.height*d.height):(S=this._clip.x/this._clip.width*d.width,T=this._clip.y/this._clip.width*d.width)),d.getAspectRatio()>y){var _=d.height/P,D=0;g.isHorizontallyCentered?D=(d.width-d.height*y)/2:g.isRight&&(D=d.width-d.height*y),this.setPosition(new t.Point(d.x-S+D,d.y-T),f),this.setHeight(_,f)}else{var q=d.width/k,G=0;g.isVerticallyCentered?G=(d.height-d.width/y)/2:g.isBottom&&(G=d.height-d.width/y),this.setPosition(new t.Point(d.x-S,d.y-T+G),f),this.setWidth(q,f)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(d){t.console.assert(!d||d instanceof t.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),d instanceof t.Rect?this._clip=d.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(d){this.flipped=!!d,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(d){d!==this.opacity&&(this.opacity=d,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(d){this._preload=!!d,this._needsDraw=!0},getRotation:function(d){return d?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(d,p){this._degreesSpring.target.value===d&&this._degreesSpring.isAtTargetValue()||(p?this._degreesSpring.resetTo(d):this._degreesSpring.springTo(d),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(d){return this.getBoundsNoRotate(d).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(d){d!==this.compositeOperation&&(this.compositeOperation=d,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},setAjaxHeaders:function(d,p){if(d===null&&(d={}),!t.isPlainObject(d)){console.error("[TiledImage.setAjaxHeaders] Ignoring invalid headers, must be a plain object");return}this._ownAjaxHeaders=d,this._updateAjaxHeaders(p)},_updateAjaxHeaders:function(d){if(d===void 0&&(d=!0),t.isPlainObject(this.viewer.ajaxHeaders)?this.ajaxHeaders=t.extend({},this.viewer.ajaxHeaders,this._ownAjaxHeaders):this.ajaxHeaders=this._ownAjaxHeaders,d){var p,f,g,y;for(var S in this.tilesMatrix){p=this.source.getNumTiles(S);for(var T in this.tilesMatrix[S]){f=(p.x+T%p.x)%p.x;for(var k in this.tilesMatrix[S][T])if(g=(p.y+k%p.y)%p.y,y=this.tilesMatrix[S][T][k],y.loadWithAjax=this.loadTilesWithAjax,y.loadWithAjax){var P=this.source.getTileAjaxHeaders(S,f,g);y.ajaxHeaders=t.extend({},this.ajaxHeaders,P)}else y.ajaxHeaders=null}}for(var _=0;_<this._imageLoader.jobQueue.length;_++){var D=this._imageLoader.jobQueue[_];D.loadWithAjax=D.tile.loadWithAjax,D.ajaxHeaders=D.tile.loadWithAjax?D.tile.ajaxHeaders:null}}},_setScale:function(d,p){var f=this._scaleSpring.target.value===d;if(p){if(f&&this._scaleSpring.current.value===d)return;this._scaleSpring.resetTo(d),this._updateForScale(),this._needsDraw=!0}else{if(f)return;this._scaleSpring.springTo(d),this._updateForScale(),this._needsDraw=!0}f||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var d=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),p=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,f=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(p/this.minPixelRatio)/Math.log(2))));return f=Math.max(f,this.source.minLevel||0),d=Math.min(d,f),{lowestLevel:d,highestLevel:f}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var d=this.lastDrawn.pop();d.beingDrawn=!1}var p=this.viewport,f=this._viewportToTiledImageRectangle(p.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var g=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(f=f.intersection(g),f===null)return}for(var y=this._getLevelsInterval(),S=y.lowestLevel,T=y.highestLevel,k=null,P=!1,_=t.now(),D=T;D>=S;D--){var q=!1,G=p.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(D),!0).x*this._scaleSpring.current.value;if(D===S||!P&&G>=this.minPixelRatio)q=!0,P=!0;else if(!P)continue;var ne=p.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(D),!1).x*this._scaleSpring.current.value,K=p.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,Y=this.immediateRender?1:K,se=Math.min(1,(G-.5)/.5),ce=Y/Math.abs(Y-ne);if(k=this._updateLevel(P,q,D,se,ce,f,_,k),this._providesCoverage(this.coverage,D))break}this._drawTiles(this.lastDrawn),k&&!k.context2D?(this._loadTile(k,_),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(d,p,f){var g,y;this.wrapHorizontal?(g=t.positiveModulo(p.x,1),y=t.positiveModulo(f.x,1)):(g=Math.max(0,p.x),y=Math.min(1,f.x));var S,T,k=1/this.source.aspectRatio;this.wrapVertical?(S=t.positiveModulo(p.y,k),T=t.positiveModulo(f.y,k)):(S=Math.max(0,p.y),T=Math.min(k,f.y));var P=this.source.getTileAtPoint(d,new t.Point(g,S)),_=this.source.getTileAtPoint(d,new t.Point(y,T)),D=this.source.getNumTiles(d);return this.wrapHorizontal&&(P.x+=D.x*Math.floor(p.x),_.x+=D.x*Math.floor(f.x)),this.wrapVertical&&(P.y+=D.y*Math.floor(p.y/k),_.y+=D.y*Math.floor(f.y/k)),{topLeft:P,bottomRight:_}},_updateLevel:function(d,p,f,g,y,S,T,k){var P=S.getBoundingBox().getTopLeft(),_=S.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:d,level:f,opacity:g,visibility:y,drawArea:S,topleft:P,bottomright:_,currenttime:T,best:k}),this._resetCoverage(this.coverage,f),this._resetCoverage(this.loadingCoverage,f);var D=this._getCornerTiles(f,P,_),q=D.topLeft,G=D.bottomRight,ne=this.source.getNumTiles(f),K=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(G.x+=1,this.wrapHorizontal||(G.x=Math.min(G.x,ne.x-1)));for(var Y=q.x;Y<=G.x;Y++)for(var se=q.y;se<=G.y;se++){var ce;if(this.getFlip()){var de=(ne.x+Y%ne.x)%ne.x;ce=Y+ne.x-de-de-1}else ce=Y;S.intersection(this.getTileBounds(f,ce,se))!==null&&(k=this._updateTile(p,d,ce,se,f,g,y,K,ne,T,k))}return k},_updateTile:function(d,p,f,g,y,S,T,k,P,_,D){var q=this._getTile(f,g,y,_,P,this._worldWidthCurrent,this._worldHeightCurrent),G=p;this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:q}),this._setCoverage(this.coverage,y,f,g,!1);var ne=q.loaded||q.loading||this._isCovered(this.loadingCoverage,y,f,g);if(this._setCoverage(this.loadingCoverage,y,f,g,ne),!q.exists||(d&&!G&&(this._isCovered(this.coverage,y,f,g)?this._setCoverage(this.coverage,y,f,g,!0):G=!0),!G))return D;if(this._positionTile(q,this.source.tileOverlap,this.viewport,k,T),!q.loaded)if(q.context2D)this._setTileLoaded(q);else{var K=this._tileCache.getImageRecord(q.cacheKey);K&&this._setTileLoaded(q,K.getData())}if(q.loaded){var Y=this._blendTile(q,f,g,y,S,_);Y&&(this._needsDraw=!0)}else q.loading?this._tilesLoading++:ne||(D=this._compareTiles(D,q));return D},_getTile:function(d,p,f,g,y,S,T){var k,P,_,D,q,G,ne,K,Y,se,ce=this.tilesMatrix,de=this.source;return ce[f]||(ce[f]={}),ce[f][d]||(ce[f][d]={}),(!ce[f][d][p]||!ce[f][d][p].flipped!=!this.flipped)&&(k=(y.x+d%y.x)%y.x,P=(y.y+p%y.y)%y.y,_=this.getTileBounds(f,d,p),D=de.getTileBounds(f,k,P,!0),q=de.tileExists(f,k,P),G=de.getTileUrl(f,k,P),ne=de.getTilePostData(f,k,P),this.loadTilesWithAjax?(K=de.getTileAjaxHeaders(f,k,P),t.isPlainObject(this.ajaxHeaders)&&(K=t.extend({},this.ajaxHeaders,K))):K=null,Y=de.getContext2D?de.getContext2D(f,k,P):void 0,se=new t.Tile(f,d,p,_,q,G,Y,this.loadTilesWithAjax,K,D,ne,de.getTileHashKey(f,k,P,G,K,ne)),this.getFlip()?k===0&&(se.isRightMost=!0):k===y.x-1&&(se.isRightMost=!0),P===y.y-1&&(se.isBottomMost=!0),se.flipped=this.flipped,ce[f][d][p]=se),se=ce[f][d][p],se.lastTouchTime=g,se},_loadTile:function(d,p){var f=this;d.loading=!0,this._imageLoader.addJob({src:d.getUrl(),tile:d,source:this.source,postData:d.postData,loadWithAjax:d.loadWithAjax,ajaxHeaders:d.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(g,y,S){f._onTileLoad(d,p,g,y,S)},abort:function(){d.loading=!1}})},_onTileLoad:function(d,p,f,g,y){if(f)d.exists=!0;else{t.console.error("Tile %s failed to load: %s - error: %s",d,d.getUrl(),g),this.viewer.raiseEvent("tile-load-failed",{tile:d,tiledImage:this,time:p,message:g,tileRequest:y}),d.loading=!1,d.exists=!1;return}if(p<this.lastResetTime){t.console.warn("Ignoring tile %s loaded before reset: %s",d,d.getUrl()),d.loading=!1;return}var S=this,T=function(){var k=S.source,P=k.getClosestLevel();S._setTileLoaded(d,f,P,y)};this._midDraw?window.setTimeout(T,1):T()},_setTileLoaded:function(d,p,f,g){var y=0,S=!1,T=this;function k(){return S&&t.console.error("Event 'tile-loaded' argument getCompletionCallback must be called synchronously. Its return value should be called asynchronously."),y++,P}function P(){y--,y===0&&(d.loading=!1,d.loaded=!0,d.hasTransparency=T.source.hasTransparency(d.context2D,d.getUrl(),d.ajaxHeaders,d.postData),d.context2D||T._tileCache.cacheTile({data:p,tile:d,cutoff:f,tiledImage:T}),T._needsDraw=!0)}var _=k();this.viewer.raiseEvent("tile-loaded",{tile:d,tiledImage:this,tileRequest:g,get image(){return t.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),p},data:p,getCompletionCallback:k}),S=!0,_()},_positionTile:function(d,p,f,g,y){var S=d.bounds.getTopLeft();S.x*=this._scaleSpring.current.value,S.y*=this._scaleSpring.current.value,S.x+=this._xSpring.current.value,S.y+=this._ySpring.current.value;var T=d.bounds.getSize();T.x*=this._scaleSpring.current.value,T.y*=this._scaleSpring.current.value;var k=f.pixelFromPointNoRotate(S,!0),P=f.pixelFromPointNoRotate(S,!1),_=f.deltaPixelsFromPointsNoRotate(T,!0),D=f.deltaPixelsFromPointsNoRotate(T,!1),q=P.plus(D.divide(2)),G=g.squaredDistanceTo(q);p||(_=_.plus(new t.Point(1,1))),d.isRightMost&&this.wrapHorizontal&&(_.x+=.75),d.isBottomMost&&this.wrapVertical&&(_.y+=.75),d.position=k,d.size=_,d.squaredDistance=G,d.visibility=y},_blendTile:function(d,p,f,g,y,S){var T=1e3*this.blendTime,k,P;if(d.blendStart||(d.blendStart=S),k=S-d.blendStart,P=T?Math.min(1,k/T):1,this.alwaysBlend&&(P*=y),d.opacity=P,this.lastDrawn.push(d),P===1)this._setCoverage(this.coverage,g,p,f,!0),this._hasOpaqueTile=!0;else if(k<T)return!0;return!1},_compareTiles:function(d,p){return!d||p.visibility>d.visibility||p.visibility===d.visibility&&p.squaredDistance<d.squaredDistance?p:d},_drawTiles:function(d){if(!(this.opacity===0||d.length===0&&!this.placeholderFillStyle)){var p=d[0],f;p&&(f=this.opacity<1||this.compositeOperation&&this.compositeOperation!=="source-over"||!this._isBottomItem()&&this.source.hasTransparency(p.context2D,p.getUrl(),p.ajaxHeaders,p.postData));var g,y,S=this.viewport.getZoom(!0),T=this.viewportToImageZoom(S);d.length>1&&T>this.smoothTileEdgesMinZoom&&!this.iOSDevice&&this.getRotation(!0)%360===0&&t.supportsCanvas&&this.viewer.useCanvas&&(f=!0,g=p.getScaleForEdgeSmoothing(),y=p.getTranslationForEdgeSmoothing(g,this._drawer.getCanvasSize(!1),this._drawer.getCanvasSize(!0)));var k;f&&(g||(k=this.viewport.viewportToViewerElementRectangle(this.getClippedBounds(!0)).getIntegerBoundingBox(),this._drawer.viewer.viewport.getFlip()&&(this.viewport.getRotation(!0)%360!==0||this.getRotation(!0)%360!==0)&&(k.x=this._drawer.viewer.container.clientWidth-(k.x+k.width)),k=k.times(t.pixelDensityRatio)),this._drawer._clear(!0,k)),g||(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:f}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:f}),this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip());var P=!1;if(this._clip){this._drawer.saveContext(f);var _=this.imageToViewportRectangle(this._clip,!0);_=_.rotate(-this.getRotation(!0),this._getRotationPoint(!0));var D=this._drawer.viewportToDrawerRectangle(_);g&&(D=D.times(g)),y&&(D=D.translate(y)),this._drawer.setClip(D,f),P=!0}if(this._croppingPolygons){var q=this;this._drawer.saveContext(f);try{var G=this._croppingPolygons.map(function(ie){return ie.map(function(ge){var pe=q.imageToViewportCoordinates(ge.x,ge.y,!0).rotate(-q.getRotation(!0),q._getRotationPoint(!0)),be=q._drawer.viewportCoordToDrawerCoord(pe);return g&&(be=be.times(g)),y&&(be=be.plus(y)),be})});this._drawer.clipWithPolygons(G,f)}catch(ie){t.console.error(ie)}P=!0}if(this.placeholderFillStyle&&this._hasOpaqueTile===!1){var ne=this._drawer.viewportToDrawerRectangle(this.getBounds(!0));g&&(ne=ne.times(g)),y&&(ne=ne.translate(y));var K=null;typeof this.placeholderFillStyle=="function"?K=this.placeholderFillStyle(this,this._drawer.context):K=this.placeholderFillStyle,this._drawer.drawRectangle(ne,K,f)}var Y=h(this.subPixelRoundingForTransparency),se=!1;if(Y===t.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)se=!0;else if(Y===t.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){var ce=this.viewer&&this.viewer.isAnimating();se=!ce}for(var de=d.length-1;de>=0;de--)p=d[de],this._drawer.drawTile(p,this._drawingHandler,f,g,y,se,this.source),p.beingDrawn=!0,this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:this,tile:p});P&&this._drawer.restoreContext(f),g||(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(f),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(f)),f&&(g&&(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:!1}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:!1})),this._drawer.blendSketch({opacity:this.opacity,scale:g,translate:y,compositeOperation:this.compositeOperation,bounds:k}),g&&(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1))),g||this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip(),this._drawDebugInfo(d)}},_drawDebugInfo:function(d){if(this.debugMode)for(var p=d.length-1;p>=0;p--){var f=d[p];try{this._drawer.drawDebugInfo(f,d.length,p,this)}catch(g){t.console.error(g)}}},_providesCoverage:function(d,p,f,g){var y,S,T,k;if(!d[p])return!1;if(f===void 0||g===void 0){y=d[p];for(T in y)if(Object.prototype.hasOwnProperty.call(y,T)){S=y[T];for(k in S)if(Object.prototype.hasOwnProperty.call(S,k)&&!S[k])return!1}return!0}return d[p][f]===void 0||d[p][f][g]===void 0||d[p][f][g]===!0},_isCovered:function(d,p,f,g){return f===void 0||g===void 0?this._providesCoverage(d,p+1):this._providesCoverage(d,p+1,2*f,2*g)&&this._providesCoverage(d,p+1,2*f,2*g+1)&&this._providesCoverage(d,p+1,2*f+1,2*g)&&this._providesCoverage(d,p+1,2*f+1,2*g+1)},_setCoverage:function(d,p,f,g,y){if(!d[p]){t.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",p);return}d[p][f]||(d[p][f]={}),d[p][f][g]=y},_resetCoverage:function(d,p){d[p]={}}});var i=t.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function r(d){return d!==t.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&d!==t.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&d!==t.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function l(d){return r(d)?i:d}function h(d){if(typeof d=="number")return l(d);if(!d||!t.Browser)return i;var p=d[t.Browser.vendor];return r(p)&&(p=d["*"]),l(p)}}(n),function(t){var i=function(l){t.console.assert(l,"[TileCache.cacheTile] options is required"),t.console.assert(l.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(l.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=l.tile,this.tiledImage=l.tiledImage},r=function(l){t.console.assert(l,"[ImageRecord] options is required"),t.console.assert(l.data,"[ImageRecord] options.data is required"),this._tiles=[],l.create.apply(null,[this,l.data,l.ownerTile]),this._destroyImplementation=l.destroy.bind(null,this),this.getImage=l.getImage.bind(null,this),this.getData=l.getData.bind(null,this),this.getRenderedContext=l.getRenderedContext.bind(null,this)};r.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(l){t.console.assert(l,"[ImageRecord.addTile] tile is required"),this._tiles.push(l)},removeTile:function(l){for(var h=0;h<this._tiles.length;h++)if(this._tiles[h]===l){this._tiles.splice(h,1);return}t.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",l)},getTileCount:function(){return this._tiles.length}},t.TileCache=function(l){l=l||{},this._maxImageCacheCount=l.maxImageCacheCount||t.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},t.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(l){t.console.assert(l,"[TileCache.cacheTile] options is required"),t.console.assert(l.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(l.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),t.console.assert(l.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var h=l.cutoff||0,d=this._tilesLoaded.length,p=this._imagesLoaded[l.tile.cacheKey];if(p||(l.data||(t.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),l.data=l.image),t.console.assert(l.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),p=this._imagesLoaded[l.tile.cacheKey]=new r({data:l.data,ownerTile:l.tile,create:l.tiledImage.source.createTileCache,destroy:l.tiledImage.source.destroyTileCache,getImage:l.tiledImage.source.getTileCacheDataAsImage,getData:l.tiledImage.source.getTileCacheData,getRenderedContext:l.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),p.addTile(l.tile),l.tile.cacheImageRecord=p,this._imagesLoadedCount>this._maxImageCacheCount){for(var f=null,g=-1,y=null,S,T,k,P,_,D,q=this._tilesLoaded.length-1;q>=0;q--)if(D=this._tilesLoaded[q],S=D.tile,!(S.level<=h||S.beingDrawn)){if(!f){f=S,g=q,y=D;continue}P=S.lastTouchTime,T=f.lastTouchTime,_=S.level,k=f.level,(P<T||P===T&&_>k)&&(f=S,g=q,y=D)}f&&g>=0&&(this._unloadTile(y),d=g)}this._tilesLoaded[d]=new i({tile:l.tile,tiledImage:l.tiledImage})},clearTilesFor:function(l){t.console.assert(l,"[TileCache.clearTilesFor] tiledImage is required");for(var h,d=0;d<this._tilesLoaded.length;++d)h=this._tilesLoaded[d],h.tiledImage===l&&(this._unloadTile(h),this._tilesLoaded.splice(d,1),d--)},getImageRecord:function(l){return t.console.assert(l,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[l]},_unloadTile:function(l){t.console.assert(l,"[TileCache._unloadTile] tileRecord is required");var h=l.tile,d=l.tiledImage;h.unload(),h.cacheImageRecord=null;var p=this._imagesLoaded[h.cacheKey];p.removeTile(h),p.getTileCount()||(p.destroy(),delete this._imagesLoaded[h.cacheKey],this._imagesLoadedCount--),d.viewer.raiseEvent("tile-unloaded",{tile:h,tiledImage:d})}}}(n),function(t){t.World=function(i){var r=this;t.console.assert(i.viewer,"[World] options.viewer is required"),t.EventSource.call(this),this.viewer=i.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(l){r._autoRefigureSizes?r._figureSizes():r._needsSizesFigured=!0},this._figureSizes()},t.extend(t.World.prototype,t.EventSource.prototype,{addItem:function(i,r){if(t.console.assert(i,"[World.addItem] item is required"),t.console.assert(i instanceof t.TiledImage,"[World.addItem] only TiledImages supported at this time"),r=r||{},r.index!==void 0){var l=Math.max(0,Math.min(this._items.length,r.index));this._items.splice(l,0,i)}else this._items.push(i);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,i.addHandler("bounds-change",this._delegatedFigureSizes),i.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:i})},getItemAt:function(i){return t.console.assert(i!==void 0,"[World.getItemAt] index is required"),this._items[i]},getIndexOfItem:function(i){return t.console.assert(i,"[World.getIndexOfItem] item is required"),t.indexOf(this._items,i)},getItemCount:function(){return this._items.length},setItemIndex:function(i,r){t.console.assert(i,"[World.setItemIndex] item is required"),t.console.assert(r!==void 0,"[World.setItemIndex] index is required");var l=this.getIndexOfItem(i);if(r>=this._items.length)throw new Error("Index bigger than number of layers.");r===l||l===-1||(this._items.splice(l,1),this._items.splice(r,0,i),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:i,previousIndex:l,newIndex:r}))},removeItem:function(i){t.console.assert(i,"[World.removeItem] item is required");var r=t.indexOf(this._items,i);r!==-1&&(i.removeHandler("bounds-change",this._delegatedFigureSizes),i.removeHandler("clip-change",this._delegatedFigureSizes),i.destroy(),this._items.splice(r,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(i))},removeAll:function(){this.viewer._cancelPendingImages();var i,r;for(r=0;r<this._items.length;r++)i=this._items[r],i.removeHandler("bounds-change",this._delegatedFigureSizes),i.removeHandler("clip-change",this._delegatedFigureSizes),i.destroy();var l=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,r=0;r<l.length;r++)i=l[r],this._raiseRemoveItem(i)},resetItems:function(){for(var i=0;i<this._items.length;i++)this._items[i].reset()},update:function(){for(var i=!1,r=0;r<this._items.length;r++)i=this._items[r].update()||i;return i},draw:function(){for(var i=0;i<this._items.length;i++)this._items[i].draw();this._needsDraw=!1},needsDraw:function(){for(var i=0;i<this._items.length;i++)if(this._items[i].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(i){this._autoRefigureSizes=i,i&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(i){i=i||{};var r=i.immediately||!1,l=i.layout||t.DEFAULT_SETTINGS.collectionLayout,h=i.rows||t.DEFAULT_SETTINGS.collectionRows,d=i.columns||t.DEFAULT_SETTINGS.collectionColumns,p=i.tileSize||t.DEFAULT_SETTINGS.collectionTileSize,f=i.tileMargin||t.DEFAULT_SETTINGS.collectionTileMargin,g=p+f,y;!i.rows&&d?y=d:y=Math.ceil(this._items.length/h);var S=0,T=0,k,P,_,D,q;this.setAutoRefigureSizes(!1);for(var G=0;G<this._items.length;G++)G&&G%y===0&&(l==="horizontal"?(T+=g,S=0):(S+=g,T=0)),k=this._items[G],P=k.getBounds(),P.width>P.height?_=p:_=p*(P.width/P.height),D=_*(P.height/P.width),q=new t.Point(S+(p-_)/2,T+(p-D)/2),k.setPosition(q,r),k.setWidth(_,r),l==="horizontal"?S+=g:T+=g;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var i=this._homeBounds?this._homeBounds.clone():null,r=this._contentSize?this._contentSize.clone():null,l=this._contentFactor||0;if(!this._items.length)this._homeBounds=new t.Rect(0,0,1,1),this._contentSize=new t.Point(1,1),this._contentFactor=1;else{var h=this._items[0],d=h.getBounds();this._contentFactor=h.getContentSize().x/d.width;for(var p=h.getClippedBounds().getBoundingBox(),f=p.x,g=p.y,y=p.x+p.width,S=p.y+p.height,T=1;T<this._items.length;T++)h=this._items[T],d=h.getBounds(),this._contentFactor=Math.max(this._contentFactor,h.getContentSize().x/d.width),p=h.getClippedBounds().getBoundingBox(),f=Math.min(f,p.x),g=Math.min(g,p.y),y=Math.max(y,p.x+p.width),S=Math.max(S,p.y+p.height);this._homeBounds=new t.Rect(f,g,y-f,S-g),this._contentSize=new t.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==l||!this._homeBounds.equals(i)||!this._contentSize.equals(r))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(i){this.raiseEvent("remove-item",{item:i})}})}(n)})(qT);var S8=qT.exports;const vm=Er(S8);function Y0(e){return JSON.parse(JSON.stringify(e))}const K0={middle:!1,top:!1,"left-middle":!1,"right-middle":!1,bottom:!1,"left-top":!1,"right-top":!1,"left-bottom":!1,"right-bottom":!1},E8=["tall","extra-tall","wide","full"];function T8(e){return k8(e,[[".",".","."],[".",".","."],[".",".","."]],C8)}function C8(e,n,t,i){switch(e){case"top":n[0][1]=i.id,t==="wide"&&(n[0][2]=i.id),t==="full"&&(n[0][0]=i.id,n[0][2]=i.id);break;case"left-middle":n[1][0]=i.id,t==="tall"?n[2][0]=i.id:t==="wide"&&(n[1][1]=i.id,n[1][2]=i.id);break;case"right-middle":n[1][2]=i.id,t==="tall"&&(n[2][2]=i.id);break;case"bottom":n[2][1]=i.id,t==="wide"&&(n[2][2]=i.id),t==="full"&&(n[2][0]=i.id,n[2][2]=i.id);break;case"left-top":n[0][0]=i.id,t==="tall"?n[1][0]=i.id:t==="wide"&&(n[0][1]=i.id,n[0][2]=i.id);break;case"right-top":n[0][2]=i.id,t==="tall"&&(n[1][2]=i.id);break;case"left-bottom":n[2][0]=i.id,t==="wide"&&(n[2][1]=i.id,n[2][2]=i.id);break;case"right-bottom":n[2][2]=i.id;break;default:n[1][1]=i.id,n[1][2]=i.id,t==="full"&&(n[1][0]=i.id)}}function k8(e,n,t){const i=document.createElement("div");i.innerHTML=e;let r;i.getElementsByTagName("tei-surface").length>0?r=[i.getElementsByTagName("tei-surface")[0]]:r=i.getElementsByTagName("tei-body")[0].children;const l=function(S){const T=S.getAttribute("rend");return Object.keys(K0).includes(T)?T:"middle"};function h(S){const T=S.getAttribute("style");return E8.includes(T)?T:null}const d=[];let p="",f=0,g=0;try{for(const S of r){const T=Y0(n),k=Y0(K0),P=S.id,_=S.children,D=S.getAttribute("facs"),q=S.getAttribute("ana");for(const G of _){const ne=l(G),K=h(G);G.setAttribute("data-entry-id",P),k[ne]?(G.id=k[ne][0].id,k[ne].push(G)):(f++,G.id=`z${f}`,k[ne]=[G]),t(ne,T,K,G)}for(const G of Object.values(k))G&&(p=p.concat(_8(G,D,q)));d[g]=bf(T[0],d[g]),d[g+1]=bf(T[1],d[g+1]),d[g+2]=bf(T[2],d[g+2]),g+=1}}catch(S){console.error(S)}const y=P8(d);return{html:p,layout:y}}function P8(e){const n=[...e];e[0]&&e[0][0]==="."&&e[0][1]==="."&&n.shift();let t="";for(const i of n){const r=i.join(" ");t+=` '${r}'`}return t}function _8(e,n,t){const i=e[0],r=i.id,l=i.attributes["data-entry-id"].value;let h="";for(let p=0;p<i.classList.length;p++)h=`${h} ${i.classList.item(p)}`;let d=`<div id="${r}" className="${h}" ana="${t}" data-entry-id="${l}" data-facs="${n||""}">`;for(const p of e)p.getAttribute("facs")&&p.setAttribute("data-facs",p.getAttribute("facs")),p.setAttribute("className","block"),p.name==="div"?d=d.concat(`${p.innerHTML} <br/>`):d=d.concat(`${p.outerHTML}`);return d.concat("</div>")}function bf(e,n){if(n){const t=[];for(let i=0;i<4;i++)e[i]!=="."?t[i]=e[i]:t[i]=n[i];return t}return e}function R8(e){const n=[],t=new DOMParser().parseFromString(e,"text/html").querySelectorAll("tei-div[ana], tei-seg[ana]");for(const i of t){const r=i.getAttribute("ana");if(r){const l=r.split(" ").map(h=>h.slice(1));for(const h of l)n.includes(h)||n.push(h)}}return n}function O8(e){const n=new Set,t={};return e.forEach(i=>{t[i.id]=[],i.body.forEach(r=>{if(r.purpose==="classifying"){const l=r.value.slice(1);n.add(l),t[i.id].push(l)}})}),{tagIds:Array.from(n),zoneTagIndex:t}}async function D8(e){if(e.loading)return e;e.loading=!0;const n={...e},t=Object.keys(n.annotationURLs),i=Object.fromEntries(t.map(h=>[h,!1]));if(n.image_zoom_url.endsWith(".json")){const h=await(await fetch(n.image_zoom_url)).json();n.tileSource=new vm.IIIFTileSource(h)}else n.tileSource=new vm.ImageTileSource({type:"image",url:n.image_zoom_url});const{tagIds:r,zoneTagIndex:l}=O8(n.annotations);if(n.tagIds=[...r],n.zoneTagIndex={...l},t.length>0){for await(const h of t){const{htmlURL:d,xmlURL:p}=n.annotationURLs[h];n.transcription||(n.transcription={}),n.transcription[h]={};try{const f=await fetch(d),g=await fetch(p),y=await f.text(),S=await g.text(),T=R8(y),k=A8(y,S);if(k)n.transcription[h]=k,n.tagIds=[...n.tagIds,...T],n.loading=!1,i[h]=!0;else throw new Error(`Unable to load transcription: ${d}`)}catch(f){throw e.loading=!1,f}}if(Object.values(i).filter(h=>!h).length===0)return n}return n.loading=!1,n}function A8(e,n){return{...T8(e),xml:n}}const gg=e=>e.document,I8=e=>e.glossary,M8=e=>e.notes;function*Z0(e){const n=yield fetch(e);if(!n.ok)return null;const t=yield n.text(),i=new DOMParser().parseFromString(t,"text/html").querySelectorAll("tei-category"),r={};for(const l of i){const h=l.getAttribute("id");if(h){const d=l.querySelector("tei-catdesc");if(d){const p=d.textContent;r[h]=p}}}return r}function*z8(e){if(typeof e=="string"){const n=yield Z0(e);yield ts("DocumentActions.loadTags",n)}else{const n={};for(const t of Object.keys(e))n[t]=yield Z0(e[t]);yield ts("DocumentActions.loadTags",n)}}function*L8(e){const n=e.payload.params[0].split("/");if(n.length>1)switch(n[1]){case"ec":{yield j8(),yield F8(),yield H8(),yield B8(),yield N8(n);break}}}function*F8(){const e=yield zl(gg);e.tags||(yield z8(e.headerUrl))}function*j8(){const e=yield zl(gg);if(!e.loaded){if(e.variorum){const t={};for(const r of Object.keys(e.manifestURL)){const l=yield fetch(e.manifestURL[r]);t[r]=yield l.json()}const i={type:"variorum",documentData:t};return yield ts("DocumentActions.loadDocument",i),i}const n=yield(yield fetch(e.manifestURL)).json();return yield ts("DocumentActions.loadDocument",n),n}return null}function*N8(e){const n=yield zl(gg);if(n.loaded){let t,i,r;e.length>2&&(t=e[2],e.length>4&&(i=e[4],e.length>6&&(r=e[6])));const l=[];l.push(t),i&&i!==t&&l.push(i),r&&r!==t&&r!==i&&l.push(r);for(const h of l){const d=n.folioIndex[h]||n.folioIndex[decodeURI(h)];if(d&&!d.loading){const p=yield D8(d);yield ts("DocumentActions.loadFolio",p)}}}}function*H8(){const e=yield zl(I8);if(!e.loaded&&e.URL){const n=yield(yield fetch(e.URL)).json();yield ts("GlossaryActions.loadGlossary",n)}}function*B8(){const e=yield zl(M8);if(!e.loaded&&e.URL){const n=yield(yield fetch(e.URL)).text();yield ts("NotesActions.loadNotes",n)}}function*V8(){yield l8("RouteListenerSaga.userNavigation",L8)}function*U8(){yield EN([V8()])}function W8(e){const n=r8(),t=cT(x8(e),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),qj(n));return n.run(U8),t}function ym(e,n,...t){e.dispatch({type:n,payload:{params:t,dispatcher:{dispatch:e.dispatch}}})}function*ts(e,...n){return yield SN({type:e,payload:{params:n}})}function G8(e,n,t){const i=t.payload&&t.payload.params?t.payload.params:[];return n(e,...i,t.payload.dispatcher)}function q8(e,n){const t=e.split(".");return n[t[1]]}function xu(e,n,t){const i=[];for(const l of Object.keys(n))i.push(`${e}.${l}`);function r(l=t,h,d=i,p=n){return d.includes(h.type)?G8(l,q8(h.type,p),h):{...l}}return r}function $n(e){if(typeof e!="string")throw new Error(aa(7));return e.charAt(0).toUpperCase()+e.slice(1)}function la(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.reduce(function(i,r){return r==null?i:function(){for(var l=arguments.length,h=new Array(l),d=0;d<l;d++)h[d]=arguments[d];i.apply(this,h),r.apply(this,h)}},function(){})}var X8=function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}},XT=M.forwardRef(function(e,n){var t=e.children,i=e.classes,r=e.className,l=e.color,h=l===void 0?"inherit":l,d=e.component,p=d===void 0?"svg":d,f=e.fontSize,g=f===void 0?"medium":f,y=e.htmlColor,S=e.titleAccess,T=e.viewBox,k=T===void 0?"0 0 24 24":T,P=At(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return M.createElement(p,ke({className:Nt(i.root,r,h!=="inherit"&&i["color".concat($n(h))],g!=="default"&&g!=="medium"&&i["fontSize".concat($n(g))]),focusable:"false",viewBox:k,color:y,"aria-hidden":S?void 0:!0,role:S?"img":void 0,ref:n},P),t,S?M.createElement("title",null,S):null)});XT.muiName="SvgIcon";const J0=vn(X8,{name:"MuiSvgIcon"})(XT);function Fl(e,n){var t=function(i,r){return vt.createElement(J0,ke({ref:r},i),e)};return t.muiName=J0.muiName,vt.memo(vt.forwardRef(t))}function vg(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:166,t;function i(){for(var r=arguments.length,l=new Array(r),h=0;h<r;h++)l[h]=arguments[h];var d=this,p=function(){e.apply(d,l)};clearTimeout(t),t=setTimeout(p,n)}return i.clear=function(){clearTimeout(t)},i}function Y8(e,n){return function(){return null}}function YT(e,n){return M.isValidElement(e)&&n.indexOf(e.type.muiName)!==-1}function xr(e){return e&&e.ownerDocument||document}function yg(e){var n=xr(e);return n.defaultView||window}function K8(e){return function(){return null}}function ns(e,n){typeof e=="function"?e(n):e&&(e.current=n)}function Z8(e,n,t,i,r){return null}function pd(e){var n=e.controlled,t=e.default;e.name,e.state;var i=M.useRef(n!==void 0),r=i.current,l=M.useState(t),h=l[0],d=l[1],p=r?n:h,f=M.useCallback(function(g){r||d(g)},[]);return[p,f]}var J8=typeof window<"u"?M.useLayoutEffect:M.useEffect;function ao(e){var n=M.useRef(e);return J8(function(){n.current=e}),M.useCallback(function(){return n.current.apply(void 0,arguments)},[])}function Un(e,n){return M.useMemo(function(){return e==null&&n==null?null:function(t){ns(e,t),ns(n,t)}},[e,n])}function $8(e){var n=M.useState(e),t=n[0],i=n[1],r=e||t;return M.useEffect(function(){t==null&&i("mui-".concat(Math.round(Math.random()*1e5)))},[t]),r}var fd=!0,bm=!1,$0=null,Q8={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function eH(e){var n=e.type,t=e.tagName;return!!(t==="INPUT"&&Q8[n]&&!e.readOnly||t==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function tH(e){e.metaKey||e.altKey||e.ctrlKey||(fd=!0)}function wf(){fd=!1}function nH(){this.visibilityState==="hidden"&&bm&&(fd=!0)}function iH(e){e.addEventListener("keydown",tH,!0),e.addEventListener("mousedown",wf,!0),e.addEventListener("pointerdown",wf,!0),e.addEventListener("touchstart",wf,!0),e.addEventListener("visibilitychange",nH,!0)}function rH(e){var n=e.target;try{return n.matches(":focus-visible")}catch{}return fd||eH(n)}function oH(){bm=!0,window.clearTimeout($0),$0=window.setTimeout(function(){bm=!1},100)}function KT(){var e=M.useCallback(function(n){var t=dr.findDOMNode(n);t!=null&&iH(t.ownerDocument)},[]);return{isFocusVisible:rH,onBlurVisible:oH,ref:e}}const sH=Object.freeze(Object.defineProperty({__proto__:null,capitalize:$n,createChainedFunction:la,createSvgIcon:Fl,debounce:vg,deprecatedPropType:Y8,isMuiElement:YT,ownerDocument:xr,ownerWindow:yg,requirePropFactory:K8,setRef:ns,unstable_useId:$8,unsupportedProp:Z8,useControlled:pd,useEventCallback:ao,useForkRef:Un,useIsFocusVisible:KT},Symbol.toStringTag,{value:"Module"}));function aH(e){return fE(e)||hE(e)||Xm(e)||mE()}const Q0={disabled:!1},Wu=vt.createContext(null);var lH=function(e){return e.scrollTop},fl="unmounted",Vo="exited",Uo="entering",Zs="entered",wm="exiting",pr=function(e){id(n,e);function n(i,r){var l;l=e.call(this,i,r)||this;var h=r,d=h&&!h.isMounting?i.enter:i.appear,p;return l.appearStatus=null,i.in?d?(p=Vo,l.appearStatus=Uo):p=Zs:i.unmountOnExit||i.mountOnEnter?p=fl:p=Vo,l.state={status:p},l.nextCallback=null,l}n.getDerivedStateFromProps=function(i,r){var l=i.in;return l&&r.status===fl?{status:Vo}:null};var t=n.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var r=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==Uo&&l!==Zs&&(r=Uo):(l===Uo||l===Zs)&&(r=wm)}this.updateStatus(!1,r)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,r,l,h;return r=l=h=i,i!=null&&typeof i!="number"&&(r=i.exit,l=i.enter,h=i.appear!==void 0?i.appear:l),{exit:r,enter:l,appear:h}},t.updateStatus=function(i,r){if(i===void 0&&(i=!1),r!==null)if(this.cancelNextCallback(),r===Uo){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:dl.findDOMNode(this);l&&lH(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Vo&&this.setState({status:fl})},t.performEnter=function(i){var r=this,l=this.props.enter,h=this.context?this.context.isMounting:i,d=this.props.nodeRef?[h]:[dl.findDOMNode(this),h],p=d[0],f=d[1],g=this.getTimeouts(),y=h?g.appear:g.enter;if(!i&&!l||Q0.disabled){this.safeSetState({status:Zs},function(){r.props.onEntered(p)});return}this.props.onEnter(p,f),this.safeSetState({status:Uo},function(){r.props.onEntering(p,f),r.onTransitionEnd(y,function(){r.safeSetState({status:Zs},function(){r.props.onEntered(p,f)})})})},t.performExit=function(){var i=this,r=this.props.exit,l=this.getTimeouts(),h=this.props.nodeRef?void 0:dl.findDOMNode(this);if(!r||Q0.disabled){this.safeSetState({status:Vo},function(){i.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:wm},function(){i.props.onExiting(h),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:Vo},function(){i.props.onExited(h)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,r){r=this.setNextCallback(r),this.setState(i,r)},t.setNextCallback=function(i){var r=this,l=!0;return this.nextCallback=function(h){l&&(l=!1,r.nextCallback=null,i(h))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,r){this.setNextCallback(r);var l=this.props.nodeRef?this.props.nodeRef.current:dl.findDOMNode(this),h=i==null&&!this.props.addEndListener;if(!l||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=d[0],f=d[1];this.props.addEndListener(p,f)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===fl)return null;var r=this.props,l=r.children;r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef;var h=os(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return vt.createElement(Wu.Provider,{value:null},typeof l=="function"?l(i,h):vt.cloneElement(vt.Children.only(l),h))},n}(vt.Component);pr.contextType=Wu;pr.propTypes={};function Ks(){}pr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ks,onEntering:Ks,onEntered:Ks,onExit:Ks,onExiting:Ks,onExited:Ks};pr.UNMOUNTED=fl;pr.EXITED=Vo;pr.ENTERING=Uo;pr.ENTERED=Zs;pr.EXITING=wm;function bg(e,n){var t=function(r){return n&&M.isValidElement(r)?n(r):r},i=Object.create(null);return e&&M.Children.map(e,function(r){return r}).forEach(function(r){i[r.key]=t(r)}),i}function cH(e,n){e=e||{},n=n||{};function t(g){return g in n?n[g]:e[g]}var i=Object.create(null),r=[];for(var l in e)l in n?r.length&&(i[l]=r,r=[]):r.push(l);var h,d={};for(var p in n){if(i[p])for(h=0;h<i[p].length;h++){var f=i[p][h];d[i[p][h]]=t(f)}d[p]=t(p)}for(h=0;h<r.length;h++)d[r[h]]=t(r[h]);return d}function Xo(e,n,t){return t[n]!=null?t[n]:e.props[n]}function uH(e,n){return bg(e.children,function(t){return M.cloneElement(t,{onExited:n.bind(null,t),in:!0,appear:Xo(t,"appear",e),enter:Xo(t,"enter",e),exit:Xo(t,"exit",e)})})}function dH(e,n,t){var i=bg(e.children),r=cH(n,i);return Object.keys(r).forEach(function(l){var h=r[l];if(M.isValidElement(h)){var d=l in n,p=l in i,f=n[l],g=M.isValidElement(f)&&!f.props.in;p&&(!d||g)?r[l]=M.cloneElement(h,{onExited:t.bind(null,h),in:!0,exit:Xo(h,"exit",e),enter:Xo(h,"enter",e)}):!p&&d&&!g?r[l]=M.cloneElement(h,{in:!1}):p&&d&&M.isValidElement(f)&&(r[l]=M.cloneElement(h,{onExited:t.bind(null,h),in:f.props.in,exit:Xo(h,"exit",e),enter:Xo(h,"enter",e)}))}}),r}var hH=Object.values||function(e){return Object.keys(e).map(function(n){return e[n]})},pH={component:"div",childFactory:function(e){return e}},wg=function(e){id(n,e);function n(i,r){var l;l=e.call(this,i,r)||this;var h=l.handleExited.bind(im(l));return l.state={contextValue:{isMounting:!0},handleExited:h,firstRender:!0},l}var t=n.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(i,r){var l=r.children,h=r.handleExited,d=r.firstRender;return{children:d?uH(i,h):dH(i,l,h),firstRender:!1}},t.handleExited=function(i,r){var l=bg(this.props.children);i.key in l||(i.props.onExited&&i.props.onExited(r),this.mounted&&this.setState(function(h){var d=ke({},h.children);return delete d[i.key],{children:d}}))},t.render=function(){var i=this.props,r=i.component,l=i.childFactory,h=os(i,["component","childFactory"]),d=this.state.contextValue,p=hH(this.state.children).map(l);return delete h.appear,delete h.enter,delete h.exit,r===null?vt.createElement(Wu.Provider,{value:d},p):vt.createElement(Wu.Provider,{value:d},vt.createElement(r,h,p))},n}(vt.Component);wg.propTypes={};wg.defaultProps=pH;var ZT=function(e){return e.scrollTop};function ca(e,n){var t=e.timeout,i=e.style,r=i===void 0?{}:i;return{duration:r.transitionDuration||typeof t=="number"?t:t[n.mode]||0,delay:r.transitionDelay}}var fH=function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}},JT=M.forwardRef(function(e,n){var t=e.children,i=e.classes,r=e.className,l=e.collapsedHeight,h=e.collapsedSize,d=h===void 0?"0px":h,p=e.component,f=p===void 0?"div":p,g=e.disableStrictModeCompat,y=g===void 0?!1:g,S=e.in,T=e.onEnter,k=e.onEntered,P=e.onEntering,_=e.onExit,D=e.onExited,q=e.onExiting,G=e.style,ne=e.timeout,K=ne===void 0?kl.standard:ne,Y=e.TransitionComponent,se=Y===void 0?pr:Y,ce=At(e,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),de=ma(),ie=M.useRef(),ge=M.useRef(null),pe=M.useRef(),be=typeof(l||d)=="number"?"".concat(l||d,"px"):l||d;M.useEffect(function(){return function(){clearTimeout(ie.current)}},[]);var Ae=de.unstable_strictMode&&!y,Le=M.useRef(null),Se=Un(n,Ae?Le:void 0),ve=function(tt){return function(at,yt){if(tt){var Ot=Ae?[Le.current,at]:[at,yt],Tt=ss(Ot,2),rt=Tt[0],Ye=Tt[1];Ye===void 0?tt(rt):tt(rt,Ye)}}},Re=ve(function(tt,at){tt.style.height=be,T&&T(tt,at)}),_e=ve(function(tt,at){var yt=ge.current?ge.current.clientHeight:0,Ot=ca({style:G,timeout:K},{mode:"enter"}),Tt=Ot.duration;if(K==="auto"){var rt=de.transitions.getAutoHeightDuration(yt);tt.style.transitionDuration="".concat(rt,"ms"),pe.current=rt}else tt.style.transitionDuration=typeof Tt=="string"?Tt:"".concat(Tt,"ms");tt.style.height="".concat(yt,"px"),P&&P(tt,at)}),J=ve(function(tt,at){tt.style.height="auto",k&&k(tt,at)}),ze=ve(function(tt){var at=ge.current?ge.current.clientHeight:0;tt.style.height="".concat(at,"px"),_&&_(tt)}),st=ve(D),ee=ve(function(tt){var at=ge.current?ge.current.clientHeight:0,yt=ca({style:G,timeout:K},{mode:"exit"}),Ot=yt.duration;if(K==="auto"){var Tt=de.transitions.getAutoHeightDuration(at);tt.style.transitionDuration="".concat(Tt,"ms"),pe.current=Tt}else tt.style.transitionDuration=typeof Ot=="string"?Ot:"".concat(Ot,"ms");tt.style.height=be,q&&q(tt)}),Ct=function(tt,at){var yt=Ae?tt:at;K==="auto"&&(ie.current=setTimeout(yt,pe.current||0))};return M.createElement(se,ke({in:S,onEnter:Re,onEntered:J,onEntering:_e,onExit:ze,onExited:st,onExiting:ee,addEndListener:Ct,nodeRef:Ae?Le:void 0,timeout:K==="auto"?null:K},ce),function(tt,at){return M.createElement(f,ke({className:Nt(i.root,i.container,r,{entered:i.entered,exited:!S&&be==="0px"&&i.hidden}[tt]),style:ke({minHeight:be},G),ref:Se},at),M.createElement("div",{className:i.wrapper,ref:ge},M.createElement("div",{className:i.wrapperInner},t)))})});JT.muiSupportAuto=!0;const $T=vn(fH,{name:"MuiCollapse"})(JT);var mH=function(e){var n={};return e.shadows.forEach(function(t,i){n["elevation".concat(i)]={boxShadow:t}}),ke({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},n)},gH=M.forwardRef(function(e,n){var t=e.classes,i=e.className,r=e.component,l=r===void 0?"div":r,h=e.square,d=h===void 0?!1:h,p=e.elevation,f=p===void 0?1:p,g=e.variant,y=g===void 0?"elevation":g,S=At(e,["classes","className","component","square","elevation","variant"]);return M.createElement(l,ke({className:Nt(t.root,i,y==="outlined"?t.outlined:t["elevation".concat(f)],!d&&t.rounded),ref:n},S))});const jl=vn(mH,{name:"MuiPaper"})(gH);var QT=M.createContext({}),vH=function(e){var n={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],n),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],n)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}},yH=M.forwardRef(function(e,n){var t=e.children,i=e.classes,r=e.className,l=e.defaultExpanded,h=l===void 0?!1:l,d=e.disabled,p=d===void 0?!1:d,f=e.expanded,g=e.onChange,y=e.square,S=y===void 0?!1:y,T=e.TransitionComponent,k=T===void 0?$T:T,P=e.TransitionProps,_=At(e,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),D=pd({controlled:f,default:h,name:"Accordion",state:"expanded"}),q=ss(D,2),G=q[0],ne=q[1],K=M.useCallback(function(ge){ne(!G),g&&g(ge,!G)},[G,g,ne]),Y=M.Children.toArray(t),se=aH(Y),ce=se[0],de=se.slice(1),ie=M.useMemo(function(){return{expanded:G,disabled:p,toggle:K}},[G,p,K]);return M.createElement(jl,ke({className:Nt(i.root,r,G&&i.expanded,p&&i.disabled,!S&&i.rounded),ref:n,square:S},_),M.createElement(QT.Provider,{value:ie},ce),M.createElement(k,ke({in:G,timeout:"auto"},P),M.createElement("div",{"aria-labelledby":ce.props.id,id:ce.props["aria-controls"],role:"region"},de)))});const eC=vn(vH,{name:"MuiAccordion"})(yH);var bH=function(e){return{root:{display:"flex",padding:e.spacing(1,2,2)}}},wH=M.forwardRef(function(e,n){var t=e.classes,i=e.className,r=At(e,["classes","className"]);return M.createElement("div",ke({className:Nt(t.root,i),ref:n},r))});const tC=vn(bH,{name:"MuiAccordionDetails"})(wH);var xH=typeof window>"u"?M.useEffect:M.useLayoutEffect;function SH(e){var n=e.classes,t=e.pulsate,i=t===void 0?!1:t,r=e.rippleX,l=e.rippleY,h=e.rippleSize,d=e.in,p=e.onExited,f=p===void 0?function(){}:p,g=e.timeout,y=M.useState(!1),S=y[0],T=y[1],k=Nt(n.ripple,n.rippleVisible,i&&n.ripplePulsate),P={width:h,height:h,top:-(h/2)+l,left:-(h/2)+r},_=Nt(n.child,S&&n.childLeaving,i&&n.childPulsate),D=ao(f);return xH(function(){if(!d){T(!0);var q=setTimeout(D,g);return function(){clearTimeout(q)}}},[D,d,g]),M.createElement("span",{className:k,style:P},M.createElement("span",{className:_}))}var xm=550,EH=80,TH=function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(xm,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(xm,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}},CH=M.forwardRef(function(e,n){var t=e.center,i=t===void 0?!1:t,r=e.classes,l=e.className,h=At(e,["center","classes","className"]),d=M.useState([]),p=d[0],f=d[1],g=M.useRef(0),y=M.useRef(null);M.useEffect(function(){y.current&&(y.current(),y.current=null)},[p]);var S=M.useRef(!1),T=M.useRef(null),k=M.useRef(null),P=M.useRef(null);M.useEffect(function(){return function(){clearTimeout(T.current)}},[]);var _=M.useCallback(function(ne){var K=ne.pulsate,Y=ne.rippleX,se=ne.rippleY,ce=ne.rippleSize,de=ne.cb;f(function(ie){return[].concat(td(ie),[M.createElement(SH,{key:g.current,classes:r,timeout:xm,pulsate:K,rippleX:Y,rippleY:se,rippleSize:ce})])}),g.current+=1,y.current=de},[r]),D=M.useCallback(function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=arguments.length>2?arguments[2]:void 0,se=K.pulsate,ce=se===void 0?!1:se,de=K.center,ie=de===void 0?i||K.pulsate:de,ge=K.fakeElement,pe=ge===void 0?!1:ge;if(ne.type==="mousedown"&&S.current){S.current=!1;return}ne.type==="touchstart"&&(S.current=!0);var be=pe?null:P.current,Ae=be?be.getBoundingClientRect():{width:0,height:0,left:0,top:0},Le,Se,ve;if(ie||ne.clientX===0&&ne.clientY===0||!ne.clientX&&!ne.touches)Le=Math.round(Ae.width/2),Se=Math.round(Ae.height/2);else{var Re=ne.touches?ne.touches[0]:ne,_e=Re.clientX,J=Re.clientY;Le=Math.round(_e-Ae.left),Se=Math.round(J-Ae.top)}if(ie)ve=Math.sqrt((2*Math.pow(Ae.width,2)+Math.pow(Ae.height,2))/3),ve%2===0&&(ve+=1);else{var ze=Math.max(Math.abs((be?be.clientWidth:0)-Le),Le)*2+2,st=Math.max(Math.abs((be?be.clientHeight:0)-Se),Se)*2+2;ve=Math.sqrt(Math.pow(ze,2)+Math.pow(st,2))}ne.touches?k.current===null&&(k.current=function(){_({pulsate:ce,rippleX:Le,rippleY:Se,rippleSize:ve,cb:Y})},T.current=setTimeout(function(){k.current&&(k.current(),k.current=null)},EH)):_({pulsate:ce,rippleX:Le,rippleY:Se,rippleSize:ve,cb:Y})},[i,_]),q=M.useCallback(function(){D({},{pulsate:!0})},[D]),G=M.useCallback(function(ne,K){if(clearTimeout(T.current),ne.type==="touchend"&&k.current){ne.persist(),k.current(),k.current=null,T.current=setTimeout(function(){G(ne,K)});return}k.current=null,f(function(Y){return Y.length>0?Y.slice(1):Y}),y.current=K},[]);return M.useImperativeHandle(n,function(){return{pulsate:q,start:D,stop:G}},[q,D,G]),M.createElement("span",ke({className:Nt(r.root,l),ref:P},h),M.createElement(wg,{component:null,exit:!0},p))});const kH=vn(TH,{flip:!1,name:"MuiTouchRipple"})(M.memo(CH));var PH={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},_H=M.forwardRef(function(e,n){var t=e.action,i=e.buttonRef,r=e.centerRipple,l=r===void 0?!1:r,h=e.children,d=e.classes,p=e.className,f=e.component,g=f===void 0?"button":f,y=e.disabled,S=y===void 0?!1:y,T=e.disableRipple,k=T===void 0?!1:T,P=e.disableTouchRipple,_=P===void 0?!1:P,D=e.focusRipple,q=D===void 0?!1:D,G=e.focusVisibleClassName,ne=e.onBlur,K=e.onClick,Y=e.onFocus,se=e.onFocusVisible,ce=e.onKeyDown,de=e.onKeyUp,ie=e.onMouseDown,ge=e.onMouseLeave,pe=e.onMouseUp,be=e.onTouchEnd,Ae=e.onTouchMove,Le=e.onTouchStart,Se=e.onDragLeave,ve=e.tabIndex,Re=ve===void 0?0:ve,_e=e.TouchRippleProps,J=e.type,ze=J===void 0?"button":J,st=At(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),ee=M.useRef(null);function Ct(){return dr.findDOMNode(ee.current)}var tt=M.useRef(null),at=M.useState(!1),yt=at[0],Ot=at[1];S&&yt&&Ot(!1);var Tt=KT(),rt=Tt.isFocusVisible,Ye=Tt.onBlurVisible,xt=Tt.ref;M.useImperativeHandle(t,function(){return{focusVisible:function(){Ot(!0),ee.current.focus()}}},[]),M.useEffect(function(){yt&&q&&!k&&tt.current.pulsate()},[k,q,yt]);function Ht(He,lt){var Rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_;return ao(function(en){lt&&lt(en);var oi=Rn;return!oi&&tt.current&&tt.current[He](en),!0})}var on=Ht("start",ie),Dt=Ht("stop",Se),Yt=Ht("stop",pe),I=Ht("stop",function(He){yt&&He.preventDefault(),ge&&ge(He)}),Q=Ht("start",Le),xe=Ht("stop",be),Ne=Ht("stop",Ae),je=Ht("stop",function(He){yt&&(Ye(He),Ot(!1)),ne&&ne(He)},!1),$e=ao(function(He){ee.current||(ee.current=He.currentTarget),rt(He)&&(Ot(!0),se&&se(He)),Y&&Y(He)}),Ke=function(){var He=Ct();return g&&g!=="button"&&!(He.tagName==="A"&&He.href)},Et=M.useRef(!1),It=ao(function(He){q&&!Et.current&&yt&&tt.current&&He.key===" "&&(Et.current=!0,He.persist(),tt.current.stop(He,function(){tt.current.start(He)})),He.target===He.currentTarget&&Ke()&&He.key===" "&&He.preventDefault(),ce&&ce(He),He.target===He.currentTarget&&Ke()&&He.key==="Enter"&&!S&&(He.preventDefault(),K&&K(He))}),Lt=ao(function(He){q&&He.key===" "&&tt.current&&yt&&!He.defaultPrevented&&(Et.current=!1,He.persist(),tt.current.stop(He,function(){tt.current.pulsate(He)})),de&&de(He),K&&He.target===He.currentTarget&&Ke()&&He.key===" "&&!He.defaultPrevented&&K(He)}),me=g;me==="button"&&st.href&&(me="a");var Ie={};me==="button"?(Ie.type=ze,Ie.disabled=S):((me!=="a"||!st.href)&&(Ie.role="button"),Ie["aria-disabled"]=S);var F=Un(i,n),N=Un(xt,ee),W=Un(F,N),Z=M.useState(!1),Te=Z[0],Ue=Z[1];M.useEffect(function(){Ue(!0)},[]);var gt=Te&&!k&&!S;return M.createElement(me,ke({className:Nt(d.root,p,yt&&[d.focusVisible,G],S&&d.disabled),onBlur:je,onClick:K,onFocus:$e,onKeyDown:It,onKeyUp:Lt,onMouseDown:on,onMouseLeave:I,onMouseUp:Yt,onDragLeave:Dt,onTouchEnd:xe,onTouchMove:Ne,onTouchStart:Q,ref:W,tabIndex:S?-1:Re},Ie,st),h,gt?M.createElement(kH,ke({ref:tt,center:l},_e)):null)});const md=vn(PH,{name:"MuiButtonBase"})(_H);var RH=function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Ui(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Ui(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Ui(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}},OH=M.forwardRef(function(e,n){var t=e.edge,i=t===void 0?!1:t,r=e.children,l=e.classes,h=e.className,d=e.color,p=d===void 0?"default":d,f=e.disabled,g=f===void 0?!1:f,y=e.disableFocusRipple,S=y===void 0?!1:y,T=e.size,k=T===void 0?"medium":T,P=At(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return M.createElement(md,ke({className:Nt(l.root,h,p!=="default"&&l["color".concat($n(p))],g&&l.disabled,k==="small"&&l["size".concat($n(k))],{start:l.edgeStart,end:l.edgeEnd}[i]),centerRipple:!0,focusRipple:!S,disabled:g,ref:n},P),M.createElement("span",{className:l.label},r))});const xg=vn(RH,{name:"MuiIconButton"})(OH);var DH=function(e){var n={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:8*6,transition:e.transitions.create(["min-height","background-color"],n),padding:e.spacing(0,2),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused, &$focusVisible":{backgroundColor:e.palette.action.focus},"&$disabled":{opacity:e.palette.action.disabledOpacity}},expanded:{},focused:{},focusVisible:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],n),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",n),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}},AH=M.forwardRef(function(e,n){var t=e.children,i=e.classes,r=e.className,l=e.expandIcon,h=e.focusVisibleClassName,d=e.IconButtonProps,p=d===void 0?{}:d,f=e.onClick,g=At(e,["children","classes","className","expandIcon","focusVisibleClassName","IconButtonProps","onClick"]),y=M.useContext(QT),S=y.disabled,T=S===void 0?!1:S,k=y.expanded,P=y.toggle,_=function(D){P&&P(D),f&&f(D)};return M.createElement(md,ke({focusRipple:!1,disableRipple:!0,disabled:T,component:"div","aria-expanded":k,className:Nt(i.root,r,T&&i.disabled,k&&i.expanded),focusVisibleClassName:Nt(i.focusVisible,i.focused,h),onClick:_,ref:n},g),M.createElement("div",{className:Nt(i.content,k&&i.expanded)},t),l&&M.createElement(xg,ke({className:Nt(i.expandIcon,k&&i.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0},p),l))});const nC=vn(DH,{name:"MuiAccordionSummary"})(AH);var IH={entering:{opacity:1},entered:{opacity:1}},MH={enter:kl.enteringScreen,exit:kl.leavingScreen},iC=M.forwardRef(function(e,n){var t=e.children,i=e.disableStrictModeCompat,r=i===void 0?!1:i,l=e.in,h=e.onEnter,d=e.onEntered,p=e.onEntering,f=e.onExit,g=e.onExited,y=e.onExiting,S=e.style,T=e.TransitionComponent,k=T===void 0?pr:T,P=e.timeout,_=P===void 0?MH:P,D=At(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),q=ma(),G=q.unstable_strictMode&&!r,ne=M.useRef(null),K=Un(t.ref,n),Y=Un(G?ne:void 0,K),se=function(Ae){return function(Le,Se){if(Ae){var ve=G?[ne.current,Le]:[Le,Se],Re=ss(ve,2),_e=Re[0],J=Re[1];J===void 0?Ae(_e):Ae(_e,J)}}},ce=se(p),de=se(function(Ae,Le){ZT(Ae);var Se=ca({style:S,timeout:_},{mode:"enter"});Ae.style.webkitTransition=q.transitions.create("opacity",Se),Ae.style.transition=q.transitions.create("opacity",Se),h&&h(Ae,Le)}),ie=se(d),ge=se(y),pe=se(function(Ae){var Le=ca({style:S,timeout:_},{mode:"exit"});Ae.style.webkitTransition=q.transitions.create("opacity",Le),Ae.style.transition=q.transitions.create("opacity",Le),f&&f(Ae)}),be=se(g);return M.createElement(k,ke({appear:!0,in:l,nodeRef:G?ne:void 0,onEnter:de,onEntered:ie,onEntering:ce,onExit:pe,onExited:be,onExiting:ge,timeout:_},D),function(Ae,Le){return M.cloneElement(t,ke({style:ke({opacity:0,visibility:Ae==="exited"&&!l?"hidden":void 0},IH[Ae],S,t.props.style),ref:Y},Le))})}),zH=U3(Nr(V3,Z3,u5,E5,I5,k5,M5,V5,Ym,iz)),eS=vF("div")(zH,{name:"MuiBox"}),LH=function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}},tS={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},FH=M.forwardRef(function(e,n){var t=e.align,i=t===void 0?"inherit":t,r=e.classes,l=e.className,h=e.color,d=h===void 0?"initial":h,p=e.component,f=e.display,g=f===void 0?"initial":f,y=e.gutterBottom,S=y===void 0?!1:y,T=e.noWrap,k=T===void 0?!1:T,P=e.paragraph,_=P===void 0?!1:P,D=e.variant,q=D===void 0?"body1":D,G=e.variantMapping,ne=G===void 0?tS:G,K=At(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),Y=p||(_?"p":ne[q]||tS[q])||"span";return M.createElement(Y,ke({className:Nt(r.root,l,q!=="inherit"&&r[q],d!=="initial"&&r["color".concat($n(d))],k&&r.noWrap,S&&r.gutterBottom,_&&r.paragraph,i!=="inherit"&&r["align".concat($n(i))],g!=="initial"&&r["display".concat($n(g))]),ref:n},K))});const kn=vn(LH,{name:"MuiTypography"})(FH);var jH=function(e){return{root:ke({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Ui(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Ui(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Ui(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat(e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Ui(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Ui(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Ui(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Ui(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}},NH=M.forwardRef(function(e,n){var t=e.children,i=e.classes,r=e.className,l=e.color,h=l===void 0?"default":l,d=e.component,p=d===void 0?"button":d,f=e.disabled,g=f===void 0?!1:f,y=e.disableElevation,S=y===void 0?!1:y,T=e.disableFocusRipple,k=T===void 0?!1:T,P=e.endIcon,_=e.focusVisibleClassName,D=e.fullWidth,q=D===void 0?!1:D,G=e.size,ne=G===void 0?"medium":G,K=e.startIcon,Y=e.type,se=Y===void 0?"button":Y,ce=e.variant,de=ce===void 0?"text":ce,ie=At(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),ge=K&&M.createElement("span",{className:Nt(i.startIcon,i["iconSize".concat($n(ne))])},K),pe=P&&M.createElement("span",{className:Nt(i.endIcon,i["iconSize".concat($n(ne))])},P);return M.createElement(md,ke({className:Nt(i.root,i[de],r,h==="inherit"?i.colorInherit:h!=="default"&&i["".concat(de).concat($n(h))],ne!=="medium"&&[i["".concat(de,"Size").concat($n(ne))],i["size".concat($n(ne))]],S&&i.disableElevation,g&&i.disabled,q&&i.fullWidth),component:p,disabled:g,focusRipple:!k,focusVisibleClassName:Nt(i.focusVisible,_),ref:n,type:se},ie),M.createElement("span",{className:i.label},ge,t,pe))});const nS=vn(jH,{name:"MuiButton"})(NH);var Sg=M.createContext();function HH(){return M.useContext(Sg)}function gd(){return M.useContext(Sg)}var BH={root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},VH=M.forwardRef(function(e,n){var t=e.autoFocus,i=e.checked,r=e.checkedIcon,l=e.classes,h=e.className,d=e.defaultChecked,p=e.disabled,f=e.icon,g=e.id,y=e.inputProps,S=e.inputRef,T=e.name,k=e.onBlur,P=e.onChange,_=e.onFocus,D=e.readOnly,q=e.required,G=e.tabIndex,ne=e.type,K=e.value,Y=At(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),se=pd({controlled:i,default:!!d,name:"SwitchBase",state:"checked"}),ce=ss(se,2),de=ce[0],ie=ce[1],ge=gd(),pe=function(ve){_&&_(ve),ge&&ge.onFocus&&ge.onFocus(ve)},be=function(ve){k&&k(ve),ge&&ge.onBlur&&ge.onBlur(ve)},Ae=function(ve){var Re=ve.target.checked;ie(Re),P&&P(ve,Re)},Le=p;ge&&typeof Le>"u"&&(Le=ge.disabled);var Se=ne==="checkbox"||ne==="radio";return M.createElement(xg,ke({component:"span",className:Nt(l.root,h,de&&l.checked,Le&&l.disabled),disabled:Le,tabIndex:null,role:void 0,onFocus:pe,onBlur:be,ref:n},Y),M.createElement("input",ke({autoFocus:t,checked:i,defaultChecked:d,className:l.input,disabled:Le,id:Se&&g,name:T,onChange:Ae,readOnly:D,ref:S,required:q,tabIndex:G,type:ne,value:K},y)),de?r:f)});const UH=vn(BH,{name:"PrivateSwitchBase"})(VH),WH=Fl(M.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),GH=Fl(M.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),qH=Fl(M.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));var XH=function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Ui(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Ui(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}},YH=M.createElement(GH,null),KH=M.createElement(WH,null),ZH=M.createElement(qH,null),JH=M.forwardRef(function(e,n){var t=e.checkedIcon,i=t===void 0?YH:t,r=e.classes,l=e.color,h=l===void 0?"secondary":l,d=e.icon,p=d===void 0?KH:d,f=e.indeterminate,g=f===void 0?!1:f,y=e.indeterminateIcon,S=y===void 0?ZH:y,T=e.inputProps,k=e.size,P=k===void 0?"medium":k,_=At(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),D=g?S:p,q=g?S:i;return M.createElement(UH,ke({type:"checkbox",classes:{root:Nt(r.root,r["color".concat($n(h))],g&&r.indeterminate),checked:r.checked,disabled:r.disabled},color:h,inputProps:ke({"data-indeterminate":g},T),icon:M.cloneElement(D,{fontSize:D.props.fontSize===void 0&&P==="small"?P:D.props.fontSize}),checkedIcon:M.cloneElement(q,{fontSize:q.props.fontSize===void 0&&P==="small"?P:q.props.fontSize}),ref:n},_))});const rC=vn(XH,{name:"MuiCheckbox"})(JH);function $H(e){return e=typeof e=="function"?e():e,dr.findDOMNode(e)}var xf=typeof window<"u"?M.useLayoutEffect:M.useEffect,oC=M.forwardRef(function(e,n){var t=e.children,i=e.container,r=e.disablePortal,l=r===void 0?!1:r,h=e.onRendered,d=M.useState(null),p=d[0],f=d[1],g=Un(M.isValidElement(t)?t.ref:null,n);return xf(function(){l||f($H(i)||document.body)},[i,l]),xf(function(){if(p&&!l)return ns(n,p),function(){ns(n,null)}},[n,p,l]),xf(function(){h&&(p||l)&&h()},[h,p,l]),l?M.isValidElement(t)?M.cloneElement(t,{ref:g}):t:p&&dr.createPortal(t,p)});function sC(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),n}function QH(e){var n=xr(e);return n.body===e?yg(n).innerWidth>n.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function xl(e,n){n?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function iS(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function rS(e,n,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],r=arguments.length>4?arguments[4]:void 0,l=[n,t].concat(td(i)),h=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,function(d){d.nodeType===1&&l.indexOf(d)===-1&&h.indexOf(d.tagName)===-1&&xl(d,r)})}function Sf(e,n){var t=-1;return e.some(function(i,r){return n(i)?(t=r,!0):!1}),t}function eB(e,n){var t=[],i=[],r=e.container,l;if(!n.disableScrollLock){if(QH(r)){var h=sC();t.push({value:r.style.paddingRight,key:"padding-right",el:r}),r.style["padding-right"]="".concat(iS(r)+h,"px"),l=xr(r).querySelectorAll(".mui-fixed"),[].forEach.call(l,function(g){i.push(g.style.paddingRight),g.style.paddingRight="".concat(iS(g)+h,"px")})}var d=r.parentElement,p=d.nodeName==="HTML"&&window.getComputedStyle(d)["overflow-y"]==="scroll"?d:r;t.push({value:p.style.overflow,key:"overflow",el:p}),p.style.overflow="hidden"}var f=function(){l&&[].forEach.call(l,function(g,y){i[y]?g.style.paddingRight=i[y]:g.style.removeProperty("padding-right")}),t.forEach(function(g){var y=g.value,S=g.el,T=g.key;y?S.style.setProperty(T,y):S.style.removeProperty(T)})};return f}function tB(e){var n=[];return[].forEach.call(e.children,function(t){t.getAttribute&&t.getAttribute("aria-hidden")==="true"&&n.push(t)}),n}var nB=function(){function e(){nF(this,e),this.modals=[],this.containers=[]}return Zm(e,[{key:"add",value:function(n,t){var i=this.modals.indexOf(n);if(i!==-1)return i;i=this.modals.length,this.modals.push(n),n.modalRef&&xl(n.modalRef,!1);var r=tB(t);rS(t,n.mountNode,n.modalRef,r,!0);var l=Sf(this.containers,function(h){return h.container===t});return l!==-1?(this.containers[l].modals.push(n),i):(this.containers.push({modals:[n],container:t,restore:null,hiddenSiblingNodes:r}),i)}},{key:"mount",value:function(n,t){var i=Sf(this.containers,function(l){return l.modals.indexOf(n)!==-1}),r=this.containers[i];r.restore||(r.restore=eB(r,t))}},{key:"remove",value:function(n){var t=this.modals.indexOf(n);if(t===-1)return t;var i=Sf(this.containers,function(h){return h.modals.indexOf(n)!==-1}),r=this.containers[i];if(r.modals.splice(r.modals.indexOf(n),1),this.modals.splice(t,1),r.modals.length===0)r.restore&&r.restore(),n.modalRef&&xl(n.modalRef,!0),rS(r.container,n.mountNode,n.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(i,1);else{var l=r.modals[r.modals.length-1];l.modalRef&&xl(l.modalRef,!1)}return t}},{key:"isTopModal",value:function(n){return this.modals.length>0&&this.modals[this.modals.length-1]===n}}]),e}();function iB(e){var n=e.children,t=e.disableAutoFocus,i=t===void 0?!1:t,r=e.disableEnforceFocus,l=r===void 0?!1:r,h=e.disableRestoreFocus,d=h===void 0?!1:h,p=e.getDoc,f=e.isEnabled,g=e.open,y=M.useRef(),S=M.useRef(null),T=M.useRef(null),k=M.useRef(),P=M.useRef(null),_=M.useCallback(function(G){P.current=dr.findDOMNode(G)},[]),D=Un(n.ref,_),q=M.useRef();return M.useEffect(function(){q.current=g},[g]),!q.current&&g&&typeof window<"u"&&(k.current=p().activeElement),M.useEffect(function(){if(g){var G=xr(P.current);!i&&P.current&&!P.current.contains(G.activeElement)&&(P.current.hasAttribute("tabIndex")||P.current.setAttribute("tabIndex",-1),P.current.focus());var ne=function(){var se=P.current;if(se!==null){if(!G.hasFocus()||l||!f()||y.current){y.current=!1;return}P.current&&!P.current.contains(G.activeElement)&&P.current.focus()}},K=function(se){l||!f()||se.keyCode!==9||G.activeElement===P.current&&(y.current=!0,se.shiftKey?T.current.focus():S.current.focus())};G.addEventListener("focus",ne,!0),G.addEventListener("keydown",K,!0);var Y=setInterval(function(){ne()},50);return function(){clearInterval(Y),G.removeEventListener("focus",ne,!0),G.removeEventListener("keydown",K,!0),d||(k.current&&k.current.focus&&k.current.focus(),k.current=null)}}},[i,l,d,f,g]),M.createElement(M.Fragment,null,M.createElement("div",{tabIndex:0,ref:S,"data-test":"sentinelStart"}),M.cloneElement(n,{ref:D}),M.createElement("div",{tabIndex:0,ref:T,"data-test":"sentinelEnd"}))}var oS={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},rB=M.forwardRef(function(e,n){var t=e.invisible,i=t===void 0?!1:t,r=e.open,l=At(e,["invisible","open"]);return r?M.createElement("div",ke({"aria-hidden":!0,ref:n},l,{style:ke({},oS.root,i?oS.invisible:{},l.style)})):null});function oB(e){return e=typeof e=="function"?e():e,dr.findDOMNode(e)}function sB(e){return e.children?e.children.props.hasOwnProperty("in"):!1}var aB=new nB,lB=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}},cB=M.forwardRef(function(e,n){var t=as(),i=nd({name:"MuiModal",props:ke({},e),theme:t}),r=i.BackdropComponent,l=r===void 0?rB:r,h=i.BackdropProps,d=i.children,p=i.closeAfterTransition,f=p===void 0?!1:p,g=i.container,y=i.disableAutoFocus,S=y===void 0?!1:y,T=i.disableBackdropClick,k=T===void 0?!1:T,P=i.disableEnforceFocus,_=P===void 0?!1:P,D=i.disableEscapeKeyDown,q=D===void 0?!1:D,G=i.disablePortal,ne=G===void 0?!1:G,K=i.disableRestoreFocus,Y=K===void 0?!1:K,se=i.disableScrollLock,ce=se===void 0?!1:se,de=i.hideBackdrop,ie=de===void 0?!1:de,ge=i.keepMounted,pe=ge===void 0?!1:ge,be=i.manager,Ae=be===void 0?aB:be,Le=i.onBackdropClick,Se=i.onClose,ve=i.onEscapeKeyDown,Re=i.onRendered,_e=i.open,J=At(i,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),ze=M.useState(!0),st=ze[0],ee=ze[1],Ct=M.useRef({}),tt=M.useRef(null),at=M.useRef(null),yt=Un(at,n),Ot=sB(i),Tt=function(){return xr(tt.current)},rt=function(){return Ct.current.modalRef=at.current,Ct.current.mountNode=tt.current,Ct.current},Ye=function(){Ae.mount(rt(),{disableScrollLock:ce}),at.current.scrollTop=0},xt=ao(function(){var $e=oB(g)||Tt().body;Ae.add(rt(),$e),at.current&&Ye()}),Ht=M.useCallback(function(){return Ae.isTopModal(rt())},[Ae]),on=ao(function($e){tt.current=$e,$e&&(Re&&Re(),_e&&Ht()?Ye():xl(at.current,!0))}),Dt=M.useCallback(function(){Ae.remove(rt())},[Ae]);if(M.useEffect(function(){return function(){Dt()}},[Dt]),M.useEffect(function(){_e?xt():(!Ot||!f)&&Dt()},[_e,Dt,Ot,f,xt]),!pe&&!_e&&(!Ot||st))return null;var Yt=function(){ee(!1)},I=function(){ee(!0),f&&Dt()},Q=function($e){$e.target===$e.currentTarget&&(Le&&Le($e),!k&&Se&&Se($e,"backdropClick"))},xe=function($e){$e.key!=="Escape"||!Ht()||(ve&&ve($e),q||($e.stopPropagation(),Se&&Se($e,"escapeKeyDown")))},Ne=lB(t||{zIndex:yE}),je={};return d.props.tabIndex===void 0&&(je.tabIndex=d.props.tabIndex||"-1"),Ot&&(je.onEnter=la(Yt,d.props.onEnter),je.onExited=la(I,d.props.onExited)),M.createElement(oC,{ref:on,container:g,disablePortal:ne},M.createElement("div",ke({ref:yt,onKeyDown:xe,role:"presentation"},J,{style:ke({},Ne.root,!_e&&st?Ne.hidden:{},J.style)}),ie?null:M.createElement(l,ke({open:_e,onClick:Q},h)),M.createElement(iB,{disableEnforceFocus:_,disableAutoFocus:S,disableRestoreFocus:Y,getDoc:Tt,isEnabled:Ht,open:_e},M.cloneElement(d,je))))}),uB=function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Ui(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}},dB=M.forwardRef(function(e,n){var t=e.absolute,i=t===void 0?!1:t,r=e.classes,l=e.className,h=e.component,d=h===void 0?"hr":h,p=e.flexItem,f=p===void 0?!1:p,g=e.light,y=g===void 0?!1:g,S=e.orientation,T=S===void 0?"horizontal":S,k=e.role,P=k===void 0?d!=="hr"?"separator":void 0:k,_=e.variant,D=_===void 0?"fullWidth":_,q=At(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return M.createElement(d,ke({className:Nt(r.root,l,D!=="fullWidth"&&r[D],i&&r.absolute,f&&r.flexItem,y&&r.light,T==="vertical"&&r.vertical),role:P,ref:n},q))});const hB=vn(uB,{name:"MuiDivider"})(dB);function Eg(e){var n=e.props,t=e.states,i=e.muiFormControl;return t.reduce(function(r,l){return r[l]=n[l],i&&typeof n[l]>"u"&&(r[l]=i[l]),r},{})}function Su(e,n){return parseInt(e[n],10)||0}var pB=typeof window<"u"?M.useLayoutEffect:M.useEffect,fB={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}},mB=M.forwardRef(function(e,n){var t=e.onChange,i=e.rows,r=e.rowsMax,l=e.rowsMin,h=e.maxRows,d=e.minRows,p=d===void 0?1:d,f=e.style,g=e.value,y=At(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),S=h||r,T=i||l||p,k=M.useRef(g!=null),P=k.current,_=M.useRef(null),D=Un(n,_),q=M.useRef(null),G=M.useRef(0),ne=M.useState({}),K=ne[0],Y=ne[1],se=M.useCallback(function(){var de=_.current,ie=window.getComputedStyle(de),ge=q.current;ge.style.width=ie.width,ge.value=de.value||e.placeholder||"x",ge.value.slice(-1)===`
`&&(ge.value+=" ");var pe=ie["box-sizing"],be=Su(ie,"padding-bottom")+Su(ie,"padding-top"),Ae=Su(ie,"border-bottom-width")+Su(ie,"border-top-width"),Le=ge.scrollHeight-be;ge.value="x";var Se=ge.scrollHeight-be,ve=Le;T&&(ve=Math.max(Number(T)*Se,ve)),S&&(ve=Math.min(Number(S)*Se,ve)),ve=Math.max(ve,Se);var Re=ve+(pe==="border-box"?be+Ae:0),_e=Math.abs(ve-Le)<=1;Y(function(J){return G.current<20&&(Re>0&&Math.abs((J.outerHeightStyle||0)-Re)>1||J.overflow!==_e)?(G.current+=1,{overflow:_e,outerHeightStyle:Re}):J})},[S,T,e.placeholder]);M.useEffect(function(){var de=vg(function(){G.current=0,se()});return window.addEventListener("resize",de),function(){de.clear(),window.removeEventListener("resize",de)}},[se]),pB(function(){se()}),M.useEffect(function(){G.current=0},[g]);var ce=function(de){G.current=0,P||se(),t&&t(de)};return M.createElement(M.Fragment,null,M.createElement("textarea",ke({value:g,onChange:ce,ref:D,rows:T,style:ke({height:K.outerHeightStyle,overflow:K.overflow?"hidden":null},f)},y)),M.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:q,tabIndex:-1,style:ke({},fB.shadow,f)}))});function sS(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function aC(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return e&&(sS(e.value)&&e.value!==""||n&&sS(e.defaultValue)&&e.defaultValue!=="")}var gB=function(e){var n=e.palette.type==="light",t={color:"currentColor",opacity:n?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},i={opacity:"0 !important"},r={opacity:n?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:ke({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&:-ms-input-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":r,"&:focus::-moz-placeholder":r,"&:focus:-ms-input-placeholder":r,"&:focus::-ms-input-placeholder":r},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}},vB=typeof window>"u"?M.useEffect:M.useLayoutEffect,yB=M.forwardRef(function(e,n){var t=e["aria-describedby"],i=e.autoComplete,r=e.autoFocus,l=e.classes,h=e.className;e.color;var d=e.defaultValue,p=e.disabled,f=e.endAdornment;e.error;var g=e.fullWidth,y=g===void 0?!1:g,S=e.id,T=e.inputComponent,k=T===void 0?"input":T,P=e.inputProps,_=P===void 0?{}:P,D=e.inputRef;e.margin;var q=e.multiline,G=q===void 0?!1:q,ne=e.name,K=e.onBlur,Y=e.onChange,se=e.onClick,ce=e.onFocus,de=e.onKeyDown,ie=e.onKeyUp,ge=e.placeholder,pe=e.readOnly,be=e.renderSuffix,Ae=e.rows,Le=e.rowsMax,Se=e.rowsMin,ve=e.maxRows,Re=e.minRows,_e=e.startAdornment,J=e.type,ze=J===void 0?"text":J,st=e.value,ee=At(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),Ct=_.value!=null?_.value:st,tt=M.useRef(Ct!=null),at=tt.current,yt=M.useRef(),Ot=M.useCallback(function(me){},[]),Tt=Un(_.ref,Ot),rt=Un(D,Tt),Ye=Un(yt,rt),xt=M.useState(!1),Ht=xt[0],on=xt[1],Dt=HH(),Yt=Eg({props:e,muiFormControl:Dt,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});Yt.focused=Dt?Dt.focused:Ht,M.useEffect(function(){!Dt&&p&&Ht&&(on(!1),K&&K())},[Dt,p,Ht,K]);var I=Dt&&Dt.onFilled,Q=Dt&&Dt.onEmpty,xe=M.useCallback(function(me){aC(me)?I&&I():Q&&Q()},[I,Q]);vB(function(){at&&xe({value:Ct})},[Ct,xe,at]);var Ne=function(me){if(Yt.disabled){me.stopPropagation();return}ce&&ce(me),_.onFocus&&_.onFocus(me),Dt&&Dt.onFocus?Dt.onFocus(me):on(!0)},je=function(me){K&&K(me),_.onBlur&&_.onBlur(me),Dt&&Dt.onBlur?Dt.onBlur(me):on(!1)},$e=function(me){if(!at){var Ie=me.target||yt.current;if(Ie==null)throw new Error(aa(1));xe({value:Ie.value})}for(var F=arguments.length,N=new Array(F>1?F-1:0),W=1;W<F;W++)N[W-1]=arguments[W];_.onChange&&_.onChange.apply(_,[me].concat(N)),Y&&Y.apply(void 0,[me].concat(N))};M.useEffect(function(){xe(yt.current)},[]);var Ke=function(me){yt.current&&me.currentTarget===me.target&&yt.current.focus(),se&&se(me)},Et=k,It=ke({},_,{ref:Ye});typeof Et!="string"?It=ke({inputRef:Ye,type:ze},It,{ref:null}):G?Ae&&!ve&&!Re&&!Le&&!Se?Et="textarea":(It=ke({minRows:Ae||Re,rowsMax:Le,maxRows:ve},It),Et=mB):It=ke({type:ze},It);var Lt=function(me){xe(me.animationName==="mui-auto-fill-cancel"?yt.current:{value:"x"})};return M.useEffect(function(){Dt&&Dt.setAdornedStart(!!_e)},[Dt,_e]),M.createElement("div",ke({className:Nt(l.root,l["color".concat($n(Yt.color||"primary"))],h,Yt.disabled&&l.disabled,Yt.error&&l.error,y&&l.fullWidth,Yt.focused&&l.focused,Dt&&l.formControl,G&&l.multiline,_e&&l.adornedStart,f&&l.adornedEnd,Yt.margin==="dense"&&l.marginDense),onClick:Ke,ref:n},ee),_e,M.createElement(Sg.Provider,{value:null},M.createElement(Et,ke({"aria-invalid":Yt.error,"aria-describedby":t,autoComplete:i,autoFocus:r,defaultValue:d,disabled:Yt.disabled,id:S,onAnimationStart:Lt,name:ne,placeholder:ge,readOnly:pe,required:Yt.required,rows:Ae,value:Ct,onKeyDown:de,onKeyUp:ie},It,{className:Nt(l.input,_.className,Yt.disabled&&l.disabled,G&&l.inputMultiline,Yt.hiddenLabel&&l.inputHiddenLabel,_e&&l.inputAdornedStart,f&&l.inputAdornedEnd,ze==="search"&&l.inputTypeSearch,Yt.margin==="dense"&&l.inputMarginDense),onBlur:je,onChange:$e,onFocus:Ne}))),f,be?be(ke({},Yt,{startAdornment:_e})):null)});const Tg=vn(gB,{name:"MuiInputBase"})(yB);var bB=function(e){var n=e.palette.type==="light",t=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:i,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:n?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:i}},"&$focused":{backgroundColor:n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:e.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.type==="light"?null:"#fff",caretColor:e.palette.type==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},lC=M.forwardRef(function(e,n){var t=e.disableUnderline,i=e.classes,r=e.fullWidth,l=r===void 0?!1:r,h=e.inputComponent,d=h===void 0?"input":h,p=e.multiline,f=p===void 0?!1:p,g=e.type,y=g===void 0?"text":g,S=At(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return M.createElement(Tg,ke({classes:ke({},i,{root:Nt(i.root,!t&&i.underline),underline:null}),fullWidth:l,inputComponent:d,multiline:f,ref:n,type:y},S))});lC.muiName="Input";const wB=vn(bB,{name:"MuiFilledInput"})(lC);var xB=function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}},SB=M.forwardRef(function(e,n){e.checked;var t=e.classes,i=e.className,r=e.control,l=e.disabled;e.inputRef;var h=e.label,d=e.labelPlacement,p=d===void 0?"end":d;e.name,e.onChange,e.value;var f=At(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"]),g=gd(),y=l;typeof y>"u"&&typeof r.props.disabled<"u"&&(y=r.props.disabled),typeof y>"u"&&g&&(y=g.disabled);var S={disabled:y};return["checked","name","onChange","value","inputRef"].forEach(function(T){typeof r.props[T]>"u"&&typeof e[T]<"u"&&(S[T]=e[T])}),M.createElement("label",ke({className:Nt(t.root,i,p!=="end"&&t["labelPlacement".concat($n(p))],y&&t.disabled),ref:n},f),M.cloneElement(r,S),M.createElement(kn,{component:"span",className:Nt(t.label,y&&t.disabled)},h))});const cC=vn(xB,{name:"MuiFormControlLabel"})(SB);var EB={root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},TB=M.forwardRef(function(e,n){var t=e.classes,i=e.className,r=e.row,l=r===void 0?!1:r,h=At(e,["classes","className","row"]);return M.createElement("div",ke({className:Nt(t.root,i,l&&t.row),ref:n},h))});const CB=vn(EB,{name:"MuiFormGroup"})(TB);var kB=[0,1,2,3,4,5,6,7,8,9,10],PB=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function _B(e,n,t){var i={};PB.forEach(function(r){var l="grid-".concat(t,"-").concat(r);if(r===!0){i[l]={flexBasis:0,flexGrow:1,maxWidth:"100%"};return}if(r==="auto"){i[l]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};return}var h="".concat(Math.round(r/12*1e8)/1e6,"%");i[l]={flexBasis:h,flexGrow:0,maxWidth:h}}),t==="xs"?ke(e,i):e[n.breakpoints.up(t)]=i}function Ef(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=parseFloat(e);return"".concat(t/n).concat(String(e).replace(String(t),"")||"px")}function RB(e,n){var t={};return kB.forEach(function(i){var r=e.spacing(i);r!==0&&(t["spacing-".concat(n,"-").concat(i)]={margin:"-".concat(Ef(r,2)),width:"calc(100% + ".concat(Ef(r),")"),"& > $item":{padding:Ef(r,2)}})}),t}var OB=function(e){return ke({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},RB(e,"xs"),e.breakpoints.keys.reduce(function(n,t){return _B(n,e,t),n},{}))},DB=M.forwardRef(function(e,n){var t=e.alignContent,i=t===void 0?"stretch":t,r=e.alignItems,l=r===void 0?"stretch":r,h=e.classes,d=e.className,p=e.component,f=p===void 0?"div":p,g=e.container,y=g===void 0?!1:g,S=e.direction,T=S===void 0?"row":S,k=e.item,P=k===void 0?!1:k,_=e.justify,D=e.justifyContent,q=D===void 0?"flex-start":D,G=e.lg,ne=G===void 0?!1:G,K=e.md,Y=K===void 0?!1:K,se=e.sm,ce=se===void 0?!1:se,de=e.spacing,ie=de===void 0?0:de,ge=e.wrap,pe=ge===void 0?"wrap":ge,be=e.xl,Ae=be===void 0?!1:be,Le=e.xs,Se=Le===void 0?!1:Le,ve=e.zeroMinWidth,Re=ve===void 0?!1:ve,_e=At(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),J=Nt(h.root,d,y&&[h.container,ie!==0&&h["spacing-xs-".concat(String(ie))]],P&&h.item,Re&&h.zeroMinWidth,T!=="row"&&h["direction-xs-".concat(String(T))],pe!=="wrap"&&h["wrap-xs-".concat(String(pe))],l!=="stretch"&&h["align-items-xs-".concat(String(l))],i!=="stretch"&&h["align-content-xs-".concat(String(i))],(_||q)!=="flex-start"&&h["justify-content-xs-".concat(String(_||q))],Se!==!1&&h["grid-xs-".concat(String(Se))],ce!==!1&&h["grid-sm-".concat(String(ce))],Y!==!1&&h["grid-md-".concat(String(Y))],ne!==!1&&h["grid-lg-".concat(String(ne))],Ae!==!1&&h["grid-xl-".concat(String(Ae))]);return M.createElement(f,ke({className:J,ref:n},_e))}),uC=vn(OB,{name:"MuiGrid"})(DB);function Sm(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var AB={entering:{opacity:1,transform:Sm(1)},entered:{opacity:1,transform:"none"}},dC=M.forwardRef(function(e,n){var t=e.children,i=e.disableStrictModeCompat,r=i===void 0?!1:i,l=e.in,h=e.onEnter,d=e.onEntered,p=e.onEntering,f=e.onExit,g=e.onExited,y=e.onExiting,S=e.style,T=e.timeout,k=T===void 0?"auto":T,P=e.TransitionComponent,_=P===void 0?pr:P,D=At(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),q=M.useRef(),G=M.useRef(),ne=ma(),K=ne.unstable_strictMode&&!r,Y=M.useRef(null),se=Un(t.ref,n),ce=Un(K?Y:void 0,se),de=function(ve){return function(Re,_e){if(ve){var J=K?[Y.current,Re]:[Re,_e],ze=ss(J,2),st=ze[0],ee=ze[1];ee===void 0?ve(st):ve(st,ee)}}},ie=de(p),ge=de(function(ve,Re){ZT(ve);var _e=ca({style:S,timeout:k},{mode:"enter"}),J=_e.duration,ze=_e.delay,st;k==="auto"?(st=ne.transitions.getAutoHeightDuration(ve.clientHeight),G.current=st):st=J,ve.style.transition=[ne.transitions.create("opacity",{duration:st,delay:ze}),ne.transitions.create("transform",{duration:st*.666,delay:ze})].join(","),h&&h(ve,Re)}),pe=de(d),be=de(y),Ae=de(function(ve){var Re=ca({style:S,timeout:k},{mode:"exit"}),_e=Re.duration,J=Re.delay,ze;k==="auto"?(ze=ne.transitions.getAutoHeightDuration(ve.clientHeight),G.current=ze):ze=_e,ve.style.transition=[ne.transitions.create("opacity",{duration:ze,delay:J}),ne.transitions.create("transform",{duration:ze*.666,delay:J||ze*.333})].join(","),ve.style.opacity="0",ve.style.transform=Sm(.75),f&&f(ve)}),Le=de(g),Se=function(ve,Re){var _e=K?ve:Re;k==="auto"&&(q.current=setTimeout(_e,G.current||0))};return M.useEffect(function(){return function(){clearTimeout(q.current)}},[]),M.createElement(_,ke({appear:!0,in:l,nodeRef:K?Y:void 0,onEnter:ge,onEntered:pe,onEntering:ie,onExit:Ae,onExited:Le,onExiting:be,addEndListener:Se,timeout:k==="auto"?null:k},D),function(ve,Re){return M.cloneElement(t,ke({style:ke({opacity:0,transform:Sm(.75),visibility:ve==="exited"&&!l?"hidden":void 0},AB[ve],S,t.props.style),ref:ce},Re))})});dC.muiSupportAuto=!0;var IB=function(e){var n=e.palette.type==="light",t=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}},hC=M.forwardRef(function(e,n){var t=e.disableUnderline,i=e.classes,r=e.fullWidth,l=r===void 0?!1:r,h=e.inputComponent,d=h===void 0?"input":h,p=e.multiline,f=p===void 0?!1:p,g=e.type,y=g===void 0?"text":g,S=At(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return M.createElement(Tg,ke({classes:ke({},i,{root:Nt(i.root,!t&&i.underline),underline:null}),fullWidth:l,inputComponent:d,multiline:f,ref:n,type:y},S))});hC.muiName="Input";const Cg=vn(IB,{name:"MuiInput"})(hC);var oa=M.createContext({}),MB={root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},zB=M.forwardRef(function(e,n){var t=e.children,i=e.classes,r=e.className,l=e.component,h=l===void 0?"ul":l,d=e.dense,p=d===void 0?!1:d,f=e.disablePadding,g=f===void 0?!1:f,y=e.subheader,S=At(e,["children","classes","className","component","dense","disablePadding","subheader"]),T=M.useMemo(function(){return{dense:p}},[p]);return M.createElement(oa.Provider,{value:T},M.createElement(h,ke({className:Nt(i.root,r,p&&i.dense,!g&&i.padding,y&&i.subheader),ref:n},S),y,t))});const kg=vn(MB,{name:"MuiList"})(zB);var LB=function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}},FB=typeof window>"u"?M.useEffect:M.useLayoutEffect,jB=M.forwardRef(function(e,n){var t=e.alignItems,i=t===void 0?"center":t,r=e.autoFocus,l=r===void 0?!1:r,h=e.button,d=h===void 0?!1:h,p=e.children,f=e.classes,g=e.className,y=e.component,S=e.ContainerComponent,T=S===void 0?"li":S,k=e.ContainerProps;k=k===void 0?{}:k;var P=k.className,_=At(k,["className"]),D=e.dense,q=D===void 0?!1:D,G=e.disabled,ne=G===void 0?!1:G,K=e.disableGutters,Y=K===void 0?!1:K,se=e.divider,ce=se===void 0?!1:se,de=e.focusVisibleClassName,ie=e.selected,ge=ie===void 0?!1:ie,pe=At(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),be=M.useContext(oa),Ae={dense:q||be.dense||!1,alignItems:i},Le=M.useRef(null);FB(function(){l&&(Le.current&&Le.current.focus())},[l]);var Se=M.Children.toArray(p),ve=Se.length&&YT(Se[Se.length-1],["ListItemSecondaryAction"]),Re=M.useCallback(function(st){Le.current=dr.findDOMNode(st)},[]),_e=Un(Re,n),J=ke({className:Nt(f.root,g,Ae.dense&&f.dense,!Y&&f.gutters,ce&&f.divider,ne&&f.disabled,d&&f.button,i!=="center"&&f.alignItemsFlexStart,ve&&f.secondaryAction,ge&&f.selected),disabled:ne},pe),ze=y||"li";return d&&(J.component=y||"div",J.focusVisibleClassName=Nt(f.focusVisible,de),ze=md),ve?(ze=!J.component&&!y?"div":ze,T==="li"&&(ze==="li"?ze="div":J.component==="li"&&(J.component="div")),M.createElement(oa.Provider,{value:Ae},M.createElement(T,ke({className:Nt(f.container,P),ref:_e},_),M.createElement(ze,J,Se),Se.pop()))):M.createElement(oa.Provider,{value:Ae},M.createElement(ze,ke({ref:_e},J),Se))});const oo=vn(LB,{name:"MuiListItem"})(jB);var NB=function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}},HB=M.forwardRef(function(e,n){var t=e.classes,i=e.className,r=At(e,["classes","className"]),l=M.useContext(oa);return M.createElement("div",ke({className:Nt(t.root,i,l.alignItems==="flex-start"&&t.alignItemsFlexStart),ref:n},r))});const aS=vn(NB,{name:"MuiListItemIcon"})(HB);var BB={root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},VB=M.forwardRef(function(e,n){var t=e.children,i=e.classes,r=e.className,l=e.disableTypography,h=l===void 0?!1:l,d=e.inset,p=d===void 0?!1:d,f=e.primary,g=e.primaryTypographyProps,y=e.secondary,S=e.secondaryTypographyProps,T=At(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),k=M.useContext(oa),P=k.dense,_=f??t;_!=null&&_.type!==kn&&!h&&(_=M.createElement(kn,ke({variant:P?"body2":"body1",className:i.primary,component:"span",display:"block"},g),_));var D=y;return D!=null&&D.type!==kn&&!h&&(D=M.createElement(kn,ke({variant:"body2",className:i.secondary,color:"textSecondary",display:"block"},S),D)),M.createElement("div",ke({className:Nt(i.root,r,P&&i.dense,p&&i.inset,_&&D&&i.multiline),ref:n},T),_,D)});const al=vn(BB,{name:"MuiListItemText"})(VB);function lS(e,n){var t=0;return typeof n=="number"?t=n:n==="center"?t=e.height/2:n==="bottom"&&(t=e.height),t}function cS(e,n){var t=0;return typeof n=="number"?t=n:n==="center"?t=e.width/2:n==="right"&&(t=e.width),t}function uS(e){return[e.horizontal,e.vertical].map(function(n){return typeof n=="number"?"".concat(n,"px"):n}).join(" ")}function UB(e,n){for(var t=n,i=0;t&&t!==e;)t=t.parentElement,i+=t.scrollTop;return i}function Tf(e){return typeof e=="function"?e():e}var WB={root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},GB=M.forwardRef(function(e,n){var t=e.action,i=e.anchorEl,r=e.anchorOrigin,l=r===void 0?{vertical:"top",horizontal:"left"}:r,h=e.anchorPosition,d=e.anchorReference,p=d===void 0?"anchorEl":d,f=e.children,g=e.classes,y=e.className,S=e.container,T=e.elevation,k=T===void 0?8:T,P=e.getContentAnchorEl,_=e.marginThreshold,D=_===void 0?16:_,q=e.onEnter,G=e.onEntered,ne=e.onEntering,K=e.onExit,Y=e.onExited,se=e.onExiting,ce=e.open,de=e.PaperProps,ie=de===void 0?{}:de,ge=e.transformOrigin,pe=ge===void 0?{vertical:"top",horizontal:"left"}:ge,be=e.TransitionComponent,Ae=be===void 0?dC:be,Le=e.transitionDuration,Se=Le===void 0?"auto":Le,ve=e.TransitionProps,Re=ve===void 0?{}:ve,_e=At(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),J=M.useRef(),ze=M.useCallback(function(rt){if(p==="anchorPosition")return h;var Ye=Tf(i),xt=Ye&&Ye.nodeType===1?Ye:xr(J.current).body,Ht=xt.getBoundingClientRect(),on=rt===0?l.vertical:"center";return{top:Ht.top+lS(Ht,on),left:Ht.left+cS(Ht,l.horizontal)}},[i,l.horizontal,l.vertical,h,p]),st=M.useCallback(function(rt){var Ye=0;if(P&&p==="anchorEl"){var xt=P(rt);if(xt&&rt.contains(xt)){var Ht=UB(rt,xt);Ye=xt.offsetTop+xt.clientHeight/2-Ht||0}}return Ye},[l.vertical,p,P]),ee=M.useCallback(function(rt){var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{vertical:lS(rt,pe.vertical)+Ye,horizontal:cS(rt,pe.horizontal)}},[pe.horizontal,pe.vertical]),Ct=M.useCallback(function(rt){var Ye=st(rt),xt={width:rt.offsetWidth,height:rt.offsetHeight},Ht=ee(xt,Ye);if(p==="none")return{top:null,left:null,transformOrigin:uS(Ht)};var on=ze(Ye),Dt=on.top-Ht.vertical,Yt=on.left-Ht.horizontal,I=Dt+xt.height,Q=Yt+xt.width,xe=yg(Tf(i)),Ne=xe.innerHeight-D,je=xe.innerWidth-D;if(Dt<D){var $e=Dt-D;Dt-=$e,Ht.vertical+=$e}else if(I>Ne){var Ke=I-Ne;Dt-=Ke,Ht.vertical+=Ke}if(Yt<D){var Et=Yt-D;Yt-=Et,Ht.horizontal+=Et}else if(Q>je){var It=Q-je;Yt-=It,Ht.horizontal+=It}return{top:"".concat(Math.round(Dt),"px"),left:"".concat(Math.round(Yt),"px"),transformOrigin:uS(Ht)}},[i,p,ze,st,ee,D]),tt=M.useCallback(function(){var rt=J.current;if(rt){var Ye=Ct(rt);Ye.top!==null&&(rt.style.top=Ye.top),Ye.left!==null&&(rt.style.left=Ye.left),rt.style.transformOrigin=Ye.transformOrigin}},[Ct]),at=function(rt,Ye){ne&&ne(rt,Ye),tt()},yt=M.useCallback(function(rt){J.current=dr.findDOMNode(rt)},[]);M.useEffect(function(){ce&&tt()}),M.useImperativeHandle(t,function(){return ce?{updatePosition:function(){tt()}}:null},[ce,tt]),M.useEffect(function(){if(ce){var rt=vg(function(){tt()});return window.addEventListener("resize",rt),function(){rt.clear(),window.removeEventListener("resize",rt)}}},[ce,tt]);var Ot=Se;Se==="auto"&&!Ae.muiSupportAuto&&(Ot=void 0);var Tt=S||(i?xr(Tf(i)).body:void 0);return M.createElement(cB,ke({container:Tt,open:ce,ref:n,BackdropProps:{invisible:!0},className:Nt(g.root,y)},_e),M.createElement(Ae,ke({appear:!0,in:ce,onEnter:q,onEntered:G,onExit:K,onExited:Y,onExiting:se,timeout:Ot},Re,{onEntering:la(at,Re.onEntering)}),M.createElement(jl,ke({elevation:k,ref:yt},ie,{className:Nt(g.paper,ie.className)}),f)))});const pC=vn(WB,{name:"MuiPopover"})(GB);function Cf(e,n,t){return e===n?e.firstChild:n&&n.nextElementSibling?n.nextElementSibling:t?null:e.firstChild}function dS(e,n,t){return e===n?t?e.firstChild:e.lastChild:n&&n.previousElementSibling?n.previousElementSibling:t?null:e.lastChild}function fC(e,n){if(n===void 0)return!0;var t=e.innerText;return t===void 0&&(t=e.textContent),t=t.trim().toLowerCase(),t.length===0?!1:n.repeating?t[0]===n.keys[0]:t.indexOf(n.keys.join(""))===0}function ll(e,n,t,i,r,l){for(var h=!1,d=r(e,n,n?t:!1);d;){if(d===e.firstChild){if(h)return;h=!0}var p=i?!1:d.disabled||d.getAttribute("aria-disabled")==="true";if(!d.hasAttribute("tabindex")||!fC(d,l)||p)d=r(e,d,t);else{d.focus();return}}}var qB=typeof window>"u"?M.useEffect:M.useLayoutEffect,XB=M.forwardRef(function(e,n){var t=e.actions,i=e.autoFocus,r=i===void 0?!1:i,l=e.autoFocusItem,h=l===void 0?!1:l,d=e.children,p=e.className,f=e.disabledItemsFocusable,g=f===void 0?!1:f,y=e.disableListWrap,S=y===void 0?!1:y,T=e.onKeyDown,k=e.variant,P=k===void 0?"selectedMenu":k,_=At(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),D=M.useRef(null),q=M.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});qB(function(){r&&D.current.focus()},[r]),M.useImperativeHandle(t,function(){return{adjustStyleForScrollbar:function(ce,de){var ie=!D.current.style.width;if(ce.clientHeight<D.current.clientHeight&&ie){var ge="".concat(sC(),"px");D.current.style[de.direction==="rtl"?"paddingLeft":"paddingRight"]=ge,D.current.style.width="calc(100% + ".concat(ge,")")}return D.current}}},[]);var G=function(ce){var de=D.current,ie=ce.key,ge=xr(de).activeElement;if(ie==="ArrowDown")ce.preventDefault(),ll(de,ge,S,g,Cf);else if(ie==="ArrowUp")ce.preventDefault(),ll(de,ge,S,g,dS);else if(ie==="Home")ce.preventDefault(),ll(de,null,S,g,Cf);else if(ie==="End")ce.preventDefault(),ll(de,null,S,g,dS);else if(ie.length===1){var pe=q.current,be=ie.toLowerCase(),Ae=performance.now();pe.keys.length>0&&(Ae-pe.lastTime>500?(pe.keys=[],pe.repeating=!0,pe.previousKeyMatched=!0):pe.repeating&&be!==pe.keys[0]&&(pe.repeating=!1)),pe.lastTime=Ae,pe.keys.push(be);var Le=ge&&!pe.repeating&&fC(ge,pe);pe.previousKeyMatched&&(Le||ll(de,ge,!1,g,Cf,pe))?ce.preventDefault():pe.previousKeyMatched=!1}T&&T(ce)},ne=M.useCallback(function(ce){D.current=dr.findDOMNode(ce)},[]),K=Un(ne,n),Y=-1;M.Children.forEach(d,function(ce,de){M.isValidElement(ce)&&(ce.props.disabled||(P==="selectedMenu"&&ce.props.selected||Y===-1)&&(Y=de))});var se=M.Children.map(d,function(ce,de){if(de===Y){var ie={};return h&&(ie.autoFocus=!0),ce.props.tabIndex===void 0&&P==="selectedMenu"&&(ie.tabIndex=0),M.cloneElement(ce,ie)}return ce});return M.createElement(kg,ke({role:"menu",ref:K,className:p,onKeyDown:G,tabIndex:r?0:-1},_),se)}),hS={vertical:"top",horizontal:"right"},pS={vertical:"top",horizontal:"left"},YB={paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},KB=M.forwardRef(function(e,n){var t=e.autoFocus,i=t===void 0?!0:t,r=e.children,l=e.classes,h=e.disableAutoFocusItem,d=h===void 0?!1:h,p=e.MenuListProps,f=p===void 0?{}:p,g=e.onClose,y=e.onEntering,S=e.open,T=e.PaperProps,k=T===void 0?{}:T,P=e.PopoverClasses,_=e.transitionDuration,D=_===void 0?"auto":_,q=e.TransitionProps;q=q===void 0?{}:q;var G=q.onEntering,ne=At(q,["onEntering"]),K=e.variant,Y=K===void 0?"selectedMenu":K,se=At(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),ce=ma(),de=i&&!d&&S,ie=M.useRef(null),ge=M.useRef(null),pe=function(){return ge.current},be=function(ve,Re){ie.current&&ie.current.adjustStyleForScrollbar(ve,ce),y&&y(ve,Re),G&&G(ve,Re)},Ae=function(ve){ve.key==="Tab"&&(ve.preventDefault(),g&&g(ve,"tabKeyDown"))},Le=-1;M.Children.map(r,function(ve,Re){M.isValidElement(ve)&&(ve.props.disabled||(Y!=="menu"&&ve.props.selected||Le===-1)&&(Le=Re))});var Se=M.Children.map(r,function(ve,Re){return Re===Le?M.cloneElement(ve,{ref:function(_e){ge.current=dr.findDOMNode(_e),ns(ve.ref,_e)}}):ve});return M.createElement(pC,ke({getContentAnchorEl:pe,classes:P,onClose:g,TransitionProps:ke({onEntering:be},ne),anchorOrigin:ce.direction==="rtl"?hS:pS,transformOrigin:ce.direction==="rtl"?hS:pS,PaperProps:ke({},k,{classes:ke({},k.classes,{root:l.paper})}),open:S,ref:n,transitionDuration:D},se),M.createElement(XB,ke({onKeyDown:Ae,actions:ie,autoFocus:i&&(Le===-1||d),autoFocusItem:de,variant:Y},f,{className:Nt(l.list,f.className)}),Se))});const ZB=vn(YB,{name:"MuiMenu"})(KB);var JB=function(e){return{root:ke({},e.typography.body1,Yo({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:ke({},e.typography.body2,{minHeight:"auto"})}},$B=M.forwardRef(function(e,n){var t=e.classes,i=e.className,r=e.component,l=r===void 0?"li":r,h=e.disableGutters,d=h===void 0?!1:h,p=e.ListItemClasses,f=e.role,g=f===void 0?"menuitem":f,y=e.selected,S=e.tabIndex,T=At(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]),k;return e.disabled||(k=S!==void 0?S:-1),M.createElement(oo,ke({button:!0,role:g,tabIndex:k,component:l,selected:y,disableGutters:d,classes:ke({dense:t.dense},p),className:Nt(t.root,i,y&&t.selected,!d&&t.gutters),ref:n},T))});const ro=vn(JB,{name:"MuiMenuItem"})($B);var mC=M.forwardRef(function(e,n){var t=e.classes,i=e.className,r=e.disabled,l=e.IconComponent,h=e.inputRef,d=e.variant,p=d===void 0?"standard":d,f=At(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return M.createElement(M.Fragment,null,M.createElement("select",ke({className:Nt(t.root,t.select,t[p],i,r&&t.disabled),disabled:r,ref:h||n},f)),e.multiple?null:M.createElement(l,{className:Nt(t.icon,t["icon".concat($n(p))],r&&t.disabled)}))});const gC=Fl(M.createElement("path",{d:"M7 10l5 5 5-5z"}));var vC=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:e.palette.type==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},QB=M.createElement(Cg,null),yC=M.forwardRef(function(e,n){var t=e.children,i=e.classes,r=e.IconComponent,l=r===void 0?gC:r,h=e.input,d=h===void 0?QB:h,p=e.inputProps;e.variant;var f=At(e,["children","classes","IconComponent","input","inputProps","variant"]),g=gd(),y=Eg({props:e,muiFormControl:g,states:["variant"]});return M.cloneElement(d,ke({inputComponent:mC,inputProps:ke({children:t,classes:i,IconComponent:l,variant:y.variant,type:void 0},p,d?d.props.inputProps:{}),ref:n},f))});yC.muiName="Select";vn(vC,{name:"MuiNativeSelect"})(yC);var e7=function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}},t7=M.forwardRef(function(e,n){e.children;var t=e.classes,i=e.className,r=e.label,l=e.labelWidth,h=e.notched,d=e.style,p=At(e,["children","classes","className","label","labelWidth","notched","style"]),f=ma(),g=f.direction==="rtl"?"right":"left";if(r!==void 0)return M.createElement("fieldset",ke({"aria-hidden":!0,className:Nt(t.root,i),ref:n,style:d},p),M.createElement("legend",{className:Nt(t.legendLabelled,h&&t.legendNotched)},r?M.createElement("span",null,r):M.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var y=l>0?l*.75+8:.01;return M.createElement("fieldset",ke({"aria-hidden":!0,style:ke(Yo({},"padding".concat($n(g)),8),d),className:Nt(t.root,i),ref:n},p),M.createElement("legend",{className:t.legend,style:{width:h?y:.01}},M.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))});const n7=vn(e7,{name:"PrivateNotchedOutline"})(t7);var i7=function(e){var n=e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:n}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:n},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:e.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.type==="light"?null:"#fff",caretColor:e.palette.type==="light"?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},bC=M.forwardRef(function(e,n){var t=e.classes,i=e.fullWidth,r=i===void 0?!1:i,l=e.inputComponent,h=l===void 0?"input":l,d=e.label,p=e.labelWidth,f=p===void 0?0:p,g=e.multiline,y=g===void 0?!1:g,S=e.notched,T=e.type,k=T===void 0?"text":T,P=At(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return M.createElement(Tg,ke({renderSuffix:function(_){return M.createElement(n7,{className:t.notchedOutline,label:d,labelWidth:f,notched:typeof S<"u"?S:!!(_.startAdornment||_.filled||_.focused)})},classes:ke({},t,{root:Nt(t.root,t.underline),notchedOutline:null}),fullWidth:r,inputComponent:h,multiline:y,ref:n,type:k},P))});bC.muiName="Input";const r7=vn(i7,{name:"MuiOutlinedInput"})(bC);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1-lts
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Nl=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",o7=function(){for(var e=["Edge","Trident","Firefox"],n=0;n<e.length;n+=1)if(Nl&&navigator.userAgent.indexOf(e[n])>=0)return 1;return 0}();function s7(e){var n=!1;return function(){n||(n=!0,window.Promise.resolve().then(function(){n=!1,e()}))}}function a7(e){var n=!1;return function(){n||(n=!0,setTimeout(function(){n=!1,e()},o7))}}var l7=Nl&&window.Promise,c7=l7?s7:a7;function wC(e){var n={};return e&&n.toString.call(e)==="[object Function]"}function cs(e,n){if(e.nodeType!==1)return[];var t=e.ownerDocument.defaultView,i=t.getComputedStyle(e,null);return n?i[n]:i}function Pg(e){return e.nodeName==="HTML"?e:e.parentNode||e.host}function Hl(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var n=cs(e),t=n.overflow,i=n.overflowX,r=n.overflowY;return/(auto|scroll|overlay)/.test(t+r+i)?e:Hl(Pg(e))}function xC(e){return e&&e.referenceNode?e.referenceNode:e}var fS=Nl&&!!(window.MSInputMethodContext&&document.documentMode),mS=Nl&&/MSIE 10/.test(navigator.userAgent);function ya(e){return e===11?fS:e===10?mS:fS||mS}function ua(e){if(!e)return document.documentElement;for(var n=ya(10)?document.body:null,t=e.offsetParent||null;t===n&&e.nextElementSibling;)t=(e=e.nextElementSibling).offsetParent;var i=t&&t.nodeName;return!i||i==="BODY"||i==="HTML"?e?e.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(t.nodeName)!==-1&&cs(t,"position")==="static"?ua(t):t}function u7(e){var n=e.nodeName;return n==="BODY"?!1:n==="HTML"||ua(e.firstElementChild)===e}function Em(e){return e.parentNode!==null?Em(e.parentNode):e}function Gu(e,n){if(!e||!e.nodeType||!n||!n.nodeType)return document.documentElement;var t=e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING,i=t?e:n,r=t?n:e,l=document.createRange();l.setStart(i,0),l.setEnd(r,0);var h=l.commonAncestorContainer;if(e!==h&&n!==h||i.contains(r))return u7(h)?h:ua(h);var d=Em(e);return d.host?Gu(d.host,n):Gu(e,Em(n).host)}function da(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",t=n==="top"?"scrollTop":"scrollLeft",i=e.nodeName;if(i==="BODY"||i==="HTML"){var r=e.ownerDocument.documentElement,l=e.ownerDocument.scrollingElement||r;return l[t]}return e[t]}function d7(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=da(n,"top"),r=da(n,"left"),l=t?-1:1;return e.top+=i*l,e.bottom+=i*l,e.left+=r*l,e.right+=r*l,e}function gS(e,n){var t=n==="x"?"Left":"Top",i=t==="Left"?"Right":"Bottom";return parseFloat(e["border"+t+"Width"])+parseFloat(e["border"+i+"Width"])}function vS(e,n,t,i){return Math.max(n["offset"+e],n["scroll"+e],t["client"+e],t["offset"+e],t["scroll"+e],ya(10)?parseInt(t["offset"+e])+parseInt(i["margin"+(e==="Height"?"Top":"Left")])+parseInt(i["margin"+(e==="Height"?"Bottom":"Right")]):0)}function SC(e){var n=e.body,t=e.documentElement,i=ya(10)&&getComputedStyle(t);return{height:vS("Height",n,t,i),width:vS("Width",n,t,i)}}var h7=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},p7=function(){function e(n,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),ha=function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e},er=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};function po(e){return er({},e,{right:e.left+e.width,bottom:e.top+e.height})}function Tm(e){var n={};try{if(ya(10)){n=e.getBoundingClientRect();var t=da(e,"top"),i=da(e,"left");n.top+=t,n.left+=i,n.bottom+=t,n.right+=i}else n=e.getBoundingClientRect()}catch{}var r={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},l=e.nodeName==="HTML"?SC(e.ownerDocument):{},h=l.width||e.clientWidth||r.width,d=l.height||e.clientHeight||r.height,p=e.offsetWidth-h,f=e.offsetHeight-d;if(p||f){var g=cs(e);p-=gS(g,"x"),f-=gS(g,"y"),r.width-=p,r.height-=f}return po(r)}function _g(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=ya(10),r=n.nodeName==="HTML",l=Tm(e),h=Tm(n),d=Hl(e),p=cs(n),f=parseFloat(p.borderTopWidth),g=parseFloat(p.borderLeftWidth);t&&r&&(h.top=Math.max(h.top,0),h.left=Math.max(h.left,0));var y=po({top:l.top-h.top-f,left:l.left-h.left-g,width:l.width,height:l.height});if(y.marginTop=0,y.marginLeft=0,!i&&r){var S=parseFloat(p.marginTop),T=parseFloat(p.marginLeft);y.top-=f-S,y.bottom-=f-S,y.left-=g-T,y.right-=g-T,y.marginTop=S,y.marginLeft=T}return(i&&!t?n.contains(d):n===d&&d.nodeName!=="BODY")&&(y=d7(y,n)),y}function f7(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=e.ownerDocument.documentElement,i=_g(e,t),r=Math.max(t.clientWidth,window.innerWidth||0),l=Math.max(t.clientHeight,window.innerHeight||0),h=n?0:da(t),d=n?0:da(t,"left"),p={top:h-i.top+i.marginTop,left:d-i.left+i.marginLeft,width:r,height:l};return po(p)}function EC(e){var n=e.nodeName;if(n==="BODY"||n==="HTML")return!1;if(cs(e,"position")==="fixed")return!0;var t=Pg(e);return t?EC(t):!1}function TC(e){if(!e||!e.parentElement||ya())return document.documentElement;for(var n=e.parentElement;n&&cs(n,"transform")==="none";)n=n.parentElement;return n||document.documentElement}function Rg(e,n,t,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,l={top:0,left:0},h=r?TC(e):Gu(e,xC(n));if(i==="viewport")l=f7(h,r);else{var d=void 0;i==="scrollParent"?(d=Hl(Pg(n)),d.nodeName==="BODY"&&(d=e.ownerDocument.documentElement)):i==="window"?d=e.ownerDocument.documentElement:d=i;var p=_g(d,h,r);if(d.nodeName==="HTML"&&!EC(h)){var f=SC(e.ownerDocument),g=f.height,y=f.width;l.top+=p.top-p.marginTop,l.bottom=g+p.top,l.left+=p.left-p.marginLeft,l.right=y+p.left}else l=p}t=t||0;var S=typeof t=="number";return l.left+=S?t:t.left||0,l.top+=S?t:t.top||0,l.right-=S?t:t.right||0,l.bottom-=S?t:t.bottom||0,l}function m7(e){var n=e.width,t=e.height;return n*t}function CC(e,n,t,i,r){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var h=Rg(t,i,l,r),d={top:{width:h.width,height:n.top-h.top},right:{width:h.right-n.right,height:h.height},bottom:{width:h.width,height:h.bottom-n.bottom},left:{width:n.left-h.left,height:h.height}},p=Object.keys(d).map(function(S){return er({key:S},d[S],{area:m7(d[S])})}).sort(function(S,T){return T.area-S.area}),f=p.filter(function(S){var T=S.width,k=S.height;return T>=t.clientWidth&&k>=t.clientHeight}),g=f.length>0?f[0].key:p[0].key,y=e.split("-")[1];return g+(y?"-"+y:"")}function kC(e,n,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,r=i?TC(n):Gu(n,xC(t));return _g(t,r,i)}function PC(e){var n=e.ownerDocument.defaultView,t=n.getComputedStyle(e),i=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0),l={width:e.offsetWidth+r,height:e.offsetHeight+i};return l}function qu(e){var n={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(t){return n[t]})}function _C(e,n,t){t=t.split("-")[0];var i=PC(e),r={width:i.width,height:i.height},l=["right","left"].indexOf(t)!==-1,h=l?"top":"left",d=l?"left":"top",p=l?"height":"width",f=l?"width":"height";return r[h]=n[h]+n[p]/2-i[p]/2,t===d?r[d]=n[d]-i[f]:r[d]=n[qu(d)],r}function Bl(e,n){return Array.prototype.find?e.find(n):e.filter(n)[0]}function g7(e,n,t){if(Array.prototype.findIndex)return e.findIndex(function(r){return r[n]===t});var i=Bl(e,function(r){return r[n]===t});return e.indexOf(i)}function RC(e,n,t){var i=t===void 0?e:e.slice(0,g7(e,"name",t));return i.forEach(function(r){r.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var l=r.function||r.fn;r.enabled&&wC(l)&&(n.offsets.popper=po(n.offsets.popper),n.offsets.reference=po(n.offsets.reference),n=l(n,r))}),n}function v7(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=kC(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=CC(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=_C(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=RC(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function OC(e,n){return e.some(function(t){var i=t.name,r=t.enabled;return r&&i===n})}function Og(e){for(var n=[!1,"ms","Webkit","Moz","O"],t=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<n.length;i++){var r=n[i],l=r?""+r+t:e;if(typeof document.body.style[l]<"u")return l}return null}function y7(){return this.state.isDestroyed=!0,OC(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Og("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function DC(e){var n=e.ownerDocument;return n?n.defaultView:window}function AC(e,n,t,i){var r=e.nodeName==="BODY",l=r?e.ownerDocument.defaultView:e;l.addEventListener(n,t,{passive:!0}),r||AC(Hl(l.parentNode),n,t,i),i.push(l)}function b7(e,n,t,i){t.updateBound=i,DC(e).addEventListener("resize",t.updateBound,{passive:!0});var r=Hl(e);return AC(r,"scroll",t.updateBound,t.scrollParents),t.scrollElement=r,t.eventsEnabled=!0,t}function w7(){this.state.eventsEnabled||(this.state=b7(this.reference,this.options,this.state,this.scheduleUpdate))}function x7(e,n){return DC(e).removeEventListener("resize",n.updateBound),n.scrollParents.forEach(function(t){t.removeEventListener("scroll",n.updateBound)}),n.updateBound=null,n.scrollParents=[],n.scrollElement=null,n.eventsEnabled=!1,n}function S7(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=x7(this.reference,this.state))}function Dg(e){return e!==""&&!isNaN(parseFloat(e))&&isFinite(e)}function Cm(e,n){Object.keys(n).forEach(function(t){var i="";["width","height","top","right","bottom","left"].indexOf(t)!==-1&&Dg(n[t])&&(i="px"),e.style[t]=n[t]+i})}function E7(e,n){Object.keys(n).forEach(function(t){var i=n[t];i!==!1?e.setAttribute(t,n[t]):e.removeAttribute(t)})}function T7(e){return Cm(e.instance.popper,e.styles),E7(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&Cm(e.arrowElement,e.arrowStyles),e}function C7(e,n,t,i,r){var l=kC(r,n,e,t.positionFixed),h=CC(t.placement,l,n,e,t.modifiers.flip.boundariesElement,t.modifiers.flip.padding);return n.setAttribute("x-placement",h),Cm(n,{position:t.positionFixed?"fixed":"absolute"}),t}function k7(e,n){var t=e.offsets,i=t.popper,r=t.reference,l=Math.round,h=Math.floor,d=function(_){return _},p=l(r.width),f=l(i.width),g=["left","right"].indexOf(e.placement)!==-1,y=e.placement.indexOf("-")!==-1,S=p%2===f%2,T=p%2===1&&f%2===1,k=n?g||y||S?l:h:d,P=n?l:d;return{left:k(T&&!y&&n?i.left-1:i.left),top:P(i.top),bottom:P(i.bottom),right:k(i.right)}}var P7=Nl&&/Firefox/i.test(navigator.userAgent);function _7(e,n){var t=n.x,i=n.y,r=e.offsets.popper,l=Bl(e.instance.modifiers,function(G){return G.name==="applyStyle"}).gpuAcceleration;l!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var h=l!==void 0?l:n.gpuAcceleration,d=ua(e.instance.popper),p=Tm(d),f={position:r.position},g=k7(e,window.devicePixelRatio<2||!P7),y=t==="bottom"?"top":"bottom",S=i==="right"?"left":"right",T=Og("transform"),k=void 0,P=void 0;if(y==="bottom"?d.nodeName==="HTML"?P=-d.clientHeight+g.bottom:P=-p.height+g.bottom:P=g.top,S==="right"?d.nodeName==="HTML"?k=-d.clientWidth+g.right:k=-p.width+g.right:k=g.left,h&&T)f[T]="translate3d("+k+"px, "+P+"px, 0)",f[y]=0,f[S]=0,f.willChange="transform";else{var _=y==="bottom"?-1:1,D=S==="right"?-1:1;f[y]=P*_,f[S]=k*D,f.willChange=y+", "+S}var q={"x-placement":e.placement};return e.attributes=er({},q,e.attributes),e.styles=er({},f,e.styles),e.arrowStyles=er({},e.offsets.arrow,e.arrowStyles),e}function IC(e,n,t){var i=Bl(e,function(d){var p=d.name;return p===n}),r=!!i&&e.some(function(d){return d.name===t&&d.enabled&&d.order<i.order});if(!r){var l="`"+n+"`",h="`"+t+"`";console.warn(h+" modifier is required by "+l+" modifier in order to work, be sure to include it before "+l+"!")}return r}function R7(e,n){var t;if(!IC(e.instance.modifiers,"arrow","keepTogether"))return e;var i=n.element;if(typeof i=="string"){if(i=e.instance.popper.querySelector(i),!i)return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],l=e.offsets,h=l.popper,d=l.reference,p=["left","right"].indexOf(r)!==-1,f=p?"height":"width",g=p?"Top":"Left",y=g.toLowerCase(),S=p?"left":"top",T=p?"bottom":"right",k=PC(i)[f];d[T]-k<h[y]&&(e.offsets.popper[y]-=h[y]-(d[T]-k)),d[y]+k>h[T]&&(e.offsets.popper[y]+=d[y]+k-h[T]),e.offsets.popper=po(e.offsets.popper);var P=d[y]+d[f]/2-k/2,_=cs(e.instance.popper),D=parseFloat(_["margin"+g]),q=parseFloat(_["border"+g+"Width"]),G=P-e.offsets.popper[y]-D-q;return G=Math.max(Math.min(h[f]-k,G),0),e.arrowElement=i,e.offsets.arrow=(t={},ha(t,y,Math.round(G)),ha(t,S,""),t),e}function O7(e){return e==="end"?"start":e==="start"?"end":e}var MC=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],kf=MC.slice(3);function yS(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=kf.indexOf(e),i=kf.slice(t+1).concat(kf.slice(0,t));return n?i.reverse():i}var Pf={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function D7(e,n){if(OC(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var t=Rg(e.instance.popper,e.instance.reference,n.padding,n.boundariesElement,e.positionFixed),i=e.placement.split("-")[0],r=qu(i),l=e.placement.split("-")[1]||"",h=[];switch(n.behavior){case Pf.FLIP:h=[i,r];break;case Pf.CLOCKWISE:h=yS(i);break;case Pf.COUNTERCLOCKWISE:h=yS(i,!0);break;default:h=n.behavior}return h.forEach(function(d,p){if(i!==d||h.length===p+1)return e;i=e.placement.split("-")[0],r=qu(i);var f=e.offsets.popper,g=e.offsets.reference,y=Math.floor,S=i==="left"&&y(f.right)>y(g.left)||i==="right"&&y(f.left)<y(g.right)||i==="top"&&y(f.bottom)>y(g.top)||i==="bottom"&&y(f.top)<y(g.bottom),T=y(f.left)<y(t.left),k=y(f.right)>y(t.right),P=y(f.top)<y(t.top),_=y(f.bottom)>y(t.bottom),D=i==="left"&&T||i==="right"&&k||i==="top"&&P||i==="bottom"&&_,q=["top","bottom"].indexOf(i)!==-1,G=!!n.flipVariations&&(q&&l==="start"&&T||q&&l==="end"&&k||!q&&l==="start"&&P||!q&&l==="end"&&_),ne=!!n.flipVariationsByContent&&(q&&l==="start"&&k||q&&l==="end"&&T||!q&&l==="start"&&_||!q&&l==="end"&&P),K=G||ne;(S||D||K)&&(e.flipped=!0,(S||D)&&(i=h[p+1]),K&&(l=O7(l)),e.placement=i+(l?"-"+l:""),e.offsets.popper=er({},e.offsets.popper,_C(e.instance.popper,e.offsets.reference,e.placement)),e=RC(e.instance.modifiers,e,"flip"))}),e}function A7(e){var n=e.offsets,t=n.popper,i=n.reference,r=e.placement.split("-")[0],l=Math.floor,h=["top","bottom"].indexOf(r)!==-1,d=h?"right":"bottom",p=h?"left":"top",f=h?"width":"height";return t[d]<l(i[p])&&(e.offsets.popper[p]=l(i[p])-t[f]),t[p]>l(i[d])&&(e.offsets.popper[p]=l(i[d])),e}function I7(e,n,t,i){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),l=+r[1],h=r[2];if(!l)return e;if(h.indexOf("%")===0){var d=void 0;switch(h){case"%p":d=t;break;case"%":case"%r":default:d=i}var p=po(d);return p[n]/100*l}else if(h==="vh"||h==="vw"){var f=void 0;return h==="vh"?f=Math.max(document.documentElement.clientHeight,window.innerHeight||0):f=Math.max(document.documentElement.clientWidth,window.innerWidth||0),f/100*l}else return l}function M7(e,n,t,i){var r=[0,0],l=["right","left"].indexOf(i)!==-1,h=e.split(/(\+|\-)/).map(function(g){return g.trim()}),d=h.indexOf(Bl(h,function(g){return g.search(/,|\s/)!==-1}));h[d]&&h[d].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var p=/\s*,\s*|\s+/,f=d!==-1?[h.slice(0,d).concat([h[d].split(p)[0]]),[h[d].split(p)[1]].concat(h.slice(d+1))]:[h];return f=f.map(function(g,y){var S=(y===1?!l:l)?"height":"width",T=!1;return g.reduce(function(k,P){return k[k.length-1]===""&&["+","-"].indexOf(P)!==-1?(k[k.length-1]=P,T=!0,k):T?(k[k.length-1]+=P,T=!1,k):k.concat(P)},[]).map(function(k){return I7(k,S,n,t)})}),f.forEach(function(g,y){g.forEach(function(S,T){Dg(S)&&(r[y]+=S*(g[T-1]==="-"?-1:1))})}),r}function z7(e,n){var t=n.offset,i=e.placement,r=e.offsets,l=r.popper,h=r.reference,d=i.split("-")[0],p=void 0;return Dg(+t)?p=[+t,0]:p=M7(t,l,h,d),d==="left"?(l.top+=p[0],l.left-=p[1]):d==="right"?(l.top+=p[0],l.left+=p[1]):d==="top"?(l.left+=p[0],l.top-=p[1]):d==="bottom"&&(l.left+=p[0],l.top+=p[1]),e.popper=l,e}function L7(e,n){var t=n.boundariesElement||ua(e.instance.popper);e.instance.reference===t&&(t=ua(t));var i=Og("transform"),r=e.instance.popper.style,l=r.top,h=r.left,d=r[i];r.top="",r.left="",r[i]="";var p=Rg(e.instance.popper,e.instance.reference,n.padding,t,e.positionFixed);r.top=l,r.left=h,r[i]=d,n.boundaries=p;var f=n.priority,g=e.offsets.popper,y={primary:function(S){var T=g[S];return g[S]<p[S]&&!n.escapeWithReference&&(T=Math.max(g[S],p[S])),ha({},S,T)},secondary:function(S){var T=S==="right"?"left":"top",k=g[T];return g[S]>p[S]&&!n.escapeWithReference&&(k=Math.min(g[T],p[S]-(S==="right"?g.width:g.height))),ha({},T,k)}};return f.forEach(function(S){var T=["left","top"].indexOf(S)!==-1?"primary":"secondary";g=er({},g,y[T](S))}),e.offsets.popper=g,e}function F7(e){var n=e.placement,t=n.split("-")[0],i=n.split("-")[1];if(i){var r=e.offsets,l=r.reference,h=r.popper,d=["bottom","top"].indexOf(t)!==-1,p=d?"left":"top",f=d?"width":"height",g={start:ha({},p,l[p]),end:ha({},p,l[p]+l[f]-h[f])};e.offsets.popper=er({},h,g[i])}return e}function j7(e){if(!IC(e.instance.modifiers,"hide","preventOverflow"))return e;var n=e.offsets.reference,t=Bl(e.instance.modifiers,function(i){return i.name==="preventOverflow"}).boundaries;if(n.bottom<t.top||n.left>t.right||n.top>t.bottom||n.right<t.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function N7(e){var n=e.placement,t=n.split("-")[0],i=e.offsets,r=i.popper,l=i.reference,h=["left","right"].indexOf(t)!==-1,d=["top","left"].indexOf(t)===-1;return r[h?"left":"top"]=l[t]-(d?r[h?"width":"height"]:0),e.placement=qu(n),e.offsets.popper=po(r),e}var H7={shift:{order:100,enabled:!0,fn:F7},offset:{order:200,enabled:!0,fn:z7,offset:0},preventOverflow:{order:300,enabled:!0,fn:L7,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:A7},arrow:{order:500,enabled:!0,fn:R7,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:D7,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:N7},hide:{order:800,enabled:!0,fn:j7},computeStyle:{order:850,enabled:!0,fn:_7,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:T7,onLoad:C7,gpuAcceleration:void 0}},B7={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:H7},vd=function(){function e(n,t){var i=this,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h7(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=c7(this.update.bind(this)),this.options=er({},e.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=n&&n.jquery?n[0]:n,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(er({},e.Defaults.modifiers,r.modifiers)).forEach(function(h){i.options.modifiers[h]=er({},e.Defaults.modifiers[h]||{},r.modifiers?r.modifiers[h]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(h){return er({name:h},i.options.modifiers[h])}).sort(function(h,d){return h.order-d.order}),this.modifiers.forEach(function(h){h.enabled&&wC(h.onLoad)&&h.onLoad(i.reference,i.popper,i.options,h,i.state)}),this.update();var l=this.options.eventsEnabled;l&&this.enableEventListeners(),this.state.eventsEnabled=l}return p7(e,[{key:"update",value:function(){return v7.call(this)}},{key:"destroy",value:function(){return y7.call(this)}},{key:"enableEventListeners",value:function(){return w7.call(this)}},{key:"disableEventListeners",value:function(){return S7.call(this)}}]),e}();vd.Utils=(typeof window<"u"?window:global).PopperUtils;vd.placements=MC;vd.Defaults=B7;function V7(e,n){var t=n&&n.direction||"ltr";if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function bS(e){return typeof e=="function"?e():e}var U7=typeof window<"u"?M.useLayoutEffect:M.useEffect,W7={},zC=M.forwardRef(function(e,n){var t=e.anchorEl,i=e.children,r=e.container,l=e.disablePortal,h=l===void 0?!1:l,d=e.keepMounted,p=d===void 0?!1:d,f=e.modifiers,g=e.open,y=e.placement,S=y===void 0?"bottom":y,T=e.popperOptions,k=T===void 0?W7:T,P=e.popperRef,_=e.style,D=e.transition,q=D===void 0?!1:D,G=At(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),ne=M.useRef(null),K=Un(ne,n),Y=M.useRef(null),se=Un(Y,P),ce=M.useRef(se);U7(function(){ce.current=se},[se]),M.useImperativeHandle(P,function(){return Y.current},[]);var de=M.useState(!0),ie=de[0],ge=de[1],pe=as(),be=V7(S,pe),Ae=M.useState(be),Le=Ae[0],Se=Ae[1];M.useEffect(function(){Y.current&&Y.current.update()});var ve=M.useCallback(function(){if(!(!ne.current||!t||!g)){Y.current&&(Y.current.destroy(),ce.current(null));var ee=function(tt){Se(tt.placement)};bS(t);var Ct=new vd(bS(t),ne.current,ke({placement:be},k,{modifiers:ke({},h?{}:{preventOverflow:{boundariesElement:"window"}},f,k.modifiers),onCreate:la(ee,k.onCreate),onUpdate:la(ee,k.onUpdate)}));ce.current(Ct)}},[t,h,f,g,be,k]),Re=M.useCallback(function(ee){ns(K,ee),ve()},[K,ve]),_e=function(){ge(!1)},J=function(){Y.current&&(Y.current.destroy(),ce.current(null))},ze=function(){ge(!0),J()};if(M.useEffect(function(){return function(){J()}},[]),M.useEffect(function(){!g&&!q&&J()},[g,q]),!p&&!g&&(!q||ie))return null;var st={placement:Le};return q&&(st.TransitionProps={in:g,onEnter:_e,onExited:ze}),M.createElement(oC,{disablePortal:h,container:r},M.createElement("div",ke({ref:Re,role:"tooltip"},G,{style:ke({position:"fixed",top:0,left:0,display:!g&&p&&!q?"none":null},_)}),typeof i=="function"?i(st):i))});function wS(e,n){return uo(n)==="object"&&n!==null?e===n:String(e)===String(n)}function G7(e){return e==null||typeof e=="string"&&!e.trim()}var q7=M.forwardRef(function(e,n){var t=e["aria-label"],i=e.autoFocus,r=e.autoWidth,l=e.children,h=e.classes,d=e.className,p=e.defaultValue,f=e.disabled,g=e.displayEmpty,y=e.IconComponent,S=e.inputRef,T=e.labelId,k=e.MenuProps,P=k===void 0?{}:k,_=e.multiple,D=e.name,q=e.onBlur,G=e.onChange,ne=e.onClose,K=e.onFocus,Y=e.onOpen,se=e.open,ce=e.readOnly,de=e.renderValue,ie=e.SelectDisplayProps,ge=ie===void 0?{}:ie,pe=e.tabIndex;e.type;var be=e.value,Ae=e.variant,Le=Ae===void 0?"standard":Ae,Se=At(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),ve=pd({controlled:be,default:p,name:"Select"}),Re=ss(ve,2),_e=Re[0],J=Re[1],ze=M.useRef(null),st=M.useState(null),ee=st[0],Ct=st[1],tt=M.useRef(se!=null),at=tt.current,yt=M.useState(),Ot=yt[0],Tt=yt[1],rt=M.useState(!1),Ye=rt[0],xt=rt[1],Ht=Un(n,S);M.useImperativeHandle(Ht,function(){return{focus:function(){ee.focus()},node:ze.current,value:_e}},[ee,_e]),M.useEffect(function(){i&&ee&&ee.focus()},[i,ee]),M.useEffect(function(){if(ee){var W=xr(ee).getElementById(T);if(W){var Z=function(){getSelection().isCollapsed&&ee.focus()};return W.addEventListener("click",Z),function(){W.removeEventListener("click",Z)}}}},[T,ee]);var on=function(W,Z){W?Y&&Y(Z):ne&&ne(Z),at||(Tt(r?null:ee.clientWidth),xt(W))},Dt=function(W){W.button===0&&(W.preventDefault(),ee.focus(),on(!0,W))},Yt=function(W){on(!1,W)},I=M.Children.toArray(l),Q=function(W){var Z=I.map(function(Ue){return Ue.props.value}).indexOf(W.target.value);if(Z!==-1){var Te=I[Z];J(Te.props.value),G&&G(W,Te)}},xe=function(W){return function(Z){_||on(!1,Z);var Te;if(_){Te=Array.isArray(_e)?_e.slice():[];var Ue=_e.indexOf(W.props.value);Ue===-1?Te.push(W.props.value):Te.splice(Ue,1)}else Te=W.props.value;W.props.onClick&&W.props.onClick(Z),_e!==Te&&(J(Te),G&&(Z.persist(),Object.defineProperty(Z,"target",{writable:!0,value:{value:Te,name:D}}),G(Z,W)))}},Ne=function(W){if(!ce){var Z=[" ","ArrowUp","ArrowDown","Enter"];Z.indexOf(W.key)!==-1&&(W.preventDefault(),on(!0,W))}},je=ee!==null&&(at?se:Ye),$e=function(W){!je&&q&&(W.persist(),Object.defineProperty(W,"target",{writable:!0,value:{value:_e,name:D}}),q(W))};delete Se["aria-invalid"];var Ke,Et,It=[],Lt=!1;(aC({value:_e})||g)&&(de?Ke=de(_e):Lt=!0);var me=I.map(function(W){if(!M.isValidElement(W))return null;var Z;if(_){if(!Array.isArray(_e))throw new Error(aa(2));Z=_e.some(function(Te){return wS(Te,W.props.value)}),Z&&Lt&&It.push(W.props.children)}else Z=wS(_e,W.props.value),Z&&Lt&&(Et=W.props.children);return M.cloneElement(W,{"aria-selected":Z?"true":void 0,onClick:xe(W),onKeyUp:function(Te){Te.key===" "&&Te.preventDefault(),W.props.onKeyUp&&W.props.onKeyUp(Te)},role:"option",selected:Z,value:void 0,"data-value":W.props.value})});Lt&&(Ke=_?It.join(", "):Et);var Ie=Ot;!r&&at&&ee&&(Ie=ee.clientWidth);var F;typeof pe<"u"?F=pe:F=f?null:0;var N=ge.id||(D?"mui-component-select-".concat(D):void 0);return M.createElement(M.Fragment,null,M.createElement("div",ke({className:Nt(h.root,h.select,h.selectMenu,h[Le],d,f&&h.disabled),ref:Ct,tabIndex:F,role:"button","aria-disabled":f?"true":void 0,"aria-expanded":je?"true":void 0,"aria-haspopup":"listbox","aria-label":t,"aria-labelledby":[T,N].filter(Boolean).join(" ")||void 0,onKeyDown:Ne,onMouseDown:f||ce?null:Dt,onBlur:$e,onFocus:K},ge,{id:N}),G7(Ke)?M.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):Ke),M.createElement("input",ke({value:Array.isArray(_e)?_e.join(","):_e,name:D,ref:ze,"aria-hidden":!0,onChange:Q,tabIndex:-1,className:h.nativeInput,autoFocus:i},Se)),M.createElement(y,{className:Nt(h.icon,h["icon".concat($n(Le))],je&&h.iconOpen,f&&h.disabled)}),M.createElement(ZB,ke({id:"menu-".concat(D||""),anchorEl:ee,open:je,onClose:Yt},P,{MenuListProps:ke({"aria-labelledby":T,role:"listbox",disableListWrap:!0},P.MenuListProps),PaperProps:ke({},P.PaperProps,{style:ke({minWidth:Ie},P.PaperProps!=null?P.PaperProps.style:null)})}),me))}),X7=vC,Y7=M.createElement(Cg,null),K7=M.createElement(wB,null),LC=M.forwardRef(function e(n,t){var i=n.autoWidth,r=i===void 0?!1:i,l=n.children,h=n.classes,d=n.displayEmpty,p=d===void 0?!1:d,f=n.IconComponent,g=f===void 0?gC:f,y=n.id,S=n.input,T=n.inputProps,k=n.label,P=n.labelId,_=n.labelWidth,D=_===void 0?0:_,q=n.MenuProps,G=n.multiple,ne=G===void 0?!1:G,K=n.native,Y=K===void 0?!1:K,se=n.onClose,ce=n.onOpen,de=n.open,ie=n.renderValue,ge=n.SelectDisplayProps,pe=n.variant,be=pe===void 0?"standard":pe,Ae=At(n,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),Le=Y?mC:q7,Se=gd(),ve=Eg({props:n,muiFormControl:Se,states:["variant"]}),Re=ve.variant||be,_e=S||{standard:Y7,outlined:M.createElement(r7,{label:k,labelWidth:D}),filled:K7}[Re];return M.cloneElement(_e,ke({inputComponent:Le,inputProps:ke({children:l,IconComponent:g,variant:Re,type:void 0,multiple:ne},Y?{id:y}:{autoWidth:r,displayEmpty:p,labelId:P,MenuProps:q,onClose:se,onOpen:ce,open:de,renderValue:ie,SelectDisplayProps:ke({id:y},ge)},T,{classes:T?tg({baseClasses:h,newClasses:T.classes,Component:e}):h},S?S.props.inputProps:{}),ref:t},Ae))});LC.muiName="Select";const km=vn(X7,{name:"MuiSelect"})(LC);function FC(){return L.jsxs("svg",{width:"15",height:"11",viewBox:"0 0 15 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[L.jsxs("g",{clipPath:"url(#clip0_527_47371)",children:[L.jsx("path",{d:"M1.57302 0H6.01747C6.31215 0 6.59477 0.144866 6.80314 0.402728C7.01152 0.660591 7.12858 1.01033 7.12858 1.375V9.625C7.12858 9.98967 7.01152 10.3394 6.80314 10.5973C6.59477 10.8551 6.31215 11 6.01747 11H1.57302C1.27834 11 0.995725 10.8551 0.787351 10.5973C0.578977 10.3394 0.461914 9.98967 0.461914 9.625V1.375C0.461914 1.01033 0.578977 0.660591 0.787351 0.402728C0.995725 0.144866 1.27834 0 1.57302 0ZM1.57302 0.6875C1.42568 0.6875 1.28437 0.759933 1.18019 0.888864C1.076 1.0178 1.01747 1.19266 1.01747 1.375V9.625C1.01747 9.80734 1.076 9.98221 1.18019 10.1111C1.28437 10.2401 1.42568 10.3125 1.57302 10.3125H6.01747C6.16481 10.3125 6.30612 10.2401 6.41031 10.1111C6.51449 9.98221 6.57302 9.80734 6.57302 9.625V1.375C6.57302 1.19266 6.51449 1.0178 6.41031 0.888864C6.30612 0.759933 6.16481 0.6875 6.01747 0.6875H1.57302Z",fill:"white"}),L.jsx("path",{opacity:"0.4",d:"M8.90603 0H13.3505C13.6452 0 13.9278 0.144866 14.1362 0.402728C14.3445 0.660591 14.4616 1.01033 14.4616 1.375V9.625C14.4616 9.98967 14.3445 10.3394 14.1362 10.5973C13.9278 10.8551 13.6452 11 13.3505 11H8.90603C8.61135 11 8.32873 10.8551 8.12036 10.5973C7.91198 10.3394 7.79492 9.98967 7.79492 9.625V1.375C7.79492 1.01033 7.91198 0.660591 8.12036 0.402728C8.32873 0.144866 8.61135 0 8.90603 0ZM8.90603 0.6875C8.75869 0.6875 8.61738 0.759933 8.5132 0.888864C8.40901 1.0178 8.35048 1.19266 8.35048 1.375V9.625C8.35048 9.80734 8.40901 9.98221 8.5132 10.1111C8.61738 10.2401 8.75869 10.3125 8.90603 10.3125H13.3505C13.4978 10.3125 13.6391 10.2401 13.7433 10.1111C13.8475 9.98221 13.906 9.80734 13.906 9.625V1.375C13.906 1.19266 13.8475 1.0178 13.7433 0.888864C13.6391 0.759933 13.4978 0.6875 13.3505 0.6875H8.90603Z",fill:"white"})]}),L.jsx("defs",{children:L.jsx("clipPath",{id:"clip0_527_47371",children:L.jsx("rect",{width:"14",height:"11",fill:"white",transform:"translate(0.461914)"})})})]})}function jC(){return L.jsxs("svg",{width:"14",height:"11",viewBox:"0 0 14 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[L.jsxs("g",{clipPath:"url(#clip0_527_47381)",children:[L.jsx("path",{opacity:"0.4",d:"M1.11111 0H5.55555C5.85024 0 6.13285 0.144866 6.34123 0.402728C6.5496 0.660591 6.66667 1.01033 6.66667 1.375V9.625C6.66667 9.98967 6.5496 10.3394 6.34123 10.5973C6.13285 10.8551 5.85024 11 5.55555 11H1.11111C0.816426 11 0.533811 10.8551 0.325437 10.5973C0.117063 10.3394 0 9.98967 0 9.625V1.375C0 1.01033 0.117063 0.660591 0.325437 0.402728C0.533811 0.144866 0.816426 0 1.11111 0ZM1.11111 0.6875C0.963768 0.6875 0.822461 0.759933 0.718274 0.888864C0.614087 1.0178 0.555555 1.19266 0.555555 1.375V9.625C0.555555 9.80734 0.614087 9.98221 0.718274 10.1111C0.822461 10.2401 0.963768 10.3125 1.11111 10.3125H5.55555C5.7029 10.3125 5.8442 10.2401 5.94839 10.1111C6.05258 9.98221 6.11111 9.80734 6.11111 9.625V1.375C6.11111 1.19266 6.05258 1.0178 5.94839 0.888864C5.8442 0.759933 5.7029 0.6875 5.55555 0.6875H1.11111Z",fill:"white"}),L.jsx("path",{d:"M8.44412 0H12.8886C13.1832 0 13.4659 0.144866 13.6742 0.402728C13.8826 0.660591 13.9997 1.01033 13.9997 1.375V9.625C13.9997 9.98967 13.8826 10.3394 13.6742 10.5973C13.4659 10.8551 13.1832 11 12.8886 11H8.44412C8.14943 11 7.86682 10.8551 7.65844 10.5973C7.45007 10.3394 7.33301 9.98967 7.33301 9.625V1.375C7.33301 1.01033 7.45007 0.660591 7.65844 0.402728C7.86682 0.144866 8.14943 0 8.44412 0ZM8.44412 0.6875C8.29678 0.6875 8.15547 0.759933 8.05128 0.888864C7.94709 1.0178 7.88856 1.19266 7.88856 1.375V9.625C7.88856 9.80734 7.94709 9.98221 8.05128 10.1111C8.15547 10.2401 8.29678 10.3125 8.44412 10.3125H12.8886C13.0359 10.3125 13.1772 10.2401 13.2814 10.1111C13.3856 9.98221 13.4441 9.80734 13.4441 9.625V1.375C13.4441 1.19266 13.3856 1.0178 13.2814 0.888864C13.1772 0.759933 13.0359 0.6875 12.8886 0.6875H8.44412Z",fill:"white"})]}),L.jsx("defs",{children:L.jsx("clipPath",{id:"clip0_527_47381",children:L.jsx("rect",{width:"14",height:"11",fill:"white"})})})]})}function Z7(e){return L.jsx("div",{style:{backgroundColor:"black",display:"flex",justifyContent:"center",alignItems:"center",color:"white"},children:L.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"12px",alignItems:"center"},children:[e.side==="left"?L.jsx(FC,{}):L.jsx(jC,{}),L.jsxs(kn,{children:["Select"," ",e.side," ","page"]})]})})}var Ag={},Ig={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var n;(function(i){i.Root="root",i.Text="text",i.Directive="directive",i.Comment="comment",i.Script="script",i.Style="style",i.Tag="tag",i.CDATA="cdata",i.Doctype="doctype"})(n=e.ElementType||(e.ElementType={}));function t(i){return i.type===n.Tag||i.type===n.Script||i.type===n.Style}e.isTag=t,e.Root=n.Root,e.Text=n.Text,e.Directive=n.Directive,e.Comment=n.Comment,e.Script=n.Script,e.Style=n.Style,e.Tag=n.Tag,e.CDATA=n.CDATA,e.Doctype=n.Doctype})(Ig);var nn={},vo=ii&&ii.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(i[l]=r[l])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Sl=ii&&ii.__assign||function(){return Sl=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sl.apply(this,arguments)};Object.defineProperty(nn,"__esModule",{value:!0});nn.cloneNode=nn.hasChildren=nn.isDocument=nn.isDirective=nn.isComment=nn.isText=nn.isCDATA=nn.isTag=nn.Element=nn.Document=nn.CDATA=nn.NodeWithChildren=nn.ProcessingInstruction=nn.Comment=nn.Text=nn.DataNode=nn.Node=void 0;var Ii=Ig,Mg=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(n){this.parent=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(n){this.prev=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(n){this.next=n},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(n){return n===void 0&&(n=!1),zg(this,n)},e}();nn.Node=Mg;var yd=function(e){vo(n,e);function n(t){var i=e.call(this)||this;return i.data=t,i}return Object.defineProperty(n.prototype,"nodeValue",{get:function(){return this.data},set:function(t){this.data=t},enumerable:!1,configurable:!0}),n}(Mg);nn.DataNode=yd;var NC=function(e){vo(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=Ii.ElementType.Text,t}return Object.defineProperty(n.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),n}(yd);nn.Text=NC;var HC=function(e){vo(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=Ii.ElementType.Comment,t}return Object.defineProperty(n.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),n}(yd);nn.Comment=HC;var BC=function(e){vo(n,e);function n(t,i){var r=e.call(this,i)||this;return r.name=t,r.type=Ii.ElementType.Directive,r}return Object.defineProperty(n.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),n}(yd);nn.ProcessingInstruction=BC;var bd=function(e){vo(n,e);function n(t){var i=e.call(this)||this;return i.children=t,i}return Object.defineProperty(n.prototype,"firstChild",{get:function(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"childNodes",{get:function(){return this.children},set:function(t){this.children=t},enumerable:!1,configurable:!0}),n}(Mg);nn.NodeWithChildren=bd;var VC=function(e){vo(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=Ii.ElementType.CDATA,t}return Object.defineProperty(n.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),n}(bd);nn.CDATA=VC;var UC=function(e){vo(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=Ii.ElementType.Root,t}return Object.defineProperty(n.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),n}(bd);nn.Document=UC;var WC=function(e){vo(n,e);function n(t,i,r,l){r===void 0&&(r=[]),l===void 0&&(l=t==="script"?Ii.ElementType.Script:t==="style"?Ii.ElementType.Style:Ii.ElementType.Tag);var h=e.call(this,r)||this;return h.name=t,h.attribs=i,h.type=l,h}return Object.defineProperty(n.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tagName",{get:function(){return this.name},set:function(t){this.name=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"attributes",{get:function(){var t=this;return Object.keys(this.attribs).map(function(i){var r,l;return{name:i,value:t.attribs[i],namespace:(r=t["x-attribsNamespace"])===null||r===void 0?void 0:r[i],prefix:(l=t["x-attribsPrefix"])===null||l===void 0?void 0:l[i]}})},enumerable:!1,configurable:!0}),n}(bd);nn.Element=WC;function GC(e){return(0,Ii.isTag)(e)}nn.isTag=GC;function qC(e){return e.type===Ii.ElementType.CDATA}nn.isCDATA=qC;function XC(e){return e.type===Ii.ElementType.Text}nn.isText=XC;function YC(e){return e.type===Ii.ElementType.Comment}nn.isComment=YC;function KC(e){return e.type===Ii.ElementType.Directive}nn.isDirective=KC;function ZC(e){return e.type===Ii.ElementType.Root}nn.isDocument=ZC;function J7(e){return Object.prototype.hasOwnProperty.call(e,"children")}nn.hasChildren=J7;function zg(e,n){n===void 0&&(n=!1);var t;if(XC(e))t=new NC(e.data);else if(YC(e))t=new HC(e.data);else if(GC(e)){var i=n?_f(e.children):[],r=new WC(e.name,Sl({},e.attribs),i);i.forEach(function(p){return p.parent=r}),e.namespace!=null&&(r.namespace=e.namespace),e["x-attribsNamespace"]&&(r["x-attribsNamespace"]=Sl({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(r["x-attribsPrefix"]=Sl({},e["x-attribsPrefix"])),t=r}else if(qC(e)){var i=n?_f(e.children):[],l=new VC(i);i.forEach(function(f){return f.parent=l}),t=l}else if(ZC(e)){var i=n?_f(e.children):[],h=new UC(i);i.forEach(function(f){return f.parent=h}),e["x-mode"]&&(h["x-mode"]=e["x-mode"]),t=h}else if(KC(e)){var d=new BC(e.name,e.data);e["x-name"]!=null&&(d["x-name"]=e["x-name"],d["x-publicId"]=e["x-publicId"],d["x-systemId"]=e["x-systemId"]),t=d}else throw new Error("Not implemented yet: ".concat(e.type));return t.startIndex=e.startIndex,t.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(t.sourceCodeLocation=e.sourceCodeLocation),t}nn.cloneNode=zg;function _f(e){for(var n=e.map(function(i){return zg(i,!0)}),t=1;t<n.length;t++)n[t].prev=n[t-1],n[t-1].next=n[t];return n}(function(e){var n=ii&&ii.__createBinding||(Object.create?function(d,p,f,g){g===void 0&&(g=f);var y=Object.getOwnPropertyDescriptor(p,f);(!y||("get"in y?!p.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return p[f]}}),Object.defineProperty(d,g,y)}:function(d,p,f,g){g===void 0&&(g=f),d[g]=p[f]}),t=ii&&ii.__exportStar||function(d,p){for(var f in d)f!=="default"&&!Object.prototype.hasOwnProperty.call(p,f)&&n(p,d,f)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var i=Ig,r=nn;t(nn,e);var l={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},h=function(){function d(p,f,g){this.dom=[],this.root=new r.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof f=="function"&&(g=f,f=l),typeof p=="object"&&(f=p,p=void 0),this.callback=p??null,this.options=f??l,this.elementCB=g??null}return d.prototype.onparserinit=function(p){this.parser=p},d.prototype.onreset=function(){this.dom=[],this.root=new r.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},d.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},d.prototype.onerror=function(p){this.handleCallback(p)},d.prototype.onclosetag=function(){this.lastNode=null;var p=this.tagStack.pop();this.options.withEndIndices&&(p.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(p)},d.prototype.onopentag=function(p,f){var g=this.options.xmlMode?i.ElementType.Tag:void 0,y=new r.Element(p,f,void 0,g);this.addNode(y),this.tagStack.push(y)},d.prototype.ontext=function(p){var f=this.lastNode;if(f&&f.type===i.ElementType.Text)f.data+=p,this.options.withEndIndices&&(f.endIndex=this.parser.endIndex);else{var g=new r.Text(p);this.addNode(g),this.lastNode=g}},d.prototype.oncomment=function(p){if(this.lastNode&&this.lastNode.type===i.ElementType.Comment){this.lastNode.data+=p;return}var f=new r.Comment(p);this.addNode(f),this.lastNode=f},d.prototype.oncommentend=function(){this.lastNode=null},d.prototype.oncdatastart=function(){var p=new r.Text(""),f=new r.CDATA([p]);this.addNode(f),p.parent=f,this.lastNode=p},d.prototype.oncdataend=function(){this.lastNode=null},d.prototype.onprocessinginstruction=function(p,f){var g=new r.ProcessingInstruction(p,f);this.addNode(g)},d.prototype.handleCallback=function(p){if(typeof this.callback=="function")this.callback(p,this.dom);else if(p)throw p},d.prototype.addNode=function(p){var f=this.tagStack[this.tagStack.length-1],g=f.children[f.children.length-1];this.options.withStartIndices&&(p.startIndex=this.parser.startIndex),this.options.withEndIndices&&(p.endIndex=this.parser.endIndex),f.children.push(p),g&&(p.prev=g,g.next=p),p.parent=f,this.lastNode=null},d}();e.DomHandler=h,e.default=h})(Ag);var xS="html",SS="head",Eu="body",$7=/<([a-zA-Z]+[0-9]?)/,ES=/<head[^]*>/i,TS=/<body[^]*>/i,Xu=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},Pm=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},CS=typeof window=="object"&&window.DOMParser;if(typeof CS=="function"){var Q7=new CS,eV="text/html";Pm=function(e,n){return n&&(e="<"+n+">"+e+"</"+n+">"),Q7.parseFromString(e,eV)},Xu=Pm}if(typeof document=="object"&&document.implementation){var Tu=document.implementation.createHTMLDocument();Xu=function(e,n){if(n){var t=Tu.documentElement.querySelector(n);return t.innerHTML=e,Tu}return Tu.documentElement.innerHTML=e,Tu}}var Rf=typeof document=="object"?document.createElement("template"):{},_m;Rf.content&&(_m=function(e){return Rf.innerHTML=e,Rf.content.childNodes});function tV(e){var n,t=e.match($7);t&&t[1]&&(n=t[1].toLowerCase());var i,r,l;switch(n){case xS:return i=Pm(e),ES.test(e)||(r=i.querySelector(SS),r&&r.parentNode.removeChild(r)),TS.test(e)||(r=i.querySelector(Eu),r&&r.parentNode.removeChild(r)),i.querySelectorAll(xS);case SS:case Eu:return i=Xu(e),l=i.querySelectorAll(n),TS.test(e)&&ES.test(e)?l[0].parentNode.childNodes:l;default:return _m?_m(e):(r=Xu(e,Eu).querySelector(Eu),r.childNodes)}}var nV=tV,Lg={},JC={};JC.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"];var wd=Ag,iV=JC,kS=iV.CASE_SENSITIVE_TAG_NAMES,rV=wd.Comment,oV=wd.Element,sV=wd.ProcessingInstruction,aV=wd.Text,$C={},Of;for(var Df=0,lV=kS.length;Df<lV;Df++)Of=kS[Df],$C[Of.toLowerCase()]=Of;function cV(e){return $C[e]}function QC(e){for(var n={},t,i=0,r=e.length;i<r;i++)t=e[i],n[t.name]=t.value;return n}function uV(e){e=e.toLowerCase();var n=cV(e);return n||e}function ek(e,n,t){n=n||null;for(var i=[],r,l=0,h=e.length;l<h;l++){var d=e[l],p;switch(d.nodeType){case 1:r=uV(d.nodeName),p=new oV(r,QC(d.attributes)),p.children=ek(r==="template"?d.content.childNodes:d.childNodes,p);break;case 3:p=new aV(d.nodeValue);break;case 8:p=new rV(d.nodeValue);break;default:continue}var f=i[l-1]||null;f&&(f.next=p),p.parent=n,p.prev=f,p.next=null,i.push(p)}return t&&(p=new sV(t.substring(0,t.indexOf(" ")).toLowerCase(),t),p.next=i[0]||null,p.parent=n,i.unshift(p),i[1]&&(i[1].prev=i[0])),i}Lg.formatAttributes=QC;Lg.formatDOM=ek;var dV=nV,hV=Lg,pV=hV.formatDOM,fV=/<(![a-zA-Z\s]+)>/;function mV(e){if(typeof e!="string")throw new TypeError("First argument must be a string");if(e==="")return[];var n=e.match(fV),t;return n&&n[1]&&(t=n[1]),pV(dV(e),null,t)}var gV=mV,nr={},xd={},vV=0;xd.SAME=vV;var yV=1;xd.CAMELCASE=yV;xd.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};Object.defineProperty(nr,"__esModule",{value:!0});function bV(e,n){return wV(e)||xV(e,n)||SV(e,n)||EV()}function wV(e){if(Array.isArray(e))return e}function xV(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var i=[],r=!0,l=!1,h,d;try{for(t=t.call(e);!(r=(h=t.next()).done)&&(i.push(h.value),!(n&&i.length===n));r=!0);}catch(p){l=!0,d=p}finally{try{!r&&t.return!=null&&t.return()}finally{if(l)throw d}}return i}}function SV(e,n){if(e){if(typeof e=="string")return PS(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return PS(e,n)}}function PS(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function EV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var tk=0,yo=1,Sd=2,Ed=3,Fg=4,nk=5,ik=6;function TV(e){return pi.hasOwnProperty(e)?pi[e]:null}function Ci(e,n,t,i,r,l,h){this.acceptsBooleans=n===Sd||n===Ed||n===Fg,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=l,this.removeEmptyString=h}var pi={},CV=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];CV.forEach(function(e){pi[e]=new Ci(e,tk,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=bV(e,2),t=n[0],i=n[1];pi[t]=new Ci(t,yo,!1,i,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pi[e]=new Ci(e,Sd,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pi[e]=new Ci(e,Sd,!1,e,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(e){pi[e]=new Ci(e,Ed,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pi[e]=new Ci(e,Ed,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pi[e]=new Ci(e,Fg,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pi[e]=new Ci(e,ik,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pi[e]=new Ci(e,nk,!1,e.toLowerCase(),null,!1,!1)});var jg=/[\-\:]([a-z])/g,Ng=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(e){var n=e.replace(jg,Ng);pi[n]=new Ci(n,yo,!1,e,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(e){var n=e.replace(jg,Ng);pi[n]=new Ci(n,yo,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(jg,Ng);pi[n]=new Ci(n,yo,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pi[e]=new Ci(e,yo,!1,e.toLowerCase(),null,!1,!1)});var kV="xlinkHref";pi[kV]=new Ci("xlinkHref",yo,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pi[e]=new Ci(e,yo,!1,e.toLowerCase(),null,!0,!0)});var Hg=xd,PV=Hg.CAMELCASE,_V=Hg.SAME,_S=Hg.possibleStandardNames,RV=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",OV=RV+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",DV=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+OV+"]*$")),AV=Object.keys(_S).reduce(function(e,n){var t=_S[n];return t===_V?e[n]=n:t===PV?e[n.toLowerCase()]=n:e[n]=t,e},{});nr.BOOLEAN=Ed;nr.BOOLEANISH_STRING=Sd;nr.NUMERIC=nk;nr.OVERLOADED_BOOLEAN=Fg;nr.POSITIVE_NUMERIC=ik;nr.RESERVED=tk;nr.STRING=yo;nr.getPropertyInfo=TV;nr.isCustomAttribute=DV;nr.possibleStandardNames=AV;var Bg={},Vg={exports:{}},RS=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,IV=/\n/g,MV=/^\s*/,zV=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,LV=/^:\s*/,FV=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,jV=/^[;\s]*/,NV=/^\s+|\s+$/g,HV=`
`,OS="/",DS="*",qo="",BV="comment",VV="declaration",UV=function(e,n){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];n=n||{};var t=1,i=1;function r(k){var P=k.match(IV);P&&(t+=P.length);var _=k.lastIndexOf(HV);i=~_?k.length-_:i+k.length}function l(){var k={line:t,column:i};return function(P){return P.position=new h(k),f(),P}}function h(k){this.start=k,this.end={line:t,column:i},this.source=n.source}h.prototype.content=e;function d(k){var P=new Error(n.source+":"+t+":"+i+": "+k);if(P.reason=k,P.filename=n.source,P.line=t,P.column=i,P.source=e,!n.silent)throw P}function p(k){var P=k.exec(e);if(P){var _=P[0];return r(_),e=e.slice(_.length),P}}function f(){p(MV)}function g(k){var P;for(k=k||[];P=y();)P!==!1&&k.push(P);return k}function y(){var k=l();if(!(OS!=e.charAt(0)||DS!=e.charAt(1))){for(var P=2;qo!=e.charAt(P)&&(DS!=e.charAt(P)||OS!=e.charAt(P+1));)++P;if(P+=2,qo===e.charAt(P-1))return d("End of comment missing");var _=e.slice(2,P-2);return i+=2,r(_),e=e.slice(P),i+=2,k({type:BV,comment:_})}}function S(){var k=l(),P=p(zV);if(P){if(y(),!p(LV))return d("property missing ':'");var _=p(FV),D=k({type:VV,property:AS(P[0].replace(RS,qo)),value:_?AS(_[0].replace(RS,qo)):qo});return p(jV),D}}function T(){var k=[];g(k);for(var P;P=S();)P!==!1&&(k.push(P),g(k));return k}return f(),T()};function AS(e){return e?e.replace(NV,qo):qo}var WV=UV;function rk(e,n){var t=null;if(!e||typeof e!="string")return t;for(var i,r=WV(e),l=typeof n=="function",h,d,p=0,f=r.length;p<f;p++)i=r[p],h=i.property,d=i.value,l?n(h,d,i):d&&(t||(t={}),t[h]=d);return t}Vg.exports=rk;Vg.exports.default=rk;var GV=Vg.exports;const ok=Er(GV),qV=Object.freeze(Object.defineProperty({__proto__:null,default:ok},Symbol.toStringTag,{value:"Module"})),XV=Um(qV);var Td={};Object.defineProperty(Td,"__esModule",{value:!0});Td.camelCase=void 0;var YV=/^--[a-zA-Z0-9-]+$/,KV=/-([a-z])/g,ZV=/^[^-]+$/,JV=/^-(webkit|moz|ms|o|khtml)-/,$V=/^-(ms)-/,QV=function(e){return!e||ZV.test(e)||YV.test(e)},eU=function(e,n){return n.toUpperCase()},IS=function(e,n){return"".concat(n,"-")},tU=function(e,n){return n===void 0&&(n={}),QV(e)?e:(e=e.toLowerCase(),n.reactCompat?e=e.replace($V,IS):e=e.replace(JV,IS),e.replace(KV,eU))};Td.camelCase=tU;var nU=ii&&ii.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bg,"__esModule",{value:!0});var iU=nU(XV),rU=Td;function oU(e,n){var t={};return!e||typeof e!="string"||(0,iU.default)(e,function(i,r){i&&r&&(t[(0,rU.camelCase)(i,n)]=r)}),t}Bg.default=oU;var sU=vt,aU=Bg.default;function lU(e,n){if(!e||typeof e!="object")throw new TypeError("First argument must be an object");var t=typeof n=="function",i={},r={};for(var l in e){var h=e[l];if(t&&(i=n(l,h),i&&i.length===2)){r[i[0]]=i[1];continue}typeof h=="string"&&(r[h]=l)}return r}var cU=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function uU(e,n){return e.indexOf("-")===-1?n&&typeof n.is=="string":!cU.has(e)}var dU={reactCompat:!0};function hU(e,n){if(e!=null)try{n.style=aU(e,dU)}catch{n.style={}}}var pU=sU.version.split(".")[0]>=16,sk=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);function fU(e){return!sk.has(e.name)}function mU(e){return e}var ak={PRESERVE_CUSTOM_ATTRIBUTES:pU,ELEMENTS_WITH_NO_TEXT_CHILDREN:sk,invertObject:lU,isCustomComponent:uU,setStyleProp:hU,canTextBeChildOfNode:fU,returnFirstArg:mU},ml=nr,MS=ak,gU=["checked","value"],vU=["input","select","textarea"],yU={reset:!0,submit:!0},lk=function(e,n){e=e||{};var t,i,r,l,h,d={},p=e.type&&yU[e.type];for(t in e){if(r=e[t],ml.isCustomAttribute(t)){d[t]=r;continue}if(i=t.toLowerCase(),l=zS(i),l){switch(h=ml.getPropertyInfo(l),gU.indexOf(l)!==-1&&vU.indexOf(n)!==-1&&!p&&(l=zS("default"+i)),d[l]=r,h&&h.type){case ml.BOOLEAN:d[l]=!0;break;case ml.OVERLOADED_BOOLEAN:r===""&&(d[l]=!0);break}continue}MS.PRESERVE_CUSTOM_ATTRIBUTES&&(d[t]=r)}return MS.setStyleProp(e.style,d),d};function zS(e){return ml.possibleStandardNames[e]}var bU=vt,wU=lk,Dl=ak,xU=Dl.setStyleProp,SU=Dl.canTextBeChildOfNode;function ck(e,n){n=n||{};for(var t=n.library||bU,i=t.cloneElement,r=t.createElement,l=t.isValidElement,h=[],d,p,f=typeof n.replace=="function",g=n.transform||Dl.returnFirstArg,y,S,T,k=n.trim,P=0,_=e.length;P<_;P++){if(d=e[P],f&&(y=n.replace(d),l(y))){_>1&&(y=i(y,{key:y.key||P})),h.push(g(y,d,P));continue}if(d.type==="text"){if(p=!d.data.trim().length,p&&d.parent&&!SU(d.parent)||k&&p)continue;h.push(g(d.data,d,P));continue}switch(S=d.attribs,EU(d)?xU(S.style,S):S&&(S=wU(S,d.name)),T=null,d.type){case"script":case"style":d.children[0]&&(S.dangerouslySetInnerHTML={__html:d.children[0].data});break;case"tag":d.name==="textarea"&&d.children[0]?S.defaultValue=d.children[0].data:d.children&&d.children.length&&(T=ck(d.children,n));break;default:continue}_>1&&(S.key=P),h.push(g(r(d.name,S,T),d,P))}return h.length===1?h[0]:h}function EU(e){return Dl.PRESERVE_CUSTOM_ATTRIBUTES&&e.type==="tag"&&Dl.isCustomComponent(e.name,e.attribs)}var TU=ck,Cd=Ag,ta=gV,CU=lk,uk=TU;ta=typeof ta.default=="function"?ta.default:ta;var kU={lowerCaseAttributeNames:!1};function Sr(e,n){if(typeof e!="string")throw new TypeError("First argument must be a string");return e===""?[]:(n=n||{},uk(ta(e,n.htmlparser2||kU),n))}Sr.domToReact=uk;Sr.htmlToDOM=ta;Sr.attributesToProps=CU;Sr.Comment=Cd.Comment;Sr.Element=Cd.Element;Sr.ProcessingInstruction=Cd.ProcessingInstruction;Sr.Text=Cd.Text;var PU=Sr;Sr.default=Sr;const Wi=Er(PU);Wi.domToReact;Wi.htmlToDOM;Wi.attributesToProps;Wi.Comment;Wi.Element;Wi.ProcessingInstruction;Wi.Text;const LS=["http","https","mailto","tel"];function _U(e){const n=(e||"").trim(),t=n.charAt(0);if(t==="#"||t==="/")return n;const i=n.indexOf(":");if(i===-1)return n;let r=-1;for(;++r<LS.length;){const l=LS[r];if(i===l.length&&n.slice(0,l.length).toLowerCase()===l)return n}return r=n.indexOf("?"),r!==-1&&i>r||(r=n.indexOf("#"),r!==-1&&i>r)?n:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var RU=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)};const dk=Er(RU);function El(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?FS(e.position):"start"in e||"end"in e?FS(e):"line"in e||"column"in e?Rm(e):""}function Rm(e){return jS(e&&e.line)+":"+jS(e&&e.column)}function FS(e){return Rm(e&&e.start)+"-"+Rm(e&&e.end)}function jS(e){return e&&typeof e=="number"?e:1}class ir extends Error{constructor(n,t,i){const r=[null,null];let l={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof t=="string"&&(i=t,t=void 0),typeof i=="string"){const h=i.indexOf(":");h===-1?r[1]=i:(r[0]=i.slice(0,h),r[1]=i.slice(h+1))}t&&("type"in t||"position"in t?t.position&&(l=t.position):"start"in t||"end"in t?l=t:("line"in t||"column"in t)&&(l.start=t)),this.name=El(t)||"1:1",this.message=typeof n=="object"?n.message:n,this.stack="",typeof n=="object"&&n.stack&&(this.stack=n.stack),this.reason=this.message,this.fatal,this.line=l.start.line,this.column=l.start.column,this.position=l,this.source=r[0],this.ruleId=r[1],this.file,this.actual,this.expected,this.url,this.note}}ir.prototype.file="";ir.prototype.name="";ir.prototype.reason="";ir.prototype.message="";ir.prototype.stack="";ir.prototype.fatal=null;ir.prototype.column=null;ir.prototype.line=null;ir.prototype.source=null;ir.prototype.ruleId=null;ir.prototype.position=null;const br={basename:OU,dirname:DU,extname:AU,join:IU,sep:"/"};function OU(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Vl(e);let t=0,i=-1,r=e.length,l;if(n===void 0||n.length===0||n.length>e.length){for(;r--;)if(e.charCodeAt(r)===47){if(l){t=r+1;break}}else i<0&&(l=!0,i=r+1);return i<0?"":e.slice(t,i)}if(n===e)return"";let h=-1,d=n.length-1;for(;r--;)if(e.charCodeAt(r)===47){if(l){t=r+1;break}}else h<0&&(l=!0,h=r+1),d>-1&&(e.charCodeAt(r)===n.charCodeAt(d--)?d<0&&(i=r):(d=-1,i=h));return t===i?i=h:i<0&&(i=e.length),e.slice(t,i)}function DU(e){if(Vl(e),e.length===0)return".";let n=-1,t=e.length,i;for(;--t;)if(e.charCodeAt(t)===47){if(i){n=t;break}}else i||(i=!0);return n<0?e.charCodeAt(0)===47?"/":".":n===1&&e.charCodeAt(0)===47?"//":e.slice(0,n)}function AU(e){Vl(e);let n=e.length,t=-1,i=0,r=-1,l=0,h;for(;n--;){const d=e.charCodeAt(n);if(d===47){if(h){i=n+1;break}continue}t<0&&(h=!0,t=n+1),d===46?r<0?r=n:l!==1&&(l=1):r>-1&&(l=-1)}return r<0||t<0||l===0||l===1&&r===t-1&&r===i+1?"":e.slice(r,t)}function IU(...e){let n=-1,t;for(;++n<e.length;)Vl(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":MU(t)}function MU(e){Vl(e);const n=e.charCodeAt(0)===47;let t=zU(e,!n);return t.length===0&&!n&&(t="."),t.length>0&&e.charCodeAt(e.length-1)===47&&(t+="/"),n?"/"+t:t}function zU(e,n){let t="",i=0,r=-1,l=0,h=-1,d,p;for(;++h<=e.length;){if(h<e.length)d=e.charCodeAt(h);else{if(d===47)break;d=47}if(d===47){if(!(r===h-1||l===1))if(r!==h-1&&l===2){if(t.length<2||i!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(p=t.lastIndexOf("/"),p!==t.length-1){p<0?(t="",i=0):(t=t.slice(0,p),i=t.length-1-t.lastIndexOf("/")),r=h,l=0;continue}}else if(t.length>0){t="",i=0,r=h,l=0;continue}}n&&(t=t.length>0?t+"/..":"..",i=2)}else t.length>0?t+="/"+e.slice(r+1,h):t=e.slice(r+1,h),i=h-r-1;r=h,l=0}else d===46&&l>-1?l++:l=-1}return t}function Vl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const LU={cwd:FU};function FU(){return"/"}function Om(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function jU(e){if(typeof e=="string")e=new URL(e);else if(!Om(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return NU(e)}function NU(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const n=e.pathname;let t=-1;for(;++t<n.length;)if(n.charCodeAt(t)===37&&n.charCodeAt(t+1)===50){const i=n.charCodeAt(t+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(n)}const Af=["history","path","basename","stem","extname","dirname"];class hk{constructor(n){let t;n?typeof n=="string"||HU(n)?t={value:n}:Om(n)?t={path:n}:t=n:t={},this.data={},this.messages=[],this.history=[],this.cwd=LU.cwd(),this.value,this.stored,this.result,this.map;let i=-1;for(;++i<Af.length;){const l=Af[i];l in t&&t[l]!==void 0&&t[l]!==null&&(this[l]=l==="history"?[...t[l]]:t[l])}let r;for(r in t)Af.includes(r)||(this[r]=t[r])}get path(){return this.history[this.history.length-1]}set path(n){Om(n)&&(n=jU(n)),Mf(n,"path"),this.path!==n&&this.history.push(n)}get dirname(){return typeof this.path=="string"?br.dirname(this.path):void 0}set dirname(n){NS(this.basename,"dirname"),this.path=br.join(n||"",this.basename)}get basename(){return typeof this.path=="string"?br.basename(this.path):void 0}set basename(n){Mf(n,"basename"),If(n,"basename"),this.path=br.join(this.dirname||"",n)}get extname(){return typeof this.path=="string"?br.extname(this.path):void 0}set extname(n){if(If(n,"extname"),NS(this.dirname,"extname"),n){if(n.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=br.join(this.dirname,this.stem+(n||""))}get stem(){return typeof this.path=="string"?br.basename(this.path,this.extname):void 0}set stem(n){Mf(n,"stem"),If(n,"stem"),this.path=br.join(this.dirname||"",n+(this.extname||""))}toString(n){return(this.value||"").toString(n||void 0)}message(n,t,i){const r=new ir(n,t,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}info(n,t,i){const r=this.message(n,t,i);return r.fatal=null,r}fail(n,t,i){const r=this.message(n,t,i);throw r.fatal=!0,r}}function If(e,n){if(e&&e.includes(br.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+br.sep+"`")}function Mf(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function NS(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function HU(e){return dk(e)}function HS(e){if(e)throw e}var Lu=Object.prototype.hasOwnProperty,pk=Object.prototype.toString,BS=Object.defineProperty,VS=Object.getOwnPropertyDescriptor,US=function(e){return typeof Array.isArray=="function"?Array.isArray(e):pk.call(e)==="[object Array]"},WS=function(e){if(!e||pk.call(e)!=="[object Object]")return!1;var n=Lu.call(e,"constructor"),t=e.constructor&&e.constructor.prototype&&Lu.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!t)return!1;var i;for(i in e);return typeof i>"u"||Lu.call(e,i)},GS=function(e,n){BS&&n.name==="__proto__"?BS(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},qS=function(e,n){if(n==="__proto__")if(Lu.call(e,n)){if(VS)return VS(e,n).value}else return;return e[n]},BU=function e(){var n,t,i,r,l,h,d=arguments[0],p=1,f=arguments.length,g=!1;for(typeof d=="boolean"&&(g=d,d=arguments[1]||{},p=2),(d==null||typeof d!="object"&&typeof d!="function")&&(d={});p<f;++p)if(n=arguments[p],n!=null)for(t in n)i=qS(d,t),r=qS(n,t),d!==r&&(g&&r&&(WS(r)||(l=US(r)))?(l?(l=!1,h=i&&US(i)?i:[]):h=i&&WS(i)?i:{},GS(d,{name:t,newValue:e(g,h,r)})):typeof r<"u"&&GS(d,{name:t,newValue:r}));return d};const XS=Er(BU);function Dm(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function VU(){const e=[],n={run:t,use:i};return n;function t(...r){let l=-1;const h=r.pop();if(typeof h!="function")throw new TypeError("Expected function as last argument, not "+h);d(null,...r);function d(p,...f){const g=e[++l];let y=-1;if(p){h(p);return}for(;++y<r.length;)(f[y]===null||f[y]===void 0)&&(f[y]=r[y]);r=f,g?UU(g,d)(...f):h(null,...f)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return e.push(r),n}}function UU(e,n){let t;return i;function i(...h){const d=e.length>h.length;let p;d&&h.push(r);try{p=e.apply(this,h)}catch(f){const g=f;if(d&&t)throw g;return r(g)}d||(p&&p.then&&typeof p.then=="function"?p.then(l,r):p instanceof Error?r(p):l(p))}function r(h,...d){t||(t=!0,n(h,...d))}function l(h){r(null,h)}}const WU=mk().freeze(),fk={}.hasOwnProperty;function mk(){const e=VU(),n=[];let t={},i,r=-1;return l.data=h,l.Parser=void 0,l.Compiler=void 0,l.freeze=d,l.attachers=n,l.use=p,l.parse=f,l.stringify=g,l.run=y,l.runSync=S,l.process=T,l.processSync=k,l;function l(){const P=mk();let _=-1;for(;++_<n.length;)P.use(...n[_]);return P.data(XS(!0,{},t)),P}function h(P,_){return typeof P=="string"?arguments.length===2?(Ff("data",i),t[P]=_,l):fk.call(t,P)&&t[P]||null:P?(Ff("data",i),t=P,l):t}function d(){if(i)return l;for(;++r<n.length;){const[P,..._]=n[r];if(_[0]===!1)continue;_[0]===!0&&(_[0]=void 0);const D=P.call(l,..._);typeof D=="function"&&e.use(D)}return i=!0,r=Number.POSITIVE_INFINITY,l}function p(P,..._){let D;if(Ff("use",i),P!=null)if(typeof P=="function")K(P,..._);else if(typeof P=="object")Array.isArray(P)?ne(P):G(P);else throw new TypeError("Expected usable value, not `"+P+"`");return D&&(t.settings=Object.assign(t.settings||{},D)),l;function q(Y){if(typeof Y=="function")K(Y);else if(typeof Y=="object")if(Array.isArray(Y)){const[se,...ce]=Y;K(se,...ce)}else G(Y);else throw new TypeError("Expected usable value, not `"+Y+"`")}function G(Y){ne(Y.plugins),Y.settings&&(D=Object.assign(D||{},Y.settings))}function ne(Y){let se=-1;if(Y!=null)if(Array.isArray(Y))for(;++se<Y.length;){const ce=Y[se];q(ce)}else throw new TypeError("Expected a list of plugins, not `"+Y+"`")}function K(Y,se){let ce=-1,de;for(;++ce<n.length;)if(n[ce][0]===Y){de=n[ce];break}de?(Dm(de[1])&&Dm(se)&&(se=XS(!0,de[1],se)),de[1]=se):n.push([...arguments])}}function f(P){l.freeze();const _=cl(P),D=l.Parser;return zf("parse",D),YS(D,"parse")?new D(String(_),_).parse():D(String(_),_)}function g(P,_){l.freeze();const D=cl(_),q=l.Compiler;return Lf("stringify",q),KS(P),YS(q,"compile")?new q(P,D).compile():q(P,D)}function y(P,_,D){if(KS(P),l.freeze(),!D&&typeof _=="function"&&(D=_,_=void 0),!D)return new Promise(q);q(null,D);function q(G,ne){e.run(P,cl(_),K);function K(Y,se,ce){se=se||P,Y?ne(Y):G?G(se):D(null,se,ce)}}}function S(P,_){let D,q;return l.run(P,_,G),ZS("runSync","run",q),D;function G(ne,K){HS(ne),D=K,q=!0}}function T(P,_){if(l.freeze(),zf("process",l.Parser),Lf("process",l.Compiler),!_)return new Promise(D);D(null,_);function D(q,G){const ne=cl(P);l.run(l.parse(ne),ne,(Y,se,ce)=>{if(Y||!se||!ce)K(Y);else{const de=l.stringify(se,ce);de==null||(XU(de)?ce.value=de:ce.result=de),K(Y,ce)}});function K(Y,se){Y||!se?G(Y):q?q(se):_(null,se)}}}function k(P){let _;l.freeze(),zf("processSync",l.Parser),Lf("processSync",l.Compiler);const D=cl(P);return l.process(D,q),ZS("processSync","process",_),D;function q(G){_=!0,HS(G)}}}function YS(e,n){return typeof e=="function"&&e.prototype&&(GU(e.prototype)||n in e.prototype)}function GU(e){let n;for(n in e)if(fk.call(e,n))return!0;return!1}function zf(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function Lf(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function Ff(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function KS(e){if(!Dm(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function ZS(e,n,t){if(!t)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function cl(e){return qU(e)?e:new hk(e)}function qU(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function XU(e){return typeof e=="string"||dk(e)}const YU={};function KU(e,n){const t=YU,i=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,r=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return gk(e,i,r)}function gk(e,n,t){if(ZU(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return JS(e.children,n,t)}return Array.isArray(e)?JS(e,n,t):""}function JS(e,n,t){const i=[];let r=-1;for(;++r<e.length;)i[r]=gk(e[r],n,t);return i.join("")}function ZU(e){return!!(e&&typeof e=="object")}function Gi(e,n,t,i){const r=e.length;let l=0,h;if(n<0?n=-n>r?0:r+n:n=n>r?r:n,t=t>0?t:0,i.length<1e4)h=Array.from(i),h.unshift(n,t),e.splice(...h);else for(t&&e.splice(n,t);l<i.length;)h=i.slice(l,l+1e4),h.unshift(n,0),e.splice(...h),l+=1e4,n+=1e4}function Qi(e,n){return e.length>0?(Gi(e,e.length,0,n),e):n}const $S={}.hasOwnProperty;function vk(e){const n={};let t=-1;for(;++t<e.length;)JU(n,e[t]);return n}function JU(e,n){let t;for(t in n){const i=($S.call(e,t)?e[t]:void 0)||(e[t]={}),r=n[t];let l;if(r)for(l in r){$S.call(i,l)||(i[l]=[]);const h=r[l];$U(i[l],Array.isArray(h)?h:h?[h]:[])}}}function $U(e,n){let t=-1;const i=[];for(;++t<n.length;)(n[t].add==="after"?e:i).push(n[t]);Gi(e,0,0,i)}const QU=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Ti=bo(/[A-Za-z]/),bi=bo(/[\dA-Za-z]/),eW=bo(/[#-'*+\--9=?A-Z^-~]/);function Yu(e){return e!==null&&(e<32||e===127)}const Am=bo(/\d/),tW=bo(/[\dA-Fa-f]/),nW=bo(/[!-/:-@[-`{-~]/);function zt(e){return e!==null&&e<-2}function On(e){return e!==null&&(e<0||e===32)}function rn(e){return e===-2||e===-1||e===32}const kd=bo(QU),is=bo(/\s/);function bo(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function un(e,n,t,i){const r=i?i-1:Number.POSITIVE_INFINITY;let l=0;return h;function h(p){return rn(p)?(e.enter(t),d(p)):n(p)}function d(p){return rn(p)&&l++<r?(e.consume(p),d):(e.exit(t),n(p))}}const iW={tokenize:rW};function rW(e){const n=e.attempt(this.parser.constructs.contentInitial,i,r);let t;return n;function i(d){if(d===null){e.consume(d);return}return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),un(e,n,"linePrefix")}function r(d){return e.enter("paragraph"),l(d)}function l(d){const p=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=p),t=p,h(d)}function h(d){if(d===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(d);return}return zt(d)?(e.consume(d),e.exit("chunkText"),l):(e.consume(d),h)}}const oW={tokenize:sW},QS={tokenize:aW};function sW(e){const n=this,t=[];let i=0,r,l,h;return d;function d(G){if(i<t.length){const ne=t[i];return n.containerState=ne[1],e.attempt(ne[0].continuation,p,f)(G)}return f(G)}function p(G){if(i++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,r&&q();const ne=n.events.length;let K=ne,Y;for(;K--;)if(n.events[K][0]==="exit"&&n.events[K][1].type==="chunkFlow"){Y=n.events[K][1].end;break}D(i);let se=ne;for(;se<n.events.length;)n.events[se][1].end=Object.assign({},Y),se++;return Gi(n.events,K+1,0,n.events.slice(ne)),n.events.length=se,f(G)}return d(G)}function f(G){if(i===t.length){if(!r)return S(G);if(r.currentConstruct&&r.currentConstruct.concrete)return k(G);n.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(QS,g,y)(G)}function g(G){return r&&q(),D(i),S(G)}function y(G){return n.parser.lazy[n.now().line]=i!==t.length,h=n.now().offset,k(G)}function S(G){return n.containerState={},e.attempt(QS,T,k)(G)}function T(G){return i++,t.push([n.currentConstruct,n.containerState]),S(G)}function k(G){if(G===null){r&&q(),D(0),e.consume(G);return}return r=r||n.parser.flow(n.now()),e.enter("chunkFlow",{contentType:"flow",previous:l,_tokenizer:r}),P(G)}function P(G){if(G===null){_(e.exit("chunkFlow"),!0),D(0),e.consume(G);return}return zt(G)?(e.consume(G),_(e.exit("chunkFlow")),i=0,n.interrupt=void 0,d):(e.consume(G),P)}function _(G,ne){const K=n.sliceStream(G);if(ne&&K.push(null),G.previous=l,l&&(l.next=G),l=G,r.defineSkip(G.start),r.write(K),n.parser.lazy[G.start.line]){let Y=r.events.length;for(;Y--;)if(r.events[Y][1].start.offset<h&&(!r.events[Y][1].end||r.events[Y][1].end.offset>h))return;const se=n.events.length;let ce=se,de,ie;for(;ce--;)if(n.events[ce][0]==="exit"&&n.events[ce][1].type==="chunkFlow"){if(de){ie=n.events[ce][1].end;break}de=!0}for(D(i),Y=se;Y<n.events.length;)n.events[Y][1].end=Object.assign({},ie),Y++;Gi(n.events,ce+1,0,n.events.slice(se)),n.events.length=Y}}function D(G){let ne=t.length;for(;ne-- >G;){const K=t[ne];n.containerState=K[1],K[0].exit.call(n,e)}t.length=G}function q(){r.write([null]),l=void 0,r=void 0,n.containerState._closeFlow=void 0}}function aW(e,n,t){return un(e,e.attempt(this.parser.constructs.document,n,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ku(e){if(e===null||On(e)||is(e))return 1;if(kd(e))return 2}function Pd(e,n,t){const i=[];let r=-1;for(;++r<e.length;){const l=e[r].resolveAll;l&&!i.includes(l)&&(n=l(n,t),i.push(l))}return n}const Im={name:"attention",tokenize:cW,resolveAll:lW};function lW(e,n){let t=-1,i,r,l,h,d,p,f,g;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(i=t;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&n.sliceSerialize(e[i][1]).charCodeAt(0)===n.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[i][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;p=e[i][1].end.offset-e[i][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;const y=Object.assign({},e[i][1].end),S=Object.assign({},e[t][1].start);e1(y,-p),e1(S,p),h={type:p>1?"strongSequence":"emphasisSequence",start:y,end:Object.assign({},e[i][1].end)},d={type:p>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[t][1].start),end:S},l={type:p>1?"strongText":"emphasisText",start:Object.assign({},e[i][1].end),end:Object.assign({},e[t][1].start)},r={type:p>1?"strong":"emphasis",start:Object.assign({},h.start),end:Object.assign({},d.end)},e[i][1].end=Object.assign({},h.start),e[t][1].start=Object.assign({},d.end),f=[],e[i][1].end.offset-e[i][1].start.offset&&(f=Qi(f,[["enter",e[i][1],n],["exit",e[i][1],n]])),f=Qi(f,[["enter",r,n],["enter",h,n],["exit",h,n],["enter",l,n]]),f=Qi(f,Pd(n.parser.constructs.insideSpan.null,e.slice(i+1,t),n)),f=Qi(f,[["exit",l,n],["enter",d,n],["exit",d,n],["exit",r,n]]),e[t][1].end.offset-e[t][1].start.offset?(g=2,f=Qi(f,[["enter",e[t][1],n],["exit",e[t][1],n]])):g=0,Gi(e,i-1,t-i+3,f),t=i+f.length-g-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function cW(e,n){const t=this.parser.constructs.attentionMarkers.null,i=this.previous,r=Ku(i);let l;return h;function h(p){return l=p,e.enter("attentionSequence"),d(p)}function d(p){if(p===l)return e.consume(p),d;const f=e.exit("attentionSequence"),g=Ku(p),y=!g||g===2&&r||t.includes(p),S=!r||r===2&&g||t.includes(i);return f._open=!!(l===42?y:y&&(r||!S)),f._close=!!(l===42?S:S&&(g||!y)),n(p)}}function e1(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const uW={name:"autolink",tokenize:dW};function dW(e,n,t){let i=0;return r;function r(T){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(T),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(T){return Ti(T)?(e.consume(T),h):f(T)}function h(T){return T===43||T===45||T===46||bi(T)?(i=1,d(T)):f(T)}function d(T){return T===58?(e.consume(T),i=0,p):(T===43||T===45||T===46||bi(T))&&i++<32?(e.consume(T),d):(i=0,f(T))}function p(T){return T===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(T),e.exit("autolinkMarker"),e.exit("autolink"),n):T===null||T===32||T===60||Yu(T)?t(T):(e.consume(T),p)}function f(T){return T===64?(e.consume(T),g):eW(T)?(e.consume(T),f):t(T)}function g(T){return bi(T)?y(T):t(T)}function y(T){return T===46?(e.consume(T),i=0,g):T===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(T),e.exit("autolinkMarker"),e.exit("autolink"),n):S(T)}function S(T){if((T===45||bi(T))&&i++<63){const k=T===45?S:y;return e.consume(T),k}return t(T)}}const Ul={tokenize:hW,partial:!0};function hW(e,n,t){return i;function i(l){return rn(l)?un(e,r,"linePrefix")(l):r(l)}function r(l){return l===null||zt(l)?n(l):t(l)}}const yk={name:"blockQuote",tokenize:pW,continuation:{tokenize:fW},exit:mW};function pW(e,n,t){const i=this;return r;function r(h){if(h===62){const d=i.containerState;return d.open||(e.enter("blockQuote",{_container:!0}),d.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(h),e.exit("blockQuoteMarker"),l}return t(h)}function l(h){return rn(h)?(e.enter("blockQuotePrefixWhitespace"),e.consume(h),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(h))}}function fW(e,n,t){const i=this;return r;function r(h){return rn(h)?un(e,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h):l(h)}function l(h){return e.attempt(yk,n,t)(h)}}function mW(e){e.exit("blockQuote")}const bk={name:"characterEscape",tokenize:gW};function gW(e,n,t){return i;function i(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),r}function r(l){return nW(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):t(l)}}const t1=document.createElement("i");function Ug(e){const n="&"+e+";";t1.innerHTML=n;const t=t1.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===n?!1:t}const wk={name:"characterReference",tokenize:vW};function vW(e,n,t){const i=this;let r=0,l,h;return d;function d(y){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),p}function p(y){return y===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(y),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),l=31,h=bi,g(y))}function f(y){return y===88||y===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(y),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,h=tW,g):(e.enter("characterReferenceValue"),l=7,h=Am,g(y))}function g(y){if(y===59&&r){const S=e.exit("characterReferenceValue");return h===bi&&!Ug(i.sliceSerialize(S))?t(y):(e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return h(y)&&r++<l?(e.consume(y),g):t(y)}}const n1={tokenize:bW,partial:!0},i1={name:"codeFenced",tokenize:yW,concrete:!0};function yW(e,n,t){const i=this,r={tokenize:K,partial:!0};let l=0,h=0,d;return p;function p(Y){return f(Y)}function f(Y){const se=i.events[i.events.length-1];return l=se&&se[1].type==="linePrefix"?se[2].sliceSerialize(se[1],!0).length:0,d=Y,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),g(Y)}function g(Y){return Y===d?(h++,e.consume(Y),g):h<3?t(Y):(e.exit("codeFencedFenceSequence"),rn(Y)?un(e,y,"whitespace")(Y):y(Y))}function y(Y){return Y===null||zt(Y)?(e.exit("codeFencedFence"),i.interrupt?n(Y):e.check(n1,P,ne)(Y)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),S(Y))}function S(Y){return Y===null||zt(Y)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),y(Y)):rn(Y)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),un(e,T,"whitespace")(Y)):Y===96&&Y===d?t(Y):(e.consume(Y),S)}function T(Y){return Y===null||zt(Y)?y(Y):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),k(Y))}function k(Y){return Y===null||zt(Y)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),y(Y)):Y===96&&Y===d?t(Y):(e.consume(Y),k)}function P(Y){return e.attempt(r,ne,_)(Y)}function _(Y){return e.enter("lineEnding"),e.consume(Y),e.exit("lineEnding"),D}function D(Y){return l>0&&rn(Y)?un(e,q,"linePrefix",l+1)(Y):q(Y)}function q(Y){return Y===null||zt(Y)?e.check(n1,P,ne)(Y):(e.enter("codeFlowValue"),G(Y))}function G(Y){return Y===null||zt(Y)?(e.exit("codeFlowValue"),q(Y)):(e.consume(Y),G)}function ne(Y){return e.exit("codeFenced"),n(Y)}function K(Y,se,ce){let de=0;return ie;function ie(Le){return Y.enter("lineEnding"),Y.consume(Le),Y.exit("lineEnding"),ge}function ge(Le){return Y.enter("codeFencedFence"),rn(Le)?un(Y,pe,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Le):pe(Le)}function pe(Le){return Le===d?(Y.enter("codeFencedFenceSequence"),be(Le)):ce(Le)}function be(Le){return Le===d?(de++,Y.consume(Le),be):de>=h?(Y.exit("codeFencedFenceSequence"),rn(Le)?un(Y,Ae,"whitespace")(Le):Ae(Le)):ce(Le)}function Ae(Le){return Le===null||zt(Le)?(Y.exit("codeFencedFence"),se(Le)):ce(Le)}}}function bW(e,n,t){const i=this;return r;function r(h){return h===null?t(h):(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l)}function l(h){return i.parser.lazy[i.now().line]?t(h):n(h)}}const jf={name:"codeIndented",tokenize:xW},wW={tokenize:SW,partial:!0};function xW(e,n,t){const i=this;return r;function r(f){return e.enter("codeIndented"),un(e,l,"linePrefix",5)(f)}function l(f){const g=i.events[i.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?h(f):t(f)}function h(f){return f===null?p(f):zt(f)?e.attempt(wW,h,p)(f):(e.enter("codeFlowValue"),d(f))}function d(f){return f===null||zt(f)?(e.exit("codeFlowValue"),h(f)):(e.consume(f),d)}function p(f){return e.exit("codeIndented"),n(f)}}function SW(e,n,t){const i=this;return r;function r(h){return i.parser.lazy[i.now().line]?t(h):zt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),r):un(e,l,"linePrefix",5)(h)}function l(h){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?n(h):zt(h)?r(h):t(h)}}const EW={name:"codeText",tokenize:kW,resolve:TW,previous:CW};function TW(e){let n=e.length-4,t=3,i,r;if((e[t][1].type==="lineEnding"||e[t][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(i=t;++i<n;)if(e[i][1].type==="codeTextData"){e[t][1].type="codeTextPadding",e[n][1].type="codeTextPadding",t+=2,n-=2;break}}for(i=t-1,n++;++i<=n;)r===void 0?i!==n&&e[i][1].type!=="lineEnding"&&(r=i):(i===n||e[i][1].type==="lineEnding")&&(e[r][1].type="codeTextData",i!==r+2&&(e[r][1].end=e[i-1][1].end,e.splice(r+2,i-r-2),n-=i-r-2,i=r+2),r=void 0);return e}function CW(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function kW(e,n,t){let i=0,r,l;return h;function h(y){return e.enter("codeText"),e.enter("codeTextSequence"),d(y)}function d(y){return y===96?(e.consume(y),i++,d):(e.exit("codeTextSequence"),p(y))}function p(y){return y===null?t(y):y===32?(e.enter("space"),e.consume(y),e.exit("space"),p):y===96?(l=e.enter("codeTextSequence"),r=0,g(y)):zt(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),p):(e.enter("codeTextData"),f(y))}function f(y){return y===null||y===32||y===96||zt(y)?(e.exit("codeTextData"),p(y)):(e.consume(y),f)}function g(y){return y===96?(e.consume(y),r++,g):r===i?(e.exit("codeTextSequence"),e.exit("codeText"),n(y)):(l.type="codeTextData",f(y))}}function xk(e){const n={};let t=-1,i,r,l,h,d,p,f;for(;++t<e.length;){for(;t in n;)t=n[t];if(i=e[t],t&&i[1].type==="chunkFlow"&&e[t-1][1].type==="listItemPrefix"&&(p=i[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(n,PW(e,t)),t=n[t],f=!0);else if(i[1]._container){for(l=t,r=void 0;l--&&(h=e[l],h[1].type==="lineEnding"||h[1].type==="lineEndingBlank");)h[0]==="enter"&&(r&&(e[r][1].type="lineEndingBlank"),h[1].type="lineEnding",r=l);r&&(i[1].end=Object.assign({},e[r][1].start),d=e.slice(r,t),d.unshift(i),Gi(e,r,t-r+1,d))}}return!f}function PW(e,n){const t=e[n][1],i=e[n][2];let r=n-1;const l=[],h=t._tokenizer||i.parser[t.contentType](t.start),d=h.events,p=[],f={};let g,y,S=-1,T=t,k=0,P=0;const _=[P];for(;T;){for(;e[++r][1]!==T;);l.push(r),T._tokenizer||(g=i.sliceStream(T),T.next||g.push(null),y&&h.defineSkip(T.start),T._isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=!0),h.write(g),T._isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=void 0)),y=T,T=T.next}for(T=t;++S<d.length;)d[S][0]==="exit"&&d[S-1][0]==="enter"&&d[S][1].type===d[S-1][1].type&&d[S][1].start.line!==d[S][1].end.line&&(P=S+1,_.push(P),T._tokenizer=void 0,T.previous=void 0,T=T.next);for(h.events=[],T?(T._tokenizer=void 0,T.previous=void 0):_.pop(),S=_.length;S--;){const D=d.slice(_[S],_[S+1]),q=l.pop();p.unshift([q,q+D.length-1]),Gi(e,q,2,D)}for(S=-1;++S<p.length;)f[k+p[S][0]]=k+p[S][1],k+=p[S][1]-p[S][0]-1;return f}const _W={tokenize:DW,resolve:OW},RW={tokenize:AW,partial:!0};function OW(e){return xk(e),e}function DW(e,n){let t;return i;function i(d){return e.enter("content"),t=e.enter("chunkContent",{contentType:"content"}),r(d)}function r(d){return d===null?l(d):zt(d)?e.check(RW,h,l)(d):(e.consume(d),r)}function l(d){return e.exit("chunkContent"),e.exit("content"),n(d)}function h(d){return e.consume(d),e.exit("chunkContent"),t.next=e.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,r}}function AW(e,n,t){const i=this;return r;function r(h){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),un(e,l,"linePrefix")}function l(h){if(h===null||zt(h))return t(h);const d=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?n(h):e.interrupt(i.parser.constructs.flow,t,n)(h)}}function Sk(e,n,t,i,r,l,h,d,p){const f=p||Number.POSITIVE_INFINITY;let g=0;return y;function y(D){return D===60?(e.enter(i),e.enter(r),e.enter(l),e.consume(D),e.exit(l),S):D===null||D===32||D===41||Yu(D)?t(D):(e.enter(i),e.enter(h),e.enter(d),e.enter("chunkString",{contentType:"string"}),P(D))}function S(D){return D===62?(e.enter(l),e.consume(D),e.exit(l),e.exit(r),e.exit(i),n):(e.enter(d),e.enter("chunkString",{contentType:"string"}),T(D))}function T(D){return D===62?(e.exit("chunkString"),e.exit(d),S(D)):D===null||D===60||zt(D)?t(D):(e.consume(D),D===92?k:T)}function k(D){return D===60||D===62||D===92?(e.consume(D),T):T(D)}function P(D){return!g&&(D===null||D===41||On(D))?(e.exit("chunkString"),e.exit(d),e.exit(h),e.exit(i),n(D)):g<f&&D===40?(e.consume(D),g++,P):D===41?(e.consume(D),g--,P):D===null||D===32||D===40||Yu(D)?t(D):(e.consume(D),D===92?_:P)}function _(D){return D===40||D===41||D===92?(e.consume(D),P):P(D)}}function Ek(e,n,t,i,r,l){const h=this;let d=0,p;return f;function f(T){return e.enter(i),e.enter(r),e.consume(T),e.exit(r),e.enter(l),g}function g(T){return d>999||T===null||T===91||T===93&&!p||T===94&&!d&&"_hiddenFootnoteSupport"in h.parser.constructs?t(T):T===93?(e.exit(l),e.enter(r),e.consume(T),e.exit(r),e.exit(i),n):zt(T)?(e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),g):(e.enter("chunkString",{contentType:"string"}),y(T))}function y(T){return T===null||T===91||T===93||zt(T)||d++>999?(e.exit("chunkString"),g(T)):(e.consume(T),p||(p=!rn(T)),T===92?S:y)}function S(T){return T===91||T===92||T===93?(e.consume(T),d++,y):y(T)}}function Tk(e,n,t,i,r,l){let h;return d;function d(S){return S===34||S===39||S===40?(e.enter(i),e.enter(r),e.consume(S),e.exit(r),h=S===40?41:S,p):t(S)}function p(S){return S===h?(e.enter(r),e.consume(S),e.exit(r),e.exit(i),n):(e.enter(l),f(S))}function f(S){return S===h?(e.exit(l),p(h)):S===null?t(S):zt(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),un(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===h||S===null||zt(S)?(e.exit("chunkString"),f(S)):(e.consume(S),S===92?y:g)}function y(S){return S===h||S===92?(e.consume(S),g):g(S)}}function Tl(e,n){let t;return i;function i(r){return zt(r)?(e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t=!0,i):rn(r)?un(e,i,t?"linePrefix":"lineSuffix")(r):n(r)}}function ur(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const IW={name:"definition",tokenize:zW},MW={tokenize:LW,partial:!0};function zW(e,n,t){const i=this;let r;return l;function l(T){return e.enter("definition"),h(T)}function h(T){return Ek.call(i,e,d,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(T)}function d(T){return r=ur(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),T===58?(e.enter("definitionMarker"),e.consume(T),e.exit("definitionMarker"),p):t(T)}function p(T){return On(T)?Tl(e,f)(T):f(T)}function f(T){return Sk(e,g,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(T)}function g(T){return e.attempt(MW,y,y)(T)}function y(T){return rn(T)?un(e,S,"whitespace")(T):S(T)}function S(T){return T===null||zt(T)?(e.exit("definition"),i.parser.defined.push(r),n(T)):t(T)}}function LW(e,n,t){return i;function i(d){return On(d)?Tl(e,r)(d):t(d)}function r(d){return Tk(e,l,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function l(d){return rn(d)?un(e,h,"whitespace")(d):h(d)}function h(d){return d===null||zt(d)?n(d):t(d)}}const FW={name:"hardBreakEscape",tokenize:jW};function jW(e,n,t){return i;function i(l){return e.enter("hardBreakEscape"),e.consume(l),r}function r(l){return zt(l)?(e.exit("hardBreakEscape"),n(l)):t(l)}}const NW={name:"headingAtx",tokenize:BW,resolve:HW};function HW(e,n){let t=e.length-2,i=3,r,l;return e[i][1].type==="whitespace"&&(i+=2),t-2>i&&e[t][1].type==="whitespace"&&(t-=2),e[t][1].type==="atxHeadingSequence"&&(i===t-1||t-4>i&&e[t-2][1].type==="whitespace")&&(t-=i+1===t?2:4),t>i&&(r={type:"atxHeadingText",start:e[i][1].start,end:e[t][1].end},l={type:"chunkText",start:e[i][1].start,end:e[t][1].end,contentType:"text"},Gi(e,i,t-i+1,[["enter",r,n],["enter",l,n],["exit",l,n],["exit",r,n]])),e}function BW(e,n,t){let i=0;return r;function r(g){return e.enter("atxHeading"),l(g)}function l(g){return e.enter("atxHeadingSequence"),h(g)}function h(g){return g===35&&i++<6?(e.consume(g),h):g===null||On(g)?(e.exit("atxHeadingSequence"),d(g)):t(g)}function d(g){return g===35?(e.enter("atxHeadingSequence"),p(g)):g===null||zt(g)?(e.exit("atxHeading"),n(g)):rn(g)?un(e,d,"whitespace")(g):(e.enter("atxHeadingText"),f(g))}function p(g){return g===35?(e.consume(g),p):(e.exit("atxHeadingSequence"),d(g))}function f(g){return g===null||g===35||On(g)?(e.exit("atxHeadingText"),d(g)):(e.consume(g),f)}}const VW=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],r1=["pre","script","style","textarea"],UW={name:"htmlFlow",tokenize:XW,resolveTo:qW,concrete:!0},WW={tokenize:KW,partial:!0},GW={tokenize:YW,partial:!0};function qW(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function XW(e,n,t){const i=this;let r,l,h,d,p;return f;function f(ee){return g(ee)}function g(ee){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(ee),y}function y(ee){return ee===33?(e.consume(ee),S):ee===47?(e.consume(ee),l=!0,P):ee===63?(e.consume(ee),r=3,i.interrupt?n:J):Ti(ee)?(e.consume(ee),h=String.fromCharCode(ee),_):t(ee)}function S(ee){return ee===45?(e.consume(ee),r=2,T):ee===91?(e.consume(ee),r=5,d=0,k):Ti(ee)?(e.consume(ee),r=4,i.interrupt?n:J):t(ee)}function T(ee){return ee===45?(e.consume(ee),i.interrupt?n:J):t(ee)}function k(ee){const Ct="CDATA[";return ee===Ct.charCodeAt(d++)?(e.consume(ee),d===Ct.length?i.interrupt?n:pe:k):t(ee)}function P(ee){return Ti(ee)?(e.consume(ee),h=String.fromCharCode(ee),_):t(ee)}function _(ee){if(ee===null||ee===47||ee===62||On(ee)){const Ct=ee===47,tt=h.toLowerCase();return!Ct&&!l&&r1.includes(tt)?(r=1,i.interrupt?n(ee):pe(ee)):VW.includes(h.toLowerCase())?(r=6,Ct?(e.consume(ee),D):i.interrupt?n(ee):pe(ee)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?t(ee):l?q(ee):G(ee))}return ee===45||bi(ee)?(e.consume(ee),h+=String.fromCharCode(ee),_):t(ee)}function D(ee){return ee===62?(e.consume(ee),i.interrupt?n:pe):t(ee)}function q(ee){return rn(ee)?(e.consume(ee),q):ie(ee)}function G(ee){return ee===47?(e.consume(ee),ie):ee===58||ee===95||Ti(ee)?(e.consume(ee),ne):rn(ee)?(e.consume(ee),G):ie(ee)}function ne(ee){return ee===45||ee===46||ee===58||ee===95||bi(ee)?(e.consume(ee),ne):K(ee)}function K(ee){return ee===61?(e.consume(ee),Y):rn(ee)?(e.consume(ee),K):G(ee)}function Y(ee){return ee===null||ee===60||ee===61||ee===62||ee===96?t(ee):ee===34||ee===39?(e.consume(ee),p=ee,se):rn(ee)?(e.consume(ee),Y):ce(ee)}function se(ee){return ee===p?(e.consume(ee),p=null,de):ee===null||zt(ee)?t(ee):(e.consume(ee),se)}function ce(ee){return ee===null||ee===34||ee===39||ee===47||ee===60||ee===61||ee===62||ee===96||On(ee)?K(ee):(e.consume(ee),ce)}function de(ee){return ee===47||ee===62||rn(ee)?G(ee):t(ee)}function ie(ee){return ee===62?(e.consume(ee),ge):t(ee)}function ge(ee){return ee===null||zt(ee)?pe(ee):rn(ee)?(e.consume(ee),ge):t(ee)}function pe(ee){return ee===45&&r===2?(e.consume(ee),Se):ee===60&&r===1?(e.consume(ee),ve):ee===62&&r===4?(e.consume(ee),ze):ee===63&&r===3?(e.consume(ee),J):ee===93&&r===5?(e.consume(ee),_e):zt(ee)&&(r===6||r===7)?(e.exit("htmlFlowData"),e.check(WW,st,be)(ee)):ee===null||zt(ee)?(e.exit("htmlFlowData"),be(ee)):(e.consume(ee),pe)}function be(ee){return e.check(GW,Ae,st)(ee)}function Ae(ee){return e.enter("lineEnding"),e.consume(ee),e.exit("lineEnding"),Le}function Le(ee){return ee===null||zt(ee)?be(ee):(e.enter("htmlFlowData"),pe(ee))}function Se(ee){return ee===45?(e.consume(ee),J):pe(ee)}function ve(ee){return ee===47?(e.consume(ee),h="",Re):pe(ee)}function Re(ee){if(ee===62){const Ct=h.toLowerCase();return r1.includes(Ct)?(e.consume(ee),ze):pe(ee)}return Ti(ee)&&h.length<8?(e.consume(ee),h+=String.fromCharCode(ee),Re):pe(ee)}function _e(ee){return ee===93?(e.consume(ee),J):pe(ee)}function J(ee){return ee===62?(e.consume(ee),ze):ee===45&&r===2?(e.consume(ee),J):pe(ee)}function ze(ee){return ee===null||zt(ee)?(e.exit("htmlFlowData"),st(ee)):(e.consume(ee),ze)}function st(ee){return e.exit("htmlFlow"),n(ee)}}function YW(e,n,t){const i=this;return r;function r(h){return zt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):t(h)}function l(h){return i.parser.lazy[i.now().line]?t(h):n(h)}}function KW(e,n,t){return i;function i(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Ul,n,t)}}const ZW={name:"htmlText",tokenize:JW};function JW(e,n,t){const i=this;let r,l,h;return d;function d(J){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(J),p}function p(J){return J===33?(e.consume(J),f):J===47?(e.consume(J),K):J===63?(e.consume(J),G):Ti(J)?(e.consume(J),ce):t(J)}function f(J){return J===45?(e.consume(J),g):J===91?(e.consume(J),l=0,k):Ti(J)?(e.consume(J),q):t(J)}function g(J){return J===45?(e.consume(J),T):t(J)}function y(J){return J===null?t(J):J===45?(e.consume(J),S):zt(J)?(h=y,ve(J)):(e.consume(J),y)}function S(J){return J===45?(e.consume(J),T):y(J)}function T(J){return J===62?Se(J):J===45?S(J):y(J)}function k(J){const ze="CDATA[";return J===ze.charCodeAt(l++)?(e.consume(J),l===ze.length?P:k):t(J)}function P(J){return J===null?t(J):J===93?(e.consume(J),_):zt(J)?(h=P,ve(J)):(e.consume(J),P)}function _(J){return J===93?(e.consume(J),D):P(J)}function D(J){return J===62?Se(J):J===93?(e.consume(J),D):P(J)}function q(J){return J===null||J===62?Se(J):zt(J)?(h=q,ve(J)):(e.consume(J),q)}function G(J){return J===null?t(J):J===63?(e.consume(J),ne):zt(J)?(h=G,ve(J)):(e.consume(J),G)}function ne(J){return J===62?Se(J):G(J)}function K(J){return Ti(J)?(e.consume(J),Y):t(J)}function Y(J){return J===45||bi(J)?(e.consume(J),Y):se(J)}function se(J){return zt(J)?(h=se,ve(J)):rn(J)?(e.consume(J),se):Se(J)}function ce(J){return J===45||bi(J)?(e.consume(J),ce):J===47||J===62||On(J)?de(J):t(J)}function de(J){return J===47?(e.consume(J),Se):J===58||J===95||Ti(J)?(e.consume(J),ie):zt(J)?(h=de,ve(J)):rn(J)?(e.consume(J),de):Se(J)}function ie(J){return J===45||J===46||J===58||J===95||bi(J)?(e.consume(J),ie):ge(J)}function ge(J){return J===61?(e.consume(J),pe):zt(J)?(h=ge,ve(J)):rn(J)?(e.consume(J),ge):de(J)}function pe(J){return J===null||J===60||J===61||J===62||J===96?t(J):J===34||J===39?(e.consume(J),r=J,be):zt(J)?(h=pe,ve(J)):rn(J)?(e.consume(J),pe):(e.consume(J),Ae)}function be(J){return J===r?(e.consume(J),r=void 0,Le):J===null?t(J):zt(J)?(h=be,ve(J)):(e.consume(J),be)}function Ae(J){return J===null||J===34||J===39||J===60||J===61||J===96?t(J):J===47||J===62||On(J)?de(J):(e.consume(J),Ae)}function Le(J){return J===47||J===62||On(J)?de(J):t(J)}function Se(J){return J===62?(e.consume(J),e.exit("htmlTextData"),e.exit("htmlText"),n):t(J)}function ve(J){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(J),e.exit("lineEnding"),Re}function Re(J){return rn(J)?un(e,_e,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):_e(J)}function _e(J){return e.enter("htmlTextData"),h(J)}}const Wg={name:"labelEnd",tokenize:iG,resolveTo:nG,resolveAll:tG},$W={tokenize:rG},QW={tokenize:oG},eG={tokenize:sG};function tG(e){let n=-1;for(;++n<e.length;){const t=e[n][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(e.splice(n+1,t.type==="labelImage"?4:2),t.type="data",n++)}return e}function nG(e,n){let t=e.length,i=0,r,l,h,d;for(;t--;)if(r=e[t][1],l){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;e[t][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(h){if(e[t][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(l=t,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(h=t);const p={type:e[l][1].type==="labelLink"?"link":"image",start:Object.assign({},e[l][1].start),end:Object.assign({},e[e.length-1][1].end)},f={type:"label",start:Object.assign({},e[l][1].start),end:Object.assign({},e[h][1].end)},g={type:"labelText",start:Object.assign({},e[l+i+2][1].end),end:Object.assign({},e[h-2][1].start)};return d=[["enter",p,n],["enter",f,n]],d=Qi(d,e.slice(l+1,l+i+3)),d=Qi(d,[["enter",g,n]]),d=Qi(d,Pd(n.parser.constructs.insideSpan.null,e.slice(l+i+4,h-3),n)),d=Qi(d,[["exit",g,n],e[h-2],e[h-1],["exit",f,n]]),d=Qi(d,e.slice(h+1)),d=Qi(d,[["exit",p,n]]),Gi(e,l,e.length,d),e}function iG(e,n,t){const i=this;let r=i.events.length,l,h;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){l=i.events[r][1];break}return d;function d(S){return l?l._inactive?y(S):(h=i.parser.defined.includes(ur(i.sliceSerialize({start:l.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(S),e.exit("labelMarker"),e.exit("labelEnd"),p):t(S)}function p(S){return S===40?e.attempt($W,g,h?g:y)(S):S===91?e.attempt(QW,g,h?f:y)(S):h?g(S):y(S)}function f(S){return e.attempt(eG,g,y)(S)}function g(S){return n(S)}function y(S){return l._balanced=!0,t(S)}}function rG(e,n,t){return i;function i(y){return e.enter("resource"),e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),r}function r(y){return On(y)?Tl(e,l)(y):l(y)}function l(y){return y===41?g(y):Sk(e,h,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function h(y){return On(y)?Tl(e,p)(y):g(y)}function d(y){return t(y)}function p(y){return y===34||y===39||y===40?Tk(e,f,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):g(y)}function f(y){return On(y)?Tl(e,g)(y):g(y)}function g(y){return y===41?(e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),e.exit("resource"),n):t(y)}}function oG(e,n,t){const i=this;return r;function r(d){return Ek.call(i,e,l,h,"reference","referenceMarker","referenceString")(d)}function l(d){return i.parser.defined.includes(ur(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?n(d):t(d)}function h(d){return t(d)}}function sG(e,n,t){return i;function i(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),r}function r(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),n):t(l)}}const aG={name:"labelStartImage",tokenize:lG,resolveAll:Wg.resolveAll};function lG(e,n,t){const i=this;return r;function r(d){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(d),e.exit("labelImageMarker"),l}function l(d){return d===91?(e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelImage"),h):t(d)}function h(d){return d===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(d):n(d)}}const cG={name:"labelStartLink",tokenize:uG,resolveAll:Wg.resolveAll};function uG(e,n,t){const i=this;return r;function r(h){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelLink"),l}function l(h){return h===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(h):n(h)}}const Nf={name:"lineEnding",tokenize:dG};function dG(e,n){return t;function t(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),un(e,n,"linePrefix")}}const Fu={name:"thematicBreak",tokenize:hG};function hG(e,n,t){let i=0,r;return l;function l(f){return e.enter("thematicBreak"),h(f)}function h(f){return r=f,d(f)}function d(f){return f===r?(e.enter("thematicBreakSequence"),p(f)):i>=3&&(f===null||zt(f))?(e.exit("thematicBreak"),n(f)):t(f)}function p(f){return f===r?(e.consume(f),i++,p):(e.exit("thematicBreakSequence"),rn(f)?un(e,d,"whitespace")(f):d(f))}}const Di={name:"list",tokenize:mG,continuation:{tokenize:gG},exit:yG},pG={tokenize:bG,partial:!0},fG={tokenize:vG,partial:!0};function mG(e,n,t){const i=this,r=i.events[i.events.length-1];let l=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,h=0;return d;function d(T){const k=i.containerState.type||(T===42||T===43||T===45?"listUnordered":"listOrdered");if(k==="listUnordered"?!i.containerState.marker||T===i.containerState.marker:Am(T)){if(i.containerState.type||(i.containerState.type=k,e.enter(k,{_container:!0})),k==="listUnordered")return e.enter("listItemPrefix"),T===42||T===45?e.check(Fu,t,f)(T):f(T);if(!i.interrupt||T===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),p(T)}return t(T)}function p(T){return Am(T)&&++h<10?(e.consume(T),p):(!i.interrupt||h<2)&&(i.containerState.marker?T===i.containerState.marker:T===41||T===46)?(e.exit("listItemValue"),f(T)):t(T)}function f(T){return e.enter("listItemMarker"),e.consume(T),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||T,e.check(Ul,i.interrupt?t:g,e.attempt(pG,S,y))}function g(T){return i.containerState.initialBlankLine=!0,l++,S(T)}function y(T){return rn(T)?(e.enter("listItemPrefixWhitespace"),e.consume(T),e.exit("listItemPrefixWhitespace"),S):t(T)}function S(T){return i.containerState.size=l+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(T)}}function gG(e,n,t){const i=this;return i.containerState._closeFlow=void 0,e.check(Ul,r,l);function r(d){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,un(e,n,"listItemIndent",i.containerState.size+1)(d)}function l(d){return i.containerState.furtherBlankLines||!rn(d)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,h(d)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(fG,n,h)(d))}function h(d){return i.containerState._closeFlow=!0,i.interrupt=void 0,un(e,e.attempt(Di,n,t),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function vG(e,n,t){const i=this;return un(e,r,"listItemIndent",i.containerState.size+1);function r(l){const h=i.events[i.events.length-1];return h&&h[1].type==="listItemIndent"&&h[2].sliceSerialize(h[1],!0).length===i.containerState.size?n(l):t(l)}}function yG(e){e.exit(this.containerState.type)}function bG(e,n,t){const i=this;return un(e,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(l){const h=i.events[i.events.length-1];return!rn(l)&&h&&h[1].type==="listItemPrefixWhitespace"?n(l):t(l)}}const o1={name:"setextUnderline",tokenize:xG,resolveTo:wG};function wG(e,n){let t=e.length,i,r,l;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type==="content"){i=t;break}e[t][1].type==="paragraph"&&(r=t)}else e[t][1].type==="content"&&e.splice(t,1),!l&&e[t][1].type==="definition"&&(l=t);const h={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[r][1].type="setextHeadingText",l?(e.splice(r,0,["enter",h,n]),e.splice(l+1,0,["exit",e[i][1],n]),e[i][1].end=Object.assign({},e[l][1].end)):e[i][1]=h,e.push(["exit",h,n]),e}function xG(e,n,t){const i=this;let r;return l;function l(f){let g=i.events.length,y;for(;g--;)if(i.events[g][1].type!=="lineEnding"&&i.events[g][1].type!=="linePrefix"&&i.events[g][1].type!=="content"){y=i.events[g][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||y)?(e.enter("setextHeadingLine"),r=f,h(f)):t(f)}function h(f){return e.enter("setextHeadingLineSequence"),d(f)}function d(f){return f===r?(e.consume(f),d):(e.exit("setextHeadingLineSequence"),rn(f)?un(e,p,"lineSuffix")(f):p(f))}function p(f){return f===null||zt(f)?(e.exit("setextHeadingLine"),n(f)):t(f)}}const SG={tokenize:EG};function EG(e){const n=this,t=e.attempt(Ul,i,e.attempt(this.parser.constructs.flowInitial,r,un(e,e.attempt(this.parser.constructs.flow,r,e.attempt(_W,r)),"linePrefix")));return t;function i(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),n.currentConstruct=void 0,t}function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),n.currentConstruct=void 0,t}}const TG={resolveAll:kk()},CG=Ck("string"),kG=Ck("text");function Ck(e){return{tokenize:n,resolveAll:kk(e==="text"?PG:void 0)};function n(t){const i=this,r=this.parser.constructs[e],l=t.attempt(r,h,d);return h;function h(g){return f(g)?l(g):d(g)}function d(g){if(g===null){t.consume(g);return}return t.enter("data"),t.consume(g),p}function p(g){return f(g)?(t.exit("data"),l(g)):(t.consume(g),p)}function f(g){if(g===null)return!0;const y=r[g];let S=-1;if(y)for(;++S<y.length;){const T=y[S];if(!T.previous||T.previous.call(i,i.previous))return!0}return!1}}}function kk(e){return n;function n(t,i){let r=-1,l;for(;++r<=t.length;)l===void 0?t[r]&&t[r][1].type==="data"&&(l=r,r++):(!t[r]||t[r][1].type!=="data")&&(r!==l+2&&(t[l][1].end=t[r-1][1].end,t.splice(l+2,r-l-2),r=l+2),l=void 0);return e?e(t,i):t}}function PG(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type==="lineEnding")&&e[t-1][1].type==="data"){const i=e[t-1][1],r=n.sliceStream(i);let l=r.length,h=-1,d=0,p;for(;l--;){const f=r[l];if(typeof f=="string"){for(h=f.length;f.charCodeAt(h-1)===32;)d++,h--;if(h)break;h=-1}else if(f===-2)p=!0,d++;else if(f!==-1){l++;break}}if(d){const f={type:t===e.length||p||d<2?"lineSuffix":"hardBreakTrailing",start:{line:i.end.line,column:i.end.column-d,offset:i.end.offset-d,_index:i.start._index+l,_bufferIndex:l?h:i.start._bufferIndex+h},end:Object.assign({},i.end)};i.end=Object.assign({},f.start),i.start.offset===i.end.offset?Object.assign(i,f):(e.splice(t,0,["enter",f,n],["exit",f,n]),t+=2)}t++}return e}function _G(e,n,t){let i=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const r={},l=[];let h=[],d=[];const p={consume:q,enter:G,exit:ne,attempt:se(K),check:se(Y),interrupt:se(Y,{interrupt:!0})},f={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:T,sliceSerialize:S,now:k,defineSkip:P,write:y};let g=n.tokenize.call(f,p);return n.resolveAll&&l.push(n),f;function y(ge){return h=Qi(h,ge),_(),h[h.length-1]!==null?[]:(ce(n,0),f.events=Pd(l,f.events,f),f.events)}function S(ge,pe){return OG(T(ge),pe)}function T(ge){return RG(h,ge)}function k(){const{line:ge,column:pe,offset:be,_index:Ae,_bufferIndex:Le}=i;return{line:ge,column:pe,offset:be,_index:Ae,_bufferIndex:Le}}function P(ge){r[ge.line]=ge.column,ie()}function _(){let ge;for(;i._index<h.length;){const pe=h[i._index];if(typeof pe=="string")for(ge=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===ge&&i._bufferIndex<pe.length;)D(pe.charCodeAt(i._bufferIndex));else D(pe)}}function D(ge){g=g(ge)}function q(ge){zt(ge)?(i.line++,i.column=1,i.offset+=ge===-3?2:1,ie()):ge!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===h[i._index].length&&(i._bufferIndex=-1,i._index++)),f.previous=ge}function G(ge,pe){const be=pe||{};return be.type=ge,be.start=k(),f.events.push(["enter",be,f]),d.push(be),be}function ne(ge){const pe=d.pop();return pe.end=k(),f.events.push(["exit",pe,f]),pe}function K(ge,pe){ce(ge,pe.from)}function Y(ge,pe){pe.restore()}function se(ge,pe){return be;function be(Ae,Le,Se){let ve,Re,_e,J;return Array.isArray(Ae)?st(Ae):"tokenize"in Ae?st([Ae]):ze(Ae);function ze(at){return yt;function yt(Ot){const Tt=Ot!==null&&at[Ot],rt=Ot!==null&&at.null,Ye=[...Array.isArray(Tt)?Tt:Tt?[Tt]:[],...Array.isArray(rt)?rt:rt?[rt]:[]];return st(Ye)(Ot)}}function st(at){return ve=at,Re=0,at.length===0?Se:ee(at[Re])}function ee(at){return yt;function yt(Ot){return J=de(),_e=at,at.partial||(f.currentConstruct=at),at.name&&f.parser.constructs.disable.null.includes(at.name)?tt():at.tokenize.call(pe?Object.assign(Object.create(f),pe):f,p,Ct,tt)(Ot)}}function Ct(at){return ge(_e,J),Le}function tt(at){return J.restore(),++Re<ve.length?ee(ve[Re]):Se}}}function ce(ge,pe){ge.resolveAll&&!l.includes(ge)&&l.push(ge),ge.resolve&&Gi(f.events,pe,f.events.length-pe,ge.resolve(f.events.slice(pe),f)),ge.resolveTo&&(f.events=ge.resolveTo(f.events,f))}function de(){const ge=k(),pe=f.previous,be=f.currentConstruct,Ae=f.events.length,Le=Array.from(d);return{restore:Se,from:Ae};function Se(){i=ge,f.previous=pe,f.currentConstruct=be,f.events.length=Ae,d=Le,ie()}}function ie(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function RG(e,n){const t=n.start._index,i=n.start._bufferIndex,r=n.end._index,l=n.end._bufferIndex;let h;if(t===r)h=[e[t].slice(i,l)];else{if(h=e.slice(t,r),i>-1){const d=h[0];typeof d=="string"?h[0]=d.slice(i):h.shift()}l>0&&h.push(e[r].slice(0,l))}return h}function OG(e,n){let t=-1;const i=[];let r;for(;++t<e.length;){const l=e[t];let h;if(typeof l=="string")h=l;else switch(l){case-5:{h="\r";break}case-4:{h=`
`;break}case-3:{h=`\r
`;break}case-2:{h=n?" ":"	";break}case-1:{if(!n&&r)continue;h=" ";break}default:h=String.fromCharCode(l)}r=l===-2,i.push(h)}return i.join("")}const DG={42:Di,43:Di,45:Di,48:Di,49:Di,50:Di,51:Di,52:Di,53:Di,54:Di,55:Di,56:Di,57:Di,62:yk},AG={91:IW},IG={[-2]:jf,[-1]:jf,32:jf},MG={35:NW,42:Fu,45:[o1,Fu],60:UW,61:o1,95:Fu,96:i1,126:i1},zG={38:wk,92:bk},LG={[-5]:Nf,[-4]:Nf,[-3]:Nf,33:aG,38:wk,42:Im,60:[uW,ZW],91:cG,92:[FW,bk],93:Wg,95:Im,96:EW},FG={null:[Im,TG]},jG={null:[42,95]},NG={null:[]},HG=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:jG,contentInitial:AG,disable:NG,document:DG,flow:MG,flowInitial:IG,insideSpan:FG,string:zG,text:LG},Symbol.toStringTag,{value:"Module"}));function BG(e){const n=vk([HG,...(e||{}).extensions||[]]),t={defined:[],lazy:{},constructs:n,content:i(iW),document:i(oW),flow:i(SG),string:i(CG),text:i(kG)};return t;function i(r){return l;function l(h){return _G(t,r,h)}}}const s1=/[\0\t\n\r]/g;function VG(){let e=1,n="",t=!0,i;return r;function r(l,h,d){const p=[];let f,g,y,S,T;for(l=n+l.toString(h),y=0,n="",t&&(l.charCodeAt(0)===65279&&y++,t=void 0);y<l.length;){if(s1.lastIndex=y,f=s1.exec(l),S=f&&f.index!==void 0?f.index:l.length,T=l.charCodeAt(S),!f){n=l.slice(y);break}if(T===10&&y===S&&i)p.push(-3),i=void 0;else switch(i&&(p.push(-5),i=void 0),y<S&&(p.push(l.slice(y,S)),e+=S-y),T){case 0:{p.push(65533),e++;break}case 9:{for(g=Math.ceil(e/4)*4,p.push(-2);e++<g;)p.push(-1);break}case 10:{p.push(-4),e=1;break}default:i=!0,e=1}y=S+1}return d&&(i&&p.push(-5),n&&p.push(n),p.push(null)),p}}function UG(e){for(;!xk(e););return e}function Pk(e,n){const t=Number.parseInt(e,n);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"ï¿½":String.fromCharCode(t)}const WG=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function _k(e){return e.replace(WG,GG)}function GG(e,n,t){if(n)return n;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),r=i===120||i===88;return Pk(t.slice(r?2:1),r?16:10)}return Ug(t)||e}const Rk={}.hasOwnProperty,qG=function(e,n,t){return typeof n!="string"&&(t=n,n=void 0),XG(t)(UG(BG(t).document().write(VG()(e,n,!0))))};function XG(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:d(Ne),autolinkProtocol:ge,autolinkEmail:ge,atxHeading:d(Yt),blockQuote:d(Ye),characterEscape:ge,characterReference:ge,codeFenced:d(xt),codeFencedFenceInfo:p,codeFencedFenceMeta:p,codeIndented:d(xt,p),codeText:d(Ht,p),codeTextData:ge,data:ge,codeFlowValue:ge,definition:d(on),definitionDestinationString:p,definitionLabelString:p,definitionTitleString:p,emphasis:d(Dt),hardBreakEscape:d(I),hardBreakTrailing:d(I),htmlFlow:d(Q,p),htmlFlowData:ge,htmlText:d(Q,p),htmlTextData:ge,image:d(xe),label:p,link:d(Ne),listItem:d($e),listItemValue:k,listOrdered:d(je,T),listUnordered:d(je),paragraph:d(Ke),reference:tt,referenceString:p,resourceDestinationString:p,resourceTitleString:p,setextHeading:d(Yt),strong:d(Et),thematicBreak:d(Lt)},exit:{atxHeading:g(),atxHeadingSequence:se,autolink:g(),autolinkEmail:rt,autolinkProtocol:Tt,blockQuote:g(),characterEscapeValue:pe,characterReferenceMarkerHexadecimal:yt,characterReferenceMarkerNumeric:yt,characterReferenceValue:Ot,codeFenced:g(q),codeFencedFence:D,codeFencedFenceInfo:P,codeFencedFenceMeta:_,codeFlowValue:pe,codeIndented:g(G),codeText:g(ve),codeTextData:pe,data:pe,definition:g(),definitionDestinationString:Y,definitionLabelString:ne,definitionTitleString:K,emphasis:g(),hardBreakEscape:g(Ae),hardBreakTrailing:g(Ae),htmlFlow:g(Le),htmlFlowData:pe,htmlText:g(Se),htmlTextData:pe,image:g(_e),label:ze,labelText:J,lineEnding:be,link:g(Re),listItem:g(),listOrdered:g(),listUnordered:g(),paragraph:g(),referenceString:at,resourceDestinationString:st,resourceTitleString:ee,resource:Ct,setextHeading:g(ie),setextHeadingLineSequence:de,setextHeadingText:ce,strong:g(),thematicBreak:g()}};Ok(n,(e||{}).mdastExtensions||[]);const t={};return i;function i(me){let Ie={type:"root",children:[]};const F={stack:[Ie],tokenStack:[],config:n,enter:f,exit:y,buffer:p,resume:S,setData:l,getData:h},N=[];let W=-1;for(;++W<me.length;)if(me[W][1].type==="listOrdered"||me[W][1].type==="listUnordered")if(me[W][0]==="enter")N.push(W);else{const Z=N.pop();W=r(me,Z,W)}for(W=-1;++W<me.length;){const Z=n[me[W][0]];Rk.call(Z,me[W][1].type)&&Z[me[W][1].type].call(Object.assign({sliceSerialize:me[W][2].sliceSerialize},F),me[W][1])}if(F.tokenStack.length>0){const Z=F.tokenStack[F.tokenStack.length-1];(Z[1]||a1).call(F,void 0,Z[0])}for(Ie.position={start:eo(me.length>0?me[0][1].start:{line:1,column:1,offset:0}),end:eo(me.length>0?me[me.length-2][1].end:{line:1,column:1,offset:0})},W=-1;++W<n.transforms.length;)Ie=n.transforms[W](Ie)||Ie;return Ie}function r(me,Ie,F){let N=Ie-1,W=-1,Z=!1,Te,Ue,gt,He;for(;++N<=F;){const lt=me[N];if(lt[1].type==="listUnordered"||lt[1].type==="listOrdered"||lt[1].type==="blockQuote"?(lt[0]==="enter"?W++:W--,He=void 0):lt[1].type==="lineEndingBlank"?lt[0]==="enter"&&(Te&&!He&&!W&&!gt&&(gt=N),He=void 0):lt[1].type==="linePrefix"||lt[1].type==="listItemValue"||lt[1].type==="listItemMarker"||lt[1].type==="listItemPrefix"||lt[1].type==="listItemPrefixWhitespace"||(He=void 0),!W&&lt[0]==="enter"&&lt[1].type==="listItemPrefix"||W===-1&&lt[0]==="exit"&&(lt[1].type==="listUnordered"||lt[1].type==="listOrdered")){if(Te){let Rn=N;for(Ue=void 0;Rn--;){const en=me[Rn];if(en[1].type==="lineEnding"||en[1].type==="lineEndingBlank"){if(en[0]==="exit")continue;Ue&&(me[Ue][1].type="lineEndingBlank",Z=!0),en[1].type="lineEnding",Ue=Rn}else if(!(en[1].type==="linePrefix"||en[1].type==="blockQuotePrefix"||en[1].type==="blockQuotePrefixWhitespace"||en[1].type==="blockQuoteMarker"||en[1].type==="listItemIndent"))break}gt&&(!Ue||gt<Ue)&&(Te._spread=!0),Te.end=Object.assign({},Ue?me[Ue][1].start:lt[1].end),me.splice(Ue||N,0,["exit",Te,lt[2]]),N++,F++}lt[1].type==="listItemPrefix"&&(Te={type:"listItem",_spread:!1,start:Object.assign({},lt[1].start),end:void 0},me.splice(N,0,["enter",Te,lt[2]]),N++,F++,gt=void 0,He=!0)}}return me[Ie][1]._spread=Z,F}function l(me,Ie){t[me]=Ie}function h(me){return t[me]}function d(me,Ie){return F;function F(N){f.call(this,me(N),N),Ie&&Ie.call(this,N)}}function p(){this.stack.push({type:"fragment",children:[]})}function f(me,Ie,F){return this.stack[this.stack.length-1].children.push(me),this.stack.push(me),this.tokenStack.push([Ie,F]),me.position={start:eo(Ie.start)},me}function g(me){return Ie;function Ie(F){me&&me.call(this,F),y.call(this,F)}}function y(me,Ie){const F=this.stack.pop(),N=this.tokenStack.pop();if(N)N[0].type!==me.type&&(Ie?Ie.call(this,me,N[0]):(N[1]||a1).call(this,me,N[0]));else throw new Error("Cannot close `"+me.type+"` ("+El({start:me.start,end:me.end})+"): itâ€™s not open");return F.position.end=eo(me.end),F}function S(){return KU(this.stack.pop())}function T(){l("expectingFirstListItemValue",!0)}function k(me){if(h("expectingFirstListItemValue")){const Ie=this.stack[this.stack.length-2];Ie.start=Number.parseInt(this.sliceSerialize(me),10),l("expectingFirstListItemValue")}}function P(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.lang=me}function _(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.meta=me}function D(){h("flowCodeInside")||(this.buffer(),l("flowCodeInside",!0))}function q(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=me.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),l("flowCodeInside")}function G(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=me.replace(/(\r?\n|\r)$/g,"")}function ne(me){const Ie=this.resume(),F=this.stack[this.stack.length-1];F.label=Ie,F.identifier=ur(this.sliceSerialize(me)).toLowerCase()}function K(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.title=me}function Y(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.url=me}function se(me){const Ie=this.stack[this.stack.length-1];if(!Ie.depth){const F=this.sliceSerialize(me).length;Ie.depth=F}}function ce(){l("setextHeadingSlurpLineEnding",!0)}function de(me){const Ie=this.stack[this.stack.length-1];Ie.depth=this.sliceSerialize(me).charCodeAt(0)===61?1:2}function ie(){l("setextHeadingSlurpLineEnding")}function ge(me){const Ie=this.stack[this.stack.length-1];let F=Ie.children[Ie.children.length-1];(!F||F.type!=="text")&&(F=It(),F.position={start:eo(me.start)},Ie.children.push(F)),this.stack.push(F)}function pe(me){const Ie=this.stack.pop();Ie.value+=this.sliceSerialize(me),Ie.position.end=eo(me.end)}function be(me){const Ie=this.stack[this.stack.length-1];if(h("atHardBreak")){const F=Ie.children[Ie.children.length-1];F.position.end=eo(me.end),l("atHardBreak");return}!h("setextHeadingSlurpLineEnding")&&n.canContainEols.includes(Ie.type)&&(ge.call(this,me),pe.call(this,me))}function Ae(){l("atHardBreak",!0)}function Le(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=me}function Se(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=me}function ve(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=me}function Re(){const me=this.stack[this.stack.length-1];if(h("inReference")){const Ie=h("referenceType")||"shortcut";me.type+="Reference",me.referenceType=Ie,delete me.url,delete me.title}else delete me.identifier,delete me.label;l("referenceType")}function _e(){const me=this.stack[this.stack.length-1];if(h("inReference")){const Ie=h("referenceType")||"shortcut";me.type+="Reference",me.referenceType=Ie,delete me.url,delete me.title}else delete me.identifier,delete me.label;l("referenceType")}function J(me){const Ie=this.sliceSerialize(me),F=this.stack[this.stack.length-2];F.label=_k(Ie),F.identifier=ur(Ie).toLowerCase()}function ze(){const me=this.stack[this.stack.length-1],Ie=this.resume(),F=this.stack[this.stack.length-1];if(l("inReference",!0),F.type==="link"){const N=me.children;F.children=N}else F.alt=Ie}function st(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.url=me}function ee(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.title=me}function Ct(){l("inReference")}function tt(){l("referenceType","collapsed")}function at(me){const Ie=this.resume(),F=this.stack[this.stack.length-1];F.label=Ie,F.identifier=ur(this.sliceSerialize(me)).toLowerCase(),l("referenceType","full")}function yt(me){l("characterReferenceType",me.type)}function Ot(me){const Ie=this.sliceSerialize(me),F=h("characterReferenceType");let N;F?(N=Pk(Ie,F==="characterReferenceMarkerNumeric"?10:16),l("characterReferenceType")):N=Ug(Ie);const W=this.stack.pop();W.value+=N,W.position.end=eo(me.end)}function Tt(me){pe.call(this,me);const Ie=this.stack[this.stack.length-1];Ie.url=this.sliceSerialize(me)}function rt(me){pe.call(this,me);const Ie=this.stack[this.stack.length-1];Ie.url="mailto:"+this.sliceSerialize(me)}function Ye(){return{type:"blockquote",children:[]}}function xt(){return{type:"code",lang:null,meta:null,value:""}}function Ht(){return{type:"inlineCode",value:""}}function on(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Dt(){return{type:"emphasis",children:[]}}function Yt(){return{type:"heading",depth:void 0,children:[]}}function I(){return{type:"break"}}function Q(){return{type:"html",value:""}}function xe(){return{type:"image",title:null,url:"",alt:null}}function Ne(){return{type:"link",title:null,url:"",children:[]}}function je(me){return{type:"list",ordered:me.type==="listOrdered",start:null,spread:me._spread,children:[]}}function $e(me){return{type:"listItem",spread:me._spread,checked:null,children:[]}}function Ke(){return{type:"paragraph",children:[]}}function Et(){return{type:"strong",children:[]}}function It(){return{type:"text",value:""}}function Lt(){return{type:"thematicBreak"}}}function eo(e){return{line:e.line,column:e.column,offset:e.offset}}function Ok(e,n){let t=-1;for(;++t<n.length;){const i=n[t];Array.isArray(i)?Ok(e,i):YG(e,i)}}function YG(e,n){let t;for(t in n)if(Rk.call(n,t)){if(t==="canContainEols"){const i=n[t];i&&e[t].push(...i)}else if(t==="transforms"){const i=n[t];i&&e[t].push(...i)}else if(t==="enter"||t==="exit"){const i=n[t];i&&Object.assign(e[t],i)}}}function a1(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+El({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+El({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+El({start:n.start,end:n.end})+") is still open")}function KG(e){Object.assign(this,{Parser:n=>{const t=this.data("settings");return qG(n,Object.assign({},t,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function ZG(e,n){const t={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,t),e.applyData(n,t)}function JG(e,n){const t={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,t),[e.applyData(n,t),{type:"text",value:`
`}]}function $G(e,n){const t=n.value?n.value+`
`:"",i=n.lang?n.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,r={};i&&(r.className=["language-"+i]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:t}]};return n.meta&&(l.data={meta:n.meta}),e.patch(n,l),l=e.applyData(n,l),l={type:"element",tagName:"pre",properties:{},children:[l]},e.patch(n,l),l}function QG(e,n){const t={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function eq(e,n){const t={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function ba(e){const n=[];let t=-1,i=0,r=0;for(;++t<e.length;){const l=e.charCodeAt(t);let h="";if(l===37&&bi(e.charCodeAt(t+1))&&bi(e.charCodeAt(t+2)))r=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(h=String.fromCharCode(l));else if(l>55295&&l<57344){const d=e.charCodeAt(t+1);l<56320&&d>56319&&d<57344?(h=String.fromCharCode(l,d),r=1):h="ï¿½"}else h=String.fromCharCode(l);h&&(n.push(e.slice(i,t),encodeURIComponent(h)),i=t+r+1,h=""),r&&(t+=r,r=0)}return n.join("")+e.slice(i)}function Dk(e,n){const t=String(n.identifier).toUpperCase(),i=ba(t.toLowerCase()),r=e.footnoteOrder.indexOf(t);let l;r===-1?(e.footnoteOrder.push(t),e.footnoteCounts[t]=1,l=e.footnoteOrder.length):(e.footnoteCounts[t]++,l=r+1);const h=e.footnoteCounts[t],d={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+i,id:e.clobberPrefix+"fnref-"+i+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(n,d);const p={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(n,p),e.applyData(n,p)}function tq(e,n){const t=e.footnoteById;let i=1;for(;i in t;)i++;const r=String(i);return t[r]={type:"footnoteDefinition",identifier:r,children:[{type:"paragraph",children:n.children}],position:n.position},Dk(e,{type:"footnoteReference",identifier:r,position:n.position})}function nq(e,n){const t={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function iq(e,n){if(e.dangerous){const t={type:"raw",value:n.value};return e.patch(n,t),e.applyData(n,t)}return null}function Ak(e,n){const t=n.referenceType;let i="]";if(t==="collapsed"?i+="[]":t==="full"&&(i+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return{type:"text",value:"!["+n.alt+i};const r=e.all(n),l=r[0];l&&l.type==="text"?l.value="["+l.value:r.unshift({type:"text",value:"["});const h=r[r.length-1];return h&&h.type==="text"?h.value+=i:r.push({type:"text",value:i}),r}function rq(e,n){const t=e.definition(n.identifier);if(!t)return Ak(e,n);const i={src:ba(t.url||""),alt:n.alt};t.title!==null&&t.title!==void 0&&(i.title=t.title);const r={type:"element",tagName:"img",properties:i,children:[]};return e.patch(n,r),e.applyData(n,r)}function oq(e,n){const t={src:ba(n.url)};n.alt!==null&&n.alt!==void 0&&(t.alt=n.alt),n.title!==null&&n.title!==void 0&&(t.title=n.title);const i={type:"element",tagName:"img",properties:t,children:[]};return e.patch(n,i),e.applyData(n,i)}function sq(e,n){const t={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,t);const i={type:"element",tagName:"code",properties:{},children:[t]};return e.patch(n,i),e.applyData(n,i)}function aq(e,n){const t=e.definition(n.identifier);if(!t)return Ak(e,n);const i={href:ba(t.url||"")};t.title!==null&&t.title!==void 0&&(i.title=t.title);const r={type:"element",tagName:"a",properties:i,children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function lq(e,n){const t={href:ba(n.url)};n.title!==null&&n.title!==void 0&&(t.title=n.title);const i={type:"element",tagName:"a",properties:t,children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function cq(e,n,t){const i=e.all(n),r=t?uq(t):Ik(n),l={},h=[];if(typeof n.checked=="boolean"){const g=i[0];let y;g&&g.type==="element"&&g.tagName==="p"?y=g:(y={type:"element",tagName:"p",properties:{},children:[]},i.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let d=-1;for(;++d<i.length;){const g=i[d];(r||d!==0||g.type!=="element"||g.tagName!=="p")&&h.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!r?h.push(...g.children):h.push(g)}const p=i[i.length-1];p&&(r||p.type!=="element"||p.tagName!=="p")&&h.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:l,children:h};return e.patch(n,f),e.applyData(n,f)}function uq(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const t=e.children;let i=-1;for(;!n&&++i<t.length;)n=Ik(t[i])}return n}function Ik(e){return e.spread??e.children.length>1}function dq(e,n){const t={},i=e.all(n);let r=-1;for(typeof n.start=="number"&&n.start!==1&&(t.start=n.start);++r<i.length;){const h=i[r];if(h.type==="element"&&h.tagName==="li"&&h.properties&&Array.isArray(h.properties.className)&&h.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const l={type:"element",tagName:n.ordered?"ol":"ul",properties:t,children:e.wrap(i,!0)};return e.patch(n,l),e.applyData(n,l)}function hq(e,n){const t={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function pq(e,n){const t={type:"root",children:e.wrap(e.all(n))};return e.patch(n,t),e.applyData(n,t)}function fq(e,n){const t={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const Gg=Mk("start"),qg=Mk("end");function mq(e){return{start:Gg(e),end:qg(e)}}function Mk(e){return n;function n(t){const i=t&&t.position&&t.position[e]||{};return{line:i.line||null,column:i.column||null,offset:i.offset>-1?i.offset:null}}}function gq(e,n){const t=e.all(n),i=t.shift(),r=[];if(i){const h={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(n.children[0],h),r.push(h)}if(t.length>0){const h={type:"element",tagName:"tbody",properties:{},children:e.wrap(t,!0)},d=Gg(n.children[1]),p=qg(n.children[n.children.length-1]);d.line&&p.line&&(h.position={start:d,end:p}),r.push(h)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(r,!0)};return e.patch(n,l),e.applyData(n,l)}function vq(e,n,t){const i=t?t.children:void 0,r=(i?i.indexOf(n):1)===0?"th":"td",l=t&&t.type==="table"?t.align:void 0,h=l?l.length:n.children.length;let d=-1;const p=[];for(;++d<h;){const g=n.children[d],y={},S=l?l[d]:void 0;S&&(y.align=S);let T={type:"element",tagName:r,properties:y,children:[]};g&&(T.children=e.all(g),e.patch(g,T),T=e.applyData(n,T)),p.push(T)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(p,!0)};return e.patch(n,f),e.applyData(n,f)}function yq(e,n){const t={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const l1=9,c1=32;function bq(e){const n=String(e),t=/\r?\n|\r/g;let i=t.exec(n),r=0;const l=[];for(;i;)l.push(u1(n.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=t.exec(n);return l.push(u1(n.slice(r),r>0,!1)),l.join("")}function u1(e,n,t){let i=0,r=e.length;if(n){let l=e.codePointAt(i);for(;l===l1||l===c1;)i++,l=e.codePointAt(i)}if(t){let l=e.codePointAt(r-1);for(;l===l1||l===c1;)r--,l=e.codePointAt(r-1)}return r>i?e.slice(i,r):""}function wq(e,n){const t={type:"text",value:bq(String(n.value))};return e.patch(n,t),e.applyData(n,t)}function xq(e,n){const t={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,t),e.applyData(n,t)}const Sq={blockquote:ZG,break:JG,code:$G,delete:QG,emphasis:eq,footnoteReference:Dk,footnote:tq,heading:nq,html:iq,imageReference:rq,image:oq,inlineCode:sq,linkReference:aq,link:lq,listItem:cq,list:dq,paragraph:hq,root:pq,strong:fq,table:gq,tableCell:yq,tableRow:vq,text:wq,thematicBreak:xq,toml:Cu,yaml:Cu,definition:Cu,footnoteDefinition:Cu};function Cu(){return null}const Xg=function(e){if(e==null)return kq;if(typeof e=="string")return Cq(e);if(typeof e=="object")return Array.isArray(e)?Eq(e):Tq(e);if(typeof e=="function")return _d(e);throw new Error("Expected function, string, or object as test")};function Eq(e){const n=[];let t=-1;for(;++t<e.length;)n[t]=Xg(e[t]);return _d(i);function i(...r){let l=-1;for(;++l<n.length;)if(n[l].call(this,...r))return!0;return!1}}function Tq(e){return _d(n);function n(t){let i;for(i in e)if(t[i]!==e[i])return!1;return!0}}function Cq(e){return _d(n);function n(t){return t&&t.type===e}}function _d(e){return n;function n(t,...i){return!!(t&&typeof t=="object"&&"type"in t&&e.call(this,t,...i))}}function kq(){return!0}const Pq=!0,d1=!1,_q="skip",zk=function(e,n,t,i){typeof n=="function"&&typeof t!="function"&&(i=t,t=n,n=null);const r=Xg(n),l=i?-1:1;h(e,void 0,[])();function h(d,p,f){const g=d&&typeof d=="object"?d:{};if(typeof g.type=="string"){const S=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(d.type+(S?"<"+S+">":""))+")"})}return y;function y(){let S=[],T,k,P;if((!n||r(d,p,f[f.length-1]||null))&&(S=Rq(t(d,f)),S[0]===d1))return S;if(d.children&&S[0]!==_q)for(k=(i?d.children.length:-1)+l,P=f.concat(d);k>-1&&k<d.children.length;){if(T=h(d.children[k],k,P)(),T[0]===d1)return T;k=typeof T[1]=="number"?T[1]:k+l}return S}}};function Rq(e){return Array.isArray(e)?e:typeof e=="number"?[Pq,e]:[e]}const Yg=function(e,n,t,i){typeof n=="function"&&typeof t!="function"&&(i=t,t=n,n=null),zk(e,n,r,i);function r(l,h){const d=h[h.length-1];return t(l,d?d.children.indexOf(l):null,d)}};function Oq(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const h1={}.hasOwnProperty;function Dq(e){const n=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return Yg(e,"definition",i=>{const r=p1(i.identifier);r&&!h1.call(n,r)&&(n[r]=i)}),t;function t(i){const r=p1(i);return r&&h1.call(n,r)?n[r]:null}}function p1(e){return String(e||"").toUpperCase()}const Zu={}.hasOwnProperty;function Aq(e,n){const t=n||{},i=t.allowDangerousHtml||!1,r={};return h.dangerous=i,h.clobberPrefix=t.clobberPrefix===void 0||t.clobberPrefix===null?"user-content-":t.clobberPrefix,h.footnoteLabel=t.footnoteLabel||"Footnotes",h.footnoteLabelTagName=t.footnoteLabelTagName||"h2",h.footnoteLabelProperties=t.footnoteLabelProperties||{className:["sr-only"]},h.footnoteBackLabel=t.footnoteBackLabel||"Back to content",h.unknownHandler=t.unknownHandler,h.passThrough=t.passThrough,h.handlers={...Sq,...t.handlers},h.definition=Dq(e),h.footnoteById=r,h.footnoteOrder=[],h.footnoteCounts={},h.patch=Iq,h.applyData=Mq,h.one=d,h.all=p,h.wrap=Lq,h.augment=l,Yg(e,"footnoteDefinition",f=>{const g=String(f.identifier).toUpperCase();Zu.call(r,g)||(r[g]=f)}),h;function l(f,g){if(f&&"data"in f&&f.data){const y=f.data;y.hName&&(g.type!=="element"&&(g={type:"element",tagName:"",properties:{},children:[]}),g.tagName=y.hName),g.type==="element"&&y.hProperties&&(g.properties={...g.properties,...y.hProperties}),"children"in g&&g.children&&y.hChildren&&(g.children=y.hChildren)}if(f){const y="type"in f?f:{position:f};Oq(y)||(g.position={start:Gg(y),end:qg(y)})}return g}function h(f,g,y,S){return Array.isArray(y)&&(S=y,y={}),l(f,{type:"element",tagName:g,properties:y||{},children:S||[]})}function d(f,g){return Lk(h,f,g)}function p(f){return Kg(h,f)}}function Iq(e,n){e.position&&(n.position=mq(e))}function Mq(e,n){let t=n;if(e&&e.data){const i=e.data.hName,r=e.data.hChildren,l=e.data.hProperties;typeof i=="string"&&(t.type==="element"?t.tagName=i:t={type:"element",tagName:i,properties:{},children:[]}),t.type==="element"&&l&&(t.properties={...t.properties,...l}),"children"in t&&t.children&&r!==null&&r!==void 0&&(t.children=r)}return t}function Lk(e,n,t){const i=n&&n.type;if(!i)throw new Error("Expected node, got `"+n+"`");return Zu.call(e.handlers,i)?e.handlers[i](e,n,t):e.passThrough&&e.passThrough.includes(i)?"children"in n?{...n,children:Kg(e,n)}:n:e.unknownHandler?e.unknownHandler(e,n,t):zq(e,n)}function Kg(e,n){const t=[];if("children"in n){const i=n.children;let r=-1;for(;++r<i.length;){const l=Lk(e,i[r],n);if(l){if(r&&i[r-1].type==="break"&&(!Array.isArray(l)&&l.type==="text"&&(l.value=l.value.replace(/^\s+/,"")),!Array.isArray(l)&&l.type==="element")){const h=l.children[0];h&&h.type==="text"&&(h.value=h.value.replace(/^\s+/,""))}Array.isArray(l)?t.push(...l):t.push(l)}}}return t}function zq(e,n){const t=n.data||{},i="value"in n&&!(Zu.call(t,"hProperties")||Zu.call(t,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:Kg(e,n)};return e.patch(n,i),e.applyData(n,i)}function Lq(e,n){const t=[];let i=-1;for(n&&t.push({type:"text",value:`
`});++i<e.length;)i&&t.push({type:"text",value:`
`}),t.push(e[i]);return n&&e.length>0&&t.push({type:"text",value:`
`}),t}function Fq(e){const n=[];let t=-1;for(;++t<e.footnoteOrder.length;){const i=e.footnoteById[e.footnoteOrder[t]];if(!i)continue;const r=e.all(i),l=String(i.identifier).toUpperCase(),h=ba(l.toLowerCase());let d=0;const p=[];for(;++d<=e.footnoteCounts[l];){const y={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+h+(d>1?"-"+d:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:"â†©"}]};d>1&&y.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(d)}]}),p.length>0&&p.push({type:"text",value:" "}),p.push(y)}const f=r[r.length-1];if(f&&f.type==="element"&&f.tagName==="p"){const y=f.children[f.children.length-1];y&&y.type==="text"?y.value+=" ":f.children.push({type:"text",value:" "}),f.children.push(...p)}else r.push(...p);const g={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+h},children:e.wrap(r,!0)};e.patch(i,g),n.push(g)}if(n.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(n,!0)},{type:"text",value:`
`}]}}function Fk(e,n){const t=Aq(e,n),i=t.one(e,null),r=Fq(t);return r&&i.children.push({type:"text",value:`
`},r),Array.isArray(i)?{type:"root",children:i}:i}const jq=function(e,n){return e&&"run"in e?Nq(e,n):Hq(e||n)};function Nq(e,n){return(t,i,r)=>{e.run(Fk(t,n),i,l=>{r(l)})}}function Hq(e){return n=>Fk(n,e)}class Wl{constructor(n,t,i){this.property=n,this.normal=t,i&&(this.space=i)}}Wl.prototype.property={};Wl.prototype.normal={};Wl.prototype.space=null;function jk(e,n){const t={},i={};let r=-1;for(;++r<e.length;)Object.assign(t,e[r].property),Object.assign(i,e[r].normal);return new Wl(t,i,n)}function Mm(e){return e.toLowerCase()}class rr{constructor(n,t){this.property=n,this.attribute=t}}rr.prototype.space=null;rr.prototype.boolean=!1;rr.prototype.booleanish=!1;rr.prototype.overloadedBoolean=!1;rr.prototype.number=!1;rr.prototype.commaSeparated=!1;rr.prototype.spaceSeparated=!1;rr.prototype.commaOrSpaceSeparated=!1;rr.prototype.mustUseProperty=!1;rr.prototype.defined=!1;let Bq=0;const Jt=us(),Xn=us(),Nk=us(),et=us(),In=us(),sa=us(),Vi=us();function us(){return 2**++Bq}const zm=Object.freeze(Object.defineProperty({__proto__:null,boolean:Jt,booleanish:Xn,commaOrSpaceSeparated:Vi,commaSeparated:sa,number:et,overloadedBoolean:Nk,spaceSeparated:In},Symbol.toStringTag,{value:"Module"})),Hf=Object.keys(zm);class Zg extends rr{constructor(n,t,i,r){let l=-1;if(super(n,t),f1(this,"space",r),typeof i=="number")for(;++l<Hf.length;){const h=Hf[l];f1(this,Hf[l],(i&zm[h])===zm[h])}}}Zg.prototype.defined=!0;function f1(e,n,t){t&&(e[n]=t)}const Vq={}.hasOwnProperty;function wa(e){const n={},t={};let i;for(i in e.properties)if(Vq.call(e.properties,i)){const r=e.properties[i],l=new Zg(i,e.transform(e.attributes||{},i),r,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),n[i]=l,t[Mm(i)]=i,t[Mm(l.attribute)]=i}return new Wl(n,t,e.space)}const Hk=wa({space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Bk=wa({space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Vk(e,n){return n in e?e[n]:n}function Uk(e,n){return Vk(e,n.toLowerCase())}const Wk=wa({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Uk,properties:{xmlns:null,xmlnsXLink:null}}),Gk=wa({transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Xn,ariaAutoComplete:null,ariaBusy:Xn,ariaChecked:Xn,ariaColCount:et,ariaColIndex:et,ariaColSpan:et,ariaControls:In,ariaCurrent:null,ariaDescribedBy:In,ariaDetails:null,ariaDisabled:Xn,ariaDropEffect:In,ariaErrorMessage:null,ariaExpanded:Xn,ariaFlowTo:In,ariaGrabbed:Xn,ariaHasPopup:null,ariaHidden:Xn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:In,ariaLevel:et,ariaLive:null,ariaModal:Xn,ariaMultiLine:Xn,ariaMultiSelectable:Xn,ariaOrientation:null,ariaOwns:In,ariaPlaceholder:null,ariaPosInSet:et,ariaPressed:Xn,ariaReadOnly:Xn,ariaRelevant:null,ariaRequired:Xn,ariaRoleDescription:In,ariaRowCount:et,ariaRowIndex:et,ariaRowSpan:et,ariaSelected:Xn,ariaSetSize:et,ariaSort:null,ariaValueMax:et,ariaValueMin:et,ariaValueNow:et,ariaValueText:null,role:null}}),Uq=wa({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Uk,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:sa,acceptCharset:In,accessKey:In,action:null,allow:null,allowFullScreen:Jt,allowPaymentRequest:Jt,allowUserMedia:Jt,alt:null,as:null,async:Jt,autoCapitalize:null,autoComplete:In,autoFocus:Jt,autoPlay:Jt,blocking:In,capture:null,charSet:null,checked:Jt,cite:null,className:In,cols:et,colSpan:null,content:null,contentEditable:Xn,controls:Jt,controlsList:In,coords:et|sa,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Jt,defer:Jt,dir:null,dirName:null,disabled:Jt,download:Nk,draggable:Xn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Jt,formTarget:null,headers:In,height:et,hidden:Jt,high:et,href:null,hrefLang:null,htmlFor:In,httpEquiv:In,id:null,imageSizes:null,imageSrcSet:null,inert:Jt,inputMode:null,integrity:null,is:null,isMap:Jt,itemId:null,itemProp:In,itemRef:In,itemScope:Jt,itemType:In,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Jt,low:et,manifest:null,max:null,maxLength:et,media:null,method:null,min:null,minLength:et,multiple:Jt,muted:Jt,name:null,nonce:null,noModule:Jt,noValidate:Jt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Jt,optimum:et,pattern:null,ping:In,placeholder:null,playsInline:Jt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Jt,referrerPolicy:null,rel:In,required:Jt,reversed:Jt,rows:et,rowSpan:et,sandbox:In,scope:null,scoped:Jt,seamless:Jt,selected:Jt,shadowRootClonable:Jt,shadowRootDelegatesFocus:Jt,shadowRootMode:null,shape:null,size:et,sizes:null,slot:null,span:et,spellCheck:Xn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:et,step:null,style:null,tabIndex:et,target:null,title:null,translate:null,type:null,typeMustMatch:Jt,useMap:null,value:Xn,width:et,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:In,axis:null,background:null,bgColor:null,border:et,borderColor:null,bottomMargin:et,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Jt,declare:Jt,event:null,face:null,frame:null,frameBorder:null,hSpace:et,leftMargin:et,link:null,longDesc:null,lowSrc:null,marginHeight:et,marginWidth:et,noResize:Jt,noHref:Jt,noShade:Jt,noWrap:Jt,object:null,profile:null,prompt:null,rev:null,rightMargin:et,rules:null,scheme:null,scrolling:Xn,standby:null,summary:null,text:null,topMargin:et,valueType:null,version:null,vAlign:null,vLink:null,vSpace:et,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Jt,disableRemotePlayback:Jt,prefix:null,property:null,results:et,security:null,unselectable:null}}),Wq=wa({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Vk,properties:{about:Vi,accentHeight:et,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:et,amplitude:et,arabicForm:null,ascent:et,attributeName:null,attributeType:null,azimuth:et,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:et,by:null,calcMode:null,capHeight:et,className:In,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:et,diffuseConstant:et,direction:null,display:null,dur:null,divisor:et,dominantBaseline:null,download:Jt,dx:null,dy:null,edgeMode:null,editable:null,elevation:et,enableBackground:null,end:null,event:null,exponent:et,externalResourcesRequired:null,fill:null,fillOpacity:et,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:sa,g2:sa,glyphName:sa,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:et,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:et,horizOriginX:et,horizOriginY:et,id:null,ideographic:et,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:et,k:et,k1:et,k2:et,k3:et,k4:et,kernelMatrix:Vi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:et,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:et,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:et,overlineThickness:et,paintOrder:null,panose1:null,path:null,pathLength:et,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:In,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:et,pointsAtY:et,pointsAtZ:et,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Vi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Vi,rev:Vi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Vi,requiredFeatures:Vi,requiredFonts:Vi,requiredFormats:Vi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:et,specularExponent:et,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:et,strikethroughThickness:et,string:null,stroke:null,strokeDashArray:Vi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:et,strokeOpacity:et,strokeWidth:null,style:null,surfaceScale:et,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Vi,tabIndex:et,tableValues:null,target:null,targetX:et,targetY:et,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Vi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:et,underlineThickness:et,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:et,values:null,vAlphabetic:et,vMathematical:et,vectorEffect:null,vHanging:et,vIdeographic:et,version:null,vertAdvY:et,vertOriginX:et,vertOriginY:et,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:et,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Gq=/^data[-\w.:]+$/i,m1=/-[a-z]/g,qq=/[A-Z]/g;function Xq(e,n){const t=Mm(n);let i=n,r=rr;if(t in e.normal)return e.property[e.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&Gq.test(n)){if(n.charAt(4)==="-"){const l=n.slice(5).replace(m1,Kq);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=n.slice(4);if(!m1.test(l)){let h=l.replace(qq,Yq);h.charAt(0)!=="-"&&(h="-"+h),n="data"+h}}r=Zg}return new r(i,n)}function Yq(e){return"-"+e.toLowerCase()}function Kq(e){return e.charAt(1).toUpperCase()}const g1={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Zq=jk([Bk,Hk,Wk,Gk,Uq],"html"),Jq=jk([Bk,Hk,Wk,Gk,Wq],"svg");function $q(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return n=>{Yg(n,"element",(t,i,r)=>{const l=r;let h;if(e.allowedElements?h=!e.allowedElements.includes(t.tagName):e.disallowedElements&&(h=e.disallowedElements.includes(t.tagName)),!h&&e.allowElement&&typeof i=="number"&&(h=!e.allowElement(t,i,l)),h&&typeof i=="number")return e.unwrapDisallowed&&t.children?l.children.splice(i,1,...t.children):l.children.splice(i,1),i})}}var qk={exports:{}},xn={},v1;function Qq(){if(v1)return xn;v1=1;/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),k;k=Symbol.for("react.module.reference");function P(_){if(typeof _=="object"&&_!==null){var D=_.$$typeof;switch(D){case e:switch(_=_.type,_){case t:case r:case i:case f:case g:return _;default:switch(_=_&&_.$$typeof,_){case d:case h:case p:case S:case y:case l:return _;default:return D}}case n:return D}}}return xn.ContextConsumer=h,xn.ContextProvider=l,xn.Element=e,xn.ForwardRef=p,xn.Fragment=t,xn.Lazy=S,xn.Memo=y,xn.Portal=n,xn.Profiler=r,xn.StrictMode=i,xn.Suspense=f,xn.SuspenseList=g,xn.isAsyncMode=function(){return!1},xn.isConcurrentMode=function(){return!1},xn.isContextConsumer=function(_){return P(_)===h},xn.isContextProvider=function(_){return P(_)===l},xn.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},xn.isForwardRef=function(_){return P(_)===p},xn.isFragment=function(_){return P(_)===t},xn.isLazy=function(_){return P(_)===S},xn.isMemo=function(_){return P(_)===y},xn.isPortal=function(_){return P(_)===n},xn.isProfiler=function(_){return P(_)===r},xn.isStrictMode=function(_){return P(_)===i},xn.isSuspense=function(_){return P(_)===f},xn.isSuspenseList=function(_){return P(_)===g},xn.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===t||_===r||_===i||_===f||_===g||_===T||typeof _=="object"&&_!==null&&(_.$$typeof===S||_.$$typeof===y||_.$$typeof===l||_.$$typeof===h||_.$$typeof===p||_.$$typeof===k||_.getModuleId!==void 0)},xn.typeOf=P,xn}qk.exports=Qq();var eX=qk.exports;const tX=Er(eX);function nX(e){const n=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof n=="string"&&n.replace(/[ \t\n\f\r]/g,"")===""}function iX(e){return e.join(" ").trim()}function rX(e,n){const t={};return(e[e.length-1]===""?[...e,""]:e).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const Lm={}.hasOwnProperty,oX=new Set(["table","thead","tbody","tfoot","tr"]);function Xk(e,n){const t=[];let i=-1,r;for(;++i<n.children.length;)r=n.children[i],r.type==="element"?t.push(sX(e,r,i,n)):r.type==="text"?(n.type!=="element"||!oX.has(n.tagName)||!nX(r))&&t.push(r.value):r.type==="raw"&&!e.options.skipHtml&&t.push(r.value);return t}function sX(e,n,t,i){const r=e.options,l=r.transformLinkUri===void 0?_U:r.transformLinkUri,h=e.schema,d=n.tagName,p={};let f=h,g;if(h.space==="html"&&d==="svg"&&(f=Jq,e.schema=f),n.properties)for(g in n.properties)Lm.call(n.properties,g)&&lX(p,g,n.properties[g],e);(d==="ol"||d==="ul")&&e.listDepth++;const y=Xk(e,n);(d==="ol"||d==="ul")&&e.listDepth--,e.schema=h;const S=n.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},T=r.components&&Lm.call(r.components,d)?r.components[d]:d,k=typeof T=="string"||T===vt.Fragment;if(!tX.isValidElementType(T))throw new TypeError(`Component for name \`${d}\` not defined or is not renderable`);if(p.key=t,d==="a"&&r.linkTarget&&(p.target=typeof r.linkTarget=="function"?r.linkTarget(String(p.href||""),n.children,typeof p.title=="string"?p.title:null):r.linkTarget),d==="a"&&l&&(p.href=l(String(p.href||""),n.children,typeof p.title=="string"?p.title:null)),!k&&d==="code"&&i.type==="element"&&i.tagName!=="pre"&&(p.inline=!0),!k&&(d==="h1"||d==="h2"||d==="h3"||d==="h4"||d==="h5"||d==="h6")&&(p.level=Number.parseInt(d.charAt(1),10)),d==="img"&&r.transformImageUri&&(p.src=r.transformImageUri(String(p.src||""),String(p.alt||""),typeof p.title=="string"?p.title:null)),!k&&d==="li"&&i.type==="element"){const P=aX(n);p.checked=P&&P.properties?!!P.properties.checked:null,p.index=Bf(i,n),p.ordered=i.tagName==="ol"}return!k&&(d==="ol"||d==="ul")&&(p.ordered=d==="ol",p.depth=e.listDepth),(d==="td"||d==="th")&&(p.align&&(p.style||(p.style={}),p.style.textAlign=p.align,delete p.align),k||(p.isHeader=d==="th")),!k&&d==="tr"&&i.type==="element"&&(p.isHeader=i.tagName==="thead"),r.sourcePos&&(p["data-sourcepos"]=dX(S)),!k&&r.rawSourcePos&&(p.sourcePosition=n.position),!k&&r.includeElementIndex&&(p.index=Bf(i,n),p.siblingCount=Bf(i)),k||(p.node=n),y.length>0?vt.createElement(T,p,y):vt.createElement(T,p)}function aX(e){let n=-1;for(;++n<e.children.length;){const t=e.children[n];if(t.type==="element"&&t.tagName==="input")return t}return null}function Bf(e,n){let t=-1,i=0;for(;++t<e.children.length&&e.children[t]!==n;)e.children[t].type==="element"&&i++;return i}function lX(e,n,t,i){const r=Xq(i.schema,n);let l=t;l==null||l!==l||(Array.isArray(l)&&(l=r.commaSeparated?rX(l):iX(l)),r.property==="style"&&typeof l=="string"&&(l=cX(l)),r.space&&r.property?e[Lm.call(g1,r.property)?g1[r.property]:r.property]=l:r.attribute&&(e[r.attribute]=l))}function cX(e){const n={};try{ok(e,t)}catch{}return n;function t(i,r){const l=i.slice(0,4)==="-ms-"?`ms-${i.slice(4)}`:i;n[l.replace(/-([a-z])/g,uX)]=r}}function uX(e,n){return n.toUpperCase()}function dX(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const y1={}.hasOwnProperty,hX="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ku={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function Ju(e){for(const l in ku)if(y1.call(ku,l)&&y1.call(e,l)){const h=ku[l];console.warn(`[react-markdown] Warning: please ${h.to?`use \`${h.to}\` instead of`:"remove"} \`${l}\` (see <${hX}#${h.id}> for more info)`),delete ku[l]}const n=WU().use(KG).use(e.remarkPlugins||[]).use(jq,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use($q,e),t=new hk;typeof e.children=="string"?t.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const i=n.runSync(n.parse(t),t);if(i.type!=="root")throw new TypeError("Expected a `root` node");let r=vt.createElement(vt.Fragment,{},Xk({options:e,schema:Zq,listDepth:0},i));return e.className&&(r=vt.createElement("div",{className:e.className},r)),r}Ju.propTypes={children:wt.string,className:wt.string,allowElement:wt.func,allowedElements:wt.arrayOf(wt.string),disallowedElements:wt.arrayOf(wt.string),unwrapDisallowed:wt.bool,remarkPlugins:wt.arrayOf(wt.oneOfType([wt.object,wt.func,wt.arrayOf(wt.oneOfType([wt.bool,wt.string,wt.object,wt.func,wt.arrayOf(wt.any)]))])),rehypePlugins:wt.arrayOf(wt.oneOfType([wt.object,wt.func,wt.arrayOf(wt.oneOfType([wt.bool,wt.string,wt.object,wt.func,wt.arrayOf(wt.any)]))])),sourcePos:wt.bool,rawSourcePos:wt.bool,skipHtml:wt.bool,includeElementIndex:wt.bool,transformLinkUri:wt.oneOfType([wt.func,wt.bool]),linkTarget:wt.oneOfType([wt.func,wt.string]),transformImageUri:wt.func,components:wt.object};var Bn={},Jg={},Gl={},ql={},Yk="Expected a function",b1=NaN,pX="[object Symbol]",fX=/^\s+|\s+$/g,mX=/^[-+]0x[0-9a-f]+$/i,gX=/^0b[01]+$/i,vX=/^0o[0-7]+$/i,yX=parseInt,bX=typeof ii=="object"&&ii&&ii.Object===Object&&ii,wX=typeof self=="object"&&self&&self.Object===Object&&self,xX=bX||wX||Function("return this")(),SX=Object.prototype,EX=SX.toString,TX=Math.max,CX=Math.min,Vf=function(){return xX.Date.now()};function kX(e,n,t){var i,r,l,h,d,p,f=0,g=!1,y=!1,S=!0;if(typeof e!="function")throw new TypeError(Yk);n=w1(n)||0,$u(t)&&(g=!!t.leading,y="maxWait"in t,l=y?TX(w1(t.maxWait)||0,n):l,S="trailing"in t?!!t.trailing:S);function T(Y){var se=i,ce=r;return i=r=void 0,f=Y,h=e.apply(ce,se),h}function k(Y){return f=Y,d=setTimeout(D,n),g?T(Y):h}function P(Y){var se=Y-p,ce=Y-f,de=n-se;return y?CX(de,l-ce):de}function _(Y){var se=Y-p,ce=Y-f;return p===void 0||se>=n||se<0||y&&ce>=l}function D(){var Y=Vf();if(_(Y))return q(Y);d=setTimeout(D,P(Y))}function q(Y){return d=void 0,S&&i?T(Y):(i=r=void 0,h)}function G(){d!==void 0&&clearTimeout(d),f=0,i=p=r=d=void 0}function ne(){return d===void 0?h:q(Vf())}function K(){var Y=Vf(),se=_(Y);if(i=arguments,r=this,p=Y,se){if(d===void 0)return k(p);if(y)return d=setTimeout(D,n),T(p)}return d===void 0&&(d=setTimeout(D,n)),h}return K.cancel=G,K.flush=ne,K}function PX(e,n,t){var i=!0,r=!0;if(typeof e!="function")throw new TypeError(Yk);return $u(t)&&(i="leading"in t?!!t.leading:i,r="trailing"in t?!!t.trailing:r),kX(e,n,{leading:i,maxWait:n,trailing:r})}function $u(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function _X(e){return!!e&&typeof e=="object"}function RX(e){return typeof e=="symbol"||_X(e)&&EX.call(e)==pX}function w1(e){if(typeof e=="number")return e;if(RX(e))return b1;if($u(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=$u(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace(fX,"");var t=gX.test(e);return t||vX.test(e)?yX(e.slice(2),t?2:8):mX.test(e)?b1:+e}var OX=PX,Xl={};Object.defineProperty(Xl,"__esModule",{value:!0});Xl.addPassiveEventListener=function(e,n,t){var i=function(){var r=!1;try{var l=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,l)}catch{}return r}();e.addEventListener(n,t,i?{passive:!0}:!1)};Xl.removePassiveEventListener=function(e,n,t){e.removeEventListener(n,t)};Object.defineProperty(ql,"__esModule",{value:!0});var DX=OX,AX=MX(DX),IX=Xl;function MX(e){return e&&e.__esModule?e:{default:e}}var zX=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,AX.default)(e,n)},Fn={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,n){if(e){var t=zX(function(i){Fn.scrollHandler(e)},n);Fn.scrollSpyContainers.push(e),(0,IX.addPassiveEventListener)(e,"scroll",t)}},isMounted:function(e){return Fn.scrollSpyContainers.indexOf(e)!==-1},currentPositionX:function(e){if(e===document){var n=window.pageYOffset!==void 0,t=(document.compatMode||"")==="CSS1Compat";return n?window.pageXOffset:t?document.documentElement.scrollLeft:document.body.scrollLeft}else return e.scrollLeft},currentPositionY:function(e){if(e===document){var n=window.pageXOffset!==void 0,t=(document.compatMode||"")==="CSS1Compat";return n?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop}else return e.scrollTop},scrollHandler:function(e){var n=Fn.scrollSpyContainers[Fn.scrollSpyContainers.indexOf(e)].spyCallbacks||[];n.forEach(function(t){return t(Fn.currentPositionX(e),Fn.currentPositionY(e))})},addStateHandler:function(e){Fn.spySetState.push(e)},addSpyHandler:function(e,n){var t=Fn.scrollSpyContainers[Fn.scrollSpyContainers.indexOf(n)];t.spyCallbacks||(t.spyCallbacks=[]),t.spyCallbacks.push(e),e(Fn.currentPositionX(n),Fn.currentPositionY(n))},updateStates:function(){Fn.spySetState.forEach(function(e){return e()})},unmount:function(e,n){Fn.scrollSpyContainers.forEach(function(t){return t.spyCallbacks&&t.spyCallbacks.length&&t.spyCallbacks.indexOf(n)>-1&&t.spyCallbacks.splice(t.spyCallbacks.indexOf(n),1)}),Fn.spySetState&&Fn.spySetState.length&&Fn.spySetState.indexOf(e)>-1&&Fn.spySetState.splice(Fn.spySetState.indexOf(e),1),document.removeEventListener("scroll",Fn.scrollHandler)},update:function(){return Fn.scrollSpyContainers.forEach(function(e){return Fn.scrollHandler(e)})}};ql.default=Fn;var xa={},Yl={};Object.defineProperty(Yl,"__esModule",{value:!0});var LX=function(e,n){var t=e.indexOf("#")===0?e.substring(1):e,i=t?"#"+t:"",r=window&&window.location,l=i?r.pathname+r.search+i:r.pathname+r.search;n?history.pushState(history.state,"",l):history.replaceState(history.state,"",l)},FX=function(){return window.location.hash.replace(/^#/,"")},jX=function(e){return function(n){return e.contains?e!=n&&e.contains(n):!!(e.compareDocumentPosition(n)&16)}},NX=function(e){return getComputedStyle(e).position!=="static"},Uf=function(e,n){for(var t=e.offsetTop,i=e.offsetParent;i&&!n(i);)t+=i.offsetTop,i=i.offsetParent;return{offsetTop:t,offsetParent:i}},HX=function(e,n,t){if(t)return e===document?n.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(e).position!=="static"?n.offsetLeft:n.offsetLeft-e.offsetLeft;if(e===document)return n.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(NX(e)){if(n.offsetParent!==e){var i=function(p){return p===e||p===document},r=Uf(n,i),l=r.offsetTop,h=r.offsetParent;if(h!==e)throw new Error("Seems containerElement is not an ancestor of the Element");return l}return n.offsetTop}if(n.offsetParent===e.offsetParent)return n.offsetTop-e.offsetTop;var d=function(p){return p===document};return Uf(n,d).offsetTop-Uf(e,d).offsetTop};Yl.default={updateHash:LX,getHash:FX,filterElementInContainer:jX,scrollOffset:HX};var Rd={},$g={};Object.defineProperty($g,"__esModule",{value:!0});$g.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};var Qg={};Object.defineProperty(Qg,"__esModule",{value:!0});var BX=Xl,VX=["mousedown","mousewheel","touchmove","keydown"];Qg.default={subscribe:function(e){return typeof document<"u"&&VX.forEach(function(n){return(0,BX.addPassiveEventListener)(document,n,e)})}};var Kl={};Object.defineProperty(Kl,"__esModule",{value:!0});var Fm={registered:{},scrollEvent:{register:function(e,n){Fm.registered[e]=n},remove:function(e){Fm.registered[e]=null}}};Kl.default=Fm;Object.defineProperty(Rd,"__esModule",{value:!0});var UX=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},WX=Yl;Od(WX);var GX=$g,x1=Od(GX),qX=Qg,XX=Od(qX),YX=Kl,wr=Od(YX);function Od(e){return e&&e.__esModule?e:{default:e}}var Kk=function(e){return x1.default[e.smooth]||x1.default.defaultEasing},KX=function(e){return typeof e=="function"?e:function(){return e}},ZX=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},jm=function(){return ZX()||function(e,n,t){window.setTimeout(e,t||1e3/60,new Date().getTime())}}(),Zk=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},Jk=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollLeft;var t=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return t?window.pageXOffset:i?document.documentElement.scrollLeft:document.body.scrollLeft},$k=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollTop;var t=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return t?window.pageYOffset:i?document.documentElement.scrollTop:document.body.scrollTop},JX=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollWidth-n.offsetWidth;var t=document.body,i=document.documentElement;return Math.max(t.scrollWidth,t.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)},$X=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollHeight-n.offsetHeight;var t=document.body,i=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight)},QX=function e(n,t,i){var r=t.data;if(!t.ignoreCancelEvents&&r.cancel){wr.default.registered.end&&wr.default.registered.end(r.to,r.target,r.currentPositionY);return}if(r.delta=Math.round(r.targetPosition-r.startPosition),r.start===null&&(r.start=i),r.progress=i-r.start,r.percent=r.progress>=r.duration?1:n(r.progress/r.duration),r.currentPosition=r.startPosition+Math.ceil(r.delta*r.percent),r.containerElement&&r.containerElement!==document&&r.containerElement!==document.body?t.horizontal?r.containerElement.scrollLeft=r.currentPosition:r.containerElement.scrollTop=r.currentPosition:t.horizontal?window.scrollTo(r.currentPosition,0):window.scrollTo(0,r.currentPosition),r.percent<1){var l=e.bind(null,n,t);jm.call(window,l);return}wr.default.registered.end&&wr.default.registered.end(r.to,r.target,r.currentPosition)},ev=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},Zl=function(e,n,t,i){if(n.data=n.data||Zk(),window.clearTimeout(n.data.delayTimeout),XX.default.subscribe(function(){n.data.cancel=!0}),ev(n),n.data.start=null,n.data.cancel=!1,n.data.startPosition=n.horizontal?Jk(n):$k(n),n.data.targetPosition=n.absolute?e:e+n.data.startPosition,n.data.startPosition===n.data.targetPosition){wr.default.registered.end&&wr.default.registered.end(n.data.to,n.data.target,n.data.currentPosition);return}n.data.delta=Math.round(n.data.targetPosition-n.data.startPosition),n.data.duration=KX(n.duration)(n.data.delta),n.data.duration=isNaN(parseFloat(n.data.duration))?1e3:parseFloat(n.data.duration),n.data.to=t,n.data.target=i;var r=Kk(n),l=QX.bind(null,r,n);if(n&&n.delay>0){n.data.delayTimeout=window.setTimeout(function(){wr.default.registered.begin&&wr.default.registered.begin(n.data.to,n.data.target),jm.call(window,l)},n.delay);return}wr.default.registered.begin&&wr.default.registered.begin(n.data.to,n.data.target),jm.call(window,l)},Dd=function(e){return e=UX({},e),e.data=e.data||Zk(),e.absolute=!0,e},eY=function(e){Zl(0,Dd(e))},tY=function(e,n){Zl(e,Dd(n))},nY=function(e){e=Dd(e),ev(e),Zl(e.horizontal?JX(e):$X(e),e)},iY=function(e,n){n=Dd(n),ev(n);var t=n.horizontal?Jk(n):$k(n);Zl(e+t,n)};Rd.default={animateTopScroll:Zl,getAnimationType:Kk,scrollToTop:eY,scrollToBottom:nY,scrollTo:tY,scrollMore:iY};Object.defineProperty(xa,"__esModule",{value:!0});var rY=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},oY=Yl,sY=tv(oY),aY=Rd,lY=tv(aY),cY=Kl,Pu=tv(cY);function tv(e){return e&&e.__esModule?e:{default:e}}var _u={},S1=void 0;xa.default={unmount:function(){_u={}},register:function(e,n){_u[e]=n},unregister:function(e){delete _u[e]},get:function(e){return _u[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return S1=e},getActiveLink:function(){return S1},scrollTo:function(e,n){var t=this.get(e);if(!t){console.warn("target Element not found");return}n=rY({},n,{absolute:!1});var i=n.containerId,r=n.container,l=void 0;i?l=document.getElementById(i):r&&r.nodeType?l=r:l=document,n.absolute=!0;var h=n.horizontal,d=sY.default.scrollOffset(l,t,h)+(n.offset||0);if(!n.smooth){Pu.default.registered.begin&&Pu.default.registered.begin(e,t),l===document?n.horizontal?window.scrollTo(d,0):window.scrollTo(0,d):l.scrollTop=d,Pu.default.registered.end&&Pu.default.registered.end(e,t);return}lY.default.animateTopScroll(d,n,e,t)}};var Ad={};Object.defineProperty(Ad,"__esModule",{value:!0});var uY=Yl,Wf=dY(uY);function dY(e){return e&&e.__esModule?e:{default:e}}var hY={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,n){this.containers[e]=n},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,n=this.getHash();n?window.setTimeout(function(){e.scrollTo(n,!0),e.initialized=!0},10):this.initialized=!0},scrollTo:function(e,n){var t=this.scroller,i=t.get(e);if(i&&(n||e!==t.getActiveLink())){var r=this.containers[e]||document;t.scrollTo(e,{container:r})}},getHash:function(){return Wf.default.getHash()},changeHash:function(e,n){this.isInitialized()&&Wf.default.getHash()!==e&&Wf.default.updateHash(e,n)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};Ad.default=hY;Object.defineProperty(Gl,"__esModule",{value:!0});var Ru=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},pY=function(){function e(n,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),fY=vt,E1=Jl(fY),mY=ql,Ou=Jl(mY),gY=xa,vY=Jl(gY),yY=pa,zn=Jl(yY),bY=Ad,to=Jl(bY);function Jl(e){return e&&e.__esModule?e:{default:e}}function wY(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function xY(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function SY(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var T1={to:zn.default.string.isRequired,containerId:zn.default.string,container:zn.default.object,activeClass:zn.default.string,activeStyle:zn.default.object,spy:zn.default.bool,horizontal:zn.default.bool,smooth:zn.default.oneOfType([zn.default.bool,zn.default.string]),offset:zn.default.number,delay:zn.default.number,isDynamic:zn.default.bool,onClick:zn.default.func,duration:zn.default.oneOfType([zn.default.number,zn.default.func]),absolute:zn.default.bool,onSetActive:zn.default.func,onSetInactive:zn.default.func,ignoreCancelEvents:zn.default.bool,hashSpy:zn.default.bool,saveHashHistory:zn.default.bool,spyThrottle:zn.default.number};Gl.default=function(e,n){var t=n||vY.default,i=function(l){SY(h,l);function h(d){wY(this,h);var p=xY(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d));return r.call(p),p.state={active:!1},p}return pY(h,[{key:"getScrollSpyContainer",value:function(){var d=this.props.containerId,p=this.props.container;return d&&!p?document.getElementById(d):p&&p.nodeType?p:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var d=this.getScrollSpyContainer();Ou.default.isMounted(d)||Ou.default.mount(d,this.props.spyThrottle),this.props.hashSpy&&(to.default.isMounted()||to.default.mount(t),to.default.mapContainer(this.props.to,d)),Ou.default.addSpyHandler(this.spyHandler,d),this.setState({container:d})}}},{key:"componentWillUnmount",value:function(){Ou.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var d="";this.state&&this.state.active?d=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():d=this.props.className;var p={};this.state&&this.state.active?p=Ru({},this.props.style,this.props.activeStyle):p=Ru({},this.props.style);var f=Ru({},this.props);for(var g in T1)f.hasOwnProperty(g)&&delete f[g];return f.className=d,f.style=p,f.onClick=this.handleClick,E1.default.createElement(e,f)}}]),h}(E1.default.PureComponent),r=function(){var l=this;this.scrollTo=function(h,d){t.scrollTo(h,Ru({},l.state,d))},this.handleClick=function(h){l.props.onClick&&l.props.onClick(h),h.stopPropagation&&h.stopPropagation(),h.preventDefault&&h.preventDefault(),l.scrollTo(l.props.to,l.props)},this.spyHandler=function(h,d){var p=l.getScrollSpyContainer();if(!(to.default.isMounted()&&!to.default.isInitialized())){var f=l.props.horizontal,g=l.props.to,y=null,S=void 0,T=void 0;if(f){var k=0,P=0,_=0;if(p.getBoundingClientRect){var D=p.getBoundingClientRect();_=D.left}if(!y||l.props.isDynamic){if(y=t.get(g),!y)return;var q=y.getBoundingClientRect();k=q.left-_+h,P=k+q.width}var G=h-l.props.offset;S=G>=Math.floor(k)&&G<Math.floor(P),T=G<Math.floor(k)||G>=Math.floor(P)}else{var ne=0,K=0,Y=0;if(p.getBoundingClientRect){var se=p.getBoundingClientRect();Y=se.top}if(!y||l.props.isDynamic){if(y=t.get(g),!y)return;var ce=y.getBoundingClientRect();ne=ce.top-Y+d,K=ne+ce.height}var de=d-l.props.offset;S=de>=Math.floor(ne)&&de<Math.floor(K),T=de<Math.floor(ne)||de>=Math.floor(K)}var ie=t.getActiveLink();if(T){if(g===ie&&t.setActiveLink(void 0),l.props.hashSpy&&to.default.getHash()===g){var ge=l.props.saveHashHistory,pe=ge===void 0?!1:ge;to.default.changeHash("",pe)}l.props.spy&&l.state.active&&(l.setState({active:!1}),l.props.onSetInactive&&l.props.onSetInactive(g,y))}if(S&&(ie!==g||l.state.active===!1)){t.setActiveLink(g);var be=l.props.saveHashHistory,Ae=be===void 0?!1:be;l.props.hashSpy&&to.default.changeHash(g,Ae),l.props.spy&&(l.setState({active:!0}),l.props.onSetActive&&l.props.onSetActive(g,y))}}}};return i.propTypes=T1,i.defaultProps={offset:0},i};Object.defineProperty(Jg,"__esModule",{value:!0});var EY=vt,C1=Qk(EY),TY=Gl,CY=Qk(TY);function Qk(e){return e&&e.__esModule?e:{default:e}}function kY(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function k1(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function PY(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var _Y=function(e){PY(n,e);function n(){var t,i,r,l;kY(this,n);for(var h=arguments.length,d=Array(h),p=0;p<h;p++)d[p]=arguments[p];return l=(i=(r=k1(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(d))),r),r.render=function(){return C1.default.createElement("a",r.props,r.props.children)},i),k1(r,l)}return n}(C1.default.Component);Jg.default=(0,CY.default)(_Y);var nv={};Object.defineProperty(nv,"__esModule",{value:!0});var RY=function(){function e(n,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),OY=vt,P1=eP(OY),DY=Gl,AY=eP(DY);function eP(e){return e&&e.__esModule?e:{default:e}}function IY(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function MY(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function zY(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var LY=function(e){zY(n,e);function n(){return IY(this,n),MY(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return RY(n,[{key:"render",value:function(){return P1.default.createElement("input",this.props,this.props.children)}}]),n}(P1.default.Component);nv.default=(0,AY.default)(LY);var iv={},Id={};Object.defineProperty(Id,"__esModule",{value:!0});var FY=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},jY=function(){function e(n,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),NY=vt,_1=Md(NY),HY=dl;Md(HY);var BY=xa,R1=Md(BY),VY=pa,O1=Md(VY);function Md(e){return e&&e.__esModule?e:{default:e}}function UY(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function WY(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function GY(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Id.default=function(e){var n=function(t){GY(i,t);function i(r){UY(this,i);var l=WY(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,r));return l.childBindings={domNode:null},l}return jY(i,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(r){this.props.name!==r.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;R1.default.unregister(this.props.name)}},{key:"registerElems",value:function(r){R1.default.register(r,this.childBindings.domNode)}},{key:"render",value:function(){return _1.default.createElement(e,FY({},this.props,{parentBindings:this.childBindings}))}}]),i}(_1.default.Component);return n.propTypes={name:O1.default.string,id:O1.default.string},n};Object.defineProperty(iv,"__esModule",{value:!0});var D1=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},qY=function(){function e(n,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),XY=vt,A1=rv(XY),YY=Id,KY=rv(YY),ZY=pa,I1=rv(ZY);function rv(e){return e&&e.__esModule?e:{default:e}}function JY(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function $Y(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function QY(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var tP=function(e){QY(n,e);function n(){return JY(this,n),$Y(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return qY(n,[{key:"render",value:function(){var t=this,i=D1({},this.props);return i.parentBindings&&delete i.parentBindings,A1.default.createElement("div",D1({},i,{ref:function(r){t.props.parentBindings.domNode=r}}),this.props.children)}}]),n}(A1.default.Component);tP.propTypes={name:I1.default.string,id:I1.default.string};iv.default=(0,KY.default)(tP);var Gf=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},M1=function(){function e(n,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}();function z1(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function L1(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function F1(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Du=vt,No=ql,qf=xa,jn=pa,no=Ad,j1={to:jn.string.isRequired,containerId:jn.string,container:jn.object,activeClass:jn.string,spy:jn.bool,smooth:jn.oneOfType([jn.bool,jn.string]),offset:jn.number,delay:jn.number,isDynamic:jn.bool,onClick:jn.func,duration:jn.oneOfType([jn.number,jn.func]),absolute:jn.bool,onSetActive:jn.func,onSetInactive:jn.func,ignoreCancelEvents:jn.bool,hashSpy:jn.bool,spyThrottle:jn.number},eK={Scroll:function(e,n){console.warn("Helpers.Scroll is deprecated since v1.7.0");var t=n||qf,i=function(l){F1(h,l);function h(d){z1(this,h);var p=L1(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d));return r.call(p),p.state={active:!1},p}return M1(h,[{key:"getScrollSpyContainer",value:function(){var d=this.props.containerId,p=this.props.container;return d?document.getElementById(d):p&&p.nodeType?p:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var d=this.getScrollSpyContainer();No.isMounted(d)||No.mount(d,this.props.spyThrottle),this.props.hashSpy&&(no.isMounted()||no.mount(t),no.mapContainer(this.props.to,d)),this.props.spy&&No.addStateHandler(this.stateHandler),No.addSpyHandler(this.spyHandler,d),this.setState({container:d})}}},{key:"componentWillUnmount",value:function(){No.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var d="";this.state&&this.state.active?d=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():d=this.props.className;var p=Gf({},this.props);for(var f in j1)p.hasOwnProperty(f)&&delete p[f];return p.className=d,p.onClick=this.handleClick,Du.createElement(e,p)}}]),h}(Du.Component),r=function(){var l=this;this.scrollTo=function(h,d){t.scrollTo(h,Gf({},l.state,d))},this.handleClick=function(h){l.props.onClick&&l.props.onClick(h),h.stopPropagation&&h.stopPropagation(),h.preventDefault&&h.preventDefault(),l.scrollTo(l.props.to,l.props)},this.stateHandler=function(){t.getActiveLink()!==l.props.to&&(l.state!==null&&l.state.active&&l.props.onSetInactive&&l.props.onSetInactive(),l.setState({active:!1}))},this.spyHandler=function(h){var d=l.getScrollSpyContainer();if(!(no.isMounted()&&!no.isInitialized())){var p=l.props.to,f=null,g=0,y=0,S=0;if(d.getBoundingClientRect){var T=d.getBoundingClientRect();S=T.top}if(!f||l.props.isDynamic){if(f=t.get(p),!f)return;var k=f.getBoundingClientRect();g=k.top-S+h,y=g+k.height}var P=h-l.props.offset,_=P>=Math.floor(g)&&P<Math.floor(y),D=P<Math.floor(g)||P>=Math.floor(y),q=t.getActiveLink();if(D)return p===q&&t.setActiveLink(void 0),l.props.hashSpy&&no.getHash()===p&&no.changeHash(),l.props.spy&&l.state.active&&(l.setState({active:!1}),l.props.onSetInactive&&l.props.onSetInactive()),No.updateStates();if(_&&q!==p)return t.setActiveLink(p),l.props.hashSpy&&no.changeHash(p),l.props.spy&&(l.setState({active:!0}),l.props.onSetActive&&l.props.onSetActive(p)),No.updateStates()}}};return i.propTypes=j1,i.defaultProps={offset:0},i},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var n=function(t){F1(i,t);function i(r){z1(this,i);var l=L1(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,r));return l.childBindings={domNode:null},l}return M1(i,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(r){this.props.name!==r.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;qf.unregister(this.props.name)}},{key:"registerElems",value:function(r){qf.register(r,this.childBindings.domNode)}},{key:"render",value:function(){return Du.createElement(e,Gf({},this.props,{parentBindings:this.childBindings}))}}]),i}(Du.Component);return n.propTypes={name:jn.string,id:jn.string},n}},tK=eK;Object.defineProperty(Bn,"__esModule",{value:!0});Bn.Helpers=Bn.ScrollElement=Bn.ScrollLink=Bn.animateScroll=Bn.scrollSpy=Bn.Events=Bn.scroller=Bn.Element=Bn.Button=hP=Bn.Link=void 0;var nK=Jg,nP=Tr(nK),iK=nv,iP=Tr(iK),rK=iv,rP=Tr(rK),oK=xa,oP=Tr(oK),sK=Kl,sP=Tr(sK),aK=ql,aP=Tr(aK),lK=Rd,lP=Tr(lK),cK=Gl,cP=Tr(cK),uK=Id,uP=Tr(uK),dK=tK,dP=Tr(dK);function Tr(e){return e&&e.__esModule?e:{default:e}}var hP=Bn.Link=nP.default;Bn.Button=iP.default;Bn.Element=rP.default;Bn.scroller=oP.default;Bn.Events=sP.default;Bn.scrollSpy=aP.default;Bn.animateScroll=lP.default;Bn.ScrollLink=cP.default;Bn.ScrollElement=uP.default;Bn.Helpers=dP.default;Bn.default={Link:nP.default,Button:iP.default,Element:rP.default,scroller:oP.default,Events:sP.default,scrollSpy:aP.default,animateScroll:lP.default,ScrollLink:cP.default,ScrollElement:uP.default,Helpers:dP.default};const Cl=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","Z"];class N1 extends M.Component{renderAlphaLinks(){const n=[];for(let t=0;t<Cl.length;t++){const i=Cl[t],r=`alpha-${t}`;n.push(L.jsxs("span",{children:[L.jsx(hP,{to:r,offset:-120,containerId:"glossaryViewInner",smooth:"true",children:i})," "]},`link-${r}`))}return L.jsxs("div",{style:{display:"inline"},children:[L.jsx("input",{id:"glossary-filter",className:"searchBox",placeholder:"Filter by Entry",onChange:this.props.onFilterChange,value:this.props.filterTerm}),L.jsxs("div",{className:"alphaNav",children:[L.jsx("span",{style:{color:"black"},children:"Go to: "}),n]})]})}render(){return L.jsx("div",{className:"glossaryNav",children:this.renderAlphaLinks()})}}var pP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},H1=vt.createContext&&vt.createContext(pP),co=function(){return co=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},co.apply(this,arguments)},hK=function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(t[i[r]]=e[i[r]]);return t};function fP(e){return e&&e.map(function(n,t){return vt.createElement(n.tag,co({key:t},n.attr),fP(n.child))})}function ri(e){return function(n){return vt.createElement(pK,co({attr:co({},e.attr)},n),fP(e.child))}}function pK(e){var n=function(t){var i=e.attr,r=e.size,l=e.title,h=hK(e,["attr","size","title"]),d=r||t.size||"1em",p;return t.className&&(p=t.className),e.className&&(p=(p?p+" ":"")+e.className),vt.createElement("svg",co({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,h,{className:p,style:co(co({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&vt.createElement("title",null,l),e.children)};return H1!==void 0?vt.createElement(H1.Consumer,null,function(t){return n(t)}):n(pP)}function mP(e){return ri({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M1 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V2zM1 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V7zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V7zM1 12a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2z"}}]})(e)}function fK(e){return ri({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"}}]})(e)}function mK(e){return ri({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"}}]})(e)}function gP(e){return ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 504C119 504 8 393 8 256S119 8 256 8s248 111 248 248-111 248-248 248zm28.9-143.6L209.4 288H392c13.3 0 24-10.7 24-24v-16c0-13.3-10.7-24-24-24H209.4l75.5-72.4c9.7-9.3 9.9-24.8.4-34.3l-11-10.9c-9.4-9.4-24.6-9.4-33.9 0L107.7 239c-9.4 9.4-9.4 24.6 0 33.9l132.7 132.7c9.4 9.4 24.6 9.4 33.9 0l11-10.9c9.5-9.5 9.3-25-.4-34.3z"}}]})(e)}function vP(e){return ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8c137 0 248 111 248 248S393 504 256 504 8 393 8 256 119 8 256 8zm-28.9 143.6l75.5 72.4H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h182.6l-75.5 72.4c-9.7 9.3-9.9 24.8-.4 34.3l11 10.9c9.4 9.4 24.6 9.4 33.9 0L404.3 273c9.4-9.4 9.4-24.6 0-33.9L271.6 106.3c-9.4-9.4-24.6-9.4-33.9 0l-11 10.9c-9.5 9.6-9.3 25.1.4 34.4z"}}]})(e)}function gK(e){return ri({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(e)}function vK(e){return ri({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"}}]})(e)}function B1(e){return ri({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"}}]})(e)}function Nm(e){return ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"}}]})(e)}function yP(e){return ri({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.75 6.5a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5Z"}},{tag:"path",attr:{d:"M2.5 1h8.44a1.5 1.5 0 0 1 1.06.44l10.25 10.25a1.5 1.5 0 0 1 0 2.12l-8.44 8.44a1.5 1.5 0 0 1-2.12 0L1.44 12A1.497 1.497 0 0 1 1 10.94V2.5A1.5 1.5 0 0 1 2.5 1Zm0 1.5v8.44l10.25 10.25 8.44-8.44L10.94 2.5Z"}}]})(e)}function yK(e){return ri({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"}}]})(e)}function bK(e){return ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M249.38 336L170 256l79.38-80m-68.35 80H342"}},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}}]})(e)}function wK(e){return ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M262.62 336L342 256l-79.38-80m68.35 80H170"}},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 448c106 0 192-86 192-192S362 64 256 64 64 150 64 256s86 192 192 192z"}}]})(e)}function xK(e){return ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"44",d:"M416 128L192 384l-96-96"}}]})(e)}function SK(e){return ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 184l144 144 144-144"}}]})(e)}function EK(e){return ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 328l144-144 144 144"}}]})(e)}function TK(e){return ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336 112a80 80 0 00-160 0v96"}},{tag:"rect",attr:{width:"320",height:"272",x:"96",y:"208",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"48",ry:"48"}}]})(e)}function CK(){return L.jsxs("svg",{className:"document-pages-icon",width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[L.jsxs("g",{id:"fluent:document-one-page-20-regular",clipPath:"url(#clip0_288_13990)",children:[L.jsx("path",{id:"Vector",d:"M2.16667 0H8.83333C9.27536 0 9.69928 0.210714 10.0118 0.585786C10.3244 0.960859 10.5 1.46957 10.5 2V14C10.5 14.5304 10.3244 15.0391 10.0118 15.4142C9.69928 15.7893 9.27536 16 8.83333 16H2.16667C1.72464 16 1.30072 15.7893 0.988155 15.4142C0.675595 15.0391 0.5 14.5304 0.5 14V2C0.5 1.46957 0.675595 0.960859 0.988155 0.585786C1.30072 0.210714 1.72464 0 2.16667 0ZM2.16667 1C1.94565 1 1.73369 1.10536 1.57741 1.29289C1.42113 1.48043 1.33333 1.73478 1.33333 2V14C1.33333 14.2652 1.42113 14.5196 1.57741 14.7071C1.73369 14.8946 1.94565 15 2.16667 15H8.83333C9.05435 15 9.26631 14.8946 9.42259 14.7071C9.57887 14.5196 9.66667 14.2652 9.66667 14V2C9.66667 1.73478 9.57887 1.48043 9.42259 1.29289C9.26631 1.10536 9.05435 1 8.83333 1H2.16667ZM8 4.5C8.00003 4.61703 7.96586 4.73036 7.90343 4.82026C7.84099 4.91016 7.75426 4.97094 7.65833 4.992L7.58333 5H3.41667C3.31255 5.00023 3.21212 4.95367 3.13518 4.86949C3.05824 4.78531 3.01035 4.66961 3.00094 4.54518C2.99153 4.42074 3.02129 4.29659 3.08435 4.19717C3.14741 4.09775 3.23921 4.03026 3.34167 4.008L3.41667 4H7.58333C7.69384 4 7.79982 4.05268 7.87796 4.14645C7.9561 4.24021 8 4.36739 8 4.5ZM8 8C8.00003 8.11703 7.96586 8.23036 7.90343 8.32026C7.84099 8.41016 7.75426 8.47093 7.65833 8.492L7.58333 8.5H3.41667C3.31255 8.50023 3.21212 8.45367 3.13518 8.36949C3.05824 8.28531 3.01035 8.16961 3.00094 8.04518C2.99153 7.92074 3.02129 7.79659 3.08435 7.69717C3.14741 7.59775 3.23921 7.53026 3.34167 7.508L3.41667 7.5H7.58333C7.69384 7.5 7.79982 7.55268 7.87796 7.64645C7.9561 7.74021 8 7.86739 8 8ZM8 11.5C8.00003 11.617 7.96586 11.7304 7.90343 11.8203C7.84099 11.9102 7.75426 11.9709 7.65833 11.992L7.58333 12H3.41667C3.31255 12.0002 3.21212 11.9537 3.13518 11.8695C3.05824 11.7853 3.01035 11.6696 3.00094 11.5452C2.99153 11.4207 3.02129 11.2966 3.08435 11.1972C3.14741 11.0977 3.23921 11.0303 3.34167 11.008L3.41667 11H7.58333C7.69384 11 7.79982 11.0527 7.87796 11.1464C7.9561 11.2402 8 11.3674 8 11.5Z"}),L.jsx("path",{id:"Vector_2",d:"M13.1667 0H19.8333C20.2754 0 20.6993 0.210714 21.0118 0.585786C21.3244 0.960859 21.5 1.46957 21.5 2V14C21.5 14.5304 21.3244 15.0391 21.0118 15.4142C20.6993 15.7893 20.2754 16 19.8333 16H13.1667C12.7246 16 12.3007 15.7893 11.9882 15.4142C11.6756 15.0391 11.5 14.5304 11.5 14V2C11.5 1.46957 11.6756 0.960859 11.9882 0.585786C12.3007 0.210714 12.7246 0 13.1667 0ZM13.1667 1C12.9457 1 12.7337 1.10536 12.5774 1.29289C12.4211 1.48043 12.3333 1.73478 12.3333 2V14C12.3333 14.2652 12.4211 14.5196 12.5774 14.7071C12.7337 14.8946 12.9457 15 13.1667 15H19.8333C20.0543 15 20.2663 14.8946 20.4226 14.7071C20.5789 14.5196 20.6667 14.2652 20.6667 14V2C20.6667 1.73478 20.5789 1.48043 20.4226 1.29289C20.2663 1.10536 20.0543 1 19.8333 1H13.1667ZM19 4.5C19 4.61703 18.9659 4.73036 18.9034 4.82026C18.841 4.91016 18.7543 4.97094 18.6583 4.992L18.5833 5H14.4167C14.3125 5.00023 14.2121 4.95367 14.1352 4.86949C14.0582 4.78531 14.0103 4.66961 14.0009 4.54518C13.9915 4.42074 14.0213 4.29659 14.0843 4.19717C14.1474 4.09775 14.2392 4.03026 14.3417 4.008L14.4167 4H18.5833C18.6938 4 18.7998 4.05268 18.878 4.14645C18.9561 4.24021 19 4.36739 19 4.5ZM19 8C19 8.11703 18.9659 8.23036 18.9034 8.32026C18.841 8.41016 18.7543 8.47093 18.6583 8.492L18.5833 8.5H14.4167C14.3125 8.50023 14.2121 8.45367 14.1352 8.36949C14.0582 8.28531 14.0103 8.16961 14.0009 8.04518C13.9915 7.92074 14.0213 7.79659 14.0843 7.69717C14.1474 7.59775 14.2392 7.53026 14.3417 7.508L14.4167 7.5H18.5833C18.6938 7.5 18.7998 7.55268 18.878 7.64645C18.9561 7.74021 19 7.86739 19 8ZM19 11.5C19 11.617 18.9659 11.7304 18.9034 11.8203C18.841 11.9102 18.7543 11.9709 18.6583 11.992L18.5833 12H14.4167C14.3125 12.0002 14.2121 11.9537 14.1352 11.8695C14.0582 11.7853 14.0103 11.6696 14.0009 11.5452C13.9915 11.4207 14.0213 11.2966 14.0843 11.1972C14.1474 11.0977 14.2392 11.0303 14.3417 11.008L14.4167 11H18.5833C18.6938 11 18.7998 11.0527 18.878 11.1464C18.9561 11.2402 19 11.3674 19 11.5Z"})]}),L.jsx("defs",{children:L.jsx("clipPath",{id:"clip0_288_13990",children:L.jsx("rect",{width:"21",height:"16",transform:"translate(0.5)"})})})]})}const Js={};Js.transcriptionTypeLabels={f:"Facsimile",glossary:"Glossary",notes:"Notes"};const kK="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAAAbCAYAAAGrR/egAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFxEAABYlAXDOav8AAAW+SURBVEhL3ZcJTJRHFIDX1tZ6NI02adPEVu2pYlsvWqFVY0mlVQubNrZqxC5WkVMBVxQUrSKiGGMFigIaDFFA8cSjWkWEpkKVAOsBTZQiKsgh4LHicn6d/f8FdqELiNKoX7I78978M2/e/DPvf6OgDcw0aqHG0Bjs7cGHmzLZt3itkKr1KonODCvTfuMKSyu2navE871xKK3flxr0dH5YE+aKERXi8eGrJbG5Y+EpGkQR+prRWAXHkZT/QdNTP9jFw/0iSnR12M+YTcjxEhSfqLAZPYVJfb8wPNVMx6dqRMc7vdADXnxeqna80/SpYGsnVZs6KUbqFQ0UP5Bl/TqkyFUhmK5KU6cK/V9NCfcTv5TkfOql0sHWFq/jN6R6I3Kn+jNS0fOV16HkD+ZOnkHdzb8knYurI7lSrZmO+2REpzq1zz3o9pKh3kzXGIueK9bDHdwOGBQyrYw1vhczu/aRaGUsO8SRsBMaxh0tFRZr6W+1TjKsVDuSuP8QM5aphNSAt72ChF2XSA0aS/j2WDY5jSfisk4awxytjDnNnyiVRZlxFGmPcLi0hkOzXyHrlqRm/syvhK0CekzTH9oKLOzDJH2mlzWHC6WqWUyMmV86o5YWB8CUthe/azaIGf43Y11jKDUIdpcZBJnHa+j672JEMWTvXtCrj1y/ekdqevwe1QhP+nQXI/cUcc+gEzx+Q39Gi6WrEuE4FU40R90Whtrepo9CK49C/cfiuf6CQdLguiNPlK3Pk/cgF6nsKC0MVeFnY0viuhmyeHEzJ69rKUyYh3doJOFrVCzNquKWZi+W6hjKuM3sZYHs3Z+Ire/Pch8zmBoqOsrXHkcpSd/JnnJIdFFQXguv2unTJEF9Dt9ZxXErPZroAll11k2F7RR7ek32lBVmMDFUcMARtyT9B7iSiaPicFN4iUXTMjM0UWqvzQ5jsF82aVFu3BVyqro/ycVSE4tdl8sVM5gYCv7Gi8uGek7EByhcDkv1kDkuzFrgzrf26yV518J++JwqpPScM46qeQQGTcfZW56MOYwMGV54m8Gz87TYDF3Hs2fokam/DUmroHtvWJfR5it+sp2qFsdgdzCoxC89R5wGEUqfE/H6mDhfmoOw5HvYKPLgCnFHMuLJdqpeTLZcxIXz2bAnVCRoItnWf+mGOEJCAqRdgmsina01fWtP/varyofNwonu/cBGhKi7JeA3UtyCXoaVp8RdVkTlFjwdZ6pa3MJLb0o3cZk6cUMVss4obzCifaeq8jgW5sGYKSoiW16qxHcwZc3nLNqXS/F9g6od6nQV5MaOIkrsqLquCeftO1WcvJYAtTU2fhFEuASQ1TQRsVoVB3BVjGZDShmVQpS0GX6op1swZPBQhip9CDxhSC11ZeT/tpoh7w6ij+ItBo+JJqNaHiznVyX244fz8QgLhlqsIPLQTf3oJsnLw9COUwWc8HHFZbQPSeXlaGJXYPnpQcSuFrOvJm+rBQqvQ+RrhXVtKg4WSpQbTiLilEzxPgJcp/HOrCT0L1JXepZEzx74psnNQsPVlJ2kiaSlib/9Ubo7o4q/YlA8PG069SB9JbPVdkyIEYdVUF+WRUqYkhF7RUSqzSR0wEcEpFSgT3PO+PZl7JoYTt+Q97m0yHUXiVcHMGFMPNfEVs2LW8WAbv6clp4QR+VCNM4/LhQ7IZiN638hJHwjnpPeYLjKmzCNaZh+GNpwSktG4AJWTfdhjziTjWgLM4i1HsbqLct52yKcrAdy9LkSZsWwz4LYkd04GQ3bPaZiabuIbZVCLE4jLnAYfaOLpNaGhjsc+UnBwMiLwpJM+Rl/HN4ciMOCnZyvNig7gXmn7uVyMOYYUQf+EWm0EfU6dFeSWbTED//UG9Qan/byZLZu8MPZeQ5znbawK0naqDIiQBSkRKH28UWd1HgHuYtm5VKWuLvjNMeJ+GwN6duTOXc8B0PW2inaDRRPI8+gU/AvCRLk8OxchHwAAAAASUVORK5CYII=",PK="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAAASCAYAAAHpiZZSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFa8AABWvAQS7x0sAAAmkSURBVFhH7Zl5VFT3Fccfi2DkgFI1RpOcY416rKaWWmuNaeyC5DTEDZQcjaiNUGtEmugIYhVZVKIYDYoS3FCjBxeqYpEEK3HDKqKEzShEIEAwLEHWAQYG59vfve8NDDAKuFT/4HPOzPstb/m9++6725PwBOCTbDSXIL0dygMxd8qhOnKH26GObpCkwVi33gUeqt+KtoT6gnOArkrMalGTvhvanAPySR6XJ3OSg7lNYpMGW0v5fPlHJqCYGulbePleUz5C8KZ1WDNFQvqeQNy9Esn72fT7G+43qrn9/7kdEnQ7bmxioRvjPwErlFYLvPrK75WecXghQQFrkdPQBCshFmvLqehvLaGyked5ISQaJ88vMP7nEu7RoBAXLSTh45lwD7rBYiMtINGFLfESOxRB6vsrfCNESBqhKbkO1OfTkYwkWQBNGrwwJ5I1hMf4/xnz8EVkhSuN1gTEFyFXabfluk5pGBCnAQaG3lJ67RGLSORGw32gpxA9UAfPqDwe0y+CHonf6NnctlMt40Xk3T7G44Vo4HFDaHyc42lc0gIj9xbwIpz7LeK5j/kawHHxbM2CknH4R2URdBAhOYo3mbZKnxeRfxh+X5/lriS93rwIkoS8XwXP6SkRv1HK8fIi8iH1G4X+i+N47DN7CTHiEDrWbP11/SKePc/FIp4XFGGQavhxy8R5D1B2EqvPVIpeDUwnbwUyQxBVUC3UJBSHsgzsmFCbmDuVuOw9BBcL66FLXI0l+9OBK6uxM0nY4cRAbE/W4NdClcjEkDqRmSkUhy5UqfgUjstcxH81RttMFNs6/E6ywXei5aZ6i6bZ/JCqfbtfhShxyqLEMPheATL2eeDNqLsoPL8Zy/+rY9tI7wCq8ppVkKkrhdWCGEBTAct50VALJ0bvBVl/eje0OfvgcrSUd20WRuAl2Vi+ZzodSA5GZq3c7zljJ29l6uEcmqC0BSyMauwZPhdl1G+8iLURGTj6xhDcqeM9GHqvDIVRce8i5q67pswSFWx/CbLBBNlhgrwysdl3Hm/1kF2md5BsMxmDZmEIz603Cq3RYo2ZFTQ32wrjAL+nRDthPG/E+X2KH5R2Z2goScHLYdlKr2t02wwDuoVhwGMJY/C8MKXVMQ5uFBBmQOUjjFmnycP8P21S2g+jDv6DlnDrbLgchDwKLIwN5ia4IILP5E/Mkd2gw/s9RBohwvSYBb2QWqNDH4vVHHz077UKhpZFFoYOvT2ExxGMHvBHkK+xcw3g/vj5vig9PRl7swyFEYvbu2bguHity79eDJ+EGiSteg/uUblI3eSGNxccgubGRsyO/Uk4s1T8ZuopcZwa3q878Dn9544R//cwwnq42GrhYTtMbDUtwgiZ0Sr2uv75dNSKbdqu6cI33sd0c1lY8Wvo1nWYJplyn2BhrDdxFrsRyfCPlxOOrbbWHBWlVzXiK4+XuC2arRg8t0UzfvmyyNckOzRoryEgXETeCsXH/9JKGF5rzuPvkwbx+eg3TXUaid7TcV5EYWWXfRGWKnYrT4LjthuoTQnFtOgSqLMim/eXpCEoFa541siVfP4t3gPFf2OzMPLjtiDOwJPVFJ4Qx1jgNEUKuoZ2wnAymcl9goURZCKhiQLo0mOI+E4LC5f9NIya6DlIrSR/JfPlwj64K8uKkYWRje1H5SDbZ8QsIf1SrAg4yX2irTBUq+Kx0N4LlLrqubT84cIQwQQmfGLoiks6LQw9tcWnsDkDnRCGqQnMzMwgTY3gwdTNNvwU8hKDEXKjArfD5Ce55FjrXESvGeNH0vw47Bg7DCnCh989+Q7v/6HQkLITbYTBNqMMY/kpTwQ9sAcJo+U1AZLCFvE57TeL8XbCAHa5SliRoGv3mtSXJ/Nx1n3duV95xgeSeU8kHCYhPEwznjty4Tn5hNLuHHt9eiutrsPC6EamWxjdGOUZKkYuDtkNxQCyo+N9EZtDlvTRIIdFuSDZacoHyVZTTkj2mvJCstkPqkI9LjW39sH7zxIsRzthe5oy+MjUcb7pP8gTZ0WoU52xFwuEfGyHLcc5Iw7yaWKgGIki9JqBSLEwlx7mMKUHJhwtFUWbuReN+dYvoAfN8W8SQlOqoFH8UF3cIrxka6nMTUTw5VLUGvFR2gte+MUrVsp+Ej7YncylssTAMXitt/7cEuy8onCTq60y5LCpACvPOyPweA470dIuKEZmpDscXlHOMcQZK2L0M6W4sHwdtrr6Yr2XK4bT/KvvwDM2Cem7lmISX3Mg/uC6D9/q70k4fqq2kPOniouMGtlRAXDi/cXvtQl4N/quMleEbyI+x18Hi/VtmCDP9x6KsYFXxZwOpdfC8YFy3ItD7XCICp61eRwsUIWmfU1TRltTiJP/UK4nWaFP/x3izgUixKRPEBRZUdGCoMIFRVhUvKBrar8/CKeZX+CgPx1rCpO1tJY2ikHBBhU1mgMOEY5SpSciUwOtkQdM4SlVflKrxWRmCCcwVA6jJKZDssI5YjNa/icaL3I4S5UiCmmpWkRhrWHFSE+HFkOEvBVF5+G2MhhLT9BOeooR77EKG9yPiCC6gXMCqjBR9EdUXfHDnGWT4HZGkaqIBKnixNEgYaAYXCgrOIdPtyyG/ZGWLwBCnZG4IwTubxxBocgh6GMLRYtUlSKoMkVRI1WnKIyWLcYSuUpFVHWgGHWlnHxRKY8SsFZ0RjFyDnDUqa9u6WljMZxBX5TkhI1I5o9l/vF1YiwVITa9YC600iH8NlsC9SlXWTEMchciM/xVDLAhDXwLGy8VG7UabRUjP3IcRvYVx4xZiZPZdIsJWEmKsf8W6kTiR98GKPnjr1tt6EgxKDHMS4vArA+XQhX9oApYBacEhopBqQGVIDk9IBTFmBKehcrMMHy21gGbkpQ5gVqYfpVqNByi6NrGKOFSZZcUg9Hgp4zj8Ld1x+l2T78FTWUqtjmQ3Huhd7/tbDXqnoRibDAzgeS0H/laJZcPEnnbmnio6SbSgmFp4oevhBKwc8nYhr5WppAmbUO62ojFUMfCrY8Ttp3/ETTdjmbFqBadAuwb8SJ8tl7CDyyQAkRNHIGfSSPxUeRNLo9QsZ1KJFxwJ4qOwX6UN/75rxLkxE3FmIe6klguxmfvdcEY13lYm6Sky+Xn4PmuF2asuIp64d+vdFIxjFkM2ZWocfvAcrgN/j2CUnhArPMqdga8Dzt/+jhWiZSnbTGa1Cj+ty/Mem1hxWgs/xKrJQvMPkX33ARN5m44Smaw2NgFxWjnSrrpgFyu21NO3ZXafZfoSDGeEt2K8Zg82azEEA3K0p6LrKSbbvQA/wNGF2xMO2U8SgAAAABJRU5ErkJggg==",_K="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIcAAAAQCAYAAAFLg1xnAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFYcAABURAZUCwyYAAAk6SURBVFhH7ZkLUBXnFceXhwg1UkWrrVWrdpqk1alNxmgntrY0RpumEbVANYCIQUTLqFGBiqAEQQHRgWhMMdRHCQkQRYxRY0Q0xQdgfBFFBSI+UBRFEJCLl8v995yz914v8ijqdcZO+c3c3e/b3bv77dmz5/ufswosgJzEI+OOdID7QFUxtkRNwfnkINny7qoQWVd8/hdUpDtL23XNHhy5eQ/1OqBUq1dP8qTQSfSohgb56yehuiBJ3VpbBFzJosZdBPimYMwCH6ApH1OX/xOvhH0hh4RllMM2PJv+TSfR6w+jy9tpUBR1UKZ1j36oOJ1B/b7SB11o2Itu6m3KBYCoaYG0LARKtsI1ZBc2J01DfuY0Ocf1NGe5aMSo51FSrZqA+dC7D6oagF6ODmikEbA5rK2UliaZGv2NofXk8ECMGAfSFhZ5NpaArKhAW7wR9s95QXN7F370wVnEOavji1k7D5ekBbjTcb9dmYftN4Fx8cdlWyX9Qudlmx6nk9IfQWPGouQesLO8Xrap+xql3fDFTNOxijIed7b+FW5TPoWeHpHysbs1wmhn0aZJsJ+2XQ7S0C/cyQ8bLgKDFmbLNmZExJFmAwl6811alkjbSOLpOoSuzjEN5NVhP6YlvRtEw56ZtDyH+O5dpC8DsZ4s7eaPRk9e9FRQLdIeMpCy5ImwsbWTDRbjRh5GRh41dCwHv41s7aHdFKQVsnM8IGTYQIyMUN/ojsBPpFSrPi0jYhB2E3PYXWqghW231YYtwKXPQnFeWnWY3Ntf4ha7EEdRczfavTIYZdwQg+RJ2GG34tBjdC3mbm4UZu2rQmHqbBzRNmLljGTZfuNLX+y4CjX+ERyN2e04FrLrcWRmg6iRoQzBsfvkOJXGZlGCXZKjN7tlWMY17JjugBoK/Iz10r0Gg+jFTTmmMmYG0cHKNpourKUXy5bCMrDB1Z53Y9uSrkDNcfRZdx73ynMw4B8luHW6dYNUnNqC0CPAyY/84Rx/AhWHE/DnHbdwYeMCTEj61nCUyqrZo/HGnDRpv/ObqTRJAFl+r+O49lEN0gS32Axa69oxCD2mswlYd6oGKFiNxML6tg3SFhzdFMfeht6zhSVemdZo1yD/byjQN8n8E2O5SV9YH+5haFmWFxYtxZn416AMX2DYYqAhB3Z0H1drDf0OYOO62dBSUZbTCRQrG9yit+dNbis22H6bd+mwiPvdnOTA+tvHxGg/SyLRhwZE9XCX/gsjPpH9Rq58tZq294VXsD/1dAj65R9le+Ti6bIWavIx1lcNgim+0XRtYO6fBtD/BonQuLrLB7PHjce0hAIs2TwLL9F1JoSrMYaNcSLyZZyooI42F460b8SSz2Vf1vz+KOWgZ6B39Bb8wEGRGCacWStjTjyragExxvVUpETYQAk/RAK16RpW5Mk+lUYNunhuQ+XuZTCFvcYaOPR6X5rX9idgHwW6xT1/Iv3MVW4GaUFoLmHwyBRpqp7RhjEIjwVjZR0dNg9HA8NY5grBMfNRnzUdcd9QwCNeWRgg6xWjvcD3b26M5JcH4oqZTHnYGD3d1so6oWdXenz1mPRRgfRPxdijlgYtxihPQ3KpegcmY+gaDkKxo1lEr4GdZwYKkybB5HGa23CcqUr9ysLt+LItY9w6jWFhOdJM2/AeLds2Rm6EBw4e3YuA7Cok+/wNFwzbmdt7vDtkDOFKujzti2SE9oxxn2aWpTt5vgeqt05p3xgNByPAYaM2KwTdfTKhrT0Lzx210NVdh1NCIWInfk/+EOniSMum1o1BRHgMo2Ulfmo9RPoek4fTsgG/6zJU+iZqTtFN9EIxt79LgVsIC7Y7CPSMQO1XHTOG0TMOBA5BUVX7xqijObS73QRSUoCDrYuMuYUxZNkG1RdUUfSscTj8Vw88w4yHjfGotGMMNYD67Sbh84xxLM7ZIrPJw3TqjE7aRJyD4yinKs1m2WcVygd55n4aSfLThsMdp1ethbyWNEoY5LTrSULhk9CKczRBW7IJE627INaQgzdqipHoYgV770zJbXny5fyWJ2BGU3USH7p2g88uyherj8lkzPkuwzkvT8qc9/K5K7/diOmKIwYv/pp6NKF/txPBLn0xdLOx1GWOBpf3rIR/3+FYKklDpeTGPHk7x5+kvk6KBqxopHDAXMkSZWNeQHhADfKivBA41hdZxuruuU/gt3IJ5ufQdHHpU/gEBMA/1aB97uzHrHGL4BGRC86Eqw764g8DR8Iv/oxJiVXs88Dofv0wNfoQbvCGgliMGTwDwR9f4MIxbqY5iyjgvJuFwQPnKBOBwDm4Kh8vY9Mvfoi/v38I16Xw0L5zNGTNQx/S2HPSLqKGE/Dz6+Dk8BbW5N0hOUNQvs6CgnN2FhWct7Ow4Nyd5QTn7ywwOIdHeTrcbaww8V9X0WRM5ol2IocejfXZCKV5i6WeYmuP7jMypVLNMpULiC2mM5KsXMVm2cqFRZX7Il+5yMgSlitFrNykOMJUFYuC4yKJuYoTSNpyTd4ob4XaIpG5XKB8dOcgavIQ4RmI1/2/JiOWIt0vGkvm5qAO17Bj/lsYYLxfs98Q92XIogfK+QIXXozKkOECDCtEKcIwTfmiFKUYw/vT23IOsnBuJH79/PfV63h+gKPl5rXQ/+Ice2aKulQLOMw5UZn8VYBlNxdeWXrztwojLMH5iwHL8ObOkSZFHlahZr7RmnPoSMssh/WUVClNC5TIcYmQkzn2Q07ouFTYvJZFUHLHZUNO8NS4wZDZKdHjEiIne4/kHJQEcnmRE0EpMTKmaYUH+xjOQdw9Ggnv0Nfg7OeKxKi52C//rcK/F7pg0eRAHOIyXCtw/mRJ53gY3YEFGDQlBplFPAD9YzrHNUlQufTJSaqx/Mlwsspl0CdwDurrGnAg1PDm2HRFN69UXD4QDiu7t5EpHqOTKqGUP/hn54g+c3ZL6GW4FMLfRmRfj36GkgijlZJqh51D0EjJhL+rKMqLGDUiFEFrfTHapDluInfdLPxc9g/H5AlxWJYchzfW5Bv2t8ZdnFzhjZeeexXvfGYcm0pVbhg8RxnGTr/fz14FrqYyFneOsm0YM7y/6VqK13rk3TBGj8eNHGWoMxryzFr5tKeef7yUdfgzH9Nh53hsGu+hfO97cPDebnKMTtrmf1KQdtJJS4D/ACf1pRCRRDX9AAAAAElFTkSuQmCC",RK="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAAUCAYAAAE8S7kiAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFYcAABXWARG5gq8AAAjbSURBVFhH7VkLUFXXFX0FBayaUhirzSTqxPysE2zScUJNzIgitRotAbGQGDRpsBGjVT4CSlAkShQBLaig0vhJTBs1piJRRENBPvKRB7wPj+c0yKeIn1gbK4rCW9373Ps+IBDQR6zRNbPfvfudc++5++6zz91rHwXuEh1u0ExyUzplGCrlEwmXSJT0U117GPqCZFSq1R1v0DOoVCqT3L0Je3xsgVZ69OaLpLaQfCML4wqJjkQjjDtvAMq+boROXwy1RgsD6eYnuHZePukIlXyUoNfrTY/PuGsTegLLQS2FIR5AvAYGvwqG0ZqWWnFown/FEbggHwmN6fIJw2hle68zrpMU6ppQmuItBq3O3wRNVUH7B7hX+F4Gt3zlltJucAf/z8VRMehRzHAaicWDR2Kh0zPwHbMckSHP4JUnJ4n28NB3MM73LxjzrJfQBwz7HUbPXYAJb8TDbfQyRD7nh+eGKjCWZOEwbzh6hGN+fCYmr9yPV94/hH42gfCwce98cKc/fom0cEcMX3ocX8WHmwb3fylWtPPgAZlN8AyaKfSgkL/DxzUUEbHZmLMyWfz39OtrsPjxVTiycKgYfG9uibA2+mAxJn9w5HbLjeDBewMevDtYvmpLuacTzproKqy7EobJeFPIG0Ghb5wG1gJPl75C3xpP69+QTWpxmrXRG9euVuKp7TVCV32ShDpaDzk2GBwfvC4aY8QIs/FnMVKhgMLVX9YZSsSuLRJniR5v4bJBI2IIOIcnua8s2bQMczwxOKZ4LeW44vWUYys9+jFTX4ViLrSFfxZxpq3eh34W92mlb5XJ+J2vmRsU9gPpHwOC6TyDP3cMMt7OK1S07/qn9NeF0u1CX1XQJvSsBF8ohryAhB2LuLVL42eNojFeDkCYxxzxNZWgwuLfeIv77dBcpeFLZeMJZQni/7FBnwi1O+NVWh18h/xE9P+8sEx8WNh49nZe4nTxv9vaLHH9Dybm7wQPjf8hoLKy8rZFrTthPDS+rbUOscVCN+FiVjRo2bEeag7jtZQKWbE++tT4wnUvYcmJm6g/Fo20r4nllGxFUF4b/pWTiPBTQPlHMci7RQRJvx9un11AQaI/Ei1tZeO367DmzTegJ7VkxWyEF/1baiPsmeOK6BMN0G6egS3qm9jo/jTymqihaT8iP6MrWvOxOq0MKIrB7I05QMH7UMxJJS55HJuO1aMsxQe7sk9juaMDTpVrkeQ5AIVKLWba26BEqYJuXxDSSsuhyd6A2EzpwXpsfP722dLJt3V4dEk2UsKcJZ346jyX3VB3MD53wwqUSF9ACRaeTw/zEp+caAvjt3iuwWU+MSgRtvofSHCbiwZSM7wmiL5CZseT0RH4m4ZoZ0sWPi1spB63EPOFCkoy/uN8LZwHyX1JNp9UYrrdZChVGoQMsDffJ3AXj9QL45O9cIOONy+qMHLbWRyOn4VWbrjRgMd++XGPjPdOO4Ol68KEeiU3DCE5ZuNTvAJAE4oGzkDg1irET5SMP7XWFYXnuEGCga7ryvjdJysxeMoKqDRqaXqrtbLxaiRMt0VZRRfT3vRWSBwTKnD9UgYcnANEJ0bBVk9E/FYB5+HPyv+0YB71HTzqV5J6vUFcOykkGW5/bejC85WoOxol+kXt3QqvZflyI7DNbynGT3gCiinBQl8vG8+YMtZJXKMmm7szfld2Mc4UpcKO+ip+HUEvocpkvJrO7frZiPtUVPZytTd6vq9g8vwd4oH+1N0JHmjjH2Q8dPz/Gbgs0dvlqzdiRDvH8wevHau3EPuBj2AjV2UNzSID4DKHVZNfa4I+qlw56Mtkuq9wpqYep7f6iMoEf7hNGYuVxIjbHM+1rI6pngltN3D5SJg8GX6Mn/5sMzRykwnXziN/x+twXH0IGX+SJg1nRcbSj4QWUQLiDInbOUsyloIovxMkgethnC4yOGXkuhinjUAjcr/YiwXzFmGpF10/wh3+xzrslnR0/LfliHt3ovzcLK7wjyqCObm0hBJbZsUjNTgOfv4vSv0p6xKlJcaNAqyPOYANoePx8lPUNnUVDpw1UIr/JWaMH2Ua4/cbMlHPNSaCITsUoz9Mx0frn8cLj0vtb+/UovHEKriMGCRd84edqLrSirO1DR0cX4XqmnREDXPCQPneijeTkFNCJEWjRXVuAqa/moB1ixzgYMv32YbicjURmRDY97c1PU/gLqUps2P0MOLtMPCRRJRzp9bviHh2PGWCXHc3ZoPMBXgDgPkAb/4wJ+DNAMELGMQNeGOA+QFvCjFH6NrxEmfg2mC71NkS3xHxzCl4s8GSV5ihEpkm7wOYsk3iGrwhwXyDN6OYc3Bt0Zh658W8iNUpe6GzeCGGnAj8YmUajnAnImJccxQpOaPlKywZ4YP1B8/I9ctbogbJKTrXITlNZ8czTynd4oVBC5KRWaiERk3Rr66CvnATXrUPRGpumSjOcvrONUpO4XkTLH6aLd7bSTo5WkS6WoOcOA/86L3daG2jSUroXcQzeuJ4Yr7GCrcAMWCudDML5mo3M2FjxVvCJVH5ZlbM1W+rOT5VS8o5HI30wc9pAj/vF4aSZg7a7hxPEU/Mmivogl0ziGFzJZ1ZNlfTmWmbHX8O+yePwbLln0Ivb3B2BPOw9o7PEkVn5mTSotC545mdp69whkNAHDmeIpwdb7l0E2HlwrTZ8RpRnQ/qb4PAtGKUGx1vIUZY3/HNF1GwbjxsHYeDiDvhKuoyE+E9dAGOCStbRP2H9x65BsQb+lwH4n3I8EKpvfZoLN4d6oKoUta/gTJ1Pp5wcsG0w71zPFcO0JSB4KD58E2TJ2LNIYROdYbCxa9dGcUMHfb4jYPDuHcop5G2pJVJ0/BW+Cpk1rN2WhBty4hH00G4j/HE28lF9KGSkBflAt8PdqLiP6Tkh9+R47kmVV17GJFOAzAxeC9OnlZRROtRnDQTDlNW4sCpCugK2kc8TwbdvmD0t5mE1RllqBBEPhdxU23gHnscbYZOIt4q6GSpv7/QyVL/PeKeZPVWwUPH3xXuX8c/xH0A4H+sQgIhfdYH4gAAAABJRU5ErkJggg==";function Hm(e){return L.jsx(zC,{anchorEl:e.anchorEl,open:e.open,style:e.marginStyle,children:L.jsx(iC,{in:e.open,children:L.jsxs(jl,{className:"helpContainer",children:[L.jsx("div",{onClick:e.onClose,className:"closeX",children:L.jsx("span",{className:"fa fa-window-close"})}),L.jsxs("div",{children:[L.jsx(kn,{variant:"h6",component:"h2",children:"Toolbar Buttons"}),L.jsxs(kg,{children:[L.jsxs(oo,{children:[L.jsx("span",{className:"fa fa-lock"}),L.jsx(al,{primary:"Toggle Sync Views"})]}),L.jsxs(oo,{children:[L.jsx("span",{className:"fa fa-book"}),L.jsx(al,{primary:"Toggle Book Mode"})]}),L.jsxs(oo,{children:[L.jsx("span",{className:"fa fa-code"}),L.jsx(al,{primary:"Toggle XML Mode"})]}),L.jsxs(oo,{children:[L.jsxs("span",{className:"horizontal-buttons",children:[L.jsx(gP,{}),L.jsx(vP,{})]}),L.jsx(al,{primary:"Go Forward / Back"})]}),L.jsxs(oo,{children:[L.jsx("span",{className:"fa fa-hand-point-right"}),L.jsx(al,{primary:"Jump to folio"})]}),L.jsxs("div",{className:"readingGuide",children:[L.jsx(kn,{variant:"h6",component:"h2",children:"Reading Guide"}),L.jsxs("table",{children:[L.jsx("thead",{children:L.jsxs("tr",{children:[L.jsx("th",{children:L.jsx(kn,{variant:"overline",component:"span",children:"Syntax"})}),L.jsx("th",{children:L.jsx(kn,{variant:"overline",component:"span",children:"Meaning"})})]})}),L.jsxs("tbody",{children:[L.jsxs("tr",{children:[L.jsx("td",{children:L.jsx("img",{src:RK,alt:"howtouse-ups"})}),L.jsx("td",{children:L.jsx(kn,{children:"Text is under the paper strip"})})]}),L.jsxs("tr",{children:[L.jsx("td",{children:L.jsx("img",{src:PK,alt:"howtouse-curly"})}),L.jsx("td",{children:L.jsx(kn,{children:"Expanded version implied by abbreviation marks"})})]}),L.jsxs("tr",{children:[L.jsx("td",{children:L.jsx("img",{src:_K,alt:"howtouse-square"})}),L.jsx("td",{children:L.jsx(kn,{children:"Editorial interventions and corrections"})})]}),L.jsxs("tr",{children:[L.jsx("td",{children:L.jsx("img",{src:kK,alt:"howtouse-asterisk"})}),L.jsx("td",{children:L.jsx(kn,{children:"Editorial Comments"})})]})]})]})]})]}),L.jsxs(kn,{children:["See Â ",L.jsx("a",{href:"#/content/how-to-use",children:"How to Use"}),"Â  for more information."]})]})]})})})}function OK(e){const[n,t]=M.useState(""),i=!!e.anchorEl,r=i?`${e.side}_jumpInput`:void 0,l=p=>{p.preventDefault();const f=new FormData(p.target).get("folioID");e.submitHandler(f,e.side),e.blurHandler(),t("")},h=p=>{t(p.target.value)},d=M.useRef(null);return M.useEffect(()=>{d.current&&d.current.focus()},[d,i]),L.jsx(pC,{id:r,open:i,anchorEl:e.anchorEl,onClose:e.blurHandler,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:L.jsx("form",{onSubmit:l,children:L.jsx("input",{id:r,name:"folioID",onBlur:e.blurHandler,onChange:h,placeholder:"Page Name (e.g. '3r')",ref:d,type:"text",value:n})})})}function DK(e){return L.jsxs("button",{className:e.isActive?"active":"",onClick:e.onClick,type:"button",children:[e.isActive&&L.jsx(fK,{}),e.name]})}function AK(e){const{tagsLeft:n,tagsRight:t,toggleTag:i}=M.useContext(va),r=M.useMemo(()=>e.side==="right"?t:n,[e.side,t,n]);return L.jsxs("div",{className:"tag-bar",children:[L.jsxs("div",{className:"tag-list",children:[L.jsxs("span",{className:"tag-label",children:[L.jsx(yP,{}),"Tags"]}),e.folio.tagIds.map(l=>{let h;return e.document.variorum?h=e.document.tags[e.folio.doc_id]?e.document.tags[e.folio.doc_id][l]:void 0:h=e.document.tags[l],h?L.jsx(DK,{isActive:r.includes(l),name:h,onClick:()=>i(l,e.side)},l):null})]}),L.jsx("button",{className:"tag-bar-close",onClick:e.toggleTags,type:"button",children:L.jsx(mK,{})})]})}const IK={anchorEl:null};function V1(e){return L.jsxs(L.Fragment,{children:[L.jsx("span",{title:"Go back",onClick:e.changeCurrentFolio,"data-id":e.documentView[e.side].previousFolioShortID,className:e.documentView[e.side].hasPrevious?"nav-arrow":"disabled nav-arrow",children:L.jsx(bK,{})}),L.jsx("span",{title:"Go forward",onClick:e.changeCurrentFolio,"data-id":e.documentView[e.side].nextFolioShortID,className:e.documentView[e.side].hasNext?"nav-arrow":"disabled nav-arrow",children:L.jsx(wK,{})})]})}function U1(e){return L.jsx("button",{className:"grid-view-button",style:{cursor:e.documentView[e.side].transcriptionType!=="g"?"pointer":"default",padding:"0 15px"},title:e.documentView[e.side].transcriptionType!=="g"&&"Return to Grid View",onClick:e.documentView[e.side].transcriptionType!=="g"&&e.onGoToGrid,type:"button",children:L.jsx(mP,{})})}function Xf(e){return L.jsx("button",{className:`toggle-button ${e.active?"active":""}`,onClick:e.onClick,title:"Toggle XML Mode",type:"button",children:L.jsx(e.icon,{})})}function MK(e){var n;const[t,i]=M.useState({...IK}),[r,l]=M.useState(!1),[h,d]=M.useState(!1),[p,f]=M.useState(!1),g=M.useRef(null),y=M.useRef(null),S=()=>{i({anchorEl:null})},T=ze=>{ze.target.value===void 0||ze.target.value===0||e.documentViewActions.changeTranscriptionType(e.side,ze.target.value)},k=()=>{e.documentViewActions.changeTranscriptionType(e.side,"g")},P=()=>{l(!r)},_=()=>{d(!h)},D=()=>f(!p),q=()=>{e.documentView.bookMode||(e.documentViewActions.changeCurrentFolio(e.documentView.left.iiifShortID,"left",e.documentView.left.transcriptionType),e.documentViewActions.changeCurrentFolio(e.documentView.left.nextFolioShortID,"right",e.documentView.left.transcriptionType)),e.documentViewActions.setBookMode(e.documentView.left.iiifShortID,!e.documentView.bookMode)},G=()=>{e.documentViewActions.setXMLMode(e.side,!e.documentView[e.side].isXMLMode)},ne=()=>{if(e.documentView.bookMode){q();return}e.documentView.linkedMode===!1&&(e.side==="left"?e.documentViewActions.changeCurrentFolio(e.documentView.left.iiifShortID,"right",e.documentView.right.transcriptionType):e.documentViewActions.changeCurrentFolio(e.documentView.right.iiifShortID,"left",e.documentView.left.transcriptionType)),e.documentViewActions.setLinkedMode(!e.documentView.linkedMode)},K=ze=>{const{documentViewActions:st,documentView:ee,side:Ct}=e;if(typeof ze.currentTarget.dataset.id>"u"||ze.currentTarget.dataset.id.length===0)return;const tt=ze.currentTarget.dataset.id;st.changeCurrentFolio(tt,Ct,ee[Ct].transcriptionType)},Y=ze=>{i({anchorEl:ze.currentTarget})},{side:se,document:ce,documentView:de,documentViewActions:ie,onFilterChange:ge}=e,pe=de[se].transcriptionType==="f"?{color:"white"}:{color:"black"},be=de[se].transcriptionType==="f"?"dark":"light",Ae=de[se].transcriptionType==="glossary"?{visibility:"hidden"}:{visibility:"visible"},Le={display:"flex"},Se=de[se].transcriptionType==="f",ve=(n=ce.folioIndex[de[se].iiifShortID])==null?void 0:n.name,Re=se==="left"?{marginRight:"55px"}:{marginRight:"15px"},_e=ve?ce.folioByName[ve]:null,J=M.useMemo(()=>_e?.tagIds&&_e.tagIds.length>0&&ce.tags&&Object.keys(ce.tags).length>0,[_e,ce]);return de?L.jsxs("div",{children:[L.jsx("div",{className:"navigationComponent",children:de[se].transcriptionType!=="glossary"?L.jsxs("div",{id:"tool-bar-buttons",className:"breadcrumbs",style:Ae,children:[L.jsxs("div",{className:"toolbar-side toolbar-left",children:[L.jsx(U1,{documentView:de,onGoToGrid:k,side:se}),L.jsxs("div",{className:"folio-path",style:{display:"flex",overflowX:"hidden",justifyContent:"flex-end"},children:[L.jsx("span",{className:"document-title",title:e.documentName||ce.documentName,children:e.documentName||ce.documentName}),L.jsx("span",{children:"/"}),L.jsx("div",{onClick:Y,className:"folioName",style:{flexShrink:"0",minWidth:"40px"},title:ve,children:ve})]}),L.jsx(V1,{changeCurrentFolio:K,side:se,documentView:de})]}),L.jsxs("div",{className:"toolbar-side toolbar-right",children:[L.jsxs("div",{className:"book-mode-toggles",title:"Toggle book mode",onClick:q,children:[L.jsx("button",{className:e.documentView.bookMode?"selected":"",type:"button",children:L.jsx(yK,{})}),L.jsx("button",{className:e.documentView.bookMode?"":"selected",type:"button",children:L.jsx(CK,{})})]}),L.jsxs("label",{className:"lockmode-container",children:[L.jsx("input",{onChange:ne,title:"Toggle coordination of views",type:"checkbox",value:e.documentView.linkedMode}),L.jsx("span",{className:"switch",children:L.jsx("span",{className:"slider",children:L.jsx(TK,{})})})]}),L.jsx("div",{className:"vertical-separator"}),L.jsxs(km,{className:be,style:{...pe,marginRight:15,fontSize:"max(16px, 1rem)"},value:de[se].transcriptionType,id:"doc-type",onClick:T,children:[Object.keys(e.document.folios.find(ze=>ze.id===e.documentView[e.side].iiifShortID).annotationURLs).map(ze=>L.jsx(ro,{value:ze,children:e.document.variorum?e.document.transcriptionTypes[e.document.folios.find(st=>st.id===e.documentView[e.side].iiifShortID).doc_id][ze]:e.document.transcriptionTypes[ze]},ze)),L.jsx(ro,{value:"f",children:Js.transcriptionTypeLabels.f},"f"),e.glossary&&L.jsx(ro,{value:"glossary",children:Js.transcriptionTypeLabels.glossary},"glossary"),e.notes&&L.jsx(ro,{value:"notes",children:Js.transcriptionTypeLabels.notes},"notes")]}),!Se&&L.jsx(Xf,{onClick:G,active:e.documentView[e.side].isXMLMode,icon:B1}),L.jsx("div",{className:"vertical-separator"}),J&&L.jsx(Xf,{active:p,onClick:D,icon:yP}),L.jsxs("button",{title:"Toggle folio help",className:`toggle-button ${r?"active":""}`,onClick:P,ref:g,type:"button",children:[L.jsx(Nm,{}),L.jsx(Hm,{marginStyle:Re,anchorEl:g.current,open:r,onClose:P})]})]}),L.jsx(OK,{side:se,anchorEl:t.anchorEl,submitHandler:ie.jumpToFolio,blurHandler:S})]}):L.jsx(N1,{onFilterChange:ge,value:e.value})}),p&&L.jsx(AK,{document:e.document,folio:_e,toggleTags:D,side:se}),L.jsxs("div",{className:"navigationComponentNarrow",children:[de[se].transcriptionType!=="glossary"?L.jsxs("div",{id:"tool-bar-buttons",className:"breadcrumbsNarrow",style:Ae,children:[L.jsx(U1,{documentView:de,onGoToGrid:k,side:se}),"Â ",!Se&&L.jsx(Xf,{onClick:G,active:e.documentView[e.side].isXMLMode,icon:B1}),Se&&L.jsx(V1,{changeCurrentFolio:K,side:se,documentView:de})]}):L.jsx(N1,{onFilterChange:ge,value:e.value}),L.jsxs("div",{id:"doc-type-help",style:Le,ref:y,children:[L.jsxs(km,{className:be,style:{...pe,marginRight:15,fontSize:"max(16px, 1rem)"},value:de[se].transcriptionType,id:"doc-type",onClick:T,children:[Object.keys(e.document.folios.find(ze=>ze.id===e.documentView[e.side].iiifShortID).annotationURLs).map(ze=>L.jsx(ro,{value:ze,title:ze,children:e.document.variorum?e.document.transcriptionTypes[e.document.folios.find(st=>st.id===e.documentView[e.side].iiifShortID).doc_id][ze]:e.document.transcriptionTypes[ze]},ze)),L.jsx(ro,{value:"f",children:Js.transcriptionTypeLabels.f},"f"),e.glossary&&L.jsx(ro,{value:"glossary",children:Js.transcriptionTypeLabels.glossary},"glossary")]}),L.jsx("span",{title:"Toggle folio help",onClick:_,className:"helpIcon",children:L.jsx(Nm,{})}),L.jsx(Hm,{marginStyle:Re,anchorEl:y.current,open:h,onClose:_})]})]})]}):L.jsx("div",{children:"Unknown Transcription Type"})}function zK(e){return{document:e.document,glossary:!!e.glossary.URL,notes:!!e.notes.URL}}const rs=qi(zK)(MK);class LK extends M.Component{constructor(){super(),Ai(this,"onFilterChange",n=>{const t=n.target.value;this.setState({...this.state,filterTerm:t})}),this.state={filterTerm:""}}renderGlossary(){const{glossary:n}=this.props.glossary,t=this.state.filterTerm.toLowerCase(),i=Object.values(n.entries),r=(d,p,f)=>{const g=d.split(f);for(const y of g)if(y.startsWith(p))return!0;return!1},l=[];let h=0;for(const d of i){if(t.length===0&&d.headWord[0]===Cl[h]){const y=`alpha-${h}`;l.push(L.jsxs(kn,{variant:"h4",id:y,children:["â€”",Cl[h]," ","â€”"]},`gloss-heading-${Cl[h]}`)),h++}const p=d.headWord.toLowerCase(),f=d.alternateSpellings.toLowerCase(),g=d.modernSpelling.toLowerCase();if(t.length===0||t.length!==0&&r(p,t," ")||t.length!==0&&r(g,t," ")||t.length!==0&&r(f,t,", ")){const y=FK(d),S=y[y.length-1].endsWith("."),T=d.alternateSpellings?`, ${d.alternateSpellings}`:"",k=d.meanings[0].partOfSpeech,P=k?`${k}:`:"",_=k?",":":",D=d.modernSpelling?` (mod. ${d.modernSpelling})`:"",q=S?"":",",G=d.seeAlso?`${q} see also <span>&#8594;</span>${d.seeAlso} `:"",ne=d.synonym?`, syn. <span>&#8594;</span>${d.synonym}`:"",K=d.antonym?`, ant. <span>&#8594;</span>${d.antonym}`:"";l.push(L.jsxs(kn,{gutterBottom:!0,children:[L.jsx("u",{children:d.headWord}),T,D,_," ",P," ",y.map(Y=>Wi(Y)),Wi(G),Wi(ne),Wi(K)]},`gloss-${d.headWord}`))}}return l}render(){return this.props.glossary.loaded?L.jsxs("div",{id:"glossaryView",style:{position:"relative",overflow:"auto"},children:[L.jsx(rs,{side:this.props.side,onFilterChange:this.onFilterChange,value:this.state.filterTerm,documentView:this.props.documentView,documentViewActions:this.props.documentViewActions}),L.jsx("div",{id:"glossaryViewInner",children:L.jsxs("div",{id:"glossaryContent",children:[L.jsx(kn,{variant:"h2",className:"title",children:"Glossary"}),this.props.glossary.glossary.title&&L.jsx("div",{className:"subtitle MuiTypography-root MuiTypography-body1",children:L.jsx(Ju,{children:this.props.glossary.glossary.title})}),L.jsx("div",{className:"cite-instructions",children:this.props.glossary.glossary.citation&&L.jsxs(L.Fragment,{children:[L.jsx(kn,{className:"cite-header",children:"How to Cite"}),L.jsx("div",{className:"MuiTypography-root MuiTypography-body1",children:L.jsx(Ju,{children:this.props.glossary.glossary.citation})})]})}),this.renderGlossary()]})})]}):null}}function FK(e){const n=[];for(let t=0;t<e.meanings.length;t++){const i=e.meanings[t],r=i.references?` [${i.references}]`:"",l=e.meanings.length>1?`${t+1}. `:"",h=t<e.meanings.length-1?" ":"";n.push(`${l}${i.meaning}${r}${h}`)}return n}function jK(e){return{glossary:e.glossary}}const NK=qi(jK)(LK);class Bm extends M.Component{constructor(n){super(n),this.scrollListener=this.scrollListener.bind(this),this.eventListenerOptions=this.eventListenerOptions.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this)}componentDidMount(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}componentDidUpdate(){if(this.props.isReverse&&this.loadMore){const n=this.getParentElement(this.scrollComponent);n.scrollTop=n.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}componentWillUnmount(){this.detachScrollListener(),this.detachMousewheelListener()}isPassiveSupported(){let n=!1;const t={get passive(){n=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch{}return n}eventListenerOptions(){let n=this.props.useCapture;return this.isPassiveSupported()?n={useCapture:this.props.useCapture,passive:!0}:n={passive:!1},n}setDefaultLoader(n){this.defaultLoader=n}detachMousewheelListener(){let n=window;this.props.useWindow===!1&&(n=this.scrollComponent.parentNode),n.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}detachScrollListener(){let n=window;this.props.useWindow===!1&&(n=this.getParentElement(this.scrollComponent)),n.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),n.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}getParentElement(n){return(this.props.getScrollParent&&this.props.getScrollParent())??(n&&n.parentNode)}filterProps(n){return n}attachScrollListener(){const n=this.getParentElement(this.scrollComponent);if(!this.props.hasMore||!n)return;let t=window;this.props.useWindow===!1&&(t=n),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}mousewheelListener(n){n.deltaY===1&&!this.isPassiveSupported()&&n.preventDefault()}scrollListener(){const n=this.scrollComponent,t=window,i=this.getParentElement(n);let r;if(this.props.useWindow){const l=document.documentElement||document.body.parentNode||document.body,h=t.pageYOffset!==void 0?t.pageYOffset:l.scrollTop;this.props.isReverse?r=h:r=this.calculateOffset(n,h)}else this.props.isReverse?r=i.scrollTop:r=n.scrollHeight-i.scrollTop-i.clientHeight;r<Number(this.props.threshold)&&n&&n.offsetParent!==null&&(this.detachScrollListener(),this.beforeScrollHeight=i.scrollHeight,this.beforeScrollTop=i.scrollTop,typeof this.props.loadMore=="function"&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}calculateOffset(n,t){return n?this.calculateTopPosition(n)+(n.offsetHeight-t-window.innerHeight):0}calculateTopPosition(n){return n?n.offsetTop+this.calculateTopPosition(n.offsetParent):0}render(){const n=this.filterProps(this.props),{children:t,element:i,hasMore:r,initialLoad:l,isReverse:h,loader:d,loadMore:p,pageStart:f,ref:g,threshold:y,useCapture:S,useWindow:T,getScrollParent:k,...P}=n;P.ref=D=>{this.scrollComponent=D,g&&g(D)};const _=[t];return r&&(d?h?_.unshift(d):_.push(d):this.defaultLoader&&(h?_.unshift(this.defaultLoader):_.push(this.defaultLoader))),vt.createElement(i,P,_)}}Ai(Bm,"propTypes",{children:wt.node.isRequired,element:wt.node,hasMore:wt.bool,initialLoad:wt.bool,isReverse:wt.bool,loader:wt.node,loadMore:wt.func.isRequired,pageStart:wt.number,ref:wt.func,getScrollParent:wt.func,threshold:wt.number,useCapture:wt.bool,useWindow:wt.bool}),Ai(Bm,"defaultProps",{element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null});class HK extends vt.Component{constructor(n,t){super(n,t),Ai(this,"onJumpToChange",i=>{const r=i.target.value;this.setState({...this.state,jumpToBuffer:r})}),Ai(this,"onJumpTo",i=>{const{jumpToBuffer:r}=this.state,{side:l,document:h,documentViewActions:d}=this.props;if(i.preventDefault(),h.folioByName[r]){const p=h.folioByName[r];p&&d.changeCurrentFolio(p.id,l)}this.setState({...this.state,jumpToBuffer:""})}),Ai(this,"onSelectDoc",i=>{if(!i.target.value||i.target.value==0)return;i.target.value&&i.target.value!=="none"?this.setState({...this.state,currentDoc:i.target.value}):this.setState({...this.state,currentDoc:null});const{documentView:r}=this.props,l=r[this.props.side].iiifShortID,h=this.generateThumbs(l,i.target.value!=="none"?this.props.document.folios.filter(f=>f.doc_id===i.target.value):this.props.document.folios),d=h.length>this.loadIncrement?this.loadIncrement:h.length,p=h.slice(0,d);this.setState({thumbs:h,visibleThumbs:p})}),Ai(this,"onClickThumb",(i,r)=>{this.props.documentViewActions.changeCurrentFolio(i,this.props.side,"f")}),Ai(this,"moreThumbs",()=>{const{thumbs:i}=this.state;let{visibleThumbs:r}=this.state;const l=r.length+this.loadIncrement;i.length>=l?r=i.slice(0,l):r=i,this.setState({visibleThumbs:r})}),this.generateThumbs=this.generateThumbs.bind(this),this.loadIncrement=10,this.state={jumpToBuffer:"",thumbs:"",visibleThumbs:[],currentDoc:n.selectedDoc||null}}componentDidUpdate(n){const{documentView:t}=this.props,i=t[this.props.side].iiifShortID,r=this.props.documentView[this.props.side].iiifShortID;if(i!==r){const l=this.generateThumbs(r,this.state.currentDoc?this.props.document.folios.filter(p=>p.doc_id===this.state.currentDoc):this.props.document.folios),h=l.length>this.loadIncrement?this.loadIncrement:l.length,d=l.slice(0,h);this.setState({thumbs:l,visibleThumbs:d})}}renderToolbar(){return L.jsxs("div",{className:"imageGridToolbar",children:[L.jsx("span",{className:"fas fa-th",style:{paddingLeft:"15px"}}),this.props.document.variorum?this.renderDocSelect():L.jsx("div",{className:"doc-select",style:{marginTop:"5px"},children:this.props.document.documentName}),L.jsx("div",{className:"jump-to",children:L.jsxs("form",{onSubmit:this.onJumpTo,children:[L.jsx("span",{children:"Jump to: "}),L.jsx("input",{id:"jump-to-input",placeholder:"Page Name (e.g. '3r')",onChange:this.onJumpToChange,value:this.state.jumpToBuffer}),L.jsx("button",{id:"jump-to-button",onClick:this.onJumpTo,children:L.jsx("span",{style:{color:"black"},className:"fa fa-hand-point-right"})})]})})]})}renderDocSelect(){return L.jsx("div",{className:"doc-select",children:L.jsx(km,{id:"doc-filter",className:"dark",style:{color:"white",fontSize:"max(16px, 1rem)"},value:this.state.currentDoc||Object.keys(this.props.document.derivativeNames)[0],onClick:this.onSelectDoc,children:Object.keys(this.props.document.derivativeNames).map(n=>L.jsx(ro,{value:n,children:this.props.document.derivativeNames[n]},n))})})}componentDidMount(){const{documentView:n}=this.props,t=n[this.props.side].iiifShortID,i=this.generateThumbs(t,this.props.document.variorum&&this.state.currentDoc?this.props.document.folios.filter(h=>h.doc_id===this.state.currentDoc):this.props.document.folios),r=i.length>this.loadIncrement?this.loadIncrement:i.length,l=i.slice(0,r);this.setState({thumbs:i,visibleThumbs:l})}generateThumbs(n,t){return t.map((i,r)=>L.jsxs("li",{className:"thumbnail",children:[L.jsx("figure",{children:L.jsx("a",{id:i.id,onClick:this.onClickThumb.bind(this,i.id),children:L.jsx("img",{src:i.image_thumbnail_url,alt:i.name,style:{maxWidth:"130px",maxHeight:"130px"},onError:({currentTarget:l})=>{l.onerror=null,i.image_zoom_url&&l.src!==`${i.image_zoom_url.slice(0,-9)}full/full/0/default.jpg`&&(l.src=`${i.image_zoom_url.slice(0,-9)}full/full/0/default.jpg`)}})})}),L.jsx("figcaption",{className:"thumbnail-caption",children:i.name})]},`thumb-${r}`))}hasMore(){return this.state.visibleThumbs.length!==this.state.thumbs.length}render(){let n="imageGridComponent";n=`${n} ${this.props.side}`;let{visibleThumbs:t}=this.state;return t.constructor.toString().includes("Array")||(t=[]),L.jsxs("div",{className:n,children:[this.renderToolbar(),L.jsx(Bm,{element:"ul",loadMore:this.moreThumbs,hasMore:this.hasMore(),useWindow:!1,children:t})]})}}function BK(e){return{document:e.document}}const VK=qi(BK)(HK);var bP={exports:{}};(function(e,n){(function(t,i){e.exports=i()})(ii,function(){var t=Object.defineProperty,i=(s,c,o)=>c in s?t(s,c,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[c]=o,r=(s,c,o)=>(i(s,typeof c!="symbol"?c+"":c,o),o),l,h,d,p,f,g,y,S={},T=[],k=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function P(s,c){for(var o in c)s[o]=c[o];return s}function _(s){var c=s.parentNode;c&&c.removeChild(s)}function D(s,c,o){var a,u,m,v={};for(m in c)m=="key"?a=c[m]:m=="ref"?u=c[m]:v[m]=c[m];if(arguments.length>2&&(v.children=arguments.length>3?l.call(arguments,2):o),typeof s=="function"&&s.defaultProps!=null)for(m in s.defaultProps)v[m]===void 0&&(v[m]=s.defaultProps[m]);return q(s,v,a,u,null)}function q(s,c,o,a,u){var m={type:s,props:c,key:o,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:u??++d};return u==null&&h.vnode!=null&&h.vnode(m),m}function G(){return{current:null}}function ne(s){return s.children}function K(s,c){this.props=s,this.context=c}function Y(s,c){if(c==null)return s.__?Y(s.__,s.__.__k.indexOf(s)+1):null;for(var o;c<s.__k.length;c++)if((o=s.__k[c])!=null&&o.__e!=null)return o.__e;return typeof s.type=="function"?Y(s):null}function se(s){var c,o;if((s=s.__)!=null&&s.__c!=null){for(s.__e=s.__c.base=null,c=0;c<s.__k.length;c++)if((o=s.__k[c])!=null&&o.__e!=null){s.__e=s.__c.base=o.__e;break}return se(s)}}function ce(s){(!s.__d&&(s.__d=!0)&&p.push(s)&&!de.__r++||g!==h.debounceRendering)&&((g=h.debounceRendering)||f)(de)}function de(){for(var s;de.__r=p.length;)s=p.sort(function(c,o){return c.__v.__b-o.__v.__b}),p=[],s.some(function(c){var o,a,u,m,v,b;c.__d&&(v=(m=(o=c).__v).__e,(b=o.__P)&&(a=[],(u=P({},m)).__v=m.__v+1,_e(b,m,u,o.__n,b.ownerSVGElement!==void 0,m.__h!=null?[v]:null,a,v??Y(m),m.__h),J(a,m),m.__e!=v&&se(m)))})}function ie(s,c,o,a,u,m,v,b,w,x){var E,O,A,B,X,le,re,he=a&&a.__k||T,z=he.length;for(o.__k=[],E=0;E<c.length;E++)if((B=o.__k[E]=(B=c[E])==null||typeof B=="boolean"?null:typeof B=="string"||typeof B=="number"||typeof B=="bigint"?q(null,B,null,null,B):Array.isArray(B)?q(ne,{children:B},null,null,null):B.__b>0?q(B.type,B.props,B.key,null,B.__v):B)!=null){if(B.__=o,B.__b=o.__b+1,(A=he[E])===null||A&&B.key==A.key&&B.type===A.type)he[E]=void 0;else for(O=0;O<z;O++){if((A=he[O])&&B.key==A.key&&B.type===A.type){he[O]=void 0;break}A=null}_e(s,B,A=A||S,u,m,v,b,w,x),X=B.__e,(O=B.ref)&&A.ref!=O&&(re||(re=[]),A.ref&&re.push(A.ref,null,B),re.push(O,B.__c||X,B)),X!=null?(le==null&&(le=X),typeof B.type=="function"&&B.__k===A.__k?B.__d=w=ge(B,w,s):w=be(s,B,A,he,X,w),typeof o.type=="function"&&(o.__d=w)):w&&A.__e==w&&w.parentNode!=s&&(w=Y(A))}for(o.__e=le,E=z;E--;)he[E]!=null&&(typeof o.type=="function"&&he[E].__e!=null&&he[E].__e==o.__d&&(o.__d=Y(a,E+1)),ee(he[E],he[E]));if(re)for(E=0;E<re.length;E++)st(re[E],re[++E],re[++E])}function ge(s,c,o){for(var a,u=s.__k,m=0;u&&m<u.length;m++)(a=u[m])&&(a.__=s,c=typeof a.type=="function"?ge(a,c,o):be(o,a,a,u,a.__e,c));return c}function pe(s,c){return c=c||[],s==null||typeof s=="boolean"||(Array.isArray(s)?s.some(function(o){pe(o,c)}):c.push(s)),c}function be(s,c,o,a,u,m){var v,b,w;if(c.__d!==void 0)v=c.__d,c.__d=void 0;else if(o==null||u!=m||u.parentNode==null)e:if(m==null||m.parentNode!==s)s.appendChild(u),v=null;else{for(b=m,w=0;(b=b.nextSibling)&&w<a.length;w+=2)if(b==u)break e;s.insertBefore(u,m),v=m}return v!==void 0?v:u.nextSibling}function Ae(s,c,o,a,u){var m;for(m in o)m==="children"||m==="key"||m in c||Se(s,m,null,o[m],a);for(m in c)u&&typeof c[m]!="function"||m==="children"||m==="key"||m==="value"||m==="checked"||o[m]===c[m]||Se(s,m,c[m],o[m],a)}function Le(s,c,o){c[0]==="-"?s.setProperty(c,o):s[c]=o==null?"":typeof o!="number"||k.test(c)?o:o+"px"}function Se(s,c,o,a,u){var m;e:if(c==="style")if(typeof o=="string")s.style.cssText=o;else{if(typeof a=="string"&&(s.style.cssText=a=""),a)for(c in a)o&&c in o||Le(s.style,c,"");if(o)for(c in o)a&&o[c]===a[c]||Le(s.style,c,o[c])}else if(c[0]==="o"&&c[1]==="n")m=c!==(c=c.replace(/Capture$/,"")),c=c.toLowerCase()in s?c.toLowerCase().slice(2):c.slice(2),s.l||(s.l={}),s.l[c+m]=o,o?a||s.addEventListener(c,m?Re:ve,m):s.removeEventListener(c,m?Re:ve,m);else if(c!=="dangerouslySetInnerHTML"){if(u)c=c.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(c!=="href"&&c!=="list"&&c!=="form"&&c!=="tabIndex"&&c!=="download"&&c in s)try{s[c]=o??"";break e}catch{}typeof o=="function"||(o!=null&&(o!==!1||c[0]==="a"&&c[1]==="r")?s.setAttribute(c,o):s.removeAttribute(c))}}function ve(s){this.l[s.type+!1](h.event?h.event(s):s)}function Re(s){this.l[s.type+!0](h.event?h.event(s):s)}function _e(s,c,o,a,u,m,v,b,w){var x,E,O,A,B,X,le,re,he,z,ae,we=c.type;if(c.constructor!==void 0)return null;o.__h!=null&&(w=o.__h,b=c.__e=o.__e,c.__h=null,m=[b]),(x=h.__b)&&x(c);try{e:if(typeof we=="function"){if(re=c.props,he=(x=we.contextType)&&a[x.__c],z=x?he?he.props.value:x.__:a,o.__c?le=(E=c.__c=o.__c).__=E.__E:("prototype"in we&&we.prototype.render?c.__c=E=new we(re,z):(c.__c=E=new K(re,z),E.constructor=we,E.render=Ct),he&&he.sub(E),E.props=re,E.state||(E.state={}),E.context=z,E.__n=a,O=E.__d=!0,E.__h=[]),E.__s==null&&(E.__s=E.state),we.getDerivedStateFromProps!=null&&(E.__s==E.state&&(E.__s=P({},E.__s)),P(E.__s,we.getDerivedStateFromProps(re,E.__s))),A=E.props,B=E.state,O)we.getDerivedStateFromProps==null&&E.componentWillMount!=null&&E.componentWillMount(),E.componentDidMount!=null&&E.__h.push(E.componentDidMount);else{if(we.getDerivedStateFromProps==null&&re!==A&&E.componentWillReceiveProps!=null&&E.componentWillReceiveProps(re,z),!E.__e&&E.shouldComponentUpdate!=null&&E.shouldComponentUpdate(re,E.__s,z)===!1||c.__v===o.__v){E.props=re,E.state=E.__s,c.__v!==o.__v&&(E.__d=!1),E.__v=c,c.__e=o.__e,c.__k=o.__k,c.__k.forEach(function(ye){ye&&(ye.__=c)}),E.__h.length&&v.push(E);break e}E.componentWillUpdate!=null&&E.componentWillUpdate(re,E.__s,z),E.componentDidUpdate!=null&&E.__h.push(function(){E.componentDidUpdate(A,B,X)})}E.context=z,E.props=re,E.state=E.__s,(x=h.__r)&&x(c),E.__d=!1,E.__v=c,E.__P=s,x=E.render(E.props,E.state,E.context),E.state=E.__s,E.getChildContext!=null&&(a=P(P({},a),E.getChildContext())),O||E.getSnapshotBeforeUpdate==null||(X=E.getSnapshotBeforeUpdate(A,B)),ae=x!=null&&x.type===ne&&x.key==null?x.props.children:x,ie(s,Array.isArray(ae)?ae:[ae],c,o,a,u,m,v,b,w),E.base=c.__e,c.__h=null,E.__h.length&&v.push(E),le&&(E.__E=E.__=null),E.__e=!1}else m==null&&c.__v===o.__v?(c.__k=o.__k,c.__e=o.__e):c.__e=ze(o.__e,c,o,a,u,m,v,w);(x=h.diffed)&&x(c)}catch(ye){c.__v=null,(w||m!=null)&&(c.__e=b,c.__h=!!w,m[m.indexOf(b)]=null),h.__e(ye,c,o)}}function J(s,c){h.__c&&h.__c(c,s),s.some(function(o){try{s=o.__h,o.__h=[],s.some(function(a){a.call(o)})}catch(a){h.__e(a,o.__v)}})}function ze(s,c,o,a,u,m,v,b){var w,x,E,O=o.props,A=c.props,B=c.type,X=0;if(B==="svg"&&(u=!0),m!=null){for(;X<m.length;X++)if((w=m[X])&&"setAttribute"in w==!!B&&(B?w.localName===B:w.nodeType===3)){s=w,m[X]=null;break}}if(s==null){if(B===null)return document.createTextNode(A);s=u?document.createElementNS("http://www.w3.org/2000/svg",B):document.createElement(B,A.is&&A),m=null,b=!1}if(B===null)O===A||b&&s.data===A||(s.data=A);else{if(m=m&&l.call(s.childNodes),x=(O=o.props||S).dangerouslySetInnerHTML,E=A.dangerouslySetInnerHTML,!b){if(m!=null)for(O={},X=0;X<s.attributes.length;X++)O[s.attributes[X].name]=s.attributes[X].value;(E||x)&&(E&&(x&&E.__html==x.__html||E.__html===s.innerHTML)||(s.innerHTML=E&&E.__html||""))}if(Ae(s,A,O,u,b),E)c.__k=[];else if(X=c.props.children,ie(s,Array.isArray(X)?X:[X],c,o,a,u&&B!=="foreignObject",m,v,m?m[0]:o.__k&&Y(o,0),b),m!=null)for(X=m.length;X--;)m[X]!=null&&_(m[X]);b||("value"in A&&(X=A.value)!==void 0&&(X!==O.value||X!==s.value||B==="progress"&&!X)&&Se(s,"value",X,O.value,!1),"checked"in A&&(X=A.checked)!==void 0&&X!==s.checked&&Se(s,"checked",X,O.checked,!1))}return s}function st(s,c,o){try{typeof s=="function"?s(c):s.current=c}catch(a){h.__e(a,o)}}function ee(s,c,o){var a,u;if(h.unmount&&h.unmount(s),(a=s.ref)&&(a.current&&a.current!==s.__e||st(a,null,c)),(a=s.__c)!=null){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(m){h.__e(m,c)}a.base=a.__P=null}if(a=s.__k)for(u=0;u<a.length;u++)a[u]&&ee(a[u],c,typeof s.type!="function");o||s.__e==null||_(s.__e),s.__e=s.__d=void 0}function Ct(s,c,o){return this.constructor(s,o)}function tt(s,c,o){var a,u,m;h.__&&h.__(s,c),u=(a=typeof o=="function")?null:o&&o.__k||c.__k,m=[],_e(c,s=(!a&&o||c).__k=D(ne,null,[s]),u||S,S,c.ownerSVGElement!==void 0,!a&&o?[o]:u?null:c.firstChild?l.call(c.childNodes):null,m,!a&&o?o:u?u.__e:c.firstChild,a),J(m,s)}function at(s,c){tt(s,c,at)}function yt(s,c,o){var a,u,m,v=P({},s.props);for(m in c)m=="key"?a=c[m]:m=="ref"?u=c[m]:v[m]=c[m];return arguments.length>2&&(v.children=arguments.length>3?l.call(arguments,2):o),q(s.type,v,a||s.key,u||s.ref,null)}function Ot(s,c){var o={__c:c="__cC"+y++,__:s,Consumer:function(a,u){return a.children(u)},Provider:function(a){var u,m;return this.getChildContext||(u=[],(m={})[c]=this,this.getChildContext=function(){return m},this.shouldComponentUpdate=function(v){this.props.value!==v.value&&u.some(ce)},this.sub=function(v){u.push(v);var b=v.componentWillUnmount;v.componentWillUnmount=function(){u.splice(u.indexOf(v),1),b&&b.call(v)}}),a.children}};return o.Provider.__=o.Consumer.contextType=o}l=T.slice,h={__e:function(s,c){for(var o,a,u;c=c.__;)if((o=c.__c)&&!o.__)try{if((a=o.constructor)&&a.getDerivedStateFromError!=null&&(o.setState(a.getDerivedStateFromError(s)),u=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(s),u=o.__d),u)return o.__E=o}catch(m){s=m}throw s}},d=0,K.prototype.setState=function(s,c){var o;o=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=P({},this.state),typeof s=="function"&&(s=s(P({},o),this.props)),s&&P(o,s),s!=null&&this.__v&&(c&&this.__h.push(c),ce(this))},K.prototype.forceUpdate=function(s){this.__v&&(this.__e=!0,s&&this.__h.push(s),ce(this))},K.prototype.render=ne,p=[],f=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,de.__r=0,y=0;var Tt,rt,Ye,xt=0,Ht=[],on=h.__b,Dt=h.__r,Yt=h.diffed,I=h.__c,Q=h.unmount;function xe(s,c){h.__h&&h.__h(rt,s,xt||c),xt=0;var o=rt.__H||(rt.__H={__:[],__h:[]});return s>=o.__.length&&o.__.push({}),o.__[s]}function Ne(s){return xt=1,je(He,s)}function je(s,c,o){var a=xe(Tt++,2);return a.t=s,a.__c||(a.__=[o?o(c):He(void 0,c),function(u){var m=a.t(a.__[0],u);a.__[0]!==m&&(a.__=[m,a.__[1]],a.__c.setState({}))}],a.__c=rt),a.__}function $e(s,c){var o=xe(Tt++,3);!h.__s&&gt(o.__H,c)&&(o.__=s,o.__H=c,rt.__H.__h.push(o))}function Ke(s,c){var o=xe(Tt++,4);!h.__s&&gt(o.__H,c)&&(o.__=s,o.__H=c,rt.__h.push(o))}function Et(s){return xt=5,Lt(function(){return{current:s}},[])}function It(s,c,o){xt=6,Ke(function(){typeof s=="function"?s(c()):s&&(s.current=c())},o==null?o:o.concat(s))}function Lt(s,c){var o=xe(Tt++,7);return gt(o.__H,c)&&(o.__=s(),o.__H=c,o.__h=s),o.__}function me(s,c){return xt=8,Lt(function(){return s},c)}function Ie(s){var c=rt.context[s.__c],o=xe(Tt++,9);return o.c=s,c?(o.__==null&&(o.__=!0,c.sub(rt)),c.props.value):s.__}function F(s,c){h.useDebugValue&&h.useDebugValue(c?c(s):s)}function N(s){var c=xe(Tt++,10),o=Ne();return c.__=s,rt.componentDidCatch||(rt.componentDidCatch=function(a){c.__&&c.__(a),o[1](a)}),[o[0],function(){o[1](void 0)}]}function W(){var s;for(Ht.sort(function(c,o){return c.__v.__b-o.__v.__b});s=Ht.pop();)if(s.__P)try{s.__H.__h.forEach(Te),s.__H.__h.forEach(Ue),s.__H.__h=[]}catch(c){s.__H.__h=[],h.__e(c,s.__v)}}h.__b=function(s){rt=null,on&&on(s)},h.__r=function(s){Dt&&Dt(s),Tt=0;var c=(rt=s.__c).__H;c&&(c.__h.forEach(Te),c.__h.forEach(Ue),c.__h=[])},h.diffed=function(s){Yt&&Yt(s);var c=s.__c;c&&c.__H&&c.__H.__h.length&&(Ht.push(c)!==1&&Ye===h.requestAnimationFrame||((Ye=h.requestAnimationFrame)||function(o){var a,u=function(){clearTimeout(m),Z&&cancelAnimationFrame(a),setTimeout(o)},m=setTimeout(u,100);Z&&(a=requestAnimationFrame(u))})(W)),rt=null},h.__c=function(s,c){c.some(function(o){try{o.__h.forEach(Te),o.__h=o.__h.filter(function(a){return!a.__||Ue(a)})}catch(a){c.some(function(u){u.__h&&(u.__h=[])}),c=[],h.__e(a,o.__v)}}),I&&I(s,c)},h.unmount=function(s){Q&&Q(s);var c,o=s.__c;o&&o.__H&&(o.__H.__.forEach(function(a){try{Te(a)}catch(u){c=u}}),c&&h.__e(c,o.__v))};var Z=typeof requestAnimationFrame=="function";function Te(s){var c=rt,o=s.__c;typeof o=="function"&&(s.__c=void 0,o()),rt=c}function Ue(s){var c=rt;s.__c=s.__(),rt=c}function gt(s,c){return!s||s.length!==c.length||c.some(function(o,a){return o!==s[a]})}function He(s,c){return typeof c=="function"?c(s):c}function lt(s,c){for(var o in c)s[o]=c[o];return s}function Rn(s,c){for(var o in s)if(o!=="__source"&&!(o in c))return!0;for(var a in c)if(a!=="__source"&&s[a]!==c[a])return!0;return!1}function en(s){this.props=s}function oi(s,c){function o(u){var m=this.props.ref,v=m==u.ref;return!v&&m&&(m.call?m(null):m.current=null),c?!c(this.props,u)||!v:Rn(this.props,u)}function a(u){return this.shouldComponentUpdate=o,D(s,u)}return a.displayName="Memo("+(s.displayName||s.name)+")",a.prototype.isReactComponent=!0,a.__f=!0,a}(en.prototype=new K).isPureReactComponent=!0,en.prototype.shouldComponentUpdate=function(s,c){return Rn(this.props,s)||Rn(this.state,c)};var wo=h.__b;h.__b=function(s){s.type&&s.type.__f&&s.ref&&(s.props.ref=s.ref,s.ref=null),wo&&wo(s)};var zi=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function kr(s){function c(o,a){var u=lt({},o);return delete u.ref,s(u,(a=o.ref||a)&&(typeof a!="object"||"current"in a)?a:null)}return c.$$typeof=zi,c.render=c,c.prototype.isReactComponent=c.__f=!0,c.displayName="ForwardRef("+(s.displayName||s.name)+")",c}var ct=function(s,c){return s==null?null:pe(pe(s).map(c))},ds={map:ct,forEach:ct,count:function(s){return s?pe(s).length:0},only:function(s){var c=pe(s);if(c.length!==1)throw"Children.only";return c[0]},toArray:pe},Ld=h.__e;h.__e=function(s,c,o){if(s.then){for(var a,u=c;u=u.__;)if((a=u.__c)&&a.__c)return c.__e==null&&(c.__e=o.__e,c.__k=o.__k),a.__c(s,c)}Ld(s,c,o)};var Ql=h.unmount;function Wn(){this.__u=0,this.t=null,this.__b=null}function xo(s){var c=s.__.__c;return c&&c.__e&&c.__e(s)}function hs(s){var c,o,a;function u(m){if(c||(c=s()).then(function(v){o=v.default||v},function(v){a=v}),a)throw a;if(!o)throw c;return D(o,m)}return u.displayName="Lazy",u.__f=!0,u}function Pr(){this.u=null,this.o=null}h.unmount=function(s){var c=s.__c;c&&c.__R&&c.__R(),c&&s.__h===!0&&(s.type=null),Ql&&Ql(s)},(Wn.prototype=new K).__c=function(s,c){var o=c.__c,a=this;a.t==null&&(a.t=[]),a.t.push(o);var u=xo(a.__v),m=!1,v=function(){m||(m=!0,o.__R=null,u?u(b):b())};o.__R=v;var b=function(){if(!--a.__u){if(a.state.__e){var x=a.state.__e;a.__v.__k[0]=function O(A,B,X){return A&&(A.__v=null,A.__k=A.__k&&A.__k.map(function(le){return O(le,B,X)}),A.__c&&A.__c.__P===B&&(A.__e&&X.insertBefore(A.__e,A.__d),A.__c.__e=!0,A.__c.__P=X)),A}(x,x.__c.__P,x.__c.__O)}var E;for(a.setState({__e:a.__b=null});E=a.t.pop();)E.forceUpdate()}},w=c.__h===!0;a.__u++||w||a.setState({__e:a.__b=a.__v.__k[0]}),s.then(v,v)},Wn.prototype.componentWillUnmount=function(){this.t=[]},Wn.prototype.render=function(s,c){if(this.__b){if(this.__v.__k){var o=document.createElement("div"),a=this.__v.__k[0].__c;this.__v.__k[0]=function m(v,b,w){return v&&(v.__c&&v.__c.__H&&(v.__c.__H.__.forEach(function(x){typeof x.__c=="function"&&x.__c()}),v.__c.__H=null),(v=lt({},v)).__c!=null&&(v.__c.__P===w&&(v.__c.__P=b),v.__c=null),v.__k=v.__k&&v.__k.map(function(x){return m(x,b,w)})),v}(this.__b,o,a.__O=a.__P)}this.__b=null}var u=c.__e&&D(ne,null,s.fallback);return u&&(u.__h=null),[D(ne,null,c.__e?null:s.children),u]};var fr=function(s,c,o){if(++o[1]===o[0]&&s.o.delete(c),s.props.revealOrder&&(s.props.revealOrder[0]!=="t"||!s.o.size))for(o=s.u;o;){for(;o.length>3;)o.pop()();if(o[1]<o[0])break;s.u=o=o[2]}};function ec(s){return this.getChildContext=function(){return s.context},s.children}function wi(s){var c=this,o=s.i;c.componentWillUnmount=function(){tt(null,c.l),c.l=null,c.i=null},c.i&&c.i!==o&&c.componentWillUnmount(),s.__v?(c.l||(c.i=o,c.l={nodeType:1,parentNode:o,childNodes:[],appendChild:function(a){this.childNodes.push(a),c.i.appendChild(a)},insertBefore:function(a,u){this.childNodes.push(a),c.i.appendChild(a)},removeChild:function(a){this.childNodes.splice(this.childNodes.indexOf(a)>>>1,1),c.i.removeChild(a)}}),tt(D(ec,{context:c.context},s.__v),c.l)):c.l&&c.componentWillUnmount()}function ps(s,c){return D(wi,{__v:s,i:c})}(Pr.prototype=new K).__e=function(s){var c=this,o=xo(c.__v),a=c.o.get(s);return a[0]++,function(u){var m=function(){c.props.revealOrder?(a.push(u),fr(c,s,a)):u()};o?o(m):m()}},Pr.prototype.render=function(s){this.u=null,this.o=new Map;var c=pe(s.children);s.revealOrder&&s.revealOrder[0]==="b"&&c.reverse();for(var o=c.length;o--;)this.o.set(c[o],this.u=[1,0,this.u]);return s.children},Pr.prototype.componentDidUpdate=Pr.prototype.componentDidMount=function(){var s=this;this.o.forEach(function(c,o){fr(s,o,c)})};var _r=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,tc=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,nc=typeof document<"u",si=function(s){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(s)};function Sa(s,c,o){return c.__k==null&&(c.textContent=""),tt(s,c),typeof o=="function"&&o(),s?s.__c:null}function ic(s,c,o){return at(s,c),typeof o=="function"&&o(),s?s.__c:null}K.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(s){Object.defineProperty(K.prototype,s,{configurable:!0,get:function(){return this["UNSAFE_"+s]},set:function(c){Object.defineProperty(this,s,{configurable:!0,writable:!0,value:c})}})});var rc=h.event;function Ea(){}function oc(){return this.cancelBubble}function fs(){return this.defaultPrevented}h.event=function(s){return rc&&(s=rc(s)),s.persist=Ea,s.isPropagationStopped=oc,s.isDefaultPrevented=fs,s.nativeEvent=s};var Li,So={configurable:!0,get:function(){return this.class}},ms=h.vnode;h.vnode=function(s){var c=s.type,o=s.props,a=o;if(typeof c=="string"){var u=c.indexOf("-")===-1;for(var m in a={},o){var v=o[m];nc&&m==="children"&&c==="noscript"||m==="value"&&"defaultValue"in o&&v==null||(m==="defaultValue"&&"value"in o&&o.value==null?m="value":m==="download"&&v===!0?v="":/ondoubleclick/i.test(m)?m="ondblclick":/^onchange(textarea|input)/i.test(m+c)&&!si(o.type)?m="oninput":/^onfocus$/i.test(m)?m="onfocusin":/^onblur$/i.test(m)?m="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(m)?m=m.toLowerCase():u&&tc.test(m)?m=m.replace(/[A-Z0-9]/,"-$&").toLowerCase():v===null&&(v=void 0),a[m]=v)}c=="select"&&a.multiple&&Array.isArray(a.value)&&(a.value=pe(o.children).forEach(function(b){b.props.selected=a.value.indexOf(b.props.value)!=-1})),c=="select"&&a.defaultValue!=null&&(a.value=pe(o.children).forEach(function(b){b.props.selected=a.multiple?a.defaultValue.indexOf(b.props.value)!=-1:a.defaultValue==b.props.value})),s.props=a,o.class!=o.className&&(So.enumerable="className"in o,o.className!=null&&(a.class=o.className),Object.defineProperty(a,"className",So))}s.$$typeof=_r,ms&&ms(s)};var Ta=h.__r;h.__r=function(s){Ta&&Ta(s),Li=s.__c};var Ca={ReactCurrentDispatcher:{current:{readContext:function(s){return Li.__n[s.__c].props.value}}}},sc="17.0.2";function Vr(s){return D.bind(null,s)}function gs(s){return!!s&&s.$$typeof===_r}function Eo(s){return gs(s)?yt.apply(null,arguments):s}function ka(s){return!!s.__k&&(tt(null,s),!0)}function Rr(s){return s&&(s.base||s.nodeType===1&&s)||null}var vs=function(s,c){return s(c)},Pa=function(s,c){return s(c)},ac=ne,Fe={useState:Ne,useReducer:je,useEffect:$e,useLayoutEffect:Ke,useRef:Et,useImperativeHandle:It,useMemo:Lt,useCallback:me,useContext:Ie,useDebugValue:F,version:"17.0.2",Children:ds,render:Sa,hydrate:ic,unmountComponentAtNode:ka,createPortal:ps,createElement:D,createContext:Ot,createFactory:Vr,cloneElement:Eo,createRef:G,Fragment:ne,isValidElement:gs,findDOMNode:Rr,Component:K,PureComponent:en,memo:oi,forwardRef:kr,flushSync:Pa,unstable_batchedUpdates:vs,StrictMode:ne,Suspense:Wn,SuspenseList:Pr,lazy:hs,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Ca},_a=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Fe,version:sc,Children:ds,render:Sa,hydrate:ic,unmountComponentAtNode:ka,createPortal:ps,createFactory:Vr,cloneElement:Eo,isValidElement:gs,findDOMNode:Rr,PureComponent:en,memo:oi,forwardRef:kr,flushSync:Pa,unstable_batchedUpdates:vs,StrictMode:ac,Suspense:Wn,SuspenseList:Pr,lazy:hs,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Ca,createElement:D,createContext:Ot,createRef:G,Fragment:ne,Component:K,useState:Ne,useReducer:je,useEffect:$e,useLayoutEffect:Ke,useRef:Et,useImperativeHandle:It,useMemo:Lt,useCallback:me,useContext:Ie,useDebugValue:F,useErrorBoundary:N}),or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof ii<"u"?ii:typeof self<"u"?self:{};function To(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Co(s){if(s.__esModule)return s;var c=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(s).forEach(function(o){var a=Object.getOwnPropertyDescriptor(s,o);Object.defineProperty(c,o,a.get?a:{enumerable:!0,get:function(){return s[o]}})}),c}var Sn={exports:{}};function Ur(){}Ur.prototype={on:function(s,c,o){var a=this.e||(this.e={});return(a[s]||(a[s]=[])).push({fn:c,ctx:o}),this},once:function(s,c,o){var a=this;function u(){a.off(s,u),c.apply(o,arguments)}return u._=c,this.on(s,u,o)},emit:function(s){var c=[].slice.call(arguments,1),o=((this.e||(this.e={}))[s]||[]).slice(),a=0,u=o.length;for(a;a<u;a++)o[a].fn.apply(o[a].ctx,c);return this},off:function(s,c){var o=this.e||(this.e={}),a=o[s],u=[];if(a&&c)for(var m=0,v=a.length;m<v;m++)a[m].fn!==c&&a[m].fn._!==c&&u.push(a[m]);return u.length?o[s]=u:delete o[s],this}},Sn.exports=Ur,Sn.exports.TinyEmitter=Ur;var Xi=Sn.exports,Or={exports:{}},ko={},sr=Co(_a),ar={exports:{}},Fd="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jd=Fd,Ra=jd;function Oa(){}function ys(){}ys.resetWarningCache=Oa;var Da=function(){function s(a,u,m,v,b,w){if(w!==Ra){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}s.isRequired=s;function c(){return s}var o={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:c,element:s,elementType:s,instanceOf:c,node:s,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:ys,resetWarningCache:Oa};return o.PropTypes=o,o};ar.exports=Da();function lc(s){var c,o,a="";if(typeof s=="string"||typeof s=="number")a+=s;else if(typeof s=="object")if(Array.isArray(s))for(c=0;c<s.length;c++)s[c]&&(o=lc(s[c]))&&(a&&(a+=" "),a+=o);else for(c in s)s[c]&&(a&&(a+=" "),a+=c);return a}function Po(){for(var s,c,o=0,a="";o<arguments.length;)(s=arguments[o++])&&(c=lc(s))&&(a&&(a+=" "),a+=c);return a}var bs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",clsx:Po,default:Po}),Dr=Co(bs),Dn={},Gn={};Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.dontSetMe=Aa,Gn.findInArray=Wr,Gn.int=_t,Gn.isFunction=ws,Gn.isNum=Nd;function Wr(s,c){for(var o=0,a=s.length;o<a;o++)if(c.apply(c,[s[o],o,s]))return s[o]}function ws(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Function]"}function Nd(s){return typeof s=="number"&&!isNaN(s)}function _t(s){return parseInt(s,10)}function Aa(s,c,o){if(s[c])return new Error("Invalid prop ".concat(c," passed to ").concat(o," - do not set this, set it on the child."))}var Yi={};Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.browserPrefixToKey=lr,Yi.browserPrefixToStyle=_o,Yi.default=void 0,Yi.getPrefix=Gr;var xs=["Moz","Webkit","O","ms"];function Gr(){var s,c,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var a=(s=window.document)===null||s===void 0||(c=s.documentElement)===null||c===void 0?void 0:c.style;if(!a||o in a)return"";for(var u=0;u<xs.length;u++)if(lr(o,xs[u])in a)return xs[u];return""}function lr(s,c){return c?"".concat(c).concat(Ss(s)):s}function _o(s,c){return c?"-".concat(c.toLowerCase(),"-").concat(s):s}function Ss(s){for(var c="",o=!0,a=0;a<s.length;a++)o?(c+=s[a].toUpperCase(),o=!1):s[a]==="-"?o=!0:c+=s[a];return c}var cc=Gr();Yi.default=cc;function C(s){return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},C(s)}Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.addClassName=Ma,Dn.addEvent=Kn,Dn.addUserSelectStyles=Yd,Dn.createCSSTransform=Wd,Dn.createSVGTransform=Gd,Dn.getTouch=qd,Dn.getTouchIdentifier=Xd,Dn.getTranslation=Ia,Dn.innerHeight=Vd,Dn.innerWidth=dc,Dn.matchesSelector=Kt,Dn.matchesSelectorAndParentsTo=Vn,Dn.offsetXYFromParent=Ud,Dn.outerHeight=Bd,Dn.outerWidth=uc,Dn.removeClassName=hc,Dn.removeEvent=Hd,Dn.removeUserSelectStyles=Kd;var R=Gn,H=fe(Yi);function $(s){if(typeof WeakMap!="function")return null;var c=new WeakMap,o=new WeakMap;return($=function(a){return a?o:c})(s)}function fe(s,c){if(s&&s.__esModule)return s;if(s===null||C(s)!=="object"&&typeof s!="function")return{default:s};var o=$(c);if(o&&o.has(s))return o.get(s);var a={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in s)if(m!=="default"&&Object.prototype.hasOwnProperty.call(s,m)){var v=u?Object.getOwnPropertyDescriptor(s,m):null;v&&(v.get||v.set)?Object.defineProperty(a,m,v):a[m]=s[m]}return a.default=s,o&&o.set(s,a),a}function Oe(s,c){var o=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);c&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),o.push.apply(o,a)}return o}function Ve(s){for(var c=1;c<arguments.length;c++){var o=arguments[c]!=null?arguments[c]:{};c%2?Oe(Object(o),!0).forEach(function(a){Wt(s,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(o)):Oe(Object(o)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(o,a))})}return s}function Wt(s,c,o){return c in s?Object.defineProperty(s,c,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[c]=o,s}var an="";function Kt(s,c){return an||(an=(0,R.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(o){return(0,R.isFunction)(s[o])})),(0,R.isFunction)(s[an])?s[an](c):!1}function Vn(s,c,o){var a=s;do{if(Kt(a,c))return!0;if(a===o)return!1;a=a.parentNode}while(a);return!1}function Kn(s,c,o,a){if(s){var u=Ve({capture:!0},a);s.addEventListener?s.addEventListener(c,o,u):s.attachEvent?s.attachEvent("on"+c,o):s["on"+c]=o}}function Hd(s,c,o,a){if(s){var u=Ve({capture:!0},a);s.removeEventListener?s.removeEventListener(c,o,u):s.detachEvent?s.detachEvent("on"+c,o):s["on"+c]=null}}function Bd(s){var c=s.clientHeight,o=s.ownerDocument.defaultView.getComputedStyle(s);return c+=(0,R.int)(o.borderTopWidth),c+=(0,R.int)(o.borderBottomWidth),c}function uc(s){var c=s.clientWidth,o=s.ownerDocument.defaultView.getComputedStyle(s);return c+=(0,R.int)(o.borderLeftWidth),c+=(0,R.int)(o.borderRightWidth),c}function Vd(s){var c=s.clientHeight,o=s.ownerDocument.defaultView.getComputedStyle(s);return c-=(0,R.int)(o.paddingTop),c-=(0,R.int)(o.paddingBottom),c}function dc(s){var c=s.clientWidth,o=s.ownerDocument.defaultView.getComputedStyle(s);return c-=(0,R.int)(o.paddingLeft),c-=(0,R.int)(o.paddingRight),c}function Ud(s,c,o){var a=c===c.ownerDocument.body,u=a?{left:0,top:0}:c.getBoundingClientRect(),m=(s.clientX+c.scrollLeft-u.left)/o,v=(s.clientY+c.scrollTop-u.top)/o;return{x:m,y:v}}function Wd(s,c){var o=Ia(s,c,"px");return Wt({},(0,H.browserPrefixToKey)("transform",H.default),o)}function Gd(s,c){var o=Ia(s,c,"");return o}function Ia(s,c,o){var a=s.x,u=s.y,m="translate(".concat(a).concat(o,",").concat(u).concat(o,")");if(c){var v="".concat(typeof c.x=="string"?c.x:c.x+o),b="".concat(typeof c.y=="string"?c.y:c.y+o);m="translate(".concat(v,", ").concat(b,")")+m}return m}function qd(s,c){return s.targetTouches&&(0,R.findInArray)(s.targetTouches,function(o){return c===o.identifier})||s.changedTouches&&(0,R.findInArray)(s.changedTouches,function(o){return c===o.identifier})}function Xd(s){if(s.targetTouches&&s.targetTouches[0])return s.targetTouches[0].identifier;if(s.changedTouches&&s.changedTouches[0])return s.changedTouches[0].identifier}function Yd(s){if(s){var c=s.getElementById("react-draggable-style-el");c||(c=s.createElement("style"),c.type="text/css",c.id="react-draggable-style-el",c.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,c.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,s.getElementsByTagName("head")[0].appendChild(c)),s.body&&Ma(s.body,"react-draggable-transparent-selection")}}function Kd(s){if(s)try{if(s.body&&hc(s.body,"react-draggable-transparent-selection"),s.selection)s.selection.empty();else{var c=(s.defaultView||window).getSelection();c&&c.type!=="Caret"&&c.removeAllRanges()}}catch{}}function Ma(s,c){s.classList?s.classList.add(c):s.className.match(new RegExp("(?:^|\\s)".concat(c,"(?!\\S)")))||(s.className+=" ".concat(c))}function hc(s,c){s.classList?s.classList.remove(c):s.className=s.className.replace(new RegExp("(?:^|\\s)".concat(c,"(?!\\S)"),"g"),"")}var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.canDragX=$d,Ki.canDragY=pc,Ki.createCoreData=eh,Ki.createDraggableData=th,Ki.getBoundPosition=Zd,Ki.getControlPosition=Qd,Ki.snapToGrid=Jd;var xi=Gn,qr=Dn;function Zd(s,c,o){if(!s.props.bounds)return[c,o];var a=s.props.bounds;a=typeof a=="string"?a:nh(a);var u=za(s);if(typeof a=="string"){var m=u.ownerDocument,v=m.defaultView,b;if(a==="parent"?b=u.parentNode:b=m.querySelector(a),!(b instanceof v.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');var w=b,x=v.getComputedStyle(u),E=v.getComputedStyle(w);a={left:-u.offsetLeft+(0,xi.int)(E.paddingLeft)+(0,xi.int)(x.marginLeft),top:-u.offsetTop+(0,xi.int)(E.paddingTop)+(0,xi.int)(x.marginTop),right:(0,qr.innerWidth)(w)-(0,qr.outerWidth)(u)-u.offsetLeft+(0,xi.int)(E.paddingRight)-(0,xi.int)(x.marginRight),bottom:(0,qr.innerHeight)(w)-(0,qr.outerHeight)(u)-u.offsetTop+(0,xi.int)(E.paddingBottom)-(0,xi.int)(x.marginBottom)}}return(0,xi.isNum)(a.right)&&(c=Math.min(c,a.right)),(0,xi.isNum)(a.bottom)&&(o=Math.min(o,a.bottom)),(0,xi.isNum)(a.left)&&(c=Math.max(c,a.left)),(0,xi.isNum)(a.top)&&(o=Math.max(o,a.top)),[c,o]}function Jd(s,c,o){var a=Math.round(c/s[0])*s[0],u=Math.round(o/s[1])*s[1];return[a,u]}function $d(s){return s.props.axis==="both"||s.props.axis==="x"}function pc(s){return s.props.axis==="both"||s.props.axis==="y"}function Qd(s,c,o){var a=typeof c=="number"?(0,qr.getTouch)(s,c):null;if(typeof c=="number"&&!a)return null;var u=za(o),m=o.props.offsetParent||u.offsetParent||u.ownerDocument.body;return(0,qr.offsetXYFromParent)(a||s,m,o.props.scale)}function eh(s,c,o){var a=s.state,u=!(0,xi.isNum)(a.lastX),m=za(s);return u?{node:m,deltaX:0,deltaY:0,lastX:c,lastY:o,x:c,y:o}:{node:m,deltaX:c-a.lastX,deltaY:o-a.lastY,lastX:a.lastX,lastY:a.lastY,x:c,y:o}}function th(s,c){var o=s.props.scale;return{node:c.node,x:s.state.x+c.deltaX/o,y:s.state.y+c.deltaY/o,deltaX:c.deltaX/o,deltaY:c.deltaY/o,lastX:s.state.x,lastY:s.state.y}}function nh(s){return{left:s.left,top:s.top,right:s.right,bottom:s.bottom}}function za(s){var c=s.findDOMNode();if(!c)throw new Error("<DraggableCore>: Unmounted during event!");return c}var Es={},Ro={};Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.default=ih;function ih(){}function Ts(s){return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Ts(s)}Object.defineProperty(Es,"__esModule",{value:!0}),Es.default=void 0;var La=Pn(sr),Qn=Bt(ar.exports),fc=Bt(sr),Zn=Dn,Ee=Ki,qe=Gn,bt=Bt(Ro);function Bt(s){return s&&s.__esModule?s:{default:s}}function Qt(s){if(typeof WeakMap!="function")return null;var c=new WeakMap,o=new WeakMap;return(Qt=function(a){return a?o:c})(s)}function Pn(s,c){if(s&&s.__esModule)return s;if(s===null||Ts(s)!=="object"&&typeof s!="function")return{default:s};var o=Qt(c);if(o&&o.has(s))return o.get(s);var a={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in s)if(m!=="default"&&Object.prototype.hasOwnProperty.call(s,m)){var v=u?Object.getOwnPropertyDescriptor(s,m):null;v&&(v.get||v.set)?Object.defineProperty(a,m,v):a[m]=s[m]}return a.default=s,o&&o.set(s,a),a}function ki(s,c){return Ar(s)||Fa(s,c)||Si(s,c)||Pi()}function Pi(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Si(s,c){if(s){if(typeof s=="string")return _i(s,c);var o=Object.prototype.toString.call(s).slice(8,-1);if(o==="Object"&&s.constructor&&(o=s.constructor.name),o==="Map"||o==="Set")return Array.from(s);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _i(s,c)}}function _i(s,c){(c==null||c>s.length)&&(c=s.length);for(var o=0,a=new Array(c);o<c;o++)a[o]=s[o];return a}function Fa(s,c){var o=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(o!=null){var a=[],u=!0,m=!1,v,b;try{for(o=o.call(s);!(u=(v=o.next()).done)&&(a.push(v.value),!(c&&a.length===c));u=!0);}catch(w){m=!0,b=w}finally{try{!u&&o.return!=null&&o.return()}finally{if(m)throw b}}return a}}function Ar(s){if(Array.isArray(s))return s}function rh(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}function XP(s,c){for(var o=0;o<c.length;o++){var a=c[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,a.key,a)}}function YP(s,c,o){return c&&XP(s.prototype,c),Object.defineProperty(s,"prototype",{writable:!1}),s}function KP(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),c&&oh(s,c)}function oh(s,c){return oh=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},oh(s,c)}function ZP(s){var c=$P();return function(){var o=mc(s),a;if(c){var u=mc(this).constructor;a=Reflect.construct(o,arguments,u)}else a=o.apply(this,arguments);return JP(this,a)}}function JP(s,c){if(c&&(Ts(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fi(s)}function fi(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function $P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mc(s){return mc=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},mc(s)}function Zi(s,c,o){return c in s?Object.defineProperty(s,c,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[c]=o,s}var cr={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Xr=cr.mouse,gc=function(s){KP(o,s);var c=ZP(o);function o(){var a;rh(this,o);for(var u=arguments.length,m=new Array(u),v=0;v<u;v++)m[v]=arguments[v];return a=c.call.apply(c,[this].concat(m)),Zi(fi(a),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),Zi(fi(a),"mounted",!1),Zi(fi(a),"handleDragStart",function(b){if(a.props.onMouseDown(b),!a.props.allowAnyClick&&typeof b.button=="number"&&b.button!==0)return!1;var w=a.findDOMNode();if(!w||!w.ownerDocument||!w.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var x=w.ownerDocument;if(!(a.props.disabled||!(b.target instanceof x.defaultView.Node)||a.props.handle&&!(0,Zn.matchesSelectorAndParentsTo)(b.target,a.props.handle,w)||a.props.cancel&&(0,Zn.matchesSelectorAndParentsTo)(b.target,a.props.cancel,w))){b.type==="touchstart"&&b.preventDefault();var E=(0,Zn.getTouchIdentifier)(b);a.setState({touchIdentifier:E});var O=(0,Ee.getControlPosition)(b,E,fi(a));if(O!=null){var A=O.x,B=O.y,X=(0,Ee.createCoreData)(fi(a),A,B);(0,bt.default)("DraggableCore: handleDragStart: %j",X),(0,bt.default)("calling",a.props.onStart);var le=a.props.onStart(b,X);le===!1||a.mounted===!1||(a.props.enableUserSelectHack&&(0,Zn.addUserSelectStyles)(x),a.setState({dragging:!0,lastX:A,lastY:B}),(0,Zn.addEvent)(x,Xr.move,a.handleDrag),(0,Zn.addEvent)(x,Xr.stop,a.handleDragStop))}}}),Zi(fi(a),"handleDrag",function(b){var w=(0,Ee.getControlPosition)(b,a.state.touchIdentifier,fi(a));if(w!=null){var x=w.x,E=w.y;if(Array.isArray(a.props.grid)){var O=x-a.state.lastX,A=E-a.state.lastY,B=(0,Ee.snapToGrid)(a.props.grid,O,A),X=ki(B,2);if(O=X[0],A=X[1],!O&&!A)return;x=a.state.lastX+O,E=a.state.lastY+A}var le=(0,Ee.createCoreData)(fi(a),x,E);(0,bt.default)("DraggableCore: handleDrag: %j",le);var re=a.props.onDrag(b,le);if(re===!1||a.mounted===!1){try{a.handleDragStop(new MouseEvent("mouseup"))}catch{var he=document.createEvent("MouseEvents");he.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.handleDragStop(he)}return}a.setState({lastX:x,lastY:E})}}),Zi(fi(a),"handleDragStop",function(b){if(a.state.dragging){var w=(0,Ee.getControlPosition)(b,a.state.touchIdentifier,fi(a));if(w!=null){var x=w.x,E=w.y;if(Array.isArray(a.props.grid)){var O=x-a.state.lastX||0,A=E-a.state.lastY||0,B=(0,Ee.snapToGrid)(a.props.grid,O,A),X=ki(B,2);O=X[0],A=X[1],x=a.state.lastX+O,E=a.state.lastY+A}var le=(0,Ee.createCoreData)(fi(a),x,E),re=a.props.onStop(b,le);if(re===!1||a.mounted===!1)return!1;var he=a.findDOMNode();he&&a.props.enableUserSelectHack&&(0,Zn.removeUserSelectStyles)(he.ownerDocument),(0,bt.default)("DraggableCore: handleDragStop: %j",le),a.setState({dragging:!1,lastX:NaN,lastY:NaN}),he&&((0,bt.default)("DraggableCore: Removing handlers"),(0,Zn.removeEvent)(he.ownerDocument,Xr.move,a.handleDrag),(0,Zn.removeEvent)(he.ownerDocument,Xr.stop,a.handleDragStop))}}}),Zi(fi(a),"onMouseDown",function(b){return Xr=cr.mouse,a.handleDragStart(b)}),Zi(fi(a),"onMouseUp",function(b){return Xr=cr.mouse,a.handleDragStop(b)}),Zi(fi(a),"onTouchStart",function(b){return Xr=cr.touch,a.handleDragStart(b)}),Zi(fi(a),"onTouchEnd",function(b){return Xr=cr.touch,a.handleDragStop(b)}),a}return YP(o,[{key:"componentDidMount",value:function(){this.mounted=!0;var a=this.findDOMNode();a&&(0,Zn.addEvent)(a,cr.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.findDOMNode();if(a){var u=a.ownerDocument;(0,Zn.removeEvent)(u,cr.mouse.move,this.handleDrag),(0,Zn.removeEvent)(u,cr.touch.move,this.handleDrag),(0,Zn.removeEvent)(u,cr.mouse.stop,this.handleDragStop),(0,Zn.removeEvent)(u,cr.touch.stop,this.handleDragStop),(0,Zn.removeEvent)(a,cr.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Zn.removeUserSelectStyles)(u)}}},{key:"findDOMNode",value:function(){var a,u,m;return(a=this.props)!==null&&a!==void 0&&a.nodeRef?(u=this.props)===null||u===void 0||(m=u.nodeRef)===null||m===void 0?void 0:m.current:fc.default.findDOMNode(this)}},{key:"render",value:function(){return La.cloneElement(La.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),o}(La.Component);Es.default=gc,Zi(gc,"displayName","DraggableCore"),Zi(gc,"propTypes",{allowAnyClick:Qn.default.bool,disabled:Qn.default.bool,enableUserSelectHack:Qn.default.bool,offsetParent:function(s,c){if(s[c]&&s[c].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Qn.default.arrayOf(Qn.default.number),handle:Qn.default.string,cancel:Qn.default.string,nodeRef:Qn.default.object,onStart:Qn.default.func,onDrag:Qn.default.func,onStop:Qn.default.func,onMouseDown:Qn.default.func,scale:Qn.default.number,className:qe.dontSetMe,style:qe.dontSetMe,transform:qe.dontSetMe}),Zi(gc,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(s){function c(We){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(nt){return typeof nt}:function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},c(We)}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"DraggableCore",{enumerable:!0,get:function(){return x.default}}),s.default=void 0;var o=X(sr),a=A(ar.exports),u=A(sr),m=A(Dr),v=Dn,b=Ki,w=Gn,x=A(Es),E=A(Ro),O=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function A(We){return We&&We.__esModule?We:{default:We}}function B(We){if(typeof WeakMap!="function")return null;var nt=new WeakMap,ot=new WeakMap;return(B=function(it){return it?ot:nt})(We)}function X(We,nt){if(We&&We.__esModule)return We;if(We===null||c(We)!=="object"&&typeof We!="function")return{default:We};var ot=B(nt);if(ot&&ot.has(We))return ot.get(We);var it={},ut=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Mt in We)if(Mt!=="default"&&Object.prototype.hasOwnProperty.call(We,Mt)){var yn=ut?Object.getOwnPropertyDescriptor(We,Mt):null;yn&&(yn.get||yn.set)?Object.defineProperty(it,Mt,yn):it[Mt]=We[Mt]}return it.default=We,ot&&ot.set(We,it),it}function le(){return le=Object.assign||function(We){for(var nt=1;nt<arguments.length;nt++){var ot=arguments[nt];for(var it in ot)Object.prototype.hasOwnProperty.call(ot,it)&&(We[it]=ot[it])}return We},le.apply(this,arguments)}function re(We,nt){if(We==null)return{};var ot=he(We,nt),it,ut;if(Object.getOwnPropertySymbols){var Mt=Object.getOwnPropertySymbols(We);for(ut=0;ut<Mt.length;ut++)it=Mt[ut],!(nt.indexOf(it)>=0)&&(!Object.prototype.propertyIsEnumerable.call(We,it)||(ot[it]=We[it]))}return ot}function he(We,nt){if(We==null)return{};var ot={},it=Object.keys(We),ut,Mt;for(Mt=0;Mt<it.length;Mt++)ut=it[Mt],!(nt.indexOf(ut)>=0)&&(ot[ut]=We[ut]);return ot}function z(We,nt){var ot=Object.keys(We);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(We);nt&&(it=it.filter(function(ut){return Object.getOwnPropertyDescriptor(We,ut).enumerable})),ot.push.apply(ot,it)}return ot}function ae(We){for(var nt=1;nt<arguments.length;nt++){var ot=arguments[nt]!=null?arguments[nt]:{};nt%2?z(Object(ot),!0).forEach(function(it){pt(We,it,ot[it])}):Object.getOwnPropertyDescriptors?Object.defineProperties(We,Object.getOwnPropertyDescriptors(ot)):z(Object(ot)).forEach(function(it){Object.defineProperty(We,it,Object.getOwnPropertyDescriptor(ot,it))})}return We}function we(We,nt){return Je(We)||Xe(We,nt)||Ce(We,nt)||ye()}function ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ce(We,nt){if(We){if(typeof We=="string")return Pe(We,nt);var ot=Object.prototype.toString.call(We).slice(8,-1);if(ot==="Object"&&We.constructor&&(ot=We.constructor.name),ot==="Map"||ot==="Set")return Array.from(We);if(ot==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ot))return Pe(We,nt)}}function Pe(We,nt){(nt==null||nt>We.length)&&(nt=We.length);for(var ot=0,it=new Array(nt);ot<nt;ot++)it[ot]=We[ot];return it}function Xe(We,nt){var ot=We==null?null:typeof Symbol<"u"&&We[Symbol.iterator]||We["@@iterator"];if(ot!=null){var it=[],ut=!0,Mt=!1,yn,Ln;try{for(ot=ot.call(We);!(ut=(yn=ot.next()).done)&&(it.push(yn.value),!(nt&&it.length===nt));ut=!0);}catch(dn){Mt=!0,Ln=dn}finally{try{!ut&&ot.return!=null&&ot.return()}finally{if(Mt)throw Ln}}return it}}function Je(We){if(Array.isArray(We))return We}function dt(We,nt){if(!(We instanceof nt))throw new TypeError("Cannot call a class as a function")}function mt(We,nt){for(var ot=0;ot<nt.length;ot++){var it=nt[ot];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(We,it.key,it)}}function ht(We,nt,ot){return nt&&mt(We.prototype,nt),ot&&mt(We,ot),Object.defineProperty(We,"prototype",{writable:!1}),We}function Rt(We,nt){if(typeof nt!="function"&&nt!==null)throw new TypeError("Super expression must either be null or a function");We.prototype=Object.create(nt&&nt.prototype,{constructor:{value:We,writable:!0,configurable:!0}}),Object.defineProperty(We,"prototype",{writable:!1}),nt&&Pt(We,nt)}function Pt(We,nt){return Pt=Object.setPrototypeOf||function(ot,it){return ot.__proto__=it,ot},Pt(We,nt)}function qt(We){var nt=hn();return function(){var ot=Tn(We),it;if(nt){var ut=Tn(this).constructor;it=Reflect.construct(ot,arguments,ut)}else it=ot.apply(this,arguments);return Gt(this,it)}}function Gt(We,nt){if(nt&&(c(nt)==="object"||typeof nt=="function"))return nt;if(nt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zt(We)}function Zt(We){if(We===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return We}function hn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tn(We){return Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(nt){return nt.__proto__||Object.getPrototypeOf(nt)},Tn(We)}function pt(We,nt,ot){return nt in We?Object.defineProperty(We,nt,{value:ot,enumerable:!0,configurable:!0,writable:!0}):We[nt]=ot,We}var tn=function(We){Rt(ot,We);var nt=qt(ot);function ot(it){var ut;return dt(this,ot),ut=nt.call(this,it),pt(Zt(ut),"onDragStart",function(Mt,yn){(0,E.default)("Draggable: onDragStart: %j",yn);var Ln=ut.props.onStart(Mt,(0,b.createDraggableData)(Zt(ut),yn));if(Ln===!1)return!1;ut.setState({dragging:!0,dragged:!0})}),pt(Zt(ut),"onDrag",function(Mt,yn){if(!ut.state.dragging)return!1;(0,E.default)("Draggable: onDrag: %j",yn);var Ln=(0,b.createDraggableData)(Zt(ut),yn),dn={x:Ln.x,y:Ln.y};if(ut.props.bounds){var Ji=dn.x,Oi=dn.y;dn.x+=ut.state.slackX,dn.y+=ut.state.slackY;var Hi=(0,b.getBoundPosition)(Zt(ut),dn.x,dn.y),j=we(Hi,2),ue=j[0],De=j[1];dn.x=ue,dn.y=De,dn.slackX=ut.state.slackX+(Ji-dn.x),dn.slackY=ut.state.slackY+(Oi-dn.y),Ln.x=dn.x,Ln.y=dn.y,Ln.deltaX=dn.x-ut.state.x,Ln.deltaY=dn.y-ut.state.y}var Ze=ut.props.onDrag(Mt,Ln);if(Ze===!1)return!1;ut.setState(dn)}),pt(Zt(ut),"onDragStop",function(Mt,yn){if(!ut.state.dragging)return!1;var Ln=ut.props.onStop(Mt,(0,b.createDraggableData)(Zt(ut),yn));if(Ln===!1)return!1;(0,E.default)("Draggable: onDragStop: %j",yn);var dn={dragging:!1,slackX:0,slackY:0},Ji=!!ut.props.position;if(Ji){var Oi=ut.props.position,Hi=Oi.x,j=Oi.y;dn.x=Hi,dn.y=j}ut.setState(dn)}),ut.state={dragging:!1,dragged:!1,x:it.position?it.position.x:it.defaultPosition.x,y:it.position?it.position.y:it.defaultPosition.y,prevPropsPosition:ae({},it.position),slackX:0,slackY:0,isElementSVG:!1},it.position&&!(it.onDrag||it.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),ut}return ht(ot,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var it,ut,Mt;return(it=(ut=this.props)===null||ut===void 0||(Mt=ut.nodeRef)===null||Mt===void 0?void 0:Mt.current)!==null&&it!==void 0?it:u.default.findDOMNode(this)}},{key:"render",value:function(){var it,ut=this.props;ut.axis,ut.bounds;var Mt=ut.children,yn=ut.defaultPosition,Ln=ut.defaultClassName,dn=ut.defaultClassNameDragging,Ji=ut.defaultClassNameDragged,Oi=ut.position,Hi=ut.positionOffset;ut.scale;var j=re(ut,O),ue={},De=null,Ze=!!Oi,Ge=!Ze||this.state.dragging,kt=Oi||yn,ft={x:(0,b.canDragX)(this)&&Ge?this.state.x:kt.x,y:(0,b.canDragY)(this)&&Ge?this.state.y:kt.y};this.state.isElementSVG?De=(0,v.createSVGTransform)(ft,Hi):ue=(0,v.createCSSTransform)(ft,Hi);var pn=(0,m.default)(Mt.props.className||"",Ln,(it={},pt(it,dn,this.state.dragging),pt(it,Ji,this.state.dragged),it));return o.createElement(x.default,le({},j,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.cloneElement(o.Children.only(Mt),{className:pn,style:ae(ae({},Mt.props.style),ue),transform:De}))}}],[{key:"getDerivedStateFromProps",value:function(it,ut){var Mt=it.position,yn=ut.prevPropsPosition;return Mt&&(!yn||Mt.x!==yn.x||Mt.y!==yn.y)?((0,E.default)("Draggable: getDerivedStateFromProps %j",{position:Mt,prevPropsPosition:yn}),{x:Mt.x,y:Mt.y,prevPropsPosition:ae({},Mt)}):null}}]),ot}(o.Component);s.default=tn,pt(tn,"displayName","Draggable"),pt(tn,"propTypes",ae(ae({},x.default.propTypes),{},{axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:w.dontSetMe,style:w.dontSetMe,transform:w.dontSetMe})),pt(tn,"defaultProps",ae(ae({},x.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(ko);var fv=ko,mv=fv.default,QP=fv.DraggableCore;Or.exports=mv,Or.exports.default=mv,Or.exports.DraggableCore=QP;var e2=Or.exports,t2=["second","minute","hour","day","week","month","year"];function n2(s,c){if(c===0)return["just now","right now"];var o=t2[Math.floor(c/2)];return s>1&&(o+="s"),[s+" "+o+" ago","in "+s+" "+o]}var i2=["ç§’","åˆ†é’Ÿ","å°æ—¶","å¤©","å‘¨","ä¸ªæœˆ","å¹´"];function r2(s,c){if(c===0)return["åˆšåˆš","ç‰‡åˆ»åŽ"];var o=i2[~~(c/2)];return[s+" "+o+"å‰",s+" "+o+"åŽ"]}var sh={},Nn=function(s,c){sh[s]=c},gv=function(s){return sh[s]||sh.en_US},Oo=[60,60,24,7,365/7/12,12];function vv(s){return s instanceof Date?s:!isNaN(s)||/^\d+$/.test(s)?new Date(parseInt(s)):(s=(s||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(s))}function yv(s,c){var o=s<0?1:0;s=Math.abs(s);for(var a=s,u=0;s>=Oo[u]&&u<Oo.length;u++)s/=Oo[u];return s=Math.floor(s),u*=2,s>(u===0?9:1)&&(u+=1),c(s,u,a)[o].replace("%s",s.toString())}function bv(s,c){var o=c?vv(c):new Date;return(+o-+vv(s))/1e3}function o2(s){for(var c=1,o=0,a=Math.abs(s);s>=Oo[o]&&o<Oo.length;o++)s/=Oo[o],c*=Oo[o];return a=a%c,a=a?c-a:c,Math.ceil(a)}var s2=function(s,c,o){var a=bv(s,o&&o.relativeDate);return yv(a,gv(c))},wv="timeago-id";function a2(s){return s.getAttribute("datetime")}function l2(s,c){s.setAttribute(wv,c)}function xv(s){return parseInt(s.getAttribute(wv))}var ah={},lh=function(s){clearTimeout(s),delete ah[s]};function Sv(s,c,o,a){lh(xv(s));var u=a.relativeDate,m=a.minInterval,v=bv(c,u);s.innerText=yv(v,o);var b=setTimeout(function(){Sv(s,c,o,a)},Math.min(Math.max(o2(v),m||1)*1e3,2147483647));ah[b]=0,l2(s,b)}function Ev(s){s?lh(xv(s)):Object.keys(ah).forEach(lh)}function c2(s,c,o){var a=s.length?s:[s];return a.forEach(function(u){Sv(u,a2(u),gv(c),o||{})}),a}Nn("en_US",n2),Nn("zh_CN",r2);var u2=globalThis&&globalThis.__extends||function(){var s=function(c,o){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var m in u)u.hasOwnProperty(m)&&(a[m]=u[m])},s(c,o)};return function(c,o){s(c,o);function a(){this.constructor=c}c.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),ch=globalThis&&globalThis.__assign||function(){return ch=Object.assign||function(s){for(var c,o=1,a=arguments.length;o<a;o++){c=arguments[o];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(s[u]=c[u])}return s},ch.apply(this,arguments)},d2=globalThis&&globalThis.__rest||function(s,c){var o={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&c.indexOf(a)<0&&(o[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(s);u<a.length;u++)c.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(s,a[u])&&(o[a[u]]=s[a[u]]);return o},h2=function(s){return""+(s instanceof Date?s.getTime():s)},p2=function(s){u2(c,s);function c(){var o=s!==null&&s.apply(this,arguments)||this;return o.dom=null,o}return c.prototype.componentDidMount=function(){this.renderTimeAgo()},c.prototype.componentDidUpdate=function(){this.renderTimeAgo()},c.prototype.renderTimeAgo=function(){var o=this.props,a=o.live,u=o.datetime,m=o.locale,v=o.opts;Ev(this.dom),a!==!1&&(this.dom.setAttribute("datetime",h2(u)),c2(this.dom,m,v))},c.prototype.componentWillUnmount=function(){Ev(this.dom)},c.prototype.render=function(){var o=this,a=this.props,u=a.datetime;a.live;var m=a.locale,v=a.opts,b=d2(a,["datetime","live","locale","opts"]);return D("time",ch({ref:function(w){o.dom=w}},b),s2(u,m,v))},c.defaultProps={live:!0,className:""},c}(en);function f2(s,c){const o=a=>{s.current&&!s.current.contains(event.target)&&c()};$e(()=>(document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)))}var Tv=Object.prototype.toString,Cv=function(s){var c=Tv.call(s),o=c==="[object Arguments]";return o||(o=c!=="[object Array]"&&s!==null&&typeof s=="object"&&typeof s.length=="number"&&s.length>=0&&Tv.call(s.callee)==="[object Function]"),o},kv;if(!Object.keys){var vc=Object.prototype.hasOwnProperty,Pv=Object.prototype.toString,m2=Cv,_v=Object.prototype.propertyIsEnumerable,g2=!_v.call({toString:null},"toString"),v2=_v.call(function(){},"prototype"),yc=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],uh=function(s){var c=s.constructor;return c&&c.prototype===s},y2={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},b2=function(){if(typeof window>"u")return!1;for(var s in window)try{if(!y2["$"+s]&&vc.call(window,s)&&window[s]!==null&&typeof window[s]=="object")try{uh(window[s])}catch{return!0}}catch{return!0}return!1}(),w2=function(s){if(typeof window>"u"||!b2)return uh(s);try{return uh(s)}catch{return!1}};kv=function(s){var c=s!==null&&typeof s=="object",o=Pv.call(s)==="[object Function]",a=m2(s),u=c&&Pv.call(s)==="[object String]",m=[];if(!c&&!o&&!a)throw new TypeError("Object.keys called on a non-object");var v=v2&&o;if(u&&s.length>0&&!vc.call(s,0))for(var b=0;b<s.length;++b)m.push(String(b));if(a&&s.length>0)for(var w=0;w<s.length;++w)m.push(String(w));else for(var x in s)!(v&&x==="prototype")&&vc.call(s,x)&&m.push(String(x));if(g2)for(var E=w2(s),O=0;O<yc.length;++O)!(E&&yc[O]==="constructor")&&vc.call(s,yc[O])&&m.push(yc[O]);return m}}var x2=kv,S2=Array.prototype.slice,E2=Cv,Rv=Object.keys,bc=Rv?function(s){return Rv(s)}:x2,Ov=Object.keys;bc.shim=function(){if(Object.keys){var s=function(){var c=Object.keys(arguments);return c&&c.length===arguments.length}(1,2);s||(Object.keys=function(c){return E2(c)?Ov(S2.call(c)):Ov(c)})}else Object.keys=bc;return Object.keys||bc};var T2=bc,Dv=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var s={},c=Symbol("test"),o=Object(c);if(typeof c=="string"||Object.prototype.toString.call(c)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var a=42;s[c]=a;for(c in s)return!1;if(typeof Object.keys=="function"&&Object.keys(s).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(s).length!==0)return!1;var u=Object.getOwnPropertySymbols(s);if(u.length!==1||u[0]!==c||!Object.prototype.propertyIsEnumerable.call(s,c))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var m=Object.getOwnPropertyDescriptor(s,c);if(m.value!==a||m.enumerable!==!0)return!1}return!0},Av=typeof Symbol<"u"&&Symbol,C2=Dv,Iv=function(){return typeof Av!="function"||typeof Symbol!="function"||typeof Av("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:C2()},Mv={foo:{}},k2=Object,P2=function(){return{__proto__:Mv}.foo===Mv.foo&&!({__proto__:null}instanceof k2)},_2="Function.prototype.bind called on incompatible ",dh=Array.prototype.slice,R2=Object.prototype.toString,O2="[object Function]",D2=function(s){var c=this;if(typeof c!="function"||R2.call(c)!==O2)throw new TypeError(_2+c);for(var o=dh.call(arguments,1),a,u=function(){if(this instanceof a){var x=c.apply(this,o.concat(dh.call(arguments)));return Object(x)===x?x:this}else return c.apply(s,o.concat(dh.call(arguments)))},m=Math.max(0,c.length-o.length),v=[],b=0;b<m;b++)v.push("$"+b);if(a=Function("binder","return function ("+v.join(",")+"){ return binder.apply(this,arguments); }")(u),c.prototype){var w=function(){};w.prototype=c.prototype,a.prototype=new w,w.prototype=null}return a},A2=D2,hh=Function.prototype.bind||A2,I2=hh,zv=I2.call(Function.call,Object.prototype.hasOwnProperty),sn,Cs=SyntaxError,Lv=Function,ks=TypeError,ph=function(s){try{return Lv('"use strict"; return ('+s+").constructor;")()}catch{}},Do=Object.getOwnPropertyDescriptor;if(Do)try{Do({},"")}catch{Do=null}var fh=function(){throw new ks},M2=Do?function(){try{return arguments.callee,fh}catch{try{return Do(arguments,"callee").get}catch{return fh}}}():fh,Ps=Iv(),z2=P2(),ei=Object.getPrototypeOf||(z2?function(s){return s.__proto__}:null),_s={},L2=typeof Uint8Array>"u"||!ei?sn:ei(Uint8Array),Ao={"%AggregateError%":typeof AggregateError>"u"?sn:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?sn:ArrayBuffer,"%ArrayIteratorPrototype%":Ps&&ei?ei([][Symbol.iterator]()):sn,"%AsyncFromSyncIteratorPrototype%":sn,"%AsyncFunction%":_s,"%AsyncGenerator%":_s,"%AsyncGeneratorFunction%":_s,"%AsyncIteratorPrototype%":_s,"%Atomics%":typeof Atomics>"u"?sn:Atomics,"%BigInt%":typeof BigInt>"u"?sn:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?sn:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?sn:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?sn:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?sn:Float32Array,"%Float64Array%":typeof Float64Array>"u"?sn:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?sn:FinalizationRegistry,"%Function%":Lv,"%GeneratorFunction%":_s,"%Int8Array%":typeof Int8Array>"u"?sn:Int8Array,"%Int16Array%":typeof Int16Array>"u"?sn:Int16Array,"%Int32Array%":typeof Int32Array>"u"?sn:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ps&&ei?ei(ei([][Symbol.iterator]())):sn,"%JSON%":typeof JSON=="object"?JSON:sn,"%Map%":typeof Map>"u"?sn:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ps||!ei?sn:ei(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?sn:Promise,"%Proxy%":typeof Proxy>"u"?sn:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?sn:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?sn:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ps||!ei?sn:ei(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?sn:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ps&&ei?ei(""[Symbol.iterator]()):sn,"%Symbol%":Ps?Symbol:sn,"%SyntaxError%":Cs,"%ThrowTypeError%":M2,"%TypedArray%":L2,"%TypeError%":ks,"%Uint8Array%":typeof Uint8Array>"u"?sn:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?sn:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?sn:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?sn:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?sn:WeakMap,"%WeakRef%":typeof WeakRef>"u"?sn:WeakRef,"%WeakSet%":typeof WeakSet>"u"?sn:WeakSet};if(ei)try{null.error}catch(s){var F2=ei(ei(s));Ao["%Error.prototype%"]=F2}var j2=function s(c){var o;if(c==="%AsyncFunction%")o=ph("async function () {}");else if(c==="%GeneratorFunction%")o=ph("function* () {}");else if(c==="%AsyncGeneratorFunction%")o=ph("async function* () {}");else if(c==="%AsyncGenerator%"){var a=s("%AsyncGeneratorFunction%");a&&(o=a.prototype)}else if(c==="%AsyncIteratorPrototype%"){var u=s("%AsyncGenerator%");u&&ei&&(o=ei(u.prototype))}return Ao[c]=o,o},Fv={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ja=hh,wc=zv,N2=ja.call(Function.call,Array.prototype.concat),H2=ja.call(Function.apply,Array.prototype.splice),jv=ja.call(Function.call,String.prototype.replace),xc=ja.call(Function.call,String.prototype.slice),B2=ja.call(Function.call,RegExp.prototype.exec),V2=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,U2=/\\(\\)?/g,W2=function(s){var c=xc(s,0,1),o=xc(s,-1);if(c==="%"&&o!=="%")throw new Cs("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&c!=="%")throw new Cs("invalid intrinsic syntax, expected opening `%`");var a=[];return jv(s,V2,function(u,m,v,b){a[a.length]=v?jv(b,U2,"$1"):m||u}),a},G2=function(s,c){var o=s,a;if(wc(Fv,o)&&(a=Fv[o],o="%"+a[0]+"%"),wc(Ao,o)){var u=Ao[o];if(u===_s&&(u=j2(o)),typeof u>"u"&&!c)throw new ks("intrinsic "+s+" exists, but is not available. Please file an issue!");return{alias:a,name:o,value:u}}throw new Cs("intrinsic "+s+" does not exist!")},ai=function(s,c){if(typeof s!="string"||s.length===0)throw new ks("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof c!="boolean")throw new ks('"allowMissing" argument must be a boolean');if(B2(/^%?[^%]*%?$/,s)===null)throw new Cs("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var o=W2(s),a=o.length>0?o[0]:"",u=G2("%"+a+"%",c),m=u.name,v=u.value,b=!1,w=u.alias;w&&(a=w[0],H2(o,N2([0,1],w)));for(var x=1,E=!0;x<o.length;x+=1){var O=o[x],A=xc(O,0,1),B=xc(O,-1);if((A==='"'||A==="'"||A==="`"||B==='"'||B==="'"||B==="`")&&A!==B)throw new Cs("property names with quotes must have matching quotes");if((O==="constructor"||!E)&&(b=!0),a+="."+O,m="%"+a+"%",wc(Ao,m))v=Ao[m];else if(v!=null){if(!(O in v)){if(!c)throw new ks("base intrinsic for "+s+" exists, but the property is not available.");return}if(Do&&x+1>=o.length){var X=Do(v,O);E=!!X,E&&"get"in X&&!("originalValue"in X.get)?v=X.get:v=v[O]}else E=wc(v,O),v=v[O];E&&!b&&(Ao[m]=v)}}return v},q2=ai,mh=q2("%Object.defineProperty%",!0),gh=function(){if(mh)try{return mh({},"a",{value:1}),!0}catch{return!1}return!1};gh.hasArrayLengthDefineBug=function(){if(!gh())return null;try{return mh([],"length",{value:1}).length!==1}catch{return!0}};var X2=gh,Y2=T2,K2=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Z2=Object.prototype.toString,J2=Array.prototype.concat,Nv=Object.defineProperty,$2=function(s){return typeof s=="function"&&Z2.call(s)==="[object Function]"},Q2=X2(),Hv=Nv&&Q2,e_=function(s,c,o,a){if(c in s){if(a===!0){if(s[c]===o)return}else if(!$2(a)||!a())return}Hv?Nv(s,c,{configurable:!0,enumerable:!1,value:o,writable:!0}):s[c]=o},Bv=function(s,c){var o=arguments.length>2?arguments[2]:{},a=Y2(c);K2&&(a=J2.call(a,Object.getOwnPropertySymbols(c)));for(var u=0;u<a.length;u+=1)e_(s,a[u],c[a[u]],o[a[u]])};Bv.supportsDescriptors=!!Hv;var Rs=Bv,Na={exports:{}};(function(s){var c=hh,o=ai,a=o("%Function.prototype.apply%"),u=o("%Function.prototype.call%"),m=o("%Reflect.apply%",!0)||c.call(u,a),v=o("%Object.getOwnPropertyDescriptor%",!0),b=o("%Object.defineProperty%",!0),w=o("%Math.max%");if(b)try{b({},"a",{value:1})}catch{b=null}s.exports=function(E){var O=m(c,u,arguments);if(v&&b){var A=v(O,"length");A.configurable&&b(O,"length",{value:1+w(0,E.length-(arguments.length-1))})}return O};var x=function(){return m(c,a,arguments)};b?b(s.exports,"apply",{value:x}):s.exports.apply=x})(Na);var Vv=ai,Uv=Na.exports,t_=Uv(Vv("String.prototype.indexOf")),Ir=function(s,c){var o=Vv(s,!!c);return typeof o=="function"&&t_(s,".prototype.")>-1?Uv(o):o},n_=ai,i_=n_("%TypeError%"),r_=function(s,c){if(s==null)throw new i_(c||"Cannot call method on "+s);return s},Ha=r_,o_=ai,Wv=o_("%Array%"),s_=!Wv.isArray&&Ir("Object.prototype.toString"),a_=Wv.isArray||function(s){return s_(s)==="[object Array]"},l_=a_,Gv=ai,c_=Ir,u_=Gv("%TypeError%"),d_=l_,h_=Gv("%Reflect.apply%",!0)||c_("Function.prototype.apply"),p_=function(s,c){var o=arguments.length>2?arguments[2]:[];if(!d_(o))throw new u_("Assertion failed: optional `argumentsList`, if provided, must be a List");return h_(s,c,o)},f_={},m_=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:f_}),g_=Co(m_),vh=typeof Map=="function"&&Map.prototype,yh=Object.getOwnPropertyDescriptor&&vh?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Sc=vh&&yh&&typeof yh.get=="function"?yh.get:null,qv=vh&&Map.prototype.forEach,bh=typeof Set=="function"&&Set.prototype,wh=Object.getOwnPropertyDescriptor&&bh?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ec=bh&&wh&&typeof wh.get=="function"?wh.get:null,Xv=bh&&Set.prototype.forEach,v_=typeof WeakMap=="function"&&WeakMap.prototype,Ba=v_?WeakMap.prototype.has:null,y_=typeof WeakSet=="function"&&WeakSet.prototype,Va=y_?WeakSet.prototype.has:null,b_=typeof WeakRef=="function"&&WeakRef.prototype,Yv=b_?WeakRef.prototype.deref:null,w_=Boolean.prototype.valueOf,x_=Object.prototype.toString,S_=Function.prototype.toString,E_=String.prototype.match,xh=String.prototype.slice,Yr=String.prototype.replace,T_=String.prototype.toUpperCase,Kv=String.prototype.toLowerCase,Zv=RegExp.prototype.test,Jv=Array.prototype.concat,mr=Array.prototype.join,C_=Array.prototype.slice,$v=Math.floor,Sh=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Eh=Object.getOwnPropertySymbols,Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Os=typeof Symbol=="function"&&typeof Symbol.iterator=="object",mi=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Os||!0)?Symbol.toStringTag:null,Qv=Object.prototype.propertyIsEnumerable,ey=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(s){return s.__proto__}:null);function ty(s,c){if(s===1/0||s===-1/0||s!==s||s&&s>-1e3&&s<1e3||Zv.call(/e/,c))return c;var o=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof s=="number"){var a=s<0?-$v(-s):$v(s);if(a!==s){var u=String(a),m=xh.call(c,u.length+1);return Yr.call(u,o,"$&_")+"."+Yr.call(Yr.call(m,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Yr.call(c,o,"$&_")}var Ch=g_,ny=Ch.custom,iy=sy(ny)?ny:null,k_=function s(c,o,a,u){var m=o||{};if(Kr(m,"quoteStyle")&&m.quoteStyle!=="single"&&m.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Kr(m,"maxStringLength")&&(typeof m.maxStringLength=="number"?m.maxStringLength<0&&m.maxStringLength!==1/0:m.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var v=Kr(m,"customInspect")?m.customInspect:!0;if(typeof v!="boolean"&&v!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Kr(m,"indent")&&m.indent!==null&&m.indent!=="	"&&!(parseInt(m.indent,10)===m.indent&&m.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Kr(m,"numericSeparator")&&typeof m.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var b=m.numericSeparator;if(typeof c>"u")return"undefined";if(c===null)return"null";if(typeof c=="boolean")return c?"true":"false";if(typeof c=="string")return ly(c,m);if(typeof c=="number"){if(c===0)return 1/0/c>0?"0":"-0";var w=String(c);return b?ty(c,w):w}if(typeof c=="bigint"){var x=String(c)+"n";return b?ty(c,x):x}var E=typeof m.depth>"u"?5:m.depth;if(typeof a>"u"&&(a=0),a>=E&&E>0&&typeof c=="object")return kh(c)?"[Array]":"[Object]";var O=W_(m,a);if(typeof u>"u")u=[];else if(ay(u,c)>=0)return"[Circular]";function A(Rt,Pt,qt){if(Pt&&(u=C_.call(u),u.push(Pt)),qt){var Gt={depth:m.depth};return Kr(m,"quoteStyle")&&(Gt.quoteStyle=m.quoteStyle),s(Rt,Gt,a+1,u)}return s(Rt,m,a+1,u)}if(typeof c=="function"&&!oy(c)){var B=z_(c),X=Tc(c,A);return"[Function"+(B?": "+B:" (anonymous)")+"]"+(X.length>0?" { "+mr.call(X,", ")+" }":"")}if(sy(c)){var le=Os?Yr.call(String(c),/^(Symbol\(.*\))_[^)]*$/,"$1"):Th.call(c);return typeof c=="object"&&!Os?Ua(le):le}if(B_(c)){for(var re="<"+Kv.call(String(c.nodeName)),he=c.attributes||[],z=0;z<he.length;z++)re+=" "+he[z].name+"="+ry(P_(he[z].value),"double",m);return re+=">",c.childNodes&&c.childNodes.length&&(re+="..."),re+="</"+Kv.call(String(c.nodeName))+">",re}if(kh(c)){if(c.length===0)return"[]";var ae=Tc(c,A);return O&&!U_(ae)?"["+_h(ae,O)+"]":"[ "+mr.call(ae,", ")+" ]"}if(R_(c)){var we=Tc(c,A);return!("cause"in Error.prototype)&&"cause"in c&&!Qv.call(c,"cause")?"{ ["+String(c)+"] "+mr.call(Jv.call("[cause]: "+A(c.cause),we),", ")+" }":we.length===0?"["+String(c)+"]":"{ ["+String(c)+"] "+mr.call(we,", ")+" }"}if(typeof c=="object"&&v){if(iy&&typeof c[iy]=="function"&&Ch)return Ch(c,{depth:E-a});if(v!=="symbol"&&typeof c.inspect=="function")return c.inspect()}if(L_(c)){var ye=[];return qv&&qv.call(c,function(Rt,Pt){ye.push(A(Pt,c,!0)+" => "+A(Rt,c))}),cy("Map",Sc.call(c),ye,O)}if(N_(c)){var Ce=[];return Xv&&Xv.call(c,function(Rt){Ce.push(A(Rt,c))}),cy("Set",Ec.call(c),Ce,O)}if(F_(c))return Ph("WeakMap");if(H_(c))return Ph("WeakSet");if(j_(c))return Ph("WeakRef");if(D_(c))return Ua(A(Number(c)));if(I_(c))return Ua(A(Sh.call(c)));if(A_(c))return Ua(w_.call(c));if(O_(c))return Ua(A(String(c)));if(!__(c)&&!oy(c)){var Pe=Tc(c,A),Xe=ey?ey(c)===Object.prototype:c instanceof Object||c.constructor===Object,Je=c instanceof Object?"":"null prototype",dt=!Xe&&mi&&Object(c)===c&&mi in c?xh.call(Zr(c),8,-1):Je?"Object":"",mt=Xe||typeof c.constructor!="function"?"":c.constructor.name?c.constructor.name+" ":"",ht=mt+(dt||Je?"["+mr.call(Jv.call([],dt||[],Je||[]),": ")+"] ":"");return Pe.length===0?ht+"{}":O?ht+"{"+_h(Pe,O)+"}":ht+"{ "+mr.call(Pe,", ")+" }"}return String(c)};function ry(s,c,o){var a=(o.quoteStyle||c)==="double"?'"':"'";return a+s+a}function P_(s){return Yr.call(String(s),/"/g,"&quot;")}function kh(s){return Zr(s)==="[object Array]"&&(!mi||!(typeof s=="object"&&mi in s))}function __(s){return Zr(s)==="[object Date]"&&(!mi||!(typeof s=="object"&&mi in s))}function oy(s){return Zr(s)==="[object RegExp]"&&(!mi||!(typeof s=="object"&&mi in s))}function R_(s){return Zr(s)==="[object Error]"&&(!mi||!(typeof s=="object"&&mi in s))}function O_(s){return Zr(s)==="[object String]"&&(!mi||!(typeof s=="object"&&mi in s))}function D_(s){return Zr(s)==="[object Number]"&&(!mi||!(typeof s=="object"&&mi in s))}function A_(s){return Zr(s)==="[object Boolean]"&&(!mi||!(typeof s=="object"&&mi in s))}function sy(s){if(Os)return s&&typeof s=="object"&&s instanceof Symbol;if(typeof s=="symbol")return!0;if(!s||typeof s!="object"||!Th)return!1;try{return Th.call(s),!0}catch{}return!1}function I_(s){if(!s||typeof s!="object"||!Sh)return!1;try{return Sh.call(s),!0}catch{}return!1}var M_=Object.prototype.hasOwnProperty||function(s){return s in this};function Kr(s,c){return M_.call(s,c)}function Zr(s){return x_.call(s)}function z_(s){if(s.name)return s.name;var c=E_.call(S_.call(s),/^function\s*([\w$]+)/);return c?c[1]:null}function ay(s,c){if(s.indexOf)return s.indexOf(c);for(var o=0,a=s.length;o<a;o++)if(s[o]===c)return o;return-1}function L_(s){if(!Sc||!s||typeof s!="object")return!1;try{Sc.call(s);try{Ec.call(s)}catch{return!0}return s instanceof Map}catch{}return!1}function F_(s){if(!Ba||!s||typeof s!="object")return!1;try{Ba.call(s,Ba);try{Va.call(s,Va)}catch{return!0}return s instanceof WeakMap}catch{}return!1}function j_(s){if(!Yv||!s||typeof s!="object")return!1;try{return Yv.call(s),!0}catch{}return!1}function N_(s){if(!Ec||!s||typeof s!="object")return!1;try{Ec.call(s);try{Sc.call(s)}catch{return!0}return s instanceof Set}catch{}return!1}function H_(s){if(!Va||!s||typeof s!="object")return!1;try{Va.call(s,Va);try{Ba.call(s,Ba)}catch{return!0}return s instanceof WeakSet}catch{}return!1}function B_(s){return!s||typeof s!="object"?!1:typeof HTMLElement<"u"&&s instanceof HTMLElement?!0:typeof s.nodeName=="string"&&typeof s.getAttribute=="function"}function ly(s,c){if(s.length>c.maxStringLength){var o=s.length-c.maxStringLength,a="... "+o+" more character"+(o>1?"s":"");return ly(xh.call(s,0,c.maxStringLength),c)+a}var u=Yr.call(Yr.call(s,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,V_);return ry(u,"single",c)}function V_(s){var c=s.charCodeAt(0),o={8:"b",9:"t",10:"n",12:"f",13:"r"}[c];return o?"\\"+o:"\\x"+(c<16?"0":"")+T_.call(c.toString(16))}function Ua(s){return"Object("+s+")"}function Ph(s){return s+" { ? }"}function cy(s,c,o,a){var u=a?_h(o,a):mr.call(o,", ");return s+" ("+c+") {"+u+"}"}function U_(s){for(var c=0;c<s.length;c++)if(ay(s[c],`
`)>=0)return!1;return!0}function W_(s,c){var o;if(s.indent==="	")o="	";else if(typeof s.indent=="number"&&s.indent>0)o=mr.call(Array(s.indent+1)," ");else return null;return{base:o,prev:mr.call(Array(c+1),o)}}function _h(s,c){if(s.length===0)return"";var o=`
`+c.prev+c.base;return o+mr.call(s,","+o)+`
`+c.prev}function Tc(s,c){var o=kh(s),a=[];if(o){a.length=s.length;for(var u=0;u<s.length;u++)a[u]=Kr(s,u)?c(s[u],s):""}var m=typeof Eh=="function"?Eh(s):[],v;if(Os){v={};for(var b=0;b<m.length;b++)v["$"+m[b]]=m[b]}for(var w in s)!Kr(s,w)||o&&String(Number(w))===w&&w<s.length||Os&&v["$"+w]instanceof Symbol||(Zv.call(/[^\w$]/,w)?a.push(c(w,s)+": "+c(s[w],s)):a.push(w+": "+c(s[w],s)));if(typeof Eh=="function")for(var x=0;x<m.length;x++)Qv.call(s,m[x])&&a.push("["+c(m[x])+"]: "+c(s[m[x]],s));return a}var uy=function(s){return typeof s=="string"||typeof s=="symbol"},G_=function(s){if(s===null)return"Null";if(typeof s>"u")return"Undefined";if(typeof s=="function"||typeof s=="object")return"Object";if(typeof s=="number")return"Number";if(typeof s=="boolean")return"Boolean";if(typeof s=="string")return"String"},q_=G_,Wa=function(s){return typeof s=="symbol"?"Symbol":typeof s=="bigint"?"BigInt":q_(s)},X_=ai,dy=X_("%TypeError%"),Y_=k_,K_=uy,Z_=Wa,hy=function(s,c){if(Z_(s)!=="Object")throw new dy("Assertion failed: Type(O) is not Object");if(!K_(c))throw new dy("Assertion failed: IsPropertyKey(P) is not true, got "+Y_(c));return s[c]},J_=ai,py=J_("%TypeError%"),$_=uy,Q_=Wa,eR=function(s,c){if(Q_(s)!=="Object")throw new py("Assertion failed: `O` must be an Object");if(!$_(c))throw new py("Assertion failed: `P` must be a Property Key");return c in s},fy=Function.prototype.toString,Ds=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Rh,Cc;if(typeof Ds=="function"&&typeof Object.defineProperty=="function")try{Rh=Object.defineProperty({},"length",{get:function(){throw Cc}}),Cc={},Ds(function(){throw 42},null,Rh)}catch(s){s!==Cc&&(Ds=null)}else Ds=null;var tR=/^\s*class\b/,Oh=function(s){try{var c=fy.call(s);return tR.test(c)}catch{return!1}},Dh=function(s){try{return Oh(s)?!1:(fy.call(s),!0)}catch{return!1}},kc=Object.prototype.toString,nR="[object Object]",iR="[object Function]",rR="[object GeneratorFunction]",oR="[object HTMLAllCollection]",sR="[object HTML document.all class]",aR="[object HTMLCollection]",lR=typeof Symbol=="function"&&!!Symbol.toStringTag,cR=!(0 in[,]),Ah=function(){return!1};if(typeof document=="object"){var uR=document.all;kc.call(uR)===kc.call(document.all)&&(Ah=function(s){if((cR||!s)&&(typeof s>"u"||typeof s=="object"))try{var c=kc.call(s);return(c===oR||c===sR||c===aR||c===nR)&&s("")==null}catch{}return!1})}var my=Ds?function(s){if(Ah(s))return!0;if(!s||typeof s!="function"&&typeof s!="object")return!1;try{Ds(s,null,Rh)}catch(c){if(c!==Cc)return!1}return!Oh(s)&&Dh(s)}:function(s){if(Ah(s))return!0;if(!s||typeof s!="function"&&typeof s!="object")return!1;if(lR)return Dh(s);if(Oh(s))return!1;var c=kc.call(s);return c!==iR&&c!==rR&&!/^\[object HTML/.test(c)?!1:Dh(s)},dR=my,gy=ai,hR=gy("%Math%"),pR=gy("%Number%"),fR=pR.MAX_SAFE_INTEGER||hR.pow(2,53)-1,mR=ai,gR=mR("%Math.abs%"),vR=function(s){return gR(s)},yR=Wa,bR=Math.floor,wR=function(s){return yR(s)==="BigInt"?s:bR(s)},xR=function(s){return s===null||typeof s!="function"&&typeof s!="object"},SR=function(s){return s===null||typeof s!="function"&&typeof s!="object"},ER=Dv,Ih=function(){return ER()&&!!Symbol.toStringTag},TR=Date.prototype.getDay,CR=function(s){try{return TR.call(s),!0}catch{return!1}},kR=Object.prototype.toString,PR="[object Date]",_R=Ih(),RR=function(s){return typeof s!="object"||s===null?!1:_R?CR(s):kR.call(s)===PR},Mh={exports:{}},OR=Object.prototype.toString,DR=Iv();if(DR){var AR=Symbol.prototype.toString,IR=/^Symbol\(.*\)$/,MR=function(s){return typeof s.valueOf()!="symbol"?!1:IR.test(AR.call(s))};Mh.exports=function(s){if(typeof s=="symbol")return!0;if(OR.call(s)!=="[object Symbol]")return!1;try{return MR(s)}catch{return!1}}}else Mh.exports=function(s){return!1};var zR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",zh=SR,vy=my,LR=RR,yy=Mh.exports,FR=function(s,c){if(typeof s>"u"||s===null)throw new TypeError("Cannot call method on "+s);if(typeof c!="string"||c!=="number"&&c!=="string")throw new TypeError('hint must be "string" or "number"');var o=c==="string"?["toString","valueOf"]:["valueOf","toString"],a,u,m;for(m=0;m<o.length;++m)if(a=s[o[m]],vy(a)&&(u=a.call(s),zh(u)))return u;throw new TypeError("No default value")},jR=function(s,c){var o=s[c];if(o!==null&&typeof o<"u"){if(!vy(o))throw new TypeError(o+" returned for property "+c+" of object "+s+" is not a function");return o}},NR=function(s){if(zh(s))return s;var c="default";arguments.length>1&&(arguments[1]===String?c="string":arguments[1]===Number&&(c="number"));var o;if(zR&&(Symbol.toPrimitive?o=jR(s,Symbol.toPrimitive):yy(s)&&(o=Symbol.prototype.valueOf)),typeof o<"u"){var a=o.call(s,c);if(zh(a))return a;throw new TypeError("unable to convert exotic object to primitive")}return c==="default"&&(LR(s)||yy(s))&&(c="string"),FR(s,c==="default"?"number":c)},by=NR,HR=function(s){return arguments.length>1?by(s,arguments[1]):by(s)},Lh=Ir,wy=Ih(),xy,Sy,Fh,jh;if(wy){xy=Lh("Object.prototype.hasOwnProperty"),Sy=Lh("RegExp.prototype.exec"),Fh={};var Nh=function(){throw Fh};jh={toString:Nh,valueOf:Nh},typeof Symbol.toPrimitive=="symbol"&&(jh[Symbol.toPrimitive]=Nh)}var BR=Lh("Object.prototype.toString"),VR=Object.getOwnPropertyDescriptor,UR="[object RegExp]",WR=wy?function(s){if(!s||typeof s!="object")return!1;var c=VR(s,"lastIndex"),o=c&&xy(c,"value");if(!o)return!1;try{Sy(s,jh)}catch(a){return a===Fh}}:function(s){return!s||typeof s!="object"&&typeof s!="function"?!1:BR(s)===UR},GR=Ir,qR=ai,XR=WR,YR=GR("RegExp.prototype.exec"),KR=qR("%TypeError%"),ZR=function(s){if(!XR(s))throw new KR("`regex` must be a RegExp");return function(c){return YR(s,c)!==null}},Ey=ai,JR=Ey("%String%"),$R=Ey("%TypeError%"),Ty=function(s){if(typeof s=="symbol")throw new $R("Cannot convert a Symbol value to a string");return JR(s)},QR=Ha,eO=Ty,tO=Ir,Cy=tO("String.prototype.replace"),ky=/^\s$/.test("á Ž"),nO=ky?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,iO=ky?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,Py=function(){var s=eO(QR(this));return Cy(Cy(s,nO,""),iO,"")},rO=Py,_y="â€‹",As="á Ž",Ry=function(){return String.prototype.trim&&_y.trim()===_y&&As.trim()===As&&("_"+As).trim()==="_"+As&&(As+"_").trim()===As+"_"?String.prototype.trim:rO},oO=Rs,sO=Ry,aO=function(){var s=sO();return oO(String.prototype,{trim:s},{trim:function(){return String.prototype.trim!==s}}),s},lO=Na.exports,cO=Rs,uO=Ha,dO=Py,Oy=Ry,hO=aO,pO=lO(Oy()),Dy=function(s){return uO(s),pO(s)};cO(Dy,{getPolyfill:Oy,implementation:dO,shim:hO});var Ay=Dy,Pc=ai,Hh=Pc("%Number%"),fO=Pc("%RegExp%"),mO=Pc("%TypeError%"),Iy=Pc("%parseInt%"),gO=Ir,_c=ZR,My=gO("String.prototype.slice"),vO=_c(/^0b[01]+$/i),yO=_c(/^0o[0-7]+$/i),bO=_c(/^[-+]0x[0-9a-f]+$/i),wO=["Â…","â€‹","ï¿¾"].join(""),xO=new fO("["+wO+"]","g"),SO=_c(xO),EO=Ay,TO=Wa,CO=function s(c){if(TO(c)!=="String")throw new mO("Assertion failed: `argument` is not a String");if(vO(c))return Hh(Iy(My(c,2),2));if(yO(c))return Hh(Iy(My(c,2),8));if(SO(c)||bO(c))return NaN;var o=EO(c);return o!==c?s(o):Hh(c)},zy=ai,Ly=zy("%TypeError%"),Fy=zy("%Number%"),kO=xR,PO=HR,_O=CO,RO=function(s){var c=kO(s)?s:PO(s,Fy);if(typeof c=="symbol")throw new Ly("Cannot convert a Symbol value to a number");if(typeof c=="bigint")throw new Ly("Conversion from 'BigInt' to 'number' is not allowed.");return typeof c=="string"?_O(c):Fy(c)},jy=Number.isNaN||function(s){return s!==s},OO=jy,DO=function(s){return(typeof s=="number"||typeof s=="bigint")&&!OO(s)&&s!==1/0&&s!==-1/0},AO=function(s){return s>=0?1:-1},IO=vR,MO=wR,zO=RO,LO=jy,FO=DO,jO=AO,NO=function(s){var c=zO(s);if(LO(c)||c===0)return 0;if(!FO(c))return c;var o=MO(IO(c));return o===0?0:jO(c)*o},Ny=fR,HO=NO,BO=function(s){var c=HO(s);return c<=0?0:c>Ny?Ny:c},VO=ai,UO=VO("%TypeError%"),WO=hy,GO=BO,qO=Wa,XO=function(s){if(qO(s)!=="Object")throw new UO("Assertion failed: `obj` must be an Object");return GO(WO(s,"length"))},YO=ai,KO=YO("%Object%"),ZO=Ha,JO=function(s){return ZO(s),KO(s)},$O=String.prototype.valueOf,QO=function(s){try{return $O.call(s),!0}catch{return!1}},eD=Object.prototype.toString,tD="[object String]",nD=Ih(),iD=function(s){return typeof s=="string"?!0:typeof s!="object"?!1:nD?QO(s):eD.call(s)===tD},rD=ai,oD=Ir,sD=rD("%TypeError%"),aD=p_,lD=hy,cD=eR,uD=dR,dD=XO,hD=JO,pD=Ty,fD=iD,mD=oD("String.prototype.split"),Hy=Object("a"),gD=Hy[0]!=="a"||!(0 in Hy),By=function(s){var c=hD(this),o=gD&&fD(this)?mD(this,""):c,a=dD(o);if(!uD(s))throw new sD("Array.prototype.forEach callback must be a function");var u;arguments.length>1&&(u=arguments[1]);for(var m=0;m<a;){var v=pD(m),b=cD(o,v);if(b){var w=lD(o,v);aD(s,u,[w,m,o])}m+=1}},vD=function(s){var c=!0,o=!0,a=!1;if(typeof s=="function"){try{s.call("f",function(u,m,v){typeof v!="object"&&(c=!1)}),s.call([null],function(){"use strict";o=typeof this=="string"},"x")}catch{a=!0}return!a&&c&&o}return!1},yD=vD,bD=By,Vy=function(){var s=Array.prototype.forEach;return yD(s)?s:bD},wD=Rs,xD=Vy,SD=function(){var s=xD();return wD(Array.prototype,{forEach:s},{forEach:function(){return Array.prototype.forEach!==s}}),s},ED=Rs,TD=Na.exports,CD=Ir,kD=Ha,PD=By,Uy=Vy,_D=Uy(),RD=SD,OD=CD("Array.prototype.slice"),DD=TD.apply(_D),Wy=function(s,c){return kD(s),DD(s,OD(arguments,1))};ED(Wy,{getPolyfill:Uy,implementation:PD,shim:RD});var AD=Wy,ID=Ha,Gy=Ir,MD=Gy("Object.prototype.propertyIsEnumerable"),zD=Gy("Array.prototype.push"),qy=function(s){var c=ID(s),o=[];for(var a in c)MD(c,a)&&zD(o,[a,c[a]]);return o},LD=qy,Xy=function(){return typeof Object.entries=="function"?Object.entries:LD},FD=Xy,jD=Rs,ND=function(){var s=FD();return jD(Object,{entries:s},{entries:function(){return Object.entries!==s}}),s},HD=Rs,BD=Na.exports,VD=qy,Yy=Xy,UD=ND,Ky=BD(Yy(),Object);HD(Ky,{getPolyfill:Yy,implementation:VD,shim:UD});var WD=Ky,Rc=AD,Bh=WD,Zy=zv,GD=Ay,qD=function(s){},Jy=String.prototype.replace,$y=String.prototype.split,Oc="||||",Vh=function(s){var c=s%100,o=c%10;return c!==11&&o===1?0:2<=o&&o<=4&&!(c>=12&&c<=14)?1:2},Qy={pluralTypes:{arabic:function(s){if(s<3)return s;var c=s%100;return c>=3&&c<=10?3:c>=11?4:5},bosnian_serbian:Vh,chinese:function(){return 0},croatian:Vh,french:function(s){return s>=2?1:0},german:function(s){return s!==1?1:0},russian:Vh,lithuanian:function(s){return s%10===1&&s%100!==11?0:s%10>=2&&s%10<=9&&(s%100<11||s%100>19)?1:2},czech:function(s){return s===1?0:s>=2&&s<=4?1:2},polish:function(s){if(s===1)return 0;var c=s%10;return 2<=c&&c<=4&&(s%100<10||s%100>=20)?1:2},icelandic:function(s){return s%10!==1||s%100===11?1:0},slovenian:function(s){var c=s%100;return c===1?0:c===2?1:c===3||c===4?2:3},romanian:function(s){if(s===1)return 0;var c=s%100;return s===0||c>=2&&c<=19?1:2}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is","mk"],slovenian:["sl-SL"],romanian:["ro"]}};function XD(s){var c={};return Rc(Bh(s),function(o){var a=o[0],u=o[1];Rc(u,function(m){c[m]=a})}),c}function YD(s,c){var o=XD(s.pluralTypeToLanguages);return o[c]||o[$y.call(c,/-/,1)[0]]||o.en}function KD(s,c,o){return s.pluralTypes[c](o)}function ZD(){var s={};return function(c,o){var a=s[o];return a&&!c.pluralTypes[a]&&(a=null,s[o]=a),a||(a=YD(c,o),a&&(s[o]=a)),a}}function eb(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function JD(s){var c=s&&s.prefix||"%{",o=s&&s.suffix||"}";if(c===Oc||o===Oc)throw new RangeError('"'+Oc+'" token is reserved for pluralization');return new RegExp(eb(c)+"(.*?)"+eb(o),"g")}var $D=ZD(),QD=/%\{(.*?)\}/g;function Uh(s,c,o,a,u,m){if(typeof s!="string")throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(c==null)return s;var v=s,b=a||QD,w=m||Jy,x=typeof c=="number"?{smart_count:c}:c;if(x.smart_count!=null&&s){var E=u||Qy,O=$y.call(s,Oc),A=o||"en",B=$D(E,A),X=KD(E,B,x.smart_count);v=GD(O[X]||O[0])}return v=w.call(v,b,function(le,re){return!Zy(x,re)||x[re]==null?le:x[re]}),v}function Mr(s){var c=s||{};this.phrases={},this.extend(c.phrases||{}),this.currentLocale=c.locale||"en";var o=c.allowMissing?Uh:null;this.onMissingKey=typeof c.onMissingKey=="function"?c.onMissingKey:o,this.warn=c.warn||qD,this.replaceImplementation=c.replace||Jy,this.tokenRegex=JD(c.interpolation),this.pluralRules=c.pluralRules||Qy}Mr.prototype.locale=function(s){return s&&(this.currentLocale=s),this.currentLocale},Mr.prototype.extend=function(s,c){Rc(Bh(s||{}),function(o){var a=o[0],u=o[1],m=c?c+"."+a:a;typeof u=="object"?this.extend(u,m):this.phrases[m]=u},this)},Mr.prototype.unset=function(s,c){typeof s=="string"?delete this.phrases[s]:Rc(Bh(s||{}),function(o){var a=o[0],u=o[1],m=c?c+"."+a:a;typeof u=="object"?this.unset(u,m):delete this.phrases[m]},this)},Mr.prototype.clear=function(){this.phrases={}},Mr.prototype.replace=function(s){this.clear(),this.extend(s)},Mr.prototype.t=function(s,c){var o,a,u=c??{};if(typeof this.phrases[s]=="string")o=this.phrases[s];else if(typeof u._=="string")o=u._;else if(this.onMissingKey){var m=this.onMissingKey;a=m(s,u,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation)}else this.warn('Missing translation for key: "'+s+'"'),a=s;return typeof o=="string"&&(a=Uh(o,u,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation)),a},Mr.prototype.has=function(s){return Zy(this.phrases,s)},Mr.transformPhrase=function(s,c,o){return Uh(s,c,o)};var e9=Mr,t9={"Add a comment...":"Ø¥Ø¶Ø§ÙØ© ØªØ¹Ù„ÙŠÙ‚","Add a reply...":"Ø¥Ø¶Ø§ÙØ© Ø±Ø¯","Add tag...":"Ø¥Ø¶Ø§ÙØ© Ø¹Ù„Ø§Ù…Ø©",Cancel:"Ø¥Ù„ØºØ§Ø¡",Close:"Ø¥ØºÙ„Ø§Ù‚",Edit:"Edit",Delete:"Delete",Ok:"ØªÙ…"},n9={"Add a comment...":"Napsat komentÃ¡Å™...","Add a reply...":"OdpovÄ›dÄ›t...","Add tag...":"PÅ™idat Å¡tÃ­tek...",Cancel:"ZruÅ¡it",Close:"ZavÅ™Ã­t",Edit:"Upravit",Delete:"Smazat",Ok:"Ok"},i9={"Add a comment...":"Kommentar schreiben...","Add a reply...":"Antwort schreiben...","Add tag...":"Tag...",Cancel:"Abbrechen",Close:"Schliessen",Edit:"Bearbeiten",Delete:"LÃ¶schen",Ok:"Ok"},r9={"Add a comment...":"Î£Ï‡Î¿Î»Î¯Î±ÏƒÎµ...","Add a reply...":"Î‘Ï€Î¬Î½Ï„Î·ÏƒÎµ...","Add tag...":"Î ÏÏŒÏƒÎ¸ÎµÏƒÎµ tag...",Cancel:"Î†ÎºÏ…ÏÎ¿",Close:"ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿",Edit:"Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î±",Delete:"Î”Î¹Î±Î³ÏÎ±Ï†Î®",Ok:"Ok"},o9={"Add a comment...":"Agregar un comentario...","Add a reply...":"Agregar una respuesta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Cerrar",Edit:"Editar",Delete:"Eliminar",Ok:"Ok"},s9={"Add a comment...":"LisÃ¤Ã¤ kommentti","Add a reply...":"LisÃ¤Ã¤ vastaus","Add tag...":"LisÃ¤Ã¤ tunniste",Cancel:"Peruuta",Close:"Sulje",Edit:"Muokkaa",Delete:"Poista",Ok:"Ok"},a9={"Add a comment...":"Ajouter un commentaire...","Add a reply...":"Ajouter une rÃ©ponse...","Add tag...":"Ajouter une Ã©tiquette...",Cancel:"Annuler",Close:"Fermer",Edit:"Ã‰diter",Delete:"Supprimer",Ok:"Ok"},l9={"Add a comment...":"Engadir un comentario...","Add a reply...":"Engadir unha resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Pechar",Edit:"Edit",Delete:"Delete",Ok:"Ok"},c9={"Add a comment...":"à¤Ÿà¤¿à¤ªà¥à¤ªà¤£à¥€ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚","Add a reply...":"à¤œà¤µà¤¾à¤¬ à¤¦à¥‡à¤‚","Add tag...":"à¤Ÿà¥ˆà¤— à¤²à¤—à¤¾à¤à¤",Cancel:"à¤°à¤¦à¥à¤¦ à¤•à¤°à¥‡à¤‚",Close:"à¤¬à¤‚à¤¦ à¤•à¤°à¥‡à¤‚",Edit:"à¤¸à¤‚à¤ªà¤¾à¤¦à¤¿à¤¤ à¤•à¤°à¥‡à¤‚",Delete:"à¤¹à¤Ÿà¤¾à¤à¤",Ok:"à¤ à¥€à¤• à¤¹à¥ˆ"},u9={"Add a comment...":"Commenta...","Add a reply...":"Rispondi...","Add tag...":"Aggiungi tag...",Cancel:"Annulla",Close:"Chiudi",Edit:"Edit",Delete:"Delete",Ok:"Ok"},d9={"Add a comment...":"ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹...","Add a reply...":"è¿”ä¿¡ã™ã‚‹...","Add tag...":"ã‚¿ã‚°ã‚’è¿½åŠ ã™ã‚‹...",Cancel:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«",Close:"é–‰ã˜ã‚‹",Edit:"ç·¨é›†",Delete:"å‰Šé™¤",Ok:"Ok"},h9={"Add a comment...":"ëŒ“ê¸€ ì¶”ê°€","Add a reply...":"ë‹µê¸€ ì¶”ê°€","Add tag...":"íƒœê·¸ ì¶”ê°€",Cancel:"ì·¨ì†Œ",Close:"ë‹«ê¸°",Edit:"ìˆ˜ì •",Delete:"ì‚­ì œ",Ok:"í™•ì¸"},p9={"Add a comment...":"Commentaar toevoegen...","Add a reply...":"Antwoord toevoegen...","Add tag...":"Tag toevoegen...",Cancel:"Afbreken",Close:"Sluiten",Edit:"Bewerken",Delete:"Verwijderen",Ok:"Ok"},f9={"Add a comment...":"Adicionar um comentÃ¡rio...","Add a reply...":"Adicionar uma resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Fechar",Edit:"Editar",Delete:"Apagar",Ok:"Ok"},m9={"Add a comment...":"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð¹...","Add a reply...":"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¾Ñ‚Ð²ÐµÑ‚...","Add tag...":"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ñ‚ÑÐ³...",Cancel:"ÐžÑ‚Ð¼ÐµÐ½Ð°",Close:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ",Edit:"Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ",Delete:"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ",Ok:"ÐžÐº"},g9={"Add a comment...":"Skriv en kommentar...","Add a reply...":"Skriv ett svar...","Add tag...":"Tagg...",Cancel:"Cancel",Close:"StÃ¤ng",Edit:"Edit",Delete:"Delete",Ok:"Ok"},v9={"Add a comment...":"à¹€à¸žà¸´à¹ˆà¸¡à¸„à¸­à¸¡à¹€à¸¡à¸™à¸•à¹Œ...","Add a reply...":"à¸•à¸­à¸šà¸à¸¥à¸±à¸š...","Add tag...":"à¹€à¸žà¸´à¹ˆà¸¡à¹à¸—à¹‡à¸...",Cancel:"à¸¢à¸à¹€à¸¥à¸´à¸",Close:"à¸›à¸´à¸”",Edit:"à¹à¸à¹‰à¹„à¸‚",Delete:"à¸¥à¸š",Ok:"à¸•à¸à¸¥à¸‡"},y9={"Add a comment...":"Yorum ekle...","Add a reply...":"Cevap ekle...","Add tag...":"Tag Ekle...",Cancel:"Ä°ptal",Close:"Kapat",Edit:"DÃ¼zenle",Delete:"Sil",Ok:"Tamam"},b9={"Add a comment...":"ØªØ¨ØµØ±Û Ú©Ø±ÛŒÚº","Add a reply...":"Ø¬ÙˆØ§Ø¨ Ø¯ÛŒÚº","Add tag...":"Ù¹ÛŒÚ¯ Ù„Ú¯Ø§Ø¦ÛŒÚº",Cancel:"Ù…Ù†Ø³ÙˆØ® Ú©Ø±ÛŒÚº",Close:"Ø¨Ù†Ø¯ Ú©Ø±ÛŒÚº",Edit:"ØªØ±Ù…ÛŒÙ… Ú©Ø±ÛŒÚº",Delete:"ÛÙ¹Ø§Ø¦ÛŒÚº",Ok:"Ù¹Ú¾ÛŒÚ© ÛÛ’"},w9={"Add a comment...":"æ·»åŠ è¯„è®º...","Add a reply...":"æ·»åŠ å›žå¤...","Add tag...":"æ·»åŠ æ ‡ç­¾...",Cancel:"å–æ¶ˆ",Close:"å…³é—­",Edit:"ç¼–è¾‘",Delete:"åˆ é™¤",Ok:"ç¡®è®¤"},x9={"Add a comment...":"æ·»åŠ è©•è«–...","Add a reply...":"æ·»åŠ å›žè¦†...","Add tag...":"æ·»åŠ æ¨™ç±¤...",Cancel:"å–æ¶ˆ",Close:"é—œé–‰",Edit:"ç·¨è¼¯",Delete:"åˆªé™¤",Ok:"ç¢ºèª"},tb={};Object.defineProperty(tb,"__esModule",{value:!0});var Wh=[["Ø«Ø§Ù†ÙŠØ©","Ø«Ø§Ù†ÙŠØªÙŠÙ†","%s Ø«ÙˆØ§Ù†","%s Ø«Ø§Ù†ÙŠØ©"],["Ø¯Ù‚ÙŠÙ‚Ø©","Ø¯Ù‚ÙŠÙ‚ØªÙŠÙ†","%s Ø¯Ù‚Ø§Ø¦Ù‚","%s Ø¯Ù‚ÙŠÙ‚Ø©"],["Ø³Ø§Ø¹Ø©","Ø³Ø§Ø¹ØªÙŠÙ†","%s Ø³Ø§Ø¹Ø§Øª","%s Ø³Ø§Ø¹Ø©"],["ÙŠÙˆÙ…","ÙŠÙˆÙ…ÙŠÙ†","%s Ø£ÙŠØ§Ù…","%s ÙŠÙˆÙ…Ø§Ù‹"],["Ø£Ø³Ø¨ÙˆØ¹","Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ†","%s Ø£Ø³Ø§Ø¨ÙŠØ¹","%s Ø£Ø³Ø¨ÙˆØ¹Ø§Ù‹"],["Ø´Ù‡Ø±","Ø´Ù‡Ø±ÙŠÙ†","%s Ø£Ø´Ù‡Ø±","%s Ø´Ù‡Ø±Ø§Ù‹"],["Ø¹Ø§Ù…","Ø¹Ø§Ù…ÙŠÙ†","%s Ø£Ø¹ÙˆØ§Ù…","%s Ø¹Ø§Ù…Ø§Ù‹"]];function S9(s,c){return c<3?Wh[s][c-1]:c>=3&&c<=10?Wh[s][2]:Wh[s][3]}function E9(s,c){if(c===0)return["Ù…Ù†Ø° Ù„Ø­Ø¸Ø§Øª","Ø¨Ø¹Ø¯ Ù„Ø­Ø¸Ø§Øª"];var o=S9(Math.floor(c/2),s);return["Ù…Ù†Ø° "+o,"Ø¨Ø¹Ø¯ "+o]}var T9=tb.default=E9,nb={};Object.defineProperty(nb,"__esModule",{value:!0});function C9(s,c){var o=0,a=c==1||c==3||c==5||c==7||c==9||c==11||c==13;return a&&s>=5&&(o=1),[[["prÃ¡vÄ› teÄ","prÃ¡vÄ› teÄ"]],[["pÅ™ed %s vteÅ™inami","za %s vteÅ™iny"],["pÅ™ed %s vteÅ™inami","za %s vteÅ™in"]],[["pÅ™ed minutou","za minutu"]],[["pÅ™ed %s minutami","za %s minuty"],["pÅ™ed %s minutami","za %s minut"]],[["pÅ™ed hodinou","za hodinu"]],[["pÅ™ed %s hodinami","za %s hodiny"],["pÅ™ed %s hodinami","za %s hodin"]],[["vÄera","zÃ­tra"]],[["pÅ™ed %s dny","za %s dny"],["pÅ™ed %s dny","za %s dnÅ¯"]],[["minulÃ½ tÃ½den","pÅ™Ã­Å¡tÃ­ tÃ½den"]],[["pÅ™ed %s tÃ½dny","za %s tÃ½dny"],["pÅ™ed %s tÃ½dny","za %s tÃ½dnÅ¯"]],[["minulÃ½ mÄ›sÃ­c","pÅ™Ã­stÃ­ mÄ›sÃ­c"]],[["pÅ™ed %s mÄ›sÃ­ci","za %s mÄ›sÃ­ce"],["pÅ™ed %s mÄ›sÃ­ci","za %s mÄ›sÃ­cÅ¯"]],[["pÅ™ed rokem","pÅ™Ã­stÃ­ rok"]],[["pÅ™ed %s lety","za %s roky"],["pÅ™ed %s lety","za %s let"]]][c][o]}var k9=nb.default=C9,ib={};Object.defineProperty(ib,"__esModule",{value:!0});function P9(s,c){return[["gerade eben","vor einer Weile"],["vor %s Sekunden","in %s Sekunden"],["vor 1 Minute","in 1 Minute"],["vor %s Minuten","in %s Minuten"],["vor 1 Stunde","in 1 Stunde"],["vor %s Stunden","in %s Stunden"],["vor 1 Tag","in 1 Tag"],["vor %s Tagen","in %s Tagen"],["vor 1 Woche","in 1 Woche"],["vor %s Wochen","in %s Wochen"],["vor 1 Monat","in 1 Monat"],["vor %s Monaten","in %s Monaten"],["vor 1 Jahr","in 1 Jahr"],["vor %s Jahren","in %s Jahren"]][c]}var _9=ib.default=P9,rb={};Object.defineProperty(rb,"__esModule",{value:!0});function R9(s,c){return[["Î¼ÏŒÎ»Î¹Ï‚ Ï„ÏŽÏÎ±","ÏƒÎµ Î»Î¯Î³Î¿"],["%s Î´ÎµÏ…Ï„ÎµÏÏŒÎ»ÎµÏ€Ï„Î± Ï€ÏÎ¹Î½","ÏƒÎµ %s Î´ÎµÏ…Ï„ÎµÏÏŒÎ»ÎµÏ€Ï„Î±"],["1 Î»ÎµÏ€Ï„ÏŒ Ï€ÏÎ¹Î½","ÏƒÎµ 1 Î»ÎµÏ€Ï„ÏŒ"],["%s Î»ÎµÏ€Ï„Î¬ Ï€ÏÎ¹Î½","ÏƒÎµ %s Î»ÎµÏ€Ï„Î¬"],["1 ÏŽÏÎ± Ï€ÏÎ¹Î½","ÏƒÎµ 1 ÏŽÏÎ±"],["%s ÏŽÏÎµÏ‚ Ï€ÏÎ¹Î½","ÏƒÎµ %s ÏŽÏÎµÏ‚"],["1 Î¼Î­ÏÎ± Ï€ÏÎ¹Î½","ÏƒÎµ 1 Î¼Î­ÏÎ±"],["%s Î¼Î­ÏÎµÏ‚ Ï€ÏÎ¹Î½","ÏƒÎµ %s Î¼Î­ÏÎµÏ‚"],["1 ÎµÎ²Î´Î¿Î¼Î¬Î´Î± Ï€ÏÎ¹Î½","ÏƒÎµ 1 ÎµÎ²Î´Î¿Î¼Î¬Î´Î±"],["%s ÎµÎ²Î´Î¿Î¼Î¬Î´ÎµÏ‚ Ï€ÏÎ¹Î½","ÏƒÎµ %s ÎµÎ²Î´Î¿Î¼Î¬Î´ÎµÏ‚"],["1 Î¼Î®Î½Î± Ï€ÏÎ¹Î½","ÏƒÎµ 1 Î¼Î®Î½Î±"],["%s Î¼Î®Î½ÎµÏ‚ Ï€ÏÎ¹Î½","ÏƒÎµ %s Î¼Î®Î½ÎµÏ‚"],["1 Ï‡ÏÏŒÎ½Î¿ Ï€ÏÎ¹Î½","ÏƒÎµ 1 Ï‡ÏÏŒÎ½Î¿"],["%s Ï‡ÏÏŒÎ½Î¹Î± Ï€ÏÎ¹Î½","ÏƒÎµ %s Ï‡ÏÏŒÎ½Î¹Î±"]][c]}var O9=rb.default=R9,ob={};Object.defineProperty(ob,"__esModule",{value:!0});function D9(s,c){return[["justo ahora","en un rato"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","en %s horas"],["hace 1 dÃ­a","en 1 dÃ­a"],["hace %s dÃ­as","en %s dÃ­as"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["hace 1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 aÃ±o","en 1 aÃ±o"],["hace %s aÃ±os","en %s aÃ±os"]][c]}var A9=ob.default=D9,sb={};Object.defineProperty(sb,"__esModule",{value:!0});function I9(s,c){return[["juuri Ã¤sken","juuri nyt"],["%s sekuntia sitten","%s sekunnin pÃ¤Ã¤stÃ¤"],["minuutti sitten","minuutin pÃ¤Ã¤stÃ¤"],["%s minuuttia sitten","%s minuutin pÃ¤Ã¤stÃ¤"],["tunti sitten","tunnin pÃ¤Ã¤stÃ¤"],["%s tuntia sitten","%s tunnin pÃ¤Ã¤stÃ¤"],["pÃ¤ivÃ¤ sitten","pÃ¤ivÃ¤n pÃ¤Ã¤stÃ¤"],["%s pÃ¤ivÃ¤Ã¤ sitten","%s pÃ¤ivÃ¤n pÃ¤Ã¤stÃ¤"],["viikko sitten","viikon pÃ¤Ã¤stÃ¤"],["%s viikkoa sitten","%s viikon pÃ¤Ã¤stÃ¤"],["kuukausi sitten","kuukauden pÃ¤Ã¤stÃ¤"],["%s kuukautta sitten","%s kuukauden pÃ¤Ã¤stÃ¤"],["vuosi sitten","vuoden pÃ¤Ã¤stÃ¤"],["%s vuotta sitten","%s vuoden pÃ¤Ã¤stÃ¤"]][c]}var M9=sb.default=I9,ab={};Object.defineProperty(ab,"__esModule",{value:!0});function z9(s,c){return[["Ã  l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][c]}var L9=ab.default=z9,lb={};Object.defineProperty(lb,"__esModule",{value:!0});function F9(s,c){return[["xusto agora","daquÃ­ a un pouco"],["hai %s segundos","en %s segundos"],["hai 1 minuto","nun minuto"],["hai %s minutos","en %s minutos"],["hai 1 hora","nunha hora"],["hai %s horas","en %s horas"],["hai 1 dÃ­a","nun dÃ­a"],["hai %s dÃ­as","en %s dÃ­as"],["hai 1 semana","nunha semana"],["hai %s semanas","en %s semanas"],["hai 1 mes","nun mes"],["hai %s meses","en %s meses"],["hai 1 ano","nun ano"],["hai %s anos","en %s anos"]][c]}var j9=lb.default=F9,cb={};Object.defineProperty(cb,"__esModule",{value:!0});function N9(s,c){return[["à¤…à¤­à¥€","à¤•à¥à¤› à¤¸à¤®à¤¯"],["%s à¤¸à¥‡à¤•à¤‚à¤¡ à¤ªà¤¹à¤²à¥‡","%s à¤¸à¥‡à¤•à¤‚à¤¡ à¤®à¥‡à¤‚"],["1 à¤®à¤¿à¤¨à¤Ÿ à¤ªà¤¹à¤²à¥‡","1 à¤®à¤¿à¤¨à¤Ÿ à¤®à¥‡à¤‚"],["%s à¤®à¤¿à¤¨à¤Ÿ à¤ªà¤¹à¤²à¥‡","%s à¤®à¤¿à¤¨à¤Ÿ à¤®à¥‡à¤‚"],["1 à¤˜à¤‚à¤Ÿà¥‡ à¤ªà¤¹à¤²à¥‡","1 à¤˜à¤‚à¤Ÿà¥‡ à¤®à¥‡à¤‚"],["%s à¤˜à¤‚à¤Ÿà¥‡ à¤ªà¤¹à¤²à¥‡","%s à¤˜à¤‚à¤Ÿà¥‡ à¤®à¥‡à¤‚"],["1 à¤¦à¤¿à¤¨ à¤ªà¤¹à¤²à¥‡","1 à¤¦à¤¿à¤¨ à¤®à¥‡à¤‚"],["%s à¤¦à¤¿à¤¨ à¤ªà¤¹à¤²à¥‡","%s à¤¦à¤¿à¤¨à¥‹à¤‚ à¤®à¥‡à¤‚"],["1 à¤¸à¤ªà¥à¤¤à¤¾à¤¹ à¤ªà¤¹à¤²à¥‡","1 à¤¸à¤ªà¥à¤¤à¤¾à¤¹ à¤®à¥‡à¤‚"],["%s à¤¹à¤«à¥à¤¤à¥‡ à¤ªà¤¹à¤²à¥‡","%s à¤¹à¤«à¥à¤¤à¥‹à¤‚ à¤®à¥‡à¤‚"],["1 à¤®à¤¹à¥€à¤¨à¥‡ à¤ªà¤¹à¤²à¥‡","1 à¤®à¤¹à¥€à¤¨à¥‡ à¤®à¥‡à¤‚"],["%s à¤®à¤¹à¥€à¤¨à¥‡ à¤ªà¤¹à¤²à¥‡","%s à¤®à¤¹à¥€à¤¨à¥‹à¤‚ à¤®à¥‡à¤‚"],["1 à¤¸à¤¾à¤² à¤ªà¤¹à¤²à¥‡","1 à¤¸à¤¾à¤² à¤®à¥‡à¤‚"],["%s à¤¸à¤¾à¤² à¤ªà¤¹à¤²à¥‡","%s à¤¸à¤¾à¤² à¤®à¥‡à¤‚"]][c]}var H9=cb.default=N9,ub={};Object.defineProperty(ub,"__esModule",{value:!0});function B9(s,c){return[["poco fa","fra poco"],["%s secondi fa","fra %s secondi"],["un minuto fa","fra un minuto"],["%s minuti fa","fra %s minuti"],["un'ora fa","fra un'ora"],["%s ore fa","fra %s ore"],["un giorno fa","fra un giorno"],["%s giorni fa","fra %s giorni"],["una settimana fa","fra una settimana"],["%s settimane fa","fra %s settimane"],["un mese fa","fra un mese"],["%s mesi fa","fra %s mesi"],["un anno fa","fra un anno"],["%s anni fa","fra %s anni"]][c]}var V9=ub.default=B9,db={};Object.defineProperty(db,"__esModule",{value:!0});function U9(s,c){return[["ã™ã“ã—å‰","ã™ãã«"],["%sç§’å‰","%sç§’ä»¥å†…"],["1åˆ†å‰","1åˆ†ä»¥å†…"],["%såˆ†å‰","%såˆ†ä»¥å†…"],["1æ™‚é–“å‰","1æ™‚é–“ä»¥å†…"],["%sæ™‚é–“å‰","%sæ™‚é–“ä»¥å†…"],["1æ—¥å‰","1æ—¥ä»¥å†…"],["%sæ—¥å‰","%sæ—¥ä»¥å†…"],["1é€±é–“å‰","1é€±é–“ä»¥å†…"],["%sé€±é–“å‰","%sé€±é–“ä»¥å†…"],["1ãƒ¶æœˆå‰","1ãƒ¶æœˆä»¥å†…"],["%sãƒ¶æœˆå‰","%sãƒ¶æœˆä»¥å†…"],["1å¹´å‰","1å¹´ä»¥å†…"],["%så¹´å‰","%så¹´ä»¥å†…"]][c]}var W9=db.default=U9,hb={};Object.defineProperty(hb,"__esModule",{value:!0});function G9(s,c){return[["ë°©ê¸ˆ","ê³§"],["%sì´ˆ ì „","%sì´ˆ í›„"],["1ë¶„ ì „","1ë¶„ í›„"],["%së¶„ ì „","%së¶„ í›„"],["1ì‹œê°„ ì „","1ì‹œê°„ í›„"],["%sì‹œê°„ ì „","%sì‹œê°„ í›„"],["1ì¼ ì „","1ì¼ í›„"],["%sì¼ ì „","%sì¼ í›„"],["1ì£¼ì¼ ì „","1ì£¼ì¼ í›„"],["%sì£¼ì¼ ì „","%sì£¼ì¼ í›„"],["1ê°œì›” ì „","1ê°œì›” í›„"],["%sê°œì›” ì „","%sê°œì›” í›„"],["1ë…„ ì „","1ë…„ í›„"],["%së…„ ì „","%së…„ í›„"]][c]}var q9=hb.default=G9,pb={};Object.defineProperty(pb,"__esModule",{value:!0});function X9(s,c){return[["recent","binnenkort"],["%s seconden geleden","binnen %s seconden"],["1 minuut geleden","binnen 1 minuut"],["%s minuten geleden","binnen %s minuten"],["1 uur geleden","binnen 1 uur"],["%s uur geleden","binnen %s uur"],["1 dag geleden","binnen 1 dag"],["%s dagen geleden","binnen %s dagen"],["1 week geleden","binnen 1 week"],["%s weken geleden","binnen %s weken"],["1 maand geleden","binnen 1 maand"],["%s maanden geleden","binnen %s maanden"],["1 jaar geleden","binnen 1 jaar"],["%s jaar geleden","binnen %s jaar"]][c]}var Y9=pb.default=X9,fb={};Object.defineProperty(fb,"__esModule",{value:!0});function K9(s,c){return[["agora mesmo","agora"],["hÃ¡ %s segundos","em %s segundos"],["hÃ¡ um minuto","em um minuto"],["hÃ¡ %s minutos","em %s minutos"],["hÃ¡ uma hora","em uma hora"],["hÃ¡ %s horas","em %s horas"],["hÃ¡ um dia","em um dia"],["hÃ¡ %s dias","em %s dias"],["hÃ¡ uma semana","em uma semana"],["hÃ¡ %s semanas","em %s semanas"],["hÃ¡ um mÃªs","em um mÃªs"],["hÃ¡ %s meses","em %s meses"],["hÃ¡ um ano","em um ano"],["hÃ¡ %s anos","em %s anos"]][c]}var Z9=fb.default=K9,mb={};Object.defineProperty(mb,"__esModule",{value:!0});function Io(s,c,o,a,u){var m=u%10,v=a;return u===1?v=s:m===1&&u>20?v=c:m>1&&m<5&&(u>20||u<10)&&(v=o),v}var gb=Io.bind(null,"ÑÐµÐºÑƒÐ½Ð´Ñƒ","%s ÑÐµÐºÑƒÐ½Ð´Ñƒ","%s ÑÐµÐºÑƒÐ½Ð´Ñ‹","%s ÑÐµÐºÑƒÐ½Ð´"),vb=Io.bind(null,"Ð¼Ð¸Ð½ÑƒÑ‚Ñƒ","%s Ð¼Ð¸Ð½ÑƒÑ‚Ñƒ","%s Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹","%s Ð¼Ð¸Ð½ÑƒÑ‚"),yb=Io.bind(null,"Ñ‡Ð°Ñ","%s Ñ‡Ð°Ñ","%s Ñ‡Ð°ÑÐ°","%s Ñ‡Ð°ÑÐ¾Ð²"),bb=Io.bind(null,"Ð´ÐµÐ½ÑŒ","%s Ð´ÐµÐ½ÑŒ","%s Ð´Ð½Ñ","%s Ð´Ð½ÐµÐ¹"),wb=Io.bind(null,"Ð½ÐµÐ´ÐµÐ»ÑŽ","%s Ð½ÐµÐ´ÐµÐ»ÑŽ","%s Ð½ÐµÐ´ÐµÐ»Ð¸","%s Ð½ÐµÐ´ÐµÐ»ÑŒ"),xb=Io.bind(null,"Ð¼ÐµÑÑÑ†","%s Ð¼ÐµÑÑÑ†","%s Ð¼ÐµÑÑÑ†Ð°","%s Ð¼ÐµÑÑÑ†ÐµÐ²"),Sb=Io.bind(null,"Ð³Ð¾Ð´","%s Ð³Ð¾Ð´","%s Ð³Ð¾Ð´Ð°","%s Ð»ÐµÑ‚");function J9(s,c){switch(c){case 0:return["Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ‡Ñ‚Ð¾","Ñ‡ÐµÑ€ÐµÐ· Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ ÑÐµÐºÑƒÐ½Ð´"];case 1:return[gb(s)+" Ð½Ð°Ð·Ð°Ð´","Ñ‡ÐµÑ€ÐµÐ· "+gb(s)];case 2:case 3:return[vb(s)+" Ð½Ð°Ð·Ð°Ð´","Ñ‡ÐµÑ€ÐµÐ· "+vb(s)];case 4:case 5:return[yb(s)+" Ð½Ð°Ð·Ð°Ð´","Ñ‡ÐµÑ€ÐµÐ· "+yb(s)];case 6:return["Ð²Ñ‡ÐµÑ€Ð°","Ð·Ð°Ð²Ñ‚Ñ€Ð°"];case 7:return[bb(s)+" Ð½Ð°Ð·Ð°Ð´","Ñ‡ÐµÑ€ÐµÐ· "+bb(s)];case 8:case 9:return[wb(s)+" Ð½Ð°Ð·Ð°Ð´","Ñ‡ÐµÑ€ÐµÐ· "+wb(s)];case 10:case 11:return[xb(s)+" Ð½Ð°Ð·Ð°Ð´","Ñ‡ÐµÑ€ÐµÐ· "+xb(s)];case 12:case 13:return[Sb(s)+" Ð½Ð°Ð·Ð°Ð´","Ñ‡ÐµÑ€ÐµÐ· "+Sb(s)];default:return["",""]}}var $9=mb.default=J9,Eb={};Object.defineProperty(Eb,"__esModule",{value:!0});function Q9(s,c){return[["just nu","om en stund"],["%s sekunder sedan","om %s sekunder"],["1 minut sedan","om 1 minut"],["%s minuter sedan","om %s minuter"],["1 timme sedan","om 1 timme"],["%s timmar sedan","om %s timmar"],["1 dag sedan","om 1 dag"],["%s dagar sedan","om %s dagar"],["1 vecka sedan","om 1 vecka"],["%s veckor sedan","om %s veckor"],["1 mÃ¥nad sedan","om 1 mÃ¥nad"],["%s mÃ¥nader sedan","om %s mÃ¥nader"],["1 Ã¥r sedan","om 1 Ã¥r"],["%s Ã¥r sedan","om %s Ã¥r"]][c]}var eA=Eb.default=Q9,Tb={};Object.defineProperty(Tb,"__esModule",{value:!0});function tA(s,c){return[["à¹€à¸¡à¸·à¹ˆà¸­à¸ªà¸±à¸à¸„à¸£à¸¹à¹ˆà¸™à¸µà¹‰","à¸­à¸µà¸à¸ªà¸±à¸à¸„à¸£à¸¹à¹ˆ"],["%s à¸§à¸´à¸™à¸²à¸—à¸µà¸—à¸µà¹ˆà¹à¸¥à¹‰à¸§","à¹ƒà¸™ %s à¸§à¸´à¸™à¸²à¸—à¸µ"],["1 à¸™à¸²à¸—à¸µà¸—à¸µà¹ˆà¹à¸¥à¹‰à¸§","à¹ƒà¸™ 1 à¸™à¸²à¸—à¸µ"],["%s à¸™à¸²à¸—à¸µà¸—à¸µà¹ˆà¹à¸¥à¹‰à¸§","à¹ƒà¸™ %s à¸™à¸²à¸—à¸µ"],["1 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡à¸—à¸µà¹ˆà¹à¸¥à¹‰à¸§","à¹ƒà¸™ 1 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡"],["%s à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡à¸—à¸µà¹ˆà¹à¸¥à¹‰à¸§","à¹ƒà¸™ %s à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡"],["1 à¸§à¸±à¸™à¸—à¸µà¹ˆà¹à¸¥à¹‰à¸§","à¹ƒà¸™ 1 à¸§à¸±à¸™"],["%s à¸§à¸±à¸™à¸—à¸µà¹ˆà¹à¸¥à¹‰à¸§","à¹ƒà¸™ %s à¸§à¸±à¸™"],["1 à¸­à¸²à¸—à¸´à¸•à¸¢à¹Œà¸—à¸µà¹ˆà¹à¸¥à¹‰à¸§","à¹ƒà¸™ 1 à¸­à¸²à¸—à¸´à¸•à¸¢à¹Œ"],["%s à¸­à¸²à¸—à¸´à¸•à¸¢à¹Œà¸—à¸µà¹ˆà¹à¸¥à¹‰à¸§","à¹ƒà¸™ %s à¸­à¸²à¸—à¸´à¸•à¸¢à¹Œ"],["1 à¹€à¸”à¸·à¸­à¸™à¸—à¸µà¹ˆà¹à¸¥à¹‰à¸§","à¹ƒà¸™ 1 à¹€à¸”à¸·à¸­à¸™"],["%s à¹€à¸”à¸·à¸­à¸™à¸—à¸µà¹ˆà¹à¸¥à¹‰à¸§","à¹ƒà¸™ %s à¹€à¸”à¸·à¸­à¸™"],["1 à¸›à¸µà¸—à¸µà¹ˆà¹à¸¥à¹‰à¸§","à¹ƒà¸™ 1 à¸›à¸µ"],["%s à¸›à¸µà¸—à¸µà¹ˆà¹à¸¥à¹‰à¸§","à¹ƒà¸™ %s à¸›à¸µ"]][c]}var nA=Tb.default=tA,Cb={};Object.defineProperty(Cb,"__esModule",{value:!0});function iA(s,c){return[["az Ã¶nce","ÅŸimdi"],["%s saniye Ã¶nce","%s saniye iÃ§inde"],["1 dakika Ã¶nce","1 dakika iÃ§inde"],["%s dakika Ã¶nce","%s dakika iÃ§inde"],["1 saat Ã¶nce","1 saat iÃ§inde"],["%s saat Ã¶nce","%s saat iÃ§inde"],["1 gÃ¼n Ã¶nce","1 gÃ¼n iÃ§inde"],["%s gÃ¼n Ã¶nce","%s gÃ¼n iÃ§inde"],["1 hafta Ã¶nce","1 hafta iÃ§inde"],["%s hafta Ã¶nce","%s hafta iÃ§inde"],["1 ay Ã¶nce","1 ay iÃ§inde"],["%s ay Ã¶nce","%s ay iÃ§inde"],["1 yÄ±l Ã¶nce","1 yÄ±l iÃ§inde"],["%s yÄ±l Ã¶nce","%s yÄ±l iÃ§inde"]][c]}var rA=Cb.default=iA,kb={};Object.defineProperty(kb,"__esModule",{value:!0});var oA=["ç§’","åˆ†é’Ÿ","å°æ—¶","å¤©","å‘¨","ä¸ªæœˆ","å¹´"];function sA(s,c){if(c===0)return["åˆšåˆš","ç‰‡åˆ»åŽ"];var o=oA[~~(c/2)];return[s+" "+o+"å‰",s+" "+o+"åŽ"]}var aA=kb.default=sA,Pb={};Object.defineProperty(Pb,"__esModule",{value:!0});function lA(s,c){return[["å‰›å‰›","ç‰‡åˆ»å¾Œ"],["%s ç§’å‰","%s ç§’å¾Œ"],["1 åˆ†é˜å‰","1 åˆ†é˜å¾Œ"],["%s åˆ†é˜å‰","%s åˆ†é˜å¾Œ"],["1 å°æ™‚å‰","1 å°æ™‚å¾Œ"],["%s å°æ™‚å‰","%s å°æ™‚å¾Œ"],["1 å¤©å‰","1 å¤©å¾Œ"],["%s å¤©å‰","%s å¤©å¾Œ"],["1 é€±å‰","1 é€±å¾Œ"],["%s é€±å‰","%s é€±å¾Œ"],["1 å€‹æœˆå‰","1 å€‹æœˆå¾Œ"],["%s å€‹æœˆå‰","%s å€‹æœˆå¾Œ"],["1 å¹´å‰","1 å¹´å¾Œ"],["%s å¹´å‰","%s å¹´å¾Œ"]][c]}var cA=Pb.default=lA;const Is={ar:t9,cs:n9,de:i9,el:r9,es:o9,fi:s9,fr:a9,gl:l9,hi:c9,it:u9,ja:d9,ko:h9,nl:p9,pt:f9,ru:m9,sv:g9,th:v9,tr:y9,ur:b9,"zh-CN":w9,"zh-TW":x9},uA=Object.keys(Is),Mo=new e9({allowMissing:!0});Mo.init=(s,c)=>{Mo.clear(),s&&(Mo.locale(s),Mo.extend(Is[s])),c&&Mo.extend(c)},Nn("ar",T9),Nn("cs",k9),Nn("de",_9),Nn("el",O9),Nn("es",A9),Nn("fi",M9),Nn("fr",L9),Nn("gl",j9),Nn("hi",H9),Nn("it",V9),Nn("ja",W9),Nn("ko",q9),Nn("nl",Y9),Nn("pt",Z9),Nn("ru",$9),Nn("sv",eA),Nn("th",nA),Nn("tr",rA),Nn("zh-CN",aA),Nn("zh-TW",cA),Mo.registerMessages=(s,c)=>{Is[s]?Is[s]={...Is[s],...c}:Is[s]=c};var Fi=Mo,dA=s=>{const c=Et();return f2(c,()=>s.onClickOutside()),Fe.createElement("ul",{ref:c,className:"r6o-comment-dropdown-menu"},Fe.createElement("li",{onClick:s.onEdit},Fi.t("Edit")),Fe.createElement("li",{onClick:s.onDelete},Fi.t("Delete")))},_b={},Gh={},qh={exports:{}};/*!
	autosize 4.0.4
	license: MIT
	http://www.jacklmoore.com/autosize
*/(function(s,c){(function(o,a){a(s,c)})(or,function(o,a){var u=typeof Map=="function"?new Map:function(){var E=[],O=[];return{has:function(A){return E.indexOf(A)>-1},get:function(A){return O[E.indexOf(A)]},set:function(A,B){E.indexOf(A)===-1&&(E.push(A),O.push(B))},delete:function(A){var B=E.indexOf(A);B>-1&&(E.splice(B,1),O.splice(B,1))}}}(),m=function(E){return new Event(E,{bubbles:!0})};try{new Event("test")}catch{m=function(E){var O=document.createEvent("Event");return O.initEvent(E,!0,!1),O}}function v(E){if(!E||!E.nodeName||E.nodeName!=="TEXTAREA"||u.has(E))return;var O=null,A=null,B=null;function X(){var ye=window.getComputedStyle(E,null);ye.resize==="vertical"?E.style.resize="none":ye.resize==="both"&&(E.style.resize="horizontal"),ye.boxSizing==="content-box"?O=-(parseFloat(ye.paddingTop)+parseFloat(ye.paddingBottom)):O=parseFloat(ye.borderTopWidth)+parseFloat(ye.borderBottomWidth),isNaN(O)&&(O=0),z()}function le(ye){{var Ce=E.style.width;E.style.width="0px",E.offsetWidth,E.style.width=Ce}E.style.overflowY=ye}function re(ye){for(var Ce=[];ye&&ye.parentNode&&ye.parentNode instanceof Element;)ye.parentNode.scrollTop&&Ce.push({node:ye.parentNode,scrollTop:ye.parentNode.scrollTop}),ye=ye.parentNode;return Ce}function he(){if(E.scrollHeight!==0){var ye=re(E),Ce=document.documentElement&&document.documentElement.scrollTop;E.style.height="",E.style.height=E.scrollHeight+O+"px",A=E.clientWidth,ye.forEach(function(Pe){Pe.node.scrollTop=Pe.scrollTop}),Ce&&(document.documentElement.scrollTop=Ce)}}function z(){he();var ye=Math.round(parseFloat(E.style.height)),Ce=window.getComputedStyle(E,null),Pe=Ce.boxSizing==="content-box"?Math.round(parseFloat(Ce.height)):E.offsetHeight;if(Pe<ye?Ce.overflowY==="hidden"&&(le("scroll"),he(),Pe=Ce.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(E,null).height)):E.offsetHeight):Ce.overflowY!=="hidden"&&(le("hidden"),he(),Pe=Ce.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(E,null).height)):E.offsetHeight),B!==Pe){B=Pe;var Xe=m("autosize:resized");try{E.dispatchEvent(Xe)}catch{}}}var ae=function(){E.clientWidth!==A&&z()},we=function(ye){window.removeEventListener("resize",ae,!1),E.removeEventListener("input",z,!1),E.removeEventListener("keyup",z,!1),E.removeEventListener("autosize:destroy",we,!1),E.removeEventListener("autosize:update",z,!1),Object.keys(ye).forEach(function(Ce){E.style[Ce]=ye[Ce]}),u.delete(E)}.bind(E,{height:E.style.height,resize:E.style.resize,overflowY:E.style.overflowY,overflowX:E.style.overflowX,wordWrap:E.style.wordWrap});E.addEventListener("autosize:destroy",we,!1),"onpropertychange"in E&&"oninput"in E&&E.addEventListener("keyup",z,!1),window.addEventListener("resize",ae,!1),E.addEventListener("input",z,!1),E.addEventListener("autosize:update",z,!1),E.style.overflowX="hidden",E.style.wordWrap="break-word",u.set(E,{destroy:we,update:z}),X()}function b(E){var O=u.get(E);O&&O.destroy()}function w(E){var O=u.get(E);O&&O.update()}var x=null;typeof window>"u"||typeof window.getComputedStyle!="function"?(x=function(E){return E},x.destroy=function(E){return E},x.update=function(E){return E}):(x=function(E,O){return E&&Array.prototype.forEach.call(E.length?E:[E],function(A){return v(A)}),E},x.destroy=function(E){return E&&Array.prototype.forEach.call(E.length?E:[E],b),E},x.update=function(E){return E&&Array.prototype.forEach.call(E.length?E:[E],w),E}),a.default=x,o.exports=a.default})})(qh,qh.exports);var hA=function(s,c,o){return o=window.getComputedStyle,(o?o(s):s.currentStyle)[c.replace(/-(\w)/gi,function(a,u){return u.toUpperCase()})]},pA=hA,Xh=pA;function fA(s){var c=Xh(s,"line-height"),o=parseFloat(c,10);if(c===o+""){var a=s.style.lineHeight;s.style.lineHeight=c+"em",c=Xh(s,"line-height"),o=parseFloat(c,10),a?s.style.lineHeight=a:delete s.style.lineHeight}if(c.indexOf("pt")!==-1?(o*=4,o/=3):c.indexOf("mm")!==-1?(o*=96,o/=25.4):c.indexOf("cm")!==-1?(o*=96,o/=2.54):c.indexOf("in")!==-1?o*=96:c.indexOf("pc")!==-1&&(o*=16),o=Math.round(o),c==="normal"){var u=s.nodeName,m=document.createElement(u);m.innerHTML="&nbsp;",u.toUpperCase()==="TEXTAREA"&&m.setAttribute("rows","1");var v=Xh(s,"font-size");m.style.fontSize=v,m.style.padding="0px",m.style.border="0px";var b=document.body;b.appendChild(m);var w=m.offsetHeight;o=w,b.removeChild(m)}return o}var mA=fA,gA=or&&or.__extends||function(){var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var a in o)o.hasOwnProperty(a)&&(c[a]=o[a])};return function(c,o){s(c,o);function a(){this.constructor=c}c.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),Yh=or&&or.__assign||Object.assign||function(s){for(var c,o=1,a=arguments.length;o<a;o++){c=arguments[o];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(s[u]=c[u])}return s},vA=or&&or.__rest||function(s,c){var o={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&c.indexOf(a)<0&&(o[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(s);u<a.length;u++)c.indexOf(a[u])<0&&(o[a[u]]=s[a[u]]);return o};Gh.__esModule=!0;var Dc=sr,Ga=ar.exports,Ac=qh.exports,yA=mA,bA=yA,Rb="autosize:resized",wA=function(s){gA(c,s);function c(){var o=s!==null&&s.apply(this,arguments)||this;return o.state={lineHeight:null},o.textarea=null,o.onResize=function(a){o.props.onResize&&o.props.onResize(a)},o.updateLineHeight=function(){o.textarea&&o.setState({lineHeight:bA(o.textarea)})},o.onChange=function(a){var u=o.props.onChange;o.currentValue=a.currentTarget.value,u&&u(a)},o}return c.prototype.componentDidMount=function(){var o=this,a=this.props,u=a.maxRows,m=a.async;typeof u=="number"&&this.updateLineHeight(),typeof u=="number"||m?setTimeout(function(){return o.textarea&&Ac(o.textarea)}):this.textarea&&Ac(this.textarea),this.textarea&&this.textarea.addEventListener(Rb,this.onResize)},c.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(Rb,this.onResize),Ac.destroy(this.textarea))},c.prototype.render=function(){var o=this,a=this,u=a.props;u.onResize;var m=u.maxRows;u.onChange;var v=u.style;u.innerRef;var b=u.children,w=vA(u,["onResize","maxRows","onChange","style","innerRef","children"]),x=a.state.lineHeight,E=m&&x?x*m:null;return Dc.createElement("textarea",Yh({},w,{onChange:this.onChange,style:E?Yh({},v,{maxHeight:E}):v,ref:function(O){o.textarea=O,typeof o.props.innerRef=="function"?o.props.innerRef(O):o.props.innerRef&&(o.props.innerRef.current=O)}}),b)},c.prototype.componentDidUpdate=function(){this.textarea&&Ac.update(this.textarea)},c.defaultProps={rows:1,async:!1},c.propTypes={rows:Ga.number,maxRows:Ga.number,onResize:Ga.func,innerRef:Ga.any,async:Ga.bool},c}(Dc.Component);Gh.TextareaAutosize=Dc.forwardRef(function(s,c){return Dc.createElement(wA,Yh({},s,{innerRef:c}))}),function(s){s.__esModule=!0;var c=Gh;s.default=c.TextareaAutosize}(_b);var xA=To(_b);class Ob extends K{constructor(c){super(c),r(this,"onKeyDown",o=>{o.which===13&&o.ctrlKey&&this.props.onSaveAndClose()}),r(this,"onKeyUp",o=>{o.which===46&&o.stopPropagation()}),this.element=G()}componentDidMount(){this.props.focus&&this.element.current&&this.element.current.focus({preventScroll:!0})}render(){return Fe.createElement(xA,{ref:this.element,className:"r6o-editable-text",value:this.props.content,placeholder:this.props.placeholder||Fi.t("Add a comment..."),disabled:!this.props.editable,onChange:this.props.onChange,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown})}}function Vt(){return Vt=Object.assign?Object.assign.bind():function(s){for(var c=1;c<arguments.length;c++){var o=arguments[c];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a])}return s},Vt.apply(this,arguments)}function SA(s){if(s.sheet)return s.sheet;for(var c=0;c<document.styleSheets.length;c++)if(document.styleSheets[c].ownerNode===s)return document.styleSheets[c]}function EA(s){var c=document.createElement("style");return c.setAttribute("data-emotion",s.key),s.nonce!==void 0&&c.setAttribute("nonce",s.nonce),c.appendChild(document.createTextNode("")),c.setAttribute("data-s",""),c}var TA=function(){function s(o){var a=this;this._insertTag=function(u){var m;a.tags.length===0?a.insertionPoint?m=a.insertionPoint.nextSibling:a.prepend?m=a.container.firstChild:m=a.before:m=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(u,m),a.tags.push(u)},this.isSpeedy=o.speedy===void 0?!0:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var c=s.prototype;return c.hydrate=function(o){o.forEach(this._insertTag)},c.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(EA(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var u=SA(a);try{u.insertRule(o,u.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(o));this.ctr++},c.flush=function(){this.tags.forEach(function(o){return o.parentNode&&o.parentNode.removeChild(o)}),this.tags=[],this.ctr=0},s}(),gi="-ms-",Ic="-moz-",mn="-webkit-",Db="comm",Kh="rule",Zh="decl",CA="@import",Ab="@keyframes",kA="@layer",PA=Math.abs,Mc=String.fromCharCode,_A=Object.assign;function RA(s,c){return li(s,0)^45?(((c<<2^li(s,0))<<2^li(s,1))<<2^li(s,2))<<2^li(s,3):0}function Ib(s){return s.trim()}function OA(s,c){return(s=c.exec(s))?s[0]:s}function gn(s,c,o){return s.replace(c,o)}function Jh(s,c){return s.indexOf(c)}function li(s,c){return s.charCodeAt(c)|0}function qa(s,c,o){return s.slice(c,o)}function gr(s){return s.length}function $h(s){return s.length}function zc(s,c){return c.push(s),s}function DA(s,c){return s.map(c).join("")}var Lc=1,Ms=1,Mb=0,Ri=0,qn=0,zs="";function Fc(s,c,o,a,u,m,v){return{value:s,root:c,parent:o,type:a,props:u,children:m,line:Lc,column:Ms,length:v,return:""}}function Xa(s,c){return _A(Fc("",null,null,"",null,null,0),s,{length:-s.length},c)}function AA(){return qn}function IA(){return qn=Ri>0?li(zs,--Ri):0,Ms--,qn===10&&(Ms=1,Lc--),qn}function ji(){return qn=Ri<Mb?li(zs,Ri++):0,Ms++,qn===10&&(Ms=1,Lc++),qn}function vr(){return li(zs,Ri)}function jc(){return Ri}function Ya(s,c){return qa(zs,s,c)}function Ka(s){switch(s){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function zb(s){return Lc=Ms=1,Mb=gr(zs=s),Ri=0,[]}function Lb(s){return zs="",s}function Nc(s){return Ib(Ya(Ri-1,Qh(s===91?s+2:s===40?s+1:s)))}function MA(s){for(;(qn=vr())&&qn<33;)ji();return Ka(s)>2||Ka(qn)>3?"":" "}function zA(s,c){for(;--c&&ji()&&!(qn<48||qn>102||qn>57&&qn<65||qn>70&&qn<97););return Ya(s,jc()+(c<6&&vr()==32&&ji()==32))}function Qh(s){for(;ji();)switch(qn){case s:return Ri;case 34:case 39:s!==34&&s!==39&&Qh(qn);break;case 40:s===41&&Qh(s);break;case 92:ji();break}return Ri}function LA(s,c){for(;ji()&&s+qn!==57&&!(s+qn===84&&vr()===47););return"/*"+Ya(c,Ri-1)+"*"+Mc(s===47?s:ji())}function FA(s){for(;!Ka(vr());)ji();return Ya(s,Ri)}function jA(s){return Lb(Hc("",null,null,null,[""],s=zb(s),0,[0],s))}function Hc(s,c,o,a,u,m,v,b,w){for(var x=0,E=0,O=v,A=0,B=0,X=0,le=1,re=1,he=1,z=0,ae="",we=u,ye=m,Ce=a,Pe=ae;re;)switch(X=z,z=ji()){case 40:if(X!=108&&li(Pe,O-1)==58){Jh(Pe+=gn(Nc(z),"&","&\f"),"&\f")!=-1&&(he=-1);break}case 34:case 39:case 91:Pe+=Nc(z);break;case 9:case 10:case 13:case 32:Pe+=MA(X);break;case 92:Pe+=zA(jc()-1,7);continue;case 47:switch(vr()){case 42:case 47:zc(NA(LA(ji(),jc()),c,o),w);break;default:Pe+="/"}break;case 123*le:b[x++]=gr(Pe)*he;case 125*le:case 59:case 0:switch(z){case 0:case 125:re=0;case 59+E:he==-1&&(Pe=gn(Pe,/\f/g,"")),B>0&&gr(Pe)-O&&zc(B>32?jb(Pe+";",a,o,O-1):jb(gn(Pe," ","")+";",a,o,O-2),w);break;case 59:Pe+=";";default:if(zc(Ce=Fb(Pe,c,o,x,E,u,b,ae,we=[],ye=[],O),m),z===123)if(E===0)Hc(Pe,c,Ce,Ce,we,m,O,b,ye);else switch(A===99&&li(Pe,3)===110?100:A){case 100:case 108:case 109:case 115:Hc(s,Ce,Ce,a&&zc(Fb(s,Ce,Ce,0,0,u,b,ae,u,we=[],O),ye),u,ye,O,b,a?we:ye);break;default:Hc(Pe,Ce,Ce,Ce,[""],ye,0,b,ye)}}x=E=B=0,le=he=1,ae=Pe="",O=v;break;case 58:O=1+gr(Pe),B=X;default:if(le<1){if(z==123)--le;else if(z==125&&le++==0&&IA()==125)continue}switch(Pe+=Mc(z),z*le){case 38:he=E>0?1:(Pe+="\f",-1);break;case 44:b[x++]=(gr(Pe)-1)*he,he=1;break;case 64:vr()===45&&(Pe+=Nc(ji())),A=vr(),E=O=gr(ae=Pe+=FA(jc())),z++;break;case 45:X===45&&gr(Pe)==2&&(le=0)}}return m}function Fb(s,c,o,a,u,m,v,b,w,x,E){for(var O=u-1,A=u===0?m:[""],B=$h(A),X=0,le=0,re=0;X<a;++X)for(var he=0,z=qa(s,O+1,O=PA(le=v[X])),ae=s;he<B;++he)(ae=Ib(le>0?A[he]+" "+z:gn(z,/&\f/g,A[he])))&&(w[re++]=ae);return Fc(s,c,o,u===0?Kh:b,w,x,E)}function NA(s,c,o){return Fc(s,c,o,Db,Mc(AA()),qa(s,2,-2),0)}function jb(s,c,o,a){return Fc(s,c,o,Zh,qa(s,0,a),qa(s,a+1,-1),a)}function Ls(s,c){for(var o="",a=$h(s),u=0;u<a;u++)o+=c(s[u],u,s,c)||"";return o}function HA(s,c,o,a){switch(s.type){case kA:if(s.children.length)break;case CA:case Zh:return s.return=s.return||s.value;case Db:return"";case Ab:return s.return=s.value+"{"+Ls(s.children,a)+"}";case Kh:s.value=s.props.join(",")}return gr(o=Ls(s.children,a))?s.return=s.value+"{"+o+"}":""}function BA(s){var c=$h(s);return function(o,a,u,m){for(var v="",b=0;b<c;b++)v+=s[b](o,a,u,m)||"";return v}}function VA(s){return function(c){c.root||(c=c.return)&&s(c)}}function UA(s){var c=Object.create(null);return function(o){return c[o]===void 0&&(c[o]=s(o)),c[o]}}var WA=function(s,c,o){for(var a=0,u=0;a=u,u=vr(),a===38&&u===12&&(c[o]=1),!Ka(u);)ji();return Ya(s,Ri)},GA=function(s,c){var o=-1,a=44;do switch(Ka(a)){case 0:a===38&&vr()===12&&(c[o]=1),s[o]+=WA(Ri-1,c,o);break;case 2:s[o]+=Nc(a);break;case 4:if(a===44){s[++o]=vr()===58?"&\f":"",c[o]=s[o].length;break}default:s[o]+=Mc(a)}while(a=ji());return s},qA=function(s,c){return Lb(GA(zb(s),c))},Nb=new WeakMap,XA=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var c=s.value,o=s.parent,a=s.column===o.column&&s.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(s.props.length===1&&c.charCodeAt(0)!==58&&!Nb.get(o))&&!a){Nb.set(s,!0);for(var u=[],m=qA(c,u),v=o.props,b=0,w=0;b<m.length;b++)for(var x=0;x<v.length;x++,w++)s.props[w]=u[b]?m[b].replace(/&\f/g,v[x]):v[x]+" "+m[b]}}},YA=function(s){if(s.type==="decl"){var c=s.value;c.charCodeAt(0)===108&&c.charCodeAt(2)===98&&(s.return="",s.value="")}};function Hb(s,c){switch(RA(s,c)){case 5103:return mn+"print-"+s+s;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mn+s+s;case 5349:case 4246:case 4810:case 6968:case 2756:return mn+s+Ic+s+gi+s+s;case 6828:case 4268:return mn+s+gi+s+s;case 6165:return mn+s+gi+"flex-"+s+s;case 5187:return mn+s+gn(s,/(\w+).+(:[^]+)/,mn+"box-$1$2"+gi+"flex-$1$2")+s;case 5443:return mn+s+gi+"flex-item-"+gn(s,/flex-|-self/,"")+s;case 4675:return mn+s+gi+"flex-line-pack"+gn(s,/align-content|flex-|-self/,"")+s;case 5548:return mn+s+gi+gn(s,"shrink","negative")+s;case 5292:return mn+s+gi+gn(s,"basis","preferred-size")+s;case 6060:return mn+"box-"+gn(s,"-grow","")+mn+s+gi+gn(s,"grow","positive")+s;case 4554:return mn+gn(s,/([^-])(transform)/g,"$1"+mn+"$2")+s;case 6187:return gn(gn(gn(s,/(zoom-|grab)/,mn+"$1"),/(image-set)/,mn+"$1"),s,"")+s;case 5495:case 3959:return gn(s,/(image-set\([^]*)/,mn+"$1$`$1");case 4968:return gn(gn(s,/(.+:)(flex-)?(.*)/,mn+"box-pack:$3"+gi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mn+s+s;case 4095:case 3583:case 4068:case 2532:return gn(s,/(.+)-inline(.+)/,mn+"$1$2")+s;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gr(s)-1-c>6)switch(li(s,c+1)){case 109:if(li(s,c+4)!==45)break;case 102:return gn(s,/(.+:)(.+)-([^]+)/,"$1"+mn+"$2-$3$1"+Ic+(li(s,c+3)==108?"$3":"$2-$3"))+s;case 115:return~Jh(s,"stretch")?Hb(gn(s,"stretch","fill-available"),c)+s:s}break;case 4949:if(li(s,c+1)!==115)break;case 6444:switch(li(s,gr(s)-3-(~Jh(s,"!important")&&10))){case 107:return gn(s,":",":"+mn)+s;case 101:return gn(s,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mn+(li(s,14)===45?"inline-":"")+"box$3$1"+mn+"$2$3$1"+gi+"$2box$3")+s}break;case 5936:switch(li(s,c+11)){case 114:return mn+s+gi+gn(s,/[svh]\w+-[tblr]{2}/,"tb")+s;case 108:return mn+s+gi+gn(s,/[svh]\w+-[tblr]{2}/,"tb-rl")+s;case 45:return mn+s+gi+gn(s,/[svh]\w+-[tblr]{2}/,"lr")+s}return mn+s+gi+s+s}return s}var KA=function(s,c,o,a){if(s.length>-1&&!s.return)switch(s.type){case Zh:s.return=Hb(s.value,s.length);break;case Ab:return Ls([Xa(s,{value:gn(s.value,"@","@"+mn)})],a);case Kh:if(s.length)return DA(s.props,function(u){switch(OA(u,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ls([Xa(s,{props:[gn(u,/:(read-\w+)/,":"+Ic+"$1")]})],a);case"::placeholder":return Ls([Xa(s,{props:[gn(u,/:(plac\w+)/,":"+mn+"input-$1")]}),Xa(s,{props:[gn(u,/:(plac\w+)/,":"+Ic+"$1")]}),Xa(s,{props:[gn(u,/:(plac\w+)/,gi+"input-$1")]})],a)}return""})}},ZA=[KA],JA=function(s){var c=s.key;if(c==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(X){var le=X.getAttribute("data-emotion");le.indexOf(" ")!==-1&&(document.head.appendChild(X),X.setAttribute("data-s",""))})}var a=s.stylisPlugins||ZA,u={},m,v=[];m=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+c+' "]'),function(X){for(var le=X.getAttribute("data-emotion").split(" "),re=1;re<le.length;re++)u[le[re]]=!0;v.push(X)});var b,w=[XA,YA];{var x,E=[HA,VA(function(X){x.insert(X)})],O=BA(w.concat(a,E)),A=function(X){return Ls(jA(X),O)};b=function(X,le,re,he){x=re,A(X?X+"{"+le.styles+"}":le.styles),he&&(B.inserted[le.name]=!0)}}var B={key:c,sheet:new TA({key:c,container:m,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:u,registered:{},insert:b};return B.sheet.hydrate(v),B},Bb={exports:{}},En={};/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ti=typeof Symbol=="function"&&Symbol.for,ep=ti?Symbol.for("react.element"):60103,tp=ti?Symbol.for("react.portal"):60106,Bc=ti?Symbol.for("react.fragment"):60107,Vc=ti?Symbol.for("react.strict_mode"):60108,Uc=ti?Symbol.for("react.profiler"):60114,Wc=ti?Symbol.for("react.provider"):60109,Gc=ti?Symbol.for("react.context"):60110,np=ti?Symbol.for("react.async_mode"):60111,qc=ti?Symbol.for("react.concurrent_mode"):60111,Xc=ti?Symbol.for("react.forward_ref"):60112,Yc=ti?Symbol.for("react.suspense"):60113,$A=ti?Symbol.for("react.suspense_list"):60120,Kc=ti?Symbol.for("react.memo"):60115,Zc=ti?Symbol.for("react.lazy"):60116,QA=ti?Symbol.for("react.block"):60121,eI=ti?Symbol.for("react.fundamental"):60117,tI=ti?Symbol.for("react.responder"):60118,nI=ti?Symbol.for("react.scope"):60119;function Ni(s){if(typeof s=="object"&&s!==null){var c=s.$$typeof;switch(c){case ep:switch(s=s.type,s){case np:case qc:case Bc:case Uc:case Vc:case Yc:return s;default:switch(s=s&&s.$$typeof,s){case Gc:case Xc:case Zc:case Kc:case Wc:return s;default:return c}}case tp:return c}}}function Vb(s){return Ni(s)===qc}En.AsyncMode=np,En.ConcurrentMode=qc,En.ContextConsumer=Gc,En.ContextProvider=Wc,En.Element=ep,En.ForwardRef=Xc,En.Fragment=Bc,En.Lazy=Zc,En.Memo=Kc,En.Portal=tp,En.Profiler=Uc,En.StrictMode=Vc,En.Suspense=Yc,En.isAsyncMode=function(s){return Vb(s)||Ni(s)===np},En.isConcurrentMode=Vb,En.isContextConsumer=function(s){return Ni(s)===Gc},En.isContextProvider=function(s){return Ni(s)===Wc},En.isElement=function(s){return typeof s=="object"&&s!==null&&s.$$typeof===ep},En.isForwardRef=function(s){return Ni(s)===Xc},En.isFragment=function(s){return Ni(s)===Bc},En.isLazy=function(s){return Ni(s)===Zc},En.isMemo=function(s){return Ni(s)===Kc},En.isPortal=function(s){return Ni(s)===tp},En.isProfiler=function(s){return Ni(s)===Uc},En.isStrictMode=function(s){return Ni(s)===Vc},En.isSuspense=function(s){return Ni(s)===Yc},En.isValidElementType=function(s){return typeof s=="string"||typeof s=="function"||s===Bc||s===qc||s===Uc||s===Vc||s===Yc||s===$A||typeof s=="object"&&s!==null&&(s.$$typeof===Zc||s.$$typeof===Kc||s.$$typeof===Wc||s.$$typeof===Gc||s.$$typeof===Xc||s.$$typeof===eI||s.$$typeof===tI||s.$$typeof===nI||s.$$typeof===QA)},En.typeOf=Ni,Bb.exports=En;var Ub=Bb.exports,iI={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},rI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Wb={};Wb[Ub.ForwardRef]=iI,Wb[Ub.Memo]=rI;var oI=!0;function Gb(s,c,o){var a="";return o.split(" ").forEach(function(u){s[u]!==void 0?c.push(s[u]+";"):a+=u+" "}),a}var ip=function(s,c,o){var a=s.key+"-"+c.name;(o===!1||oI===!1)&&s.registered[a]===void 0&&(s.registered[a]=c.styles)},qb=function(s,c,o){ip(s,c,o);var a=s.key+"-"+c.name;if(s.inserted[c.name]===void 0){var u=c;do s.insert(c===u?"."+a:"",u,s.sheet,!0),u=u.next;while(u!==void 0)}};function sI(s){for(var c=0,o,a=0,u=s.length;u>=4;++a,u-=4)o=s.charCodeAt(a)&255|(s.charCodeAt(++a)&255)<<8|(s.charCodeAt(++a)&255)<<16|(s.charCodeAt(++a)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,c=(o&65535)*1540483477+((o>>>16)*59797<<16)^(c&65535)*1540483477+((c>>>16)*59797<<16);switch(u){case 3:c^=(s.charCodeAt(a+2)&255)<<16;case 2:c^=(s.charCodeAt(a+1)&255)<<8;case 1:c^=s.charCodeAt(a)&255,c=(c&65535)*1540483477+((c>>>16)*59797<<16)}return c^=c>>>13,c=(c&65535)*1540483477+((c>>>16)*59797<<16),((c^c>>>15)>>>0).toString(36)}var aI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},lI=/[A-Z]|^ms/g,cI=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Xb=function(s){return s.charCodeAt(1)===45},Yb=function(s){return s!=null&&typeof s!="boolean"},rp=UA(function(s){return Xb(s)?s:s.replace(lI,"-$&").toLowerCase()}),Kb=function(s,c){switch(s){case"animation":case"animationName":if(typeof c=="string")return c.replace(cI,function(o,a,u){return yr={name:a,styles:u,next:yr},a})}return aI[s]!==1&&!Xb(s)&&typeof c=="number"&&c!==0?c+"px":c};function Za(s,c,o){if(o==null)return"";if(o.__emotion_styles!==void 0)return o;switch(typeof o){case"boolean":return"";case"object":{if(o.anim===1)return yr={name:o.name,styles:o.styles,next:yr},o.name;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)yr={name:a.name,styles:a.styles,next:yr},a=a.next;var u=o.styles+";";return u}return uI(s,c,o)}case"function":{if(s!==void 0){var m=yr,v=o(s);return yr=m,Za(s,c,v)}break}}if(c==null)return o;var b=c[o];return b!==void 0?b:o}function uI(s,c,o){var a="";if(Array.isArray(o))for(var u=0;u<o.length;u++)a+=Za(s,c,o[u])+";";else for(var m in o){var v=o[m];if(typeof v!="object")c!=null&&c[v]!==void 0?a+=m+"{"+c[v]+"}":Yb(v)&&(a+=rp(m)+":"+Kb(m,v)+";");else if(Array.isArray(v)&&typeof v[0]=="string"&&(c==null||c[v[0]]===void 0))for(var b=0;b<v.length;b++)Yb(v[b])&&(a+=rp(m)+":"+Kb(m,v[b])+";");else{var w=Za(s,c,v);switch(m){case"animation":case"animationName":{a+=rp(m)+":"+w+";";break}default:a+=m+"{"+w+"}"}}}return a}var Zb=/label:\s*([^\s;\n{]+)\s*(;|$)/g,yr,op=function(s,c,o){if(s.length===1&&typeof s[0]=="object"&&s[0]!==null&&s[0].styles!==void 0)return s[0];var a=!0,u="";yr=void 0;var m=s[0];m==null||m.raw===void 0?(a=!1,u+=Za(o,c,m)):u+=m[0];for(var v=1;v<s.length;v++)u+=Za(o,c,s[v]),a&&(u+=m[v]);Zb.lastIndex=0;for(var b="",w;(w=Zb.exec(u))!==null;)b+="-"+w[1];var x=sI(u)+b;return{name:x,styles:u,next:yr}},dI=function(s){return s()},hI=_a.useInsertionEffect?_a.useInsertionEffect:!1,Jb=hI||dI,sp={}.hasOwnProperty,$b=Ot(typeof HTMLElement<"u"?JA({key:"css"}):null);$b.Provider;var Qb=function(s){return kr(function(c,o){var a=Ie($b);return s(c,a,o)})},ew=Ot({}),ap="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",pI=function(s,c){var o={};for(var a in c)sp.call(c,a)&&(o[a]=c[a]);return o[ap]=s,o},fI=function(s){var c=s.cache,o=s.serialized,a=s.isStringTag;return ip(c,o,a),Jb(function(){return qb(c,o,a)}),null},mI=Qb(function(s,c,o){var a=s.css;typeof a=="string"&&c.registered[a]!==void 0&&(a=c.registered[a]);var u=s[ap],m=[a],v="";typeof s.className=="string"?v=Gb(c.registered,m,s.className):s.className!=null&&(v=s.className+" ");var b=op(m,void 0,Ie(ew));v+=c.key+"-"+b.name;var w={};for(var x in s)sp.call(s,x)&&x!=="css"&&x!==ap&&(w[x]=s[x]);return w.ref=o,w.className=v,D(ne,null,D(fI,{cache:c,serialized:b,isStringTag:typeof u=="string"}),D(u,w))}),gI=mI,Ut=function(s,c){var o=arguments;if(c==null||!sp.call(c,"css"))return D.apply(void 0,o);var a=o.length,u=new Array(a);u[0]=gI,u[1]=pI(s,c);for(var m=2;m<a;m++)u[m]=o[m];return D.apply(null,u)};function lp(){for(var s=arguments.length,c=new Array(s),o=0;o<s;o++)c[o]=arguments[o];return op(c)}var vI=function(){var s=lp.apply(void 0,arguments),c="animation-"+s.name;return{name:c,styles:"@keyframes "+c+"{"+s.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},yI=function s(c){for(var o=c.length,a=0,u="";a<o;a++){var m=c[a];if(m!=null){var v=void 0;switch(typeof m){case"boolean":break;case"object":{if(Array.isArray(m))v=s(m);else{v="";for(var b in m)m[b]&&b&&(v&&(v+=" "),v+=b)}break}default:v=m}v&&(u&&(u+=" "),u+=v)}}return u};function bI(s,c,o){var a=[],u=Gb(s,a,o);return a.length<2?o:u+c(a)}var wI=function(s){var c=s.cache,o=s.serializedArr;return Jb(function(){for(var a=0;a<o.length;a++)qb(c,o[a],!1)}),null},xI=Qb(function(s,c){var o=[],a=function(){for(var b=arguments.length,w=new Array(b),x=0;x<b;x++)w[x]=arguments[x];var E=op(w,c.registered);return o.push(E),ip(c,E,!1),c.key+"-"+E.name},u=function(){for(var b=arguments.length,w=new Array(b),x=0;x<b;x++)w[x]=arguments[x];return bI(c.registered,a,yI(w))},m={css:a,cx:u,theme:Ie(ew)},v=s.children(m);return D(ne,null,D(wI,{cache:c,serializedArr:o}),v)});function SI(s,c){return c||(c=s.slice(0)),Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(c)}}))}function cp(s,c){if(s==null)return{};var o={},a=Object.keys(s),u,m;for(m=0;m<a.length;m++)u=a[m],!(c.indexOf(u)>=0)&&(o[u]=s[u]);return o}function Fs(s,c){if(s==null)return{};var o=cp(s,c),a,u;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(s);for(u=0;u<m.length;u++)a=m[u],!(c.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(s,a)||(o[a]=s[a]))}return o}function js(s){return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},js(s)}var tw={};Object.defineProperty(tw,"__esModule",{value:!0});var up=Object.assign||function(s){for(var c=1;c<arguments.length;c++){var o=arguments[c];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a])}return s},nw=function(){function s(c,o){for(var a=0;a<o.length;a++){var u=o[a];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(c,u.key,u)}}return function(c,o,a){return o&&s(c.prototype,o),a&&s(c,a),c}}(),iw=sr,Ja=rw(iw),EI=ar.exports,Jn=rw(EI);function rw(s){return s&&s.__esModule?s:{default:s}}function TI(s,c){var o={};for(var a in s)c.indexOf(a)>=0||!Object.prototype.hasOwnProperty.call(s,a)||(o[a]=s[a]);return o}function CI(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}function kI(s,c){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:s}function PI(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(s,c):s.__proto__=c)}var ow={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},_I=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],RI=function(s){return _I.forEach(function(c){return delete s[c]}),s},sw=function(s,c){c.style.fontSize=s.fontSize,c.style.fontFamily=s.fontFamily,c.style.fontWeight=s.fontWeight,c.style.fontStyle=s.fontStyle,c.style.letterSpacing=s.letterSpacing,c.style.textTransform=s.textTransform},aw=typeof window<"u"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,lw=function(){return aw?"_"+Math.random().toString(36).substr(2,12):void 0},dp=function(s){PI(c,s),nw(c,null,[{key:"getDerivedStateFromProps",value:function(o,a){var u=o.id;return u!==a.prevId?{inputId:u||lw(),prevId:u}:null}}]);function c(o){CI(this,c);var a=kI(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,o));return a.inputRef=function(u){a.input=u,typeof a.props.inputRef=="function"&&a.props.inputRef(u)},a.placeHolderSizerRef=function(u){a.placeHolderSizer=u},a.sizerRef=function(u){a.sizer=u},a.state={inputWidth:o.minWidth,inputId:o.id||lw(),prevId:o.id},a}return nw(c,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(o,a){a.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var o=this.input&&window.getComputedStyle(this.input);!o||(sw(o,this.sizer),this.placeHolderSizer&&sw(o,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var o=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?o=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:o=this.sizer.scrollWidth+2;var a=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;o+=a,o<this.props.minWidth&&(o=this.props.minWidth),o!==this.state.inputWidth&&this.setState({inputWidth:o})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var o=this.props.injectStyles;return aw&&o?Ja.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var o=[this.props.defaultValue,this.props.value,""].reduce(function(v,b){return v??b}),a=up({},this.props.style);a.display||(a.display="inline-block");var u=up({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),m=TI(this.props,[]);return RI(m),m.className=this.props.inputClassName,m.id=this.state.inputId,m.style=u,Ja.default.createElement("div",{className:this.props.className,style:a},this.renderStyles(),Ja.default.createElement("input",up({},m,{ref:this.inputRef})),Ja.default.createElement("div",{ref:this.sizerRef,style:ow},o),this.props.placeholder?Ja.default.createElement("div",{ref:this.placeHolderSizerRef,style:ow},this.props.placeholder):null)}}]),c}(iw.Component);dp.propTypes={className:Jn.default.string,defaultValue:Jn.default.any,extraWidth:Jn.default.oneOfType([Jn.default.number,Jn.default.string]),id:Jn.default.string,injectStyles:Jn.default.bool,inputClassName:Jn.default.string,inputRef:Jn.default.func,inputStyle:Jn.default.object,minWidth:Jn.default.oneOfType([Jn.default.number,Jn.default.string]),onAutosize:Jn.default.func,onChange:Jn.default.func,placeholder:Jn.default.string,placeholderIsMinWidth:Jn.default.bool,style:Jn.default.object,value:Jn.default.any},dp.defaultProps={minWidth:1,injectStyles:!0};var OI=tw.default=dp;function Jc(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}function DI(s,c){if(js(s)!=="object"||s===null)return s;var o=s[Symbol.toPrimitive];if(o!==void 0){var a=o.call(s,c);if(js(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}function cw(s){var c=DI(s,"string");return js(c)==="symbol"?c:String(c)}function uw(s,c){for(var o=0;o<c.length;o++){var a=c[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,cw(a.key),a)}}function $c(s,c,o){return c&&uw(s.prototype,c),o&&uw(s,o),Object.defineProperty(s,"prototype",{writable:!1}),s}function Qc(s,c){return Qc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},Qc(s,c)}function eu(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),c&&Qc(s,c)}function zr(s,c,o){return c=cw(c),c in s?Object.defineProperty(s,c,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[c]=o,s}function AI(s,c,o){return c in s?Object.defineProperty(s,c,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[c]=o,s}function dw(s,c){var o=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);c&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),o.push.apply(o,a)}return o}function ci(s){for(var c=1;c<arguments.length;c++){var o=arguments[c]!=null?arguments[c]:{};c%2?dw(Object(o),!0).forEach(function(a){AI(s,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(o)):dw(Object(o)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(o,a))})}return s}function tu(s){return tu=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},tu(s)}function II(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function MI(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function zI(s,c){return c&&(typeof c=="object"||typeof c=="function")?c:MI(s)}function nu(s){var c=II();return function(){var o=tu(s),a;if(c){var u=tu(this).constructor;a=Reflect.construct(o,arguments,u)}else a=o.apply(this,arguments);return zI(this,a)}}var iu=function(){};function LI(s,c){return c?c[0]==="-"?s+c:s+"__"+c:s}function FI(s,c,o){var a=[o];if(c&&s)for(var u in c)c.hasOwnProperty(u)&&c[u]&&a.push("".concat(LI(s,u)));return a.filter(function(m){return m}).map(function(m){return String(m).trim()}).join(" ")}var hw=function(s){return Array.isArray(s)?s.filter(Boolean):js(s)==="object"&&s!==null?[s]:[]},pw=function(s){s.className,s.clearValue,s.cx,s.getStyles,s.getValue,s.hasValue,s.isMulti,s.isRtl,s.options,s.selectOption,s.selectProps,s.setValue,s.theme;var c=Fs(s,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]);return ci({},c)};function hp(s){return[document.documentElement,document.body,window].indexOf(s)>-1}function fw(s){return hp(s)?window.pageYOffset:s.scrollTop}function ru(s,c){if(hp(s)){window.scrollTo(0,c);return}s.scrollTop=c}function jI(s){var c=getComputedStyle(s),o=c.position==="absolute",a=/(auto|scroll)/,u=document.documentElement;if(c.position==="fixed")return u;for(var m=s;m=m.parentElement;)if(c=getComputedStyle(m),!(o&&c.position==="static")&&a.test(c.overflow+c.overflowY+c.overflowX))return m;return u}function NI(s,c,o,a){return o*((s=s/a-1)*s*s+1)+c}function ou(s,c){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:iu,u=fw(s),m=c-u,v=10,b=0;function w(){b+=v;var x=NI(b,u,m,o);ru(s,x),b<o?window.requestAnimationFrame(w):a(s)}w()}function HI(s,c){var o=s.getBoundingClientRect(),a=c.getBoundingClientRect(),u=c.offsetHeight/3;a.bottom+u>o.bottom?ru(s,Math.min(c.offsetTop+c.clientHeight-s.offsetHeight+u,s.scrollHeight)):a.top-u<o.top&&ru(s,Math.max(c.offsetTop-u,0))}function BI(s){var c=s.getBoundingClientRect();return{bottom:c.bottom,height:c.height,left:c.left,right:c.right,top:c.top,width:c.width}}function mw(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function VI(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var gw=!1,UI={get passive(){return gw=!0}},su=typeof window<"u"?window:{};su.addEventListener&&su.removeEventListener&&(su.addEventListener("p",iu,UI),su.removeEventListener("p",iu,!1));var WI=gw;function GI(s){var c=s.maxHeight,o=s.menuEl,a=s.minHeight,u=s.placement,m=s.shouldScroll,v=s.isFixedPosition,b=s.theme,w=b.spacing,x=jI(o),E={placement:"bottom",maxHeight:c};if(!o||!o.offsetParent)return E;var O=x.getBoundingClientRect(),A=O.height,B=o.getBoundingClientRect(),X=B.bottom,le=B.height,re=B.top,he=o.offsetParent.getBoundingClientRect(),z=he.top,ae=window.innerHeight,we=fw(x),ye=parseInt(getComputedStyle(o).marginBottom,10),Ce=parseInt(getComputedStyle(o).marginTop,10),Pe=z-Ce,Xe=ae-re,Je=Pe+we,dt=A-we-re,mt=X-ae+we+ye,ht=we+re-Ce,Rt=160;switch(u){case"auto":case"bottom":if(Xe>=le)return{placement:"bottom",maxHeight:c};if(dt>=le&&!v)return m&&ou(x,mt,Rt),{placement:"bottom",maxHeight:c};if(!v&&dt>=a||v&&Xe>=a){m&&ou(x,mt,Rt);var Pt=v?Xe-ye:dt-ye;return{placement:"bottom",maxHeight:Pt}}if(u==="auto"||v){var qt=c,Gt=v?Pe:Je;return Gt>=a&&(qt=Math.min(Gt-ye-w.controlHeight,c)),{placement:"top",maxHeight:qt}}if(u==="bottom")return m&&ru(x,mt),{placement:"bottom",maxHeight:c};break;case"top":if(Pe>=le)return{placement:"top",maxHeight:c};if(Je>=le&&!v)return m&&ou(x,ht,Rt),{placement:"top",maxHeight:c};if(!v&&Je>=a||v&&Pe>=a){var Zt=c;return(!v&&Je>=a||v&&Pe>=a)&&(Zt=v?Pe-Ce:Je-Ce),m&&ou(x,ht,Rt),{placement:"top",maxHeight:Zt}}return{placement:"bottom",maxHeight:c};default:throw new Error('Invalid placement provided "'.concat(u,'".'))}return E}function qI(s){var c={bottom:"top",top:"bottom"};return s?c[s]:"bottom"}var pp=function(s){return s==="auto"?"bottom":s},XI=function(s){var c,o=s.placement,a=s.theme,u=a.borderRadius,m=a.spacing,v=a.colors;return c={label:"menu"},zr(c,qI(o),"100%"),zr(c,"backgroundColor",v.neutral0),zr(c,"borderRadius",u),zr(c,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),zr(c,"marginBottom",m.menuGutter),zr(c,"marginTop",m.menuGutter),zr(c,"position","absolute"),zr(c,"width","100%"),zr(c,"zIndex",1),c},vw=Ot({getPortalPlacement:null}),yw=function(s){eu(o,s);var c=nu(o);function o(){var a;Jc(this,o);for(var u=arguments.length,m=new Array(u),v=0;v<u;v++)m[v]=arguments[v];return a=c.call.apply(c,[this].concat(m)),a.state={maxHeight:a.props.maxMenuHeight,placement:null},a.getPlacement=function(b){var w=a.props,x=w.minMenuHeight,E=w.maxMenuHeight,O=w.menuPlacement,A=w.menuPosition,B=w.menuShouldScrollIntoView,X=w.theme;if(b){var le=A==="fixed",re=B&&!le,he=GI({maxHeight:E,menuEl:b,minHeight:x,placement:O,shouldScroll:re,isFixedPosition:le,theme:X}),z=a.context.getPortalPlacement;z&&z(he),a.setState(he)}},a.getUpdatedProps=function(){var b=a.props.menuPlacement,w=a.state.placement||pp(b);return ci(ci({},a.props),{},{placement:w,maxHeight:a.state.maxHeight})},a}return $c(o,[{key:"render",value:function(){var a=this.props.children;return a({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),o}(K);yw.contextType=vw;var YI=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.innerRef,v=s.innerProps;return Ut("div",Vt({css:u("menu",s),className:a({menu:!0},o),ref:m},v),c)},KI=function(s){var c=s.maxHeight,o=s.theme.spacing.baseUnit;return{maxHeight:c,overflowY:"auto",paddingBottom:o,paddingTop:o,position:"relative",WebkitOverflowScrolling:"touch"}},ZI=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.innerProps,v=s.innerRef,b=s.isMulti;return Ut("div",Vt({css:u("menuList",s),className:a({"menu-list":!0,"menu-list--is-multi":b},o),ref:v},m),c)},bw=function(s){var c=s.theme,o=c.spacing.baseUnit,a=c.colors;return{color:a.neutral40,padding:"".concat(o*2,"px ").concat(o*3,"px"),textAlign:"center"}},JI=bw,$I=bw,ww=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.innerProps;return Ut("div",Vt({css:u("noOptionsMessage",s),className:a({"menu-notice":!0,"menu-notice--no-options":!0},o)},m),c)};ww.defaultProps={children:"No options"};var xw=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.innerProps;return Ut("div",Vt({css:u("loadingMessage",s),className:a({"menu-notice":!0,"menu-notice--loading":!0},o)},m),c)};xw.defaultProps={children:"Loading..."};var QI=function(s){var c=s.rect,o=s.offset,a=s.position;return{left:c.left,position:a,top:o,width:c.width,zIndex:1}},e6=function(s){eu(o,s);var c=nu(o);function o(){var a;Jc(this,o);for(var u=arguments.length,m=new Array(u),v=0;v<u;v++)m[v]=arguments[v];return a=c.call.apply(c,[this].concat(m)),a.state={placement:null},a.getPortalPlacement=function(b){var w=b.placement,x=pp(a.props.menuPlacement);w!==x&&a.setState({placement:w})},a}return $c(o,[{key:"render",value:function(){var a=this.props,u=a.appendTo,m=a.children,v=a.className,b=a.controlElement,w=a.cx,x=a.innerProps,E=a.menuPlacement,O=a.menuPosition,A=a.getStyles,B=O==="fixed";if(!u&&!B||!b)return null;var X=this.state.placement||pp(E),le=BI(b),re=B?0:window.pageYOffset,he=le[X]+re,z={offset:he,position:O,rect:le},ae=Ut("div",Vt({css:A("menuPortal",z),className:w({"menu-portal":!0},v)},x),m);return Ut(vw.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},u?ps(ae,u):ae)}}]),o}(K),t6=function(s){var c=s.isDisabled,o=s.isRtl;return{label:"container",direction:o?"rtl":null,pointerEvents:c?"none":null,position:"relative"}},n6=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.innerProps,v=s.isDisabled,b=s.isRtl;return Ut("div",Vt({css:u("container",s),className:a({"--is-disabled":v,"--is-rtl":b},o)},m),c)},i6=function(s){var c=s.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(c.baseUnit/2,"px ").concat(c.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},r6=function(s){var c=s.children,o=s.className,a=s.cx,u=s.innerProps,m=s.isMulti,v=s.getStyles,b=s.hasValue;return Ut("div",Vt({css:v("valueContainer",s),className:a({"value-container":!0,"value-container--is-multi":m,"value-container--has-value":b},o)},u),c)},o6=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},s6=function(s){var c=s.children,o=s.className,a=s.cx,u=s.innerProps,m=s.getStyles;return Ut("div",Vt({css:m("indicatorsContainer",s),className:a({indicators:!0},o)},u),c)},Sw,a6={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Ew=function(s){var c=s.size,o=Fs(s,["size"]);return Ut("svg",Vt({height:c,width:c,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:a6},o))},fp=function(s){return Ut(Ew,Vt({size:20},s),Ut("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Tw=function(s){return Ut(Ew,Vt({size:20},s),Ut("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Cw=function(s){var c=s.isFocused,o=s.theme,a=o.spacing.baseUnit,u=o.colors;return{label:"indicatorContainer",color:c?u.neutral60:u.neutral20,display:"flex",padding:a*2,transition:"color 150ms",":hover":{color:c?u.neutral80:u.neutral40}}},l6=Cw,c6=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.innerProps;return Ut("div",Vt({css:u("dropdownIndicator",s),className:a({indicator:!0,"dropdown-indicator":!0},o)},m),c||Ut(Tw,null))},u6=Cw,d6=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.innerProps;return Ut("div",Vt({css:u("clearIndicator",s),className:a({indicator:!0,"clear-indicator":!0},o)},m),c||Ut(fp,null))},h6=function(s){var c=s.isDisabled,o=s.theme,a=o.spacing.baseUnit,u=o.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:c?u.neutral10:u.neutral20,marginBottom:a*2,marginTop:a*2,width:1}},p6=function(s){var c=s.className,o=s.cx,a=s.getStyles,u=s.innerProps;return Ut("span",Vt({},u,{css:a("indicatorSeparator",s),className:o({"indicator-separator":!0},c)}))},f6=vI(Sw||(Sw=SI([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),m6=function(s){var c=s.isFocused,o=s.size,a=s.theme,u=a.colors,m=a.spacing.baseUnit;return{label:"loadingIndicator",color:c?u.neutral60:u.neutral20,display:"flex",padding:m*2,transition:"color 150ms",alignSelf:"center",fontSize:o,lineHeight:1,marginRight:o,textAlign:"center",verticalAlign:"middle"}},mp=function(s){var c=s.delay,o=s.offset;return Ut("span",{css:lp({animation:"".concat(f6," 1s ease-in-out ").concat(c,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:o?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},kw=function(s){var c=s.className,o=s.cx,a=s.getStyles,u=s.innerProps,m=s.isRtl;return Ut("div",Vt({css:a("loadingIndicator",s),className:o({indicator:!0,"loading-indicator":!0},c)},u),Ut(mp,{delay:0,offset:m}),Ut(mp,{delay:160,offset:!0}),Ut(mp,{delay:320,offset:!m}))};kw.defaultProps={size:4};var g6=function(s){var c=s.isDisabled,o=s.isFocused,a=s.theme,u=a.colors,m=a.borderRadius,v=a.spacing;return{label:"control",alignItems:"center",backgroundColor:c?u.neutral5:u.neutral0,borderColor:c?u.neutral10:o?u.primary:u.neutral20,borderRadius:m,borderStyle:"solid",borderWidth:1,boxShadow:o?"0 0 0 1px ".concat(u.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:v.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:o?u.primary:u.neutral30}}},v6=function(s){var c=s.children,o=s.cx,a=s.getStyles,u=s.className,m=s.isDisabled,v=s.isFocused,b=s.innerRef,w=s.innerProps,x=s.menuIsOpen;return Ut("div",Vt({ref:b,css:a("control",s),className:o({control:!0,"control--is-disabled":m,"control--is-focused":v,"control--menu-is-open":x},u)},w),c)},y6=function(s){var c=s.theme.spacing;return{paddingBottom:c.baseUnit*2,paddingTop:c.baseUnit*2}},b6=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.Heading,v=s.headingProps,b=s.innerProps,w=s.label,x=s.theme,E=s.selectProps;return Ut("div",Vt({css:u("group",s),className:a({group:!0},o)},b),Ut(m,Vt({},v,{selectProps:E,theme:x,getStyles:u,cx:a}),w),Ut("div",null,c))},w6=function(s){var c=s.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:c.baseUnit*3,paddingRight:c.baseUnit*3,textTransform:"uppercase"}},x6=function(s){var c=s.getStyles,o=s.cx,a=s.className,u=pw(s);u.data;var m=Fs(u,["data"]);return Ut("div",Vt({css:c("groupHeading",s),className:o({"group-heading":!0},a)},m))},S6=function(s){var c=s.isDisabled,o=s.theme,a=o.spacing,u=o.colors;return{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,visibility:c?"hidden":"visible",color:u.neutral80}},E6=function(s){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:s?0:1,outline:0,padding:0,color:"inherit"}},T6=function(s){var c=s.className,o=s.cx,a=s.getStyles,u=pw(s),m=u.innerRef,v=u.isDisabled,b=u.isHidden,w=Fs(u,["innerRef","isDisabled","isHidden"]);return Ut("div",{css:a("input",s)},Ut(OI,Vt({className:o({input:!0},c),inputRef:m,inputStyle:E6(b),disabled:v},w)))},C6=function(s){var c=s.theme,o=c.spacing,a=c.borderRadius,u=c.colors;return{label:"multiValue",backgroundColor:u.neutral10,borderRadius:a/2,display:"flex",margin:o.baseUnit/2,minWidth:0}},k6=function(s){var c=s.theme,o=c.borderRadius,a=c.colors,u=s.cropWithEllipsis;return{borderRadius:o/2,color:a.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:u?"ellipsis":null,whiteSpace:"nowrap"}},P6=function(s){var c=s.theme,o=c.spacing,a=c.borderRadius,u=c.colors,m=s.isFocused;return{alignItems:"center",borderRadius:a/2,backgroundColor:m&&u.dangerLight,display:"flex",paddingLeft:o.baseUnit,paddingRight:o.baseUnit,":hover":{backgroundColor:u.dangerLight,color:u.danger}}},Pw=function(s){var c=s.children,o=s.innerProps;return Ut("div",o,c)},_6=Pw,R6=Pw;function O6(s){var c=s.children,o=s.innerProps;return Ut("div",o,c||Ut(fp,{size:14}))}var _w=function(s){var c=s.children,o=s.className,a=s.components,u=s.cx,m=s.data,v=s.getStyles,b=s.innerProps,w=s.isDisabled,x=s.removeProps,E=s.selectProps,O=a.Container,A=a.Label,B=a.Remove;return Ut(xI,null,function(X){var le=X.css,re=X.cx;return Ut(O,{data:m,innerProps:ci({className:re(le(v("multiValue",s)),u({"multi-value":!0,"multi-value--is-disabled":w},o))},b),selectProps:E},Ut(A,{data:m,innerProps:{className:re(le(v("multiValueLabel",s)),u({"multi-value__label":!0},o))},selectProps:E},c),Ut(B,{data:m,innerProps:ci({className:re(le(v("multiValueRemove",s)),u({"multi-value__remove":!0},o))},x),selectProps:E}))})};_w.defaultProps={cropWithEllipsis:!0};var D6=function(s){var c=s.isDisabled,o=s.isFocused,a=s.isSelected,u=s.theme,m=u.spacing,v=u.colors;return{label:"option",backgroundColor:a?v.primary:o?v.primary25:"transparent",color:c?v.neutral20:a?v.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(m.baseUnit*2,"px ").concat(m.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!c&&(a?v.primary:v.primary50)}}},A6=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.isDisabled,v=s.isFocused,b=s.isSelected,w=s.innerRef,x=s.innerProps;return Ut("div",Vt({css:u("option",s),className:a({option:!0,"option--is-disabled":m,"option--is-focused":v,"option--is-selected":b},o),ref:w},x),c)},I6=function(s){var c=s.theme,o=c.spacing,a=c.colors;return{label:"placeholder",color:a.neutral50,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},M6=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.innerProps;return Ut("div",Vt({css:u("placeholder",s),className:a({placeholder:!0},o)},m),c)},z6=function(s){var c=s.isDisabled,o=s.theme,a=o.spacing,u=o.colors;return{label:"singleValue",color:c?u.neutral40:u.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2,maxWidth:"calc(100% - ".concat(a.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},L6=function(s){var c=s.children,o=s.className,a=s.cx,u=s.getStyles,m=s.isDisabled,v=s.innerProps;return Ut("div",Vt({css:u("singleValue",s),className:a({"single-value":!0,"single-value--is-disabled":m},o)},v),c)},F6={ClearIndicator:d6,Control:v6,DropdownIndicator:c6,DownChevron:Tw,CrossIcon:fp,Group:b6,GroupHeading:x6,IndicatorsContainer:s6,IndicatorSeparator:p6,Input:T6,LoadingIndicator:kw,Menu:YI,MenuList:ZI,MenuPortal:e6,LoadingMessage:xw,NoOptionsMessage:ww,MultiValue:_w,MultiValueContainer:_6,MultiValueLabel:R6,MultiValueRemove:O6,Option:A6,Placeholder:M6,SelectContainer:n6,SingleValue:L6,ValueContainer:r6},j6=function(s){return ci(ci({},F6),s.components)};function gp(s,c){(c==null||c>s.length)&&(c=s.length);for(var o=0,a=new Array(c);o<c;o++)a[o]=s[o];return a}function N6(s){if(Array.isArray(s))return gp(s)}function H6(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function B6(s,c){if(s){if(typeof s=="string")return gp(s,c);var o=Object.prototype.toString.call(s).slice(8,-1);if(o==="Object"&&s.constructor&&(o=s.constructor.name),o==="Map"||o==="Set")return Array.from(s);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return gp(s,c)}}function V6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rw(s){return N6(s)||H6(s)||B6(s)||V6()}var Ow=Number.isNaN||function(s){return typeof s=="number"&&s!==s};function U6(s,c){return!!(s===c||Ow(s)&&Ow(c))}function W6(s,c){if(s.length!==c.length)return!1;for(var o=0;o<s.length;o++)if(!U6(s[o],c[o]))return!1;return!0}function G6(s,c){c===void 0&&(c=W6);var o,a=[],u,m=!1;function v(){for(var b=[],w=0;w<arguments.length;w++)b[w]=arguments[w];return m&&o===this&&c(b,a)||(u=s.apply(this,b),m=!0,o=this,a=b),u}return v}for(var q6={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},X6=function(s){return Ut("span",Vt({css:q6},s))},Y6={guidance:function(s){var c=s.isSearchable,o=s.isMulti,a=s.isDisabled,u=s.tabSelectsValue,m=s.context;switch(m){case"menu":return"Use Up and Down to choose options".concat(a?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(u?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(s["aria-label"]||"Select"," is focused ").concat(c?",type to refine list":"",", press Down to open the menu, ").concat(o?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(s){var c=s.action,o=s.label,a=o===void 0?"":o,u=s.isDisabled;switch(c){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"select-option":return u?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(s){var c=s.context,o=s.focused,a=o===void 0?{}:o,u=s.options,m=s.label,v=m===void 0?"":m,b=s.selectValue,w=s.isDisabled,x=s.isSelected,E=function(B,X){return B&&B.length?"".concat(B.indexOf(X)+1," of ").concat(B.length):""};if(c==="value"&&b)return"value ".concat(v," focused, ").concat(E(b,a),".");if(c==="menu"){var O=w?" disabled":"",A="".concat(x?"selected":"focused").concat(O);return"option ".concat(v," ").concat(A,", ").concat(E(u,a),".")}return""},onFilter:function(s){var c=s.inputValue,o=s.resultsMessage;return"".concat(o).concat(c?" for search term "+c:"",".")}},K6=function(s){var c=s.ariaSelection,o=s.focusedOption,a=s.focusedValue,u=s.focusableOptions,m=s.isFocused,v=s.selectValue,b=s.selectProps,w=b.ariaLiveMessages,x=b.getOptionLabel,E=b.inputValue,O=b.isMulti,A=b.isOptionDisabled,B=b.isSearchable,X=b.menuIsOpen,le=b.options,re=b.screenReaderStatus,he=b.tabSelectsValue,z=b["aria-label"],ae=b["aria-live"],we=Lt(function(){return ci(ci({},Y6),w||{})},[w]),ye=Lt(function(){var dt="";if(c&&we.onChange){var mt=c.option,ht=c.removedValue,Rt=c.value,Pt=function(Zt){return Array.isArray(Zt)?null:Zt},qt=ht||mt||Pt(Rt),Gt=ci({isDisabled:qt&&A(qt),label:qt?x(qt):""},c);dt=we.onChange(Gt)}return dt},[c,A,x,we]),Ce=Lt(function(){var dt="",mt=o||a,ht=!!(o&&v&&v.includes(o));if(mt&&we.onFocus){var Rt={focused:mt,label:x(mt),isDisabled:A(mt),isSelected:ht,options:le,context:mt===o?"menu":"value",selectValue:v};dt=we.onFocus(Rt)}return dt},[o,a,x,A,we,le,v]),Pe=Lt(function(){var dt="";if(X&&le.length&&we.onFilter){var mt=re({count:u.length});dt=we.onFilter({inputValue:E,resultsMessage:mt})}return dt},[u,E,X,we,le,re]),Xe=Lt(function(){var dt="";if(we.guidance){var mt=a?"value":X?"menu":"input";dt=we.guidance({"aria-label":z,context:mt,isDisabled:o&&A(o),isMulti:O,isSearchable:B,tabSelectsValue:he})}return dt},[z,o,a,O,A,B,X,we,he]),Je="".concat(Ce," ").concat(Pe," ").concat(Xe);return Ut(X6,{"aria-live":ae,"aria-atomic":"false","aria-relevant":"additions text"},m&&Ut(Fe.Fragment,null,Ut("span",{id:"aria-selection"},ye),Ut("span",{id:"aria-context"},Je)))},vp=[{base:"A",letters:"Aâ’¶ï¼¡Ã€ÃÃ‚áº¦áº¤áºªáº¨ÃƒÄ€Ä‚áº°áº®áº´áº²È¦Ç Ã„Çžáº¢Ã…ÇºÇÈ€È‚áº áº¬áº¶á¸€Ä„Èºâ±¯"},{base:"AA",letters:"êœ²"},{base:"AE",letters:"Ã†Ç¼Ç¢"},{base:"AO",letters:"êœ´"},{base:"AU",letters:"êœ¶"},{base:"AV",letters:"êœ¸êœº"},{base:"AY",letters:"êœ¼"},{base:"B",letters:"Bâ’·ï¼¢á¸‚á¸„á¸†ÉƒÆ‚Æ"},{base:"C",letters:"Câ’¸ï¼£Ä†ÄˆÄŠÄŒÃ‡á¸ˆÆ‡È»êœ¾"},{base:"D",letters:"Dâ’¹ï¼¤á¸ŠÄŽá¸Œá¸á¸’á¸ŽÄÆ‹ÆŠÆ‰ê¹"},{base:"DZ",letters:"Ç±Ç„"},{base:"Dz",letters:"Ç²Ç…"},{base:"E",letters:"Eâ’ºï¼¥ÃˆÃ‰ÃŠá»€áº¾á»„á»‚áº¼Ä’á¸”á¸–Ä”Ä–Ã‹áººÄšÈ„È†áº¸á»†È¨á¸œÄ˜á¸˜á¸šÆÆŽ"},{base:"F",letters:"Fâ’»ï¼¦á¸žÆ‘ê»"},{base:"G",letters:"Gâ’¼ï¼§Ç´Äœá¸ ÄžÄ Ç¦Ä¢Ç¤Æ“êž ê½ê¾"},{base:"H",letters:"Hâ’½ï¼¨Ä¤á¸¢á¸¦Èžá¸¤á¸¨á¸ªÄ¦â±§â±µêž"},{base:"I",letters:"Iâ’¾ï¼©ÃŒÃÃŽÄ¨ÄªÄ¬Ä°Ãá¸®á»ˆÇÈˆÈŠá»ŠÄ®á¸¬Æ—"},{base:"J",letters:"Jâ’¿ï¼ªÄ´Éˆ"},{base:"K",letters:"Kâ“€ï¼«á¸°Ç¨á¸²Ä¶á¸´Æ˜â±©ê€ê‚ê„êž¢"},{base:"L",letters:"Lâ“ï¼¬Ä¿Ä¹Ä½á¸¶á¸¸Ä»á¸¼á¸ºÅÈ½â±¢â± êˆê†êž€"},{base:"LJ",letters:"Ç‡"},{base:"Lj",letters:"Çˆ"},{base:"M",letters:"Mâ“‚ï¼­á¸¾á¹€á¹‚â±®Æœ"},{base:"N",letters:"Nâ“ƒï¼®Ç¸ÅƒÃ‘á¹„Å‡á¹†Å…á¹Šá¹ˆÈ Æêžêž¤"},{base:"NJ",letters:"ÇŠ"},{base:"Nj",letters:"Ç‹"},{base:"O",letters:"Oâ“„ï¼¯Ã’Ã“Ã”á»’á»á»–á»”Ã•á¹ŒÈ¬á¹ŽÅŒá¹á¹’ÅŽÈ®È°Ã–Èªá»ŽÅÇ‘ÈŒÈŽÆ á»œá»šá» á»žá»¢á»Œá»˜ÇªÇ¬Ã˜Ç¾Æ†ÆŸêŠêŒ"},{base:"OI",letters:"Æ¢"},{base:"OO",letters:"êŽ"},{base:"OU",letters:"È¢"},{base:"P",letters:"Pâ“…ï¼°á¹”á¹–Æ¤â±£êê’ê”"},{base:"Q",letters:"Qâ“†ï¼±ê–ê˜ÉŠ"},{base:"R",letters:"Râ“‡ï¼²Å”á¹˜Å˜ÈÈ’á¹šá¹œÅ–á¹žÉŒâ±¤êšêž¦êž‚"},{base:"S",letters:"Sâ“ˆï¼³áºžÅšá¹¤Åœá¹ Å á¹¦á¹¢á¹¨È˜Åžâ±¾êž¨êž„"},{base:"T",letters:"Tâ“‰ï¼´á¹ªÅ¤á¹¬ÈšÅ¢á¹°á¹®Å¦Æ¬Æ®È¾êž†"},{base:"TZ",letters:"êœ¨"},{base:"U",letters:"Uâ“Šï¼µÃ™ÃšÃ›Å¨á¹¸Åªá¹ºÅ¬ÃœÇ›Ç—Ç•Ç™á»¦Å®Å°Ç“È”È–Æ¯á»ªá»¨á»®á»¬á»°á»¤á¹²Å²á¹¶á¹´É„"},{base:"V",letters:"Vâ“‹ï¼¶á¹¼á¹¾Æ²êžÉ…"},{base:"VY",letters:"ê "},{base:"W",letters:"Wâ“Œï¼·áº€áº‚Å´áº†áº„áºˆâ±²"},{base:"X",letters:"Xâ“ï¼¸áºŠáºŒ"},{base:"Y",letters:"Yâ“Žï¼¹á»²ÃÅ¶á»¸È²áºŽÅ¸á»¶á»´Æ³ÉŽá»¾"},{base:"Z",letters:"Zâ“ï¼ºÅ¹áºÅ»Å½áº’áº”ÆµÈ¤â±¿â±«ê¢"},{base:"a",letters:"aâ“ï½áºšÃ Ã¡Ã¢áº§áº¥áº«áº©Ã£ÄÄƒáº±áº¯áºµáº³È§Ç¡Ã¤ÇŸáº£Ã¥Ç»ÇŽÈÈƒáº¡áº­áº·á¸Ä…â±¥É"},{base:"aa",letters:"êœ³"},{base:"ae",letters:"Ã¦Ç½Ç£"},{base:"ao",letters:"êœµ"},{base:"au",letters:"êœ·"},{base:"av",letters:"êœ¹êœ»"},{base:"ay",letters:"êœ½"},{base:"b",letters:"bâ“‘ï½‚á¸ƒá¸…á¸‡Æ€ÆƒÉ“"},{base:"c",letters:"câ“’ï½ƒÄ‡Ä‰Ä‹ÄÃ§á¸‰ÆˆÈ¼êœ¿â†„"},{base:"d",letters:"dâ““ï½„á¸‹Äá¸á¸‘á¸“á¸Ä‘ÆŒÉ–É—êº"},{base:"dz",letters:"Ç³Ç†"},{base:"e",letters:"eâ“”ï½…Ã¨Ã©Ãªá»áº¿á»…á»ƒáº½Ä“á¸•á¸—Ä•Ä—Ã«áº»Ä›È…È‡áº¹á»‡È©á¸Ä™á¸™á¸›É‡É›Ç"},{base:"f",letters:"fâ“•ï½†á¸ŸÆ’ê¼"},{base:"g",letters:"gâ“–ï½‡ÇµÄá¸¡ÄŸÄ¡Ç§Ä£Ç¥É êž¡áµ¹ê¿"},{base:"h",letters:"hâ“—ï½ˆÄ¥á¸£á¸§ÈŸá¸¥á¸©á¸«áº–Ä§â±¨â±¶É¥"},{base:"hv",letters:"Æ•"},{base:"i",letters:"iâ“˜ï½‰Ã¬Ã­Ã®Ä©Ä«Ä­Ã¯á¸¯á»‰ÇÈ‰È‹á»‹Ä¯á¸­É¨Ä±"},{base:"j",letters:"jâ“™ï½ŠÄµÇ°É‰"},{base:"k",letters:"kâ“šï½‹á¸±Ç©á¸³Ä·á¸µÆ™â±ªêêƒê…êž£"},{base:"l",letters:"lâ“›ï½ŒÅ€ÄºÄ¾á¸·á¸¹Ä¼á¸½á¸»Å¿Å‚ÆšÉ«â±¡ê‰êžê‡"},{base:"lj",letters:"Ç‰"},{base:"m",letters:"mâ“œï½á¸¿á¹á¹ƒÉ±É¯"},{base:"n",letters:"nâ“ï½ŽÇ¹Å„Ã±á¹…Åˆá¹‡Å†á¹‹á¹‰ÆžÉ²Å‰êž‘êž¥"},{base:"nj",letters:"ÇŒ"},{base:"o",letters:"oâ“žï½Ã²Ã³Ã´á»“á»‘á»—á»•Ãµá¹È­á¹Åá¹‘á¹“ÅÈ¯È±Ã¶È«á»Å‘Ç’ÈÈÆ¡á»á»›á»¡á»Ÿá»£á»á»™Ç«Ç­Ã¸Ç¿É”ê‹êÉµ"},{base:"oi",letters:"Æ£"},{base:"ou",letters:"È£"},{base:"oo",letters:"ê"},{base:"p",letters:"pâ“Ÿï½á¹•á¹—Æ¥áµ½ê‘ê“ê•"},{base:"q",letters:"qâ“ ï½‘É‹ê—ê™"},{base:"r",letters:"râ“¡ï½’Å•á¹™Å™È‘È“á¹›á¹Å—á¹ŸÉÉ½ê›êž§êžƒ"},{base:"s",letters:"sâ“¢ï½“ÃŸÅ›á¹¥Åá¹¡Å¡á¹§á¹£á¹©È™ÅŸÈ¿êž©êž…áº›"},{base:"t",letters:"tâ“£ï½”á¹«áº—Å¥á¹­È›Å£á¹±á¹¯Å§Æ­Êˆâ±¦êž‡"},{base:"tz",letters:"êœ©"},{base:"u",letters:"uâ“¤ï½•Ã¹ÃºÃ»Å©á¹¹Å«á¹»Å­Ã¼ÇœÇ˜Ç–Çšá»§Å¯Å±Ç”È•È—Æ°á»«á»©á»¯á»­á»±á»¥á¹³Å³á¹·á¹µÊ‰"},{base:"v",letters:"vâ“¥ï½–á¹½á¹¿Ê‹êŸÊŒ"},{base:"vy",letters:"ê¡"},{base:"w",letters:"wâ“¦ï½—áºáºƒÅµáº‡áº…áº˜áº‰â±³"},{base:"x",letters:"xâ“§ï½˜áº‹áº"},{base:"y",letters:"yâ“¨ï½™á»³Ã½Å·á»¹È³áºÃ¿á»·áº™á»µÆ´Éá»¿"},{base:"z",letters:"zâ“©ï½šÅºáº‘Å¼Å¾áº“áº•Æ¶È¥É€â±¬ê£"}],Z6=new RegExp("["+vp.map(function(s){return s.letters}).join("")+"]","g"),Dw={},yp=0;yp<vp.length;yp++)for(var bp=vp[yp],wp=0;wp<bp.letters.length;wp++)Dw[bp.letters[wp]]=bp.base;var Aw=function(s){return s.replace(Z6,function(c){return Dw[c]})},J6=G6(Aw),Iw=function(s){return s.replace(/^\s+|\s+$/g,"")},$6=function(s){return"".concat(s.label," ").concat(s.value)},Q6=function(s){return function(c,o){var a=ci({ignoreCase:!0,ignoreAccents:!0,stringify:$6,trim:!0,matchFrom:"any"},s),u=a.ignoreCase,m=a.ignoreAccents,v=a.stringify,b=a.trim,w=a.matchFrom,x=b?Iw(o):o,E=b?Iw(v(c)):v(c);return u&&(x=x.toLowerCase(),E=E.toLowerCase()),m&&(x=J6(x),E=Aw(E)),w==="start"?E.substr(0,x.length)===x:E.indexOf(x)>-1}};function eM(s){s.in,s.out,s.onExited,s.appear,s.enter,s.exit;var c=s.innerRef;s.emotion;var o=Fs(s,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return Ut("input",Vt({ref:c},o,{css:lp({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var tM=function(s){s.preventDefault(),s.stopPropagation()};function nM(s){var c=s.isEnabled,o=s.onBottomArrive,a=s.onBottomLeave,u=s.onTopArrive,m=s.onTopLeave,v=Et(!1),b=Et(!1),w=Et(0),x=Et(null),E=me(function(re,he){if(x.current!==null){var z=x.current,ae=z.scrollTop,we=z.scrollHeight,ye=z.clientHeight,Ce=x.current,Pe=he>0,Xe=we-ye-ae,Je=!1;Xe>he&&v.current&&(a&&a(re),v.current=!1),Pe&&b.current&&(m&&m(re),b.current=!1),Pe&&he>Xe?(o&&!v.current&&o(re),Ce.scrollTop=we,Je=!0,v.current=!0):!Pe&&-he>ae&&(u&&!b.current&&u(re),Ce.scrollTop=0,Je=!0,b.current=!0),Je&&tM(re)}},[]),O=me(function(re){E(re,re.deltaY)},[E]),A=me(function(re){w.current=re.changedTouches[0].clientY},[]),B=me(function(re){var he=w.current-re.changedTouches[0].clientY;E(re,he)},[E]),X=me(function(re){if(re){var he=WI?{passive:!1}:!1;typeof re.addEventListener=="function"&&re.addEventListener("wheel",O,he),typeof re.addEventListener=="function"&&re.addEventListener("touchstart",A,he),typeof re.addEventListener=="function"&&re.addEventListener("touchmove",B,he)}},[B,A,O]),le=me(function(re){!re||(typeof re.removeEventListener=="function"&&re.removeEventListener("wheel",O,!1),typeof re.removeEventListener=="function"&&re.removeEventListener("touchstart",A,!1),typeof re.removeEventListener=="function"&&re.removeEventListener("touchmove",B,!1))},[B,A,O]);return $e(function(){if(c){var re=x.current;return X(re),function(){le(re)}}},[c,X,le]),function(re){x.current=re}}var Mw=["boxSizing","height","overflow","paddingRight","position"],zw={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Lw(s){s.preventDefault()}function Fw(s){s.stopPropagation()}function jw(){var s=this.scrollTop,c=this.scrollHeight,o=s+this.offsetHeight;s===0?this.scrollTop=1:o===c&&(this.scrollTop=s-1)}function Nw(){return"ontouchstart"in window||navigator.maxTouchPoints}var Hw=!!(typeof window<"u"&&window.document&&window.document.createElement),$a=0,Ns={capture:!1,passive:!1};function iM(s){var c=s.isEnabled,o=s.accountForScrollbars,a=o===void 0?!0:o,u=Et({}),m=Et(null),v=me(function(w){if(Hw){var x=document.body,E=x&&x.style;if(a&&Mw.forEach(function(X){var le=E&&E[X];u.current[X]=le}),a&&$a<1){var O=parseInt(u.current.paddingRight,10)||0,A=document.body?document.body.clientWidth:0,B=window.innerWidth-A+O||0;Object.keys(zw).forEach(function(X){var le=zw[X];E&&(E[X]=le)}),E&&(E.paddingRight="".concat(B,"px"))}x&&Nw()&&(x.addEventListener("touchmove",Lw,Ns),w&&(w.addEventListener("touchstart",jw,Ns),w.addEventListener("touchmove",Fw,Ns))),$a+=1}},[]),b=me(function(w){if(Hw){var x=document.body,E=x&&x.style;$a=Math.max($a-1,0),a&&$a<1&&Mw.forEach(function(O){var A=u.current[O];E&&(E[O]=A)}),x&&Nw()&&(x.removeEventListener("touchmove",Lw,Ns),w&&(w.removeEventListener("touchstart",jw,Ns),w.removeEventListener("touchmove",Fw,Ns)))}},[]);return $e(function(){if(c){var w=m.current;return v(w),function(){b(w)}}},[c,v,b]),function(w){m.current=w}}var rM=function(){return document.activeElement&&document.activeElement.blur()},oM={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function sM(s){var c=s.children,o=s.lockEnabled,a=s.captureEnabled,u=a===void 0?!0:a,m=s.onBottomArrive,v=s.onBottomLeave,b=s.onTopArrive,w=s.onTopLeave,x=nM({isEnabled:u,onBottomArrive:m,onBottomLeave:v,onTopArrive:b,onTopLeave:w}),E=iM({isEnabled:o}),O=function(A){x(A),E(A)};return Ut(Fe.Fragment,null,o&&Ut("div",{onClick:rM,css:oM}),c(O))}var aM=function(s){return s.label},lM=function(s){return s.label},cM=function(s){return s.value},uM=function(s){return!!s.isDisabled},dM={clearIndicator:u6,container:t6,control:g6,dropdownIndicator:l6,group:y6,groupHeading:w6,indicatorsContainer:o6,indicatorSeparator:h6,input:S6,loadingIndicator:m6,loadingMessage:$I,menu:XI,menuList:KI,menuPortal:QI,multiValue:C6,multiValueLabel:k6,multiValueRemove:P6,noOptionsMessage:JI,option:D6,placeholder:I6,singleValue:z6,valueContainer:i6},hM={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},pM=4,Bw=4,fM=38,mM=Bw*2,gM={baseUnit:Bw,controlHeight:fM,menuGutter:mM},xp={borderRadius:pM,colors:hM,spacing:gM},vM={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:mw(),captureMenuScroll:!mw(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Q6(),formatGroupLabel:aM,getOptionLabel:lM,getOptionValue:cM,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:uM,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!VI(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(s){var c=s.count;return"".concat(c," result").concat(c!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function Vw(s,c,o,a){var u=Xw(s,c,o),m=Yw(s,c,o),v=qw(s,c),b=au(s,c);return{type:"option",data:c,isDisabled:u,isSelected:m,label:v,value:b,index:a}}function Uw(s,c){return s.options.map(function(o,a){if(o.options){var u=o.options.map(function(v,b){return Vw(s,v,c,b)}).filter(function(v){return Gw(s,v)});return u.length>0?{type:"group",data:o,options:u,index:a}:void 0}var m=Vw(s,o,c,a);return Gw(s,m)?m:void 0}).filter(function(o){return!!o})}function Ww(s){return s.reduce(function(c,o){return o.type==="group"?c.push.apply(c,Rw(o.options.map(function(a){return a.data}))):c.push(o.data),c},[])}function yM(s,c){return Ww(Uw(s,c))}function Gw(s,c){var o=s.inputValue,a=o===void 0?"":o,u=c.data,m=c.isSelected,v=c.label,b=c.value;return(!Zw(s)||!m)&&Kw(s,{label:v,value:b,data:u},a)}function bM(s,c){var o=s.focusedValue,a=s.selectValue,u=a.indexOf(o);if(u>-1){var m=c.indexOf(o);if(m>-1)return o;if(u<c.length)return c[u]}return null}function wM(s,c){var o=s.focusedOption;return o&&c.indexOf(o)>-1?o:c[0]}var qw=function(s,c){return s.getOptionLabel(c)},au=function(s,c){return s.getOptionValue(c)};function Xw(s,c,o){return typeof s.isOptionDisabled=="function"?s.isOptionDisabled(c,o):!1}function Yw(s,c,o){if(o.indexOf(c)>-1)return!0;if(typeof s.isOptionSelected=="function")return s.isOptionSelected(c,o);var a=au(s,c);return o.some(function(u){return au(s,u)===a})}function Kw(s,c,o){return s.filterOption?s.filterOption(c,o):!0}var Zw=function(s){var c=s.hideSelectedOptions,o=s.isMulti;return c===void 0?o:c},xM=1,Jw=function(s){eu(o,s);var c=nu(o);function o(a){var u;return Jc(this,o),u=c.call(this,a),u.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},u.blockOptionHover=!1,u.isComposing=!1,u.commonProps=void 0,u.initialTouchX=0,u.initialTouchY=0,u.instancePrefix="",u.openAfterFocus=!1,u.scrollToFocusedOptionOnUpdate=!1,u.userIsDragging=void 0,u.controlRef=null,u.getControlRef=function(m){u.controlRef=m},u.focusedOptionRef=null,u.getFocusedOptionRef=function(m){u.focusedOptionRef=m},u.menuListRef=null,u.getMenuListRef=function(m){u.menuListRef=m},u.inputRef=null,u.getInputRef=function(m){u.inputRef=m},u.focus=u.focusInput,u.blur=u.blurInput,u.onChange=function(m,v){var b=u.props,w=b.onChange,x=b.name;v.name=x,u.ariaOnChange(m,v),w(m,v)},u.setValue=function(m){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",b=arguments.length>2?arguments[2]:void 0,w=u.props,x=w.closeMenuOnSelect,E=w.isMulti;u.onInputChange("",{action:"set-value"}),x&&(u.setState({inputIsHiddenAfterUpdate:!E}),u.onMenuClose()),u.setState({clearFocusValueOnUpdate:!0}),u.onChange(m,{action:v,option:b})},u.selectOption=function(m){var v=u.props,b=v.blurInputOnSelect,w=v.isMulti,x=v.name,E=u.state.selectValue,O=w&&u.isOptionSelected(m,E),A=u.isOptionDisabled(m,E);if(O){var B=u.getOptionValue(m);u.setValue(E.filter(function(X){return u.getOptionValue(X)!==B}),"deselect-option",m)}else if(!A)w?u.setValue([].concat(Rw(E),[m]),"select-option",m):u.setValue(m,"select-option");else{u.ariaOnChange(m,{action:"select-option",name:x});return}b&&u.blurInput()},u.removeValue=function(m){var v=u.props.isMulti,b=u.state.selectValue,w=u.getOptionValue(m),x=b.filter(function(O){return u.getOptionValue(O)!==w}),E=v?x:x[0]||null;u.onChange(E,{action:"remove-value",removedValue:m}),u.focusInput()},u.clearValue=function(){var m=u.state.selectValue;u.onChange(u.props.isMulti?[]:null,{action:"clear",removedValues:m})},u.popValue=function(){var m=u.props.isMulti,v=u.state.selectValue,b=v[v.length-1],w=v.slice(0,v.length-1),x=m?w:w[0]||null;u.onChange(x,{action:"pop-value",removedValue:b})},u.getValue=function(){return u.state.selectValue},u.cx=function(){for(var m=arguments.length,v=new Array(m),b=0;b<m;b++)v[b]=arguments[b];return FI.apply(void 0,[u.props.classNamePrefix].concat(v))},u.getOptionLabel=function(m){return qw(u.props,m)},u.getOptionValue=function(m){return au(u.props,m)},u.getStyles=function(m,v){var b=dM[m](v);b.boxSizing="border-box";var w=u.props.styles[m];return w?w(b,v):b},u.getElementId=function(m){return"".concat(u.instancePrefix,"-").concat(m)},u.getComponents=function(){return j6(u.props)},u.buildCategorizedOptions=function(){return Uw(u.props,u.state.selectValue)},u.getCategorizedOptions=function(){return u.props.menuIsOpen?u.buildCategorizedOptions():[]},u.buildFocusableOptions=function(){return Ww(u.buildCategorizedOptions())},u.getFocusableOptions=function(){return u.props.menuIsOpen?u.buildFocusableOptions():[]},u.ariaOnChange=function(m,v){u.setState({ariaSelection:ci({value:m},v)})},u.onMenuMouseDown=function(m){m.button===0&&(m.stopPropagation(),m.preventDefault(),u.focusInput())},u.onMenuMouseMove=function(m){u.blockOptionHover=!1},u.onControlMouseDown=function(m){var v=u.props.openMenuOnClick;u.state.isFocused?u.props.menuIsOpen?m.target.tagName!=="INPUT"&&m.target.tagName!=="TEXTAREA"&&u.onMenuClose():v&&u.openMenu("first"):(v&&(u.openAfterFocus=!0),u.focusInput()),m.target.tagName!=="INPUT"&&m.target.tagName!=="TEXTAREA"&&m.preventDefault()},u.onDropdownIndicatorMouseDown=function(m){if(!(m&&m.type==="mousedown"&&m.button!==0)&&!u.props.isDisabled){var v=u.props,b=v.isMulti,w=v.menuIsOpen;u.focusInput(),w?(u.setState({inputIsHiddenAfterUpdate:!b}),u.onMenuClose()):u.openMenu("first"),m.preventDefault(),m.stopPropagation()}},u.onClearIndicatorMouseDown=function(m){m&&m.type==="mousedown"&&m.button!==0||(u.clearValue(),m.stopPropagation(),u.openAfterFocus=!1,m.type==="touchend"?u.focusInput():setTimeout(function(){return u.focusInput()}))},u.onScroll=function(m){typeof u.props.closeMenuOnScroll=="boolean"?m.target instanceof HTMLElement&&hp(m.target)&&u.props.onMenuClose():typeof u.props.closeMenuOnScroll=="function"&&u.props.closeMenuOnScroll(m)&&u.props.onMenuClose()},u.onCompositionStart=function(){u.isComposing=!0},u.onCompositionEnd=function(){u.isComposing=!1},u.onTouchStart=function(m){var v=m.touches,b=v&&v.item(0);!b||(u.initialTouchX=b.clientX,u.initialTouchY=b.clientY,u.userIsDragging=!1)},u.onTouchMove=function(m){var v=m.touches,b=v&&v.item(0);if(b){var w=Math.abs(b.clientX-u.initialTouchX),x=Math.abs(b.clientY-u.initialTouchY),E=5;u.userIsDragging=w>E||x>E}},u.onTouchEnd=function(m){u.userIsDragging||(u.controlRef&&!u.controlRef.contains(m.target)&&u.menuListRef&&!u.menuListRef.contains(m.target)&&u.blurInput(),u.initialTouchX=0,u.initialTouchY=0)},u.onControlTouchEnd=function(m){u.userIsDragging||u.onControlMouseDown(m)},u.onClearIndicatorTouchEnd=function(m){u.userIsDragging||u.onClearIndicatorMouseDown(m)},u.onDropdownIndicatorTouchEnd=function(m){u.userIsDragging||u.onDropdownIndicatorMouseDown(m)},u.handleInputChange=function(m){var v=m.currentTarget.value;u.setState({inputIsHiddenAfterUpdate:!1}),u.onInputChange(v,{action:"input-change"}),u.props.menuIsOpen||u.onMenuOpen()},u.onInputFocus=function(m){u.props.onFocus&&u.props.onFocus(m),u.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(u.openAfterFocus||u.props.openMenuOnFocus)&&u.openMenu("first"),u.openAfterFocus=!1},u.onInputBlur=function(m){if(u.menuListRef&&u.menuListRef.contains(document.activeElement)){u.inputRef.focus();return}u.props.onBlur&&u.props.onBlur(m),u.onInputChange("",{action:"input-blur"}),u.onMenuClose(),u.setState({focusedValue:null,isFocused:!1})},u.onOptionHover=function(m){u.blockOptionHover||u.state.focusedOption===m||u.setState({focusedOption:m})},u.shouldHideSelectedOptions=function(){return Zw(u.props)},u.onKeyDown=function(m){var v=u.props,b=v.isMulti,w=v.backspaceRemovesValue,x=v.escapeClearsValue,E=v.inputValue,O=v.isClearable,A=v.isDisabled,B=v.menuIsOpen,X=v.onKeyDown,le=v.tabSelectsValue,re=v.openMenuOnFocus,he=u.state,z=he.focusedOption,ae=he.focusedValue,we=he.selectValue;if(!A&&!(typeof X=="function"&&(X(m),m.defaultPrevented))){switch(u.blockOptionHover=!0,m.key){case"ArrowLeft":if(!b||E)return;u.focusValue("previous");break;case"ArrowRight":if(!b||E)return;u.focusValue("next");break;case"Delete":case"Backspace":if(E)return;if(ae)u.removeValue(ae);else{if(!w)return;b?u.popValue():O&&u.clearValue()}break;case"Tab":if(u.isComposing||m.shiftKey||!B||!le||!z||re&&u.isOptionSelected(z,we))return;u.selectOption(z);break;case"Enter":if(m.keyCode===229)break;if(B){if(!z||u.isComposing)return;u.selectOption(z);break}return;case"Escape":B?(u.setState({inputIsHiddenAfterUpdate:!1}),u.onInputChange("",{action:"menu-close"}),u.onMenuClose()):O&&x&&u.clearValue();break;case" ":if(E)return;if(!B){u.openMenu("first");break}if(!z)return;u.selectOption(z);break;case"ArrowUp":B?u.focusOption("up"):u.openMenu("last");break;case"ArrowDown":B?u.focusOption("down"):u.openMenu("first");break;case"PageUp":if(!B)return;u.focusOption("pageup");break;case"PageDown":if(!B)return;u.focusOption("pagedown");break;case"Home":if(!B)return;u.focusOption("first");break;case"End":if(!B)return;u.focusOption("last");break;default:return}m.preventDefault()}},u.instancePrefix="react-select-"+(u.props.instanceId||++xM),u.state.selectValue=hw(a.value),u}return $c(o,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(a){var u=this.props,m=u.isDisabled,v=u.menuIsOpen,b=this.state.isFocused;(b&&!m&&a.isDisabled||b&&v&&!a.menuIsOpen)&&this.focusInput(),b&&m&&!a.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(HI(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,u){this.props.onInputChange(a,u)}},{key:"focusInput",value:function(){!this.inputRef||this.inputRef.focus()}},{key:"blurInput",value:function(){!this.inputRef||this.inputRef.blur()}},{key:"openMenu",value:function(a){var u=this,m=this.state,v=m.selectValue,b=m.isFocused,w=this.buildFocusableOptions(),x=a==="first"?0:w.length-1;if(!this.props.isMulti){var E=w.indexOf(v[0]);E>-1&&(x=E)}this.scrollToFocusedOptionOnUpdate=!(b&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:w[x]},function(){return u.onMenuOpen()})}},{key:"focusValue",value:function(a){var u=this.state,m=u.selectValue,v=u.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var b=m.indexOf(v);v||(b=-1);var w=m.length-1,x=-1;if(m.length){switch(a){case"previous":b===0?x=0:b===-1?x=w:x=b-1;break;case"next":b>-1&&b<w&&(x=b+1);break}this.setState({inputIsHidden:x!==-1,focusedValue:m[x]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",u=this.props.pageSize,m=this.state.focusedOption,v=this.getFocusableOptions();if(v.length){var b=0,w=v.indexOf(m);m||(w=-1),a==="up"?b=w>0?w-1:v.length-1:a==="down"?b=(w+1)%v.length:a==="pageup"?(b=w-u,b<0&&(b=0)):a==="pagedown"?(b=w+u,b>v.length-1&&(b=v.length-1)):a==="last"&&(b=v.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:v[b],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(xp):ci(ci({},xp),this.props.theme):xp}},{key:"getCommonProps",value:function(){var a=this.clearValue,u=this.cx,m=this.getStyles,v=this.getValue,b=this.selectOption,w=this.setValue,x=this.props,E=x.isMulti,O=x.isRtl,A=x.options,B=this.hasValue();return{clearValue:a,cx:u,getStyles:m,getValue:v,hasValue:B,isMulti:E,isRtl:O,options:A,selectOption:b,selectProps:x,setValue:w,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,u=a.isClearable,m=a.isMulti;return u===void 0?m:u}},{key:"isOptionDisabled",value:function(a,u){return Xw(this.props,a,u)}},{key:"isOptionSelected",value:function(a,u){return Yw(this.props,a,u)}},{key:"filterOption",value:function(a,u){return Kw(this.props,a,u)}},{key:"formatOptionLabel",value:function(a,u){if(typeof this.props.formatOptionLabel=="function"){var m=this.props.inputValue,v=this.state.selectValue;return this.props.formatOptionLabel(a,{context:u,inputValue:m,selectValue:v})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,u=a.isDisabled,m=a.isSearchable,v=a.inputId,b=a.inputValue,w=a.tabIndex,x=a.form,E=this.getComponents(),O=E.Input,A=this.state.inputIsHidden,B=this.commonProps,X=v||this.getElementId("input"),le={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return m?Fe.createElement(O,Vt({},B,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:X,innerRef:this.getInputRef,isDisabled:u,isHidden:A,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:w,form:x,type:"text",value:b},le)):Fe.createElement(eM,Vt({id:X,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:iu,onFocus:this.onInputFocus,readOnly:!0,disabled:u,tabIndex:w,form:x,value:""},le))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,u=this.getComponents(),m=u.MultiValue,v=u.MultiValueContainer,b=u.MultiValueLabel,w=u.MultiValueRemove,x=u.SingleValue,E=u.Placeholder,O=this.commonProps,A=this.props,B=A.controlShouldRenderValue,X=A.isDisabled,le=A.isMulti,re=A.inputValue,he=A.placeholder,z=this.state,ae=z.selectValue,we=z.focusedValue,ye=z.isFocused;if(!this.hasValue()||!B)return re?null:Fe.createElement(E,Vt({},O,{key:"placeholder",isDisabled:X,isFocused:ye}),he);if(le){var Ce=ae.map(function(Xe,Je){var dt=Xe===we;return Fe.createElement(m,Vt({},O,{components:{Container:v,Label:b,Remove:w},isFocused:dt,isDisabled:X,key:"".concat(a.getOptionValue(Xe)).concat(Je),index:Je,removeProps:{onClick:function(){return a.removeValue(Xe)},onTouchEnd:function(){return a.removeValue(Xe)},onMouseDown:function(mt){mt.preventDefault(),mt.stopPropagation()}},data:Xe}),a.formatOptionLabel(Xe,"value"))});return Ce}if(re)return null;var Pe=ae[0];return Fe.createElement(x,Vt({},O,{data:Pe,isDisabled:X}),this.formatOptionLabel(Pe,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),u=a.ClearIndicator,m=this.commonProps,v=this.props,b=v.isDisabled,w=v.isLoading,x=this.state.isFocused;if(!this.isClearable()||!u||b||!this.hasValue()||w)return null;var E={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Fe.createElement(u,Vt({},m,{innerProps:E,isFocused:x}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),u=a.LoadingIndicator,m=this.commonProps,v=this.props,b=v.isDisabled,w=v.isLoading,x=this.state.isFocused;if(!u||!w)return null;var E={"aria-hidden":"true"};return Fe.createElement(u,Vt({},m,{innerProps:E,isDisabled:b,isFocused:x}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),u=a.DropdownIndicator,m=a.IndicatorSeparator;if(!u||!m)return null;var v=this.commonProps,b=this.props.isDisabled,w=this.state.isFocused;return Fe.createElement(m,Vt({},v,{isDisabled:b,isFocused:w}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),u=a.DropdownIndicator;if(!u)return null;var m=this.commonProps,v=this.props.isDisabled,b=this.state.isFocused,w={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Fe.createElement(u,Vt({},m,{innerProps:w,isDisabled:v,isFocused:b}))}},{key:"renderMenu",value:function(){var a=this,u=this.getComponents(),m=u.Group,v=u.GroupHeading,b=u.Menu,w=u.MenuList,x=u.MenuPortal,E=u.LoadingMessage,O=u.NoOptionsMessage,A=u.Option,B=this.commonProps,X=this.state.focusedOption,le=this.props,re=le.captureMenuScroll,he=le.inputValue,z=le.isLoading,ae=le.loadingMessage,we=le.minMenuHeight,ye=le.maxMenuHeight,Ce=le.menuIsOpen,Pe=le.menuPlacement,Xe=le.menuPosition,Je=le.menuPortalTarget,dt=le.menuShouldBlockScroll,mt=le.menuShouldScrollIntoView,ht=le.noOptionsMessage,Rt=le.onMenuScrollToTop,Pt=le.onMenuScrollToBottom;if(!Ce)return null;var qt=function(tn,We){var nt=tn.type,ot=tn.data,it=tn.isDisabled,ut=tn.isSelected,Mt=tn.label,yn=tn.value,Ln=X===ot,dn=it?void 0:function(){return a.onOptionHover(ot)},Ji=it?void 0:function(){return a.selectOption(ot)},Oi="".concat(a.getElementId("option"),"-").concat(We),Hi={id:Oi,onClick:Ji,onMouseMove:dn,onMouseOver:dn,tabIndex:-1};return Fe.createElement(A,Vt({},B,{innerProps:Hi,data:ot,isDisabled:it,isSelected:ut,key:Oi,label:Mt,type:nt,value:yn,isFocused:Ln,innerRef:Ln?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(tn.data,"menu"))},Gt;if(this.hasOptions())Gt=this.getCategorizedOptions().map(function(tn){if(tn.type==="group"){var We=tn.data,nt=tn.options,ot=tn.index,it="".concat(a.getElementId("group"),"-").concat(ot),ut="".concat(it,"-heading");return Fe.createElement(m,Vt({},B,{key:it,data:We,options:nt,Heading:v,headingProps:{id:ut,data:tn.data},label:a.formatGroupLabel(tn.data)}),tn.options.map(function(Mt){return qt(Mt,"".concat(ot,"-").concat(Mt.index))}))}else if(tn.type==="option")return qt(tn,"".concat(tn.index))});else if(z){var Zt=ae({inputValue:he});if(Zt===null)return null;Gt=Fe.createElement(E,B,Zt)}else{var hn=ht({inputValue:he});if(hn===null)return null;Gt=Fe.createElement(O,B,hn)}var Tn={minMenuHeight:we,maxMenuHeight:ye,menuPlacement:Pe,menuPosition:Xe,menuShouldScrollIntoView:mt},pt=Fe.createElement(yw,Vt({},B,Tn),function(tn){var We=tn.ref,nt=tn.placerProps,ot=nt.placement,it=nt.maxHeight;return Fe.createElement(b,Vt({},B,Tn,{innerRef:We,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:z,placement:ot}),Fe.createElement(sM,{captureEnabled:re,onTopArrive:Rt,onBottomArrive:Pt,lockEnabled:dt},function(ut){return Fe.createElement(w,Vt({},B,{innerRef:function(Mt){a.getMenuListRef(Mt),ut(Mt)},isLoading:z,maxHeight:it,focusedOption:X}),Gt)}))});return Je||Xe==="fixed"?Fe.createElement(x,Vt({},B,{appendTo:Je,controlElement:this.controlRef,menuPlacement:Pe,menuPosition:Xe}),pt):pt}},{key:"renderFormField",value:function(){var a=this,u=this.props,m=u.delimiter,v=u.isDisabled,b=u.isMulti,w=u.name,x=this.state.selectValue;if(!(!w||v))if(b)if(m){var E=x.map(function(B){return a.getOptionValue(B)}).join(m);return Fe.createElement("input",{name:w,type:"hidden",value:E})}else{var O=x.length>0?x.map(function(B,X){return Fe.createElement("input",{key:"i-".concat(X),name:w,type:"hidden",value:a.getOptionValue(B)})}):Fe.createElement("input",{name:w,type:"hidden"});return Fe.createElement("div",null,O)}else{var A=x[0]?this.getOptionValue(x[0]):"";return Fe.createElement("input",{name:w,type:"hidden",value:A})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,u=this.state,m=u.ariaSelection,v=u.focusedOption,b=u.focusedValue,w=u.isFocused,x=u.selectValue,E=this.getFocusableOptions();return Fe.createElement(K6,Vt({},a,{ariaSelection:m,focusedOption:v,focusedValue:b,isFocused:w,selectValue:x,focusableOptions:E}))}},{key:"render",value:function(){var a=this.getComponents(),u=a.Control,m=a.IndicatorsContainer,v=a.SelectContainer,b=a.ValueContainer,w=this.props,x=w.className,E=w.id,O=w.isDisabled,A=w.menuIsOpen,B=this.state.isFocused,X=this.commonProps=this.getCommonProps();return Fe.createElement(v,Vt({},X,{className:x,innerProps:{id:E,onKeyDown:this.onKeyDown},isDisabled:O,isFocused:B}),this.renderLiveRegion(),Fe.createElement(u,Vt({},X,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:O,isFocused:B,menuIsOpen:A}),Fe.createElement(b,Vt({},X,{isDisabled:O}),this.renderPlaceholderOrValue(),this.renderInput()),Fe.createElement(m,Vt({},X,{isDisabled:O}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,u){var m=u.prevProps,v=u.clearFocusValueOnUpdate,b=u.inputIsHiddenAfterUpdate,w=a.options,x=a.value,E=a.menuIsOpen,O=a.inputValue,A={};if(m&&(x!==m.value||w!==m.options||E!==m.menuIsOpen||O!==m.inputValue)){var B=hw(x),X=E?yM(a,B):[],le=v?bM(u,B):null,re=wM(u,X);A={selectValue:B,focusedOption:re,focusedValue:le,clearFocusValueOnUpdate:!1}}var he=b!=null&&a!==m?{inputIsHidden:b,inputIsHiddenAfterUpdate:void 0}:{};return ci(ci(ci({},A),he),{},{prevProps:a})}}]),o}(K);Jw.defaultProps=vM;var SM={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},EM=function(s){var c,o;return o=c=function(a){eu(m,a);var u=nu(m);function m(){var v;Jc(this,m);for(var b=arguments.length,w=new Array(b),x=0;x<b;x++)w[x]=arguments[x];return v=u.call.apply(u,[this].concat(w)),v.select=void 0,v.state={inputValue:v.props.inputValue!==void 0?v.props.inputValue:v.props.defaultInputValue,menuIsOpen:v.props.menuIsOpen!==void 0?v.props.menuIsOpen:v.props.defaultMenuIsOpen,value:v.props.value!==void 0?v.props.value:v.props.defaultValue},v.onChange=function(E,O){v.callProp("onChange",E,O),v.setState({value:E})},v.onInputChange=function(E,O){var A=v.callProp("onInputChange",E,O);v.setState({inputValue:A!==void 0?A:E})},v.onMenuOpen=function(){v.callProp("onMenuOpen"),v.setState({menuIsOpen:!0})},v.onMenuClose=function(){v.callProp("onMenuClose"),v.setState({menuIsOpen:!1})},v}return $c(m,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(v){return this.props[v]!==void 0?this.props[v]:this.state[v]}},{key:"callProp",value:function(v){if(typeof this.props[v]=="function"){for(var b,w=arguments.length,x=new Array(w>1?w-1:0),E=1;E<w;E++)x[E-1]=arguments[E];return(b=this.props)[v].apply(b,x)}}},{key:"render",value:function(){var v=this,b=this.props;b.defaultInputValue,b.defaultMenuIsOpen,b.defaultValue;var w=Fs(b,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return Fe.createElement(s,Vt({},w,{ref:function(x){v.select=x},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),m}(K),c.defaultProps=SM,o},TM=EM(Jw),CM=TM;const Sp=[{value:"assessing",label:"Assessing"},{value:"bookmarking",label:"Bookmarking"},{value:"classifying",label:"Classifying"},{value:"commenting",label:"Commenting"},{value:"describing",label:"Describing"},{value:"editing",label:"Editing"},{value:"highlighting",label:"Highlighting"},{value:"identifying",label:"Identifying"},{value:"linking",label:"Linking"},{value:"moderating",label:"Moderating"},{value:"questioning",label:"Questioning"},{value:"replying",label:"Replying"},{value:"supplementing",label:"Transcription"}];var $w=s=>{const c=s.content?Sp.find(o=>o.value===s.content):null;return Fe.createElement("div",{className:"r6o-purposedropdown"},Fe.createElement(CM,{value:c,onChange:s.onChange,options:Sp,isDisabled:!s.editable}))};const kM=s=>Fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 940",width:s.width},Fe.createElement("metadata",null,"IcoFont Icons"),Fe.createElement("title",null,"simple-down"),Fe.createElement("glyph",{glyphName:"simple-down",unicode:"îª²",horizAdvX:"1000"}),Fe.createElement("path",{fill:"currentColor",d:"M200 392.6l300 300 300-300-85.10000000000002-85.10000000000002-214.89999999999998 214.79999999999995-214.89999999999998-214.89999999999998-85.10000000000002 85.20000000000005z"})),PM=s=>Fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"180 150 700 800",width:s.width},Fe.createElement("metadata",null,"IcoFont Icons"),Fe.createElement("title",null,"close"),Fe.createElement("glyph",{glyphName:"close",unicode:"î»¤",horizAdvX:"1000"}),Fe.createElement("path",{fill:"currentColor",d:"M709.8 206.6c-64.39999999999998 65.50000000000003-128.89999999999998 131.20000000000002-194.19999999999993 197.6-8.600000000000023 8.699999999999989-22.400000000000034 8.800000000000011-31 0-65-66-129.70000000000005-131.8-194.5-197.6-8.600000000000023-8.699999999999989-22.400000000000034-8.599999999999994-30.900000000000034 0.09999999999999432-15.699999999999989 16.200000000000017-31.099999999999994 32.30000000000001-47.099999999999994 48.80000000000001-8.5 8.800000000000011-8.299999999999983 23 0.20000000000001705 31.69999999999999 63.099999999999966 64.19999999999999 127.89999999999998 130.10000000000002 193.59999999999997 197 8.600000000000023 8.699999999999989 8.5 22.80000000000001 0 31.599999999999966-65.19999999999999 66.40000000000009-130.2 132.5-194.7 198.10000000000002-8.5 8.700000000000045-8.5 22.800000000000068 0.20000000000001705 31.399999999999977l47.79999999999998 47.90000000000009c8.600000000000023 8.599999999999909 22.600000000000023 8.599999999999909 31.100000000000023-0.10000000000002274l194.2-197.30000000000007c8.600000000000023-8.699999999999932 22.399999999999977-8.699999999999932 31 0 64.70000000000005 65.80000000000007 129.20000000000005 131.4000000000001 194.20000000000005 197.5 8.599999999999909 8.700000000000045 22.5 8.800000000000068 31 0.10000000000002274 16-16.199999999999932 31.699999999999932-32.19999999999993 47.59999999999991-48.299999999999955 8.600000000000023-8.700000000000045 8.600000000000023-22.899999999999977 0.10000000000002274-31.600000000000023-63.799999999999955-65-128.5-130.89999999999998-194.19999999999993-197.79999999999995-8.600000000000023-8.700000000000045-8.600000000000023-22.900000000000034 0-31.600000000000023 65.19999999999993-66.40000000000003 130.0999999999999-132.5 194.5-198.20000000000005 8.599999999999909-8.699999999999989 8.5-22.799999999999955-0.10000000000002274-31.49999999999997l-47.80000000000007-48.099999999999994c-8.5-8.5-22.399999999999977-8.400000000000006-31 0.29999999999998295z"})),_M=s=>Fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:s.width},Fe.createElement("path",{fill:"currentColor",d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"}));var RM=s=>{const[c,o]=Ne(!1),[a,u]=Ne(!1),m=O=>{o(!0),u(!1)},v=O=>{s.onDelete(s.body),u(!1)},b=O=>s.onUpdate(s.body,{...s.body,value:O.target.value}),w=O=>s.onUpdate(s.body,{...s.body,purpose:O.value}),x=s.body.modified||s.body.created,E=s.body.creator&&Fe.createElement("div",{className:"r6o-lastmodified"},Fe.createElement("span",{className:"r6o-lastmodified-by"},s.body.creator.name||s.body.creator.id),s.body.created&&Fe.createElement("span",{className:"r6o-lastmodified-at"},Fe.createElement(p2,{datetime:s.env.toClientTime(x),locale:Fi.locale()})));return s.readOnly?Fe.createElement("div",{className:"r6o-widget comment"},Fe.createElement("div",{className:"r6o-readonly-comment"},s.body.value),E):Fe.createElement("div",{className:c?"r6o-widget comment editable":"r6o-widget comment"},Fe.createElement(Ob,{editable:c,content:s.body.value,onChange:b,onSaveAndClose:s.onSaveAndClose}),!c&&E,s.purposeSelector&&Fe.createElement($w,{editable:c,content:s.body.purpose,onChange:w,onSaveAndClose:s.onSaveAndClose}),Fe.createElement("div",{className:a?"r6o-icon r6o-arrow-down r6o-menu-open":"r6o-icon r6o-arrow-down",onClick:()=>u(!a)},Fe.createElement(kM,{width:12})),a&&Fe.createElement(dA,{onEdit:m,onDelete:v,onClickOutside:()=>u(!1)}))};const OM=Sp.map(s=>s.value),Qw=(s,c)=>{const o=c?OM.indexOf(s.purpose)>-1:s.purpose=="commenting"||s.purpose=="replying";return s.type==="TextualBody"&&(!Object.prototype.hasOwnProperty.call(s,"purpose")||o)},ex=(s,c)=>{var o,a;if(c.editable===!0)return!1;if(c.editable===!1)return!0;if(c.editable==="MINE_ONLY"){const u=(o=s.creator)==null?void 0:o.id;return((a=c.env.user)==null?void 0:a.id)!==u}return c.readOnly},DM=(s,c)=>s||{type:"TextualBody",value:"",purpose:c?"replying":"commenting",draft:!0},tx=s=>{const c=s.annotation?s.annotation.bodies.filter(w=>Qw(w,s.purposeSelector)):[],o=DM(c.find(w=>w.draft==!0),c.length>1),a=c.filter(w=>w!=o),u=w=>{const x=o.value,E=w.target.value;x.length===0&&E.length>0?s.onAppendBody({...o,value:E}):x.length>0&&E.length===0?s.onRemoveBody(o):s.onUpdateBody(o,{...o,value:E})},m=w=>s.onUpdateBody(o,{...o,purpose:w.value}),v=!s.readOnly&&s.annotation,b=a.length===0||!s.disableReply;return Fe.createElement(Fe.Fragment,null,a.map((w,x)=>Fe.createElement(RM,{key:x,env:s.env,purposeSelector:s.purposeSelector,readOnly:ex(w,s),body:w,onUpdate:s.onUpdateBody,onDelete:s.onRemoveBody,onSaveAndClose:s.onSaveAndClose})),v&&b&&Fe.createElement("div",{className:"r6o-widget comment editable"},Fe.createElement(Ob,{focus:s.focus,content:o.value,editable:!0,placeholder:a.length>0?Fi.t("Add a reply..."):s.textPlaceHolder||Fi.t("Add a comment..."),onChange:u,onSaveAndClose:()=>s.onSaveAndClose()}),s.purposeSelector&&o.value.length>0&&Fe.createElement($w,{editable:!0,content:o.purpose,onChange:m,onSaveAndClose:()=>s.onSaveAndClose()})))};tx.disableDelete=(s,c)=>s.bodies.filter(o=>Qw(o,c.purposeSelector)).some(o=>ex(o,c));var nx=tx;function ix(s,c){s.prototype=Object.create(c.prototype),s.prototype.constructor=s,Qc(s,c)}function AM(s,c){return s.classList?!!c&&s.classList.contains(c):(" "+(s.className.baseVal||s.className)+" ").indexOf(" "+c+" ")!==-1}function IM(s,c){s.classList?s.classList.add(c):AM(s,c)||(typeof s.className=="string"?s.className=s.className+" "+c:s.setAttribute("class",(s.className&&s.className.baseVal||"")+" "+c))}function rx(s,c){return s.replace(new RegExp("(^|\\s)"+c+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function MM(s,c){s.classList?s.classList.remove(c):typeof s.className=="string"?s.className=rx(s.className,c):s.setAttribute("class",rx(s.className&&s.className.baseVal||"",c))}var ox={disabled:!1},sx=Fe.createContext(null),ax=function(s){return s.scrollTop},Qa="unmounted",zo="exited",Lo="entering",Hs="entered",Ep="exiting",Lr=function(s){ix(c,s);function c(a,u){var m;m=s.call(this,a,u)||this;var v=u,b=v&&!v.isMounting?a.enter:a.appear,w;return m.appearStatus=null,a.in?b?(w=zo,m.appearStatus=Lo):w=Hs:a.unmountOnExit||a.mountOnEnter?w=Qa:w=zo,m.state={status:w},m.nextCallback=null,m}c.getDerivedStateFromProps=function(a,u){var m=a.in;return m&&u.status===Qa?{status:zo}:null};var o=c.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(a){var u=null;if(a!==this.props){var m=this.state.status;this.props.in?m!==Lo&&m!==Hs&&(u=Lo):(m===Lo||m===Hs)&&(u=Ep)}this.updateStatus(!1,u)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var a=this.props.timeout,u,m,v;return u=m=v=a,a!=null&&typeof a!="number"&&(u=a.exit,m=a.enter,v=a.appear!==void 0?a.appear:m),{exit:u,enter:m,appear:v}},o.updateStatus=function(a,u){if(a===void 0&&(a=!1),u!==null)if(this.cancelNextCallback(),u===Lo){if(this.props.unmountOnExit||this.props.mountOnEnter){var m=this.props.nodeRef?this.props.nodeRef.current:Fe.findDOMNode(this);m&&ax(m)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===zo&&this.setState({status:Qa})},o.performEnter=function(a){var u=this,m=this.props.enter,v=this.context?this.context.isMounting:a,b=this.props.nodeRef?[v]:[Fe.findDOMNode(this),v],w=b[0],x=b[1],E=this.getTimeouts(),O=v?E.appear:E.enter;if(!a&&!m||ox.disabled){this.safeSetState({status:Hs},function(){u.props.onEntered(w)});return}this.props.onEnter(w,x),this.safeSetState({status:Lo},function(){u.props.onEntering(w,x),u.onTransitionEnd(O,function(){u.safeSetState({status:Hs},function(){u.props.onEntered(w,x)})})})},o.performExit=function(){var a=this,u=this.props.exit,m=this.getTimeouts(),v=this.props.nodeRef?void 0:Fe.findDOMNode(this);if(!u||ox.disabled){this.safeSetState({status:zo},function(){a.props.onExited(v)});return}this.props.onExit(v),this.safeSetState({status:Ep},function(){a.props.onExiting(v),a.onTransitionEnd(m.exit,function(){a.safeSetState({status:zo},function(){a.props.onExited(v)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(a,u){u=this.setNextCallback(u),this.setState(a,u)},o.setNextCallback=function(a){var u=this,m=!0;return this.nextCallback=function(v){m&&(m=!1,u.nextCallback=null,a(v))},this.nextCallback.cancel=function(){m=!1},this.nextCallback},o.onTransitionEnd=function(a,u){this.setNextCallback(u);var m=this.props.nodeRef?this.props.nodeRef.current:Fe.findDOMNode(this),v=a==null&&!this.props.addEndListener;if(!m||v){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var b=this.props.nodeRef?[this.nextCallback]:[m,this.nextCallback],w=b[0],x=b[1];this.props.addEndListener(w,x)}a!=null&&setTimeout(this.nextCallback,a)},o.render=function(){var a=this.state.status;if(a===Qa)return null;var u=this.props,m=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var v=cp(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Fe.createElement(sx.Provider,{value:null},typeof m=="function"?m(a,v):Fe.cloneElement(Fe.Children.only(m),v))},c}(Fe.Component);Lr.contextType=sx,Lr.propTypes={};function Bs(){}Lr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Bs,onEntering:Bs,onEntered:Bs,onExit:Bs,onExiting:Bs,onExited:Bs},Lr.UNMOUNTED=Qa,Lr.EXITED=zo,Lr.ENTERING=Lo,Lr.ENTERED=Hs,Lr.EXITING=Ep;var zM=Lr,LM=function(s,c){return s&&c&&c.split(" ").forEach(function(o){return IM(s,o)})},Tp=function(s,c){return s&&c&&c.split(" ").forEach(function(o){return MM(s,o)})},Cp=function(s){ix(c,s);function c(){for(var a,u=arguments.length,m=new Array(u),v=0;v<u;v++)m[v]=arguments[v];return a=s.call.apply(s,[this].concat(m))||this,a.appliedClasses={appear:{},enter:{},exit:{}},a.onEnter=function(b,w){var x=a.resolveArguments(b,w),E=x[0],O=x[1];a.removeClasses(E,"exit"),a.addClass(E,O?"appear":"enter","base"),a.props.onEnter&&a.props.onEnter(b,w)},a.onEntering=function(b,w){var x=a.resolveArguments(b,w),E=x[0],O=x[1],A=O?"appear":"enter";a.addClass(E,A,"active"),a.props.onEntering&&a.props.onEntering(b,w)},a.onEntered=function(b,w){var x=a.resolveArguments(b,w),E=x[0],O=x[1],A=O?"appear":"enter";a.removeClasses(E,A),a.addClass(E,A,"done"),a.props.onEntered&&a.props.onEntered(b,w)},a.onExit=function(b){var w=a.resolveArguments(b),x=w[0];a.removeClasses(x,"appear"),a.removeClasses(x,"enter"),a.addClass(x,"exit","base"),a.props.onExit&&a.props.onExit(b)},a.onExiting=function(b){var w=a.resolveArguments(b),x=w[0];a.addClass(x,"exit","active"),a.props.onExiting&&a.props.onExiting(b)},a.onExited=function(b){var w=a.resolveArguments(b),x=w[0];a.removeClasses(x,"exit"),a.addClass(x,"exit","done"),a.props.onExited&&a.props.onExited(b)},a.resolveArguments=function(b,w){return a.props.nodeRef?[a.props.nodeRef.current,b]:[b,w]},a.getClassNames=function(b){var w=a.props.classNames,x=typeof w=="string",E=x&&w?w+"-":"",O=x?""+E+b:w[b],A=x?O+"-active":w[b+"Active"],B=x?O+"-done":w[b+"Done"];return{baseClassName:O,activeClassName:A,doneClassName:B}},a}var o=c.prototype;return o.addClass=function(a,u,m){var v=this.getClassNames(u)[m+"ClassName"],b=this.getClassNames("enter"),w=b.doneClassName;u==="appear"&&m==="done"&&w&&(v+=" "+w),m==="active"&&a&&ax(a),v&&(this.appliedClasses[u][m]=v,LM(a,v))},o.removeClasses=function(a,u){var m=this.appliedClasses[u],v=m.base,b=m.active,w=m.done;this.appliedClasses[u]={},v&&Tp(a,v),b&&Tp(a,b),w&&Tp(a,w)},o.render=function(){var a=this.props;a.classNames;var u=cp(a,["classNames"]);return Fe.createElement(zM,Vt({},u,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},c}(Fe.Component);Cp.defaultProps={classNames:""},Cp.propTypes={};var FM=Cp;const jM=(s,c)=>c.filter(o=>(o.label?o.label:o).toLowerCase().startsWith(s.toLowerCase())),NM=(s,c)=>c(s);var HM=s=>{const c=Et(),[o,a]=Ne(s.initialValue||""),[u,m]=Ne([]),[v,b]=Ne(null);$e(()=>{s.focus&&c.current.querySelector("input").focus({preventScroll:!0})},[]),$e(()=>{s.onChange&&s.onChange(o)},[o]);const w=A=>{if(typeof s.vocabulary=="function"){const B=NM(A,s.vocabulary);B.then?B.then(m):m(B)}else{const B=jM(A,s.vocabulary);m(B)}},x=()=>{if(v!==null)s.onSubmit(u[v]);else{const A=o.trim();if(A){const B=Array.isArray(s.vocabulary)?s.vocabulary.find(X=>(X.label||X).toLowerCase()===A.toLowerCase()):null;B?s.onSubmit(B):s.onSubmit(A)}}a(""),m([]),b(null)},E=A=>{if(A.which===13)x();else if(A.which===27)s.onCancel&&s.onCancel();else if(u.length>0){if(A.which===38)if(v===null)b(0);else{const B=Math.max(0,v-1);b(B)}else if(A.which===40)if(v===null)b(0);else{const B=Math.min(u.length-1,v+1);b(B)}}else A.which===40&&Array.isArray(s.vocabulary)&&m(s.vocabulary)},O=A=>{const{value:B}=A.target;a(B),b(null),B?w(B):m([])};return Fe.createElement("div",{ref:c,className:"r6o-autocomplete"},Fe.createElement("div",null,Fe.createElement("input",{onKeyDown:E,onChange:O,value:o,placeholder:s.placeholder})),Fe.createElement("ul",null,u.length>0&&u.map((A,B)=>Fe.createElement("li",{key:`${A.label?A.label:A}${B}`,onClick:x,onMouseEnter:()=>b(B),style:v===B?{backgroundColor:"#bde4ff"}:{}},A.label?A.label:A))))};const BM=s=>s||{type:"TextualBody",value:"",purpose:"tagging",draft:!0};var lx=s=>{const c=s.annotation?s.annotation.bodies.filter(O=>O.purpose==="tagging"):[],o=BM(c.slice().reverse().find(O=>O.draft)),a=c.filter(O=>O!=o),[u,m]=Ne(!1),v=O=>A=>{m(u===O?!1:O)},b=O=>{const A=o.value.trim(),B=O.trim();A.length===0&&B.length>0?s.onAppendBody({...o,value:B}):A.length>0&&B.length===0?s.onRemoveBody(o):A!==B&&s.onUpdateBody(o,{...o,value:B})},w=O=>A=>{A.stopPropagation(),s.onRemoveBody(O)},x=O=>{const A=O.uri?{type:"SpecificResource",purpose:"tagging",source:{id:O.uri,label:O.label}}:{type:"TextualBody",purpose:"tagging",value:O.label||O};o.value.trim().length===0?s.onAppendBody(A):s.onUpdateBody(o,A)},E=O=>O.value||O.source.label;return Fe.createElement("div",{className:"r6o-widget r6o-tag"},a.length>0&&Fe.createElement("ul",{className:"r6o-taglist"},a.map(O=>Fe.createElement("li",{key:E(O),onClick:v(O)},Fe.createElement("span",{className:"r6o-label"},E(O)),!s.readOnly&&Fe.createElement(FM,{in:u===O,timeout:200,classNames:"r6o-delete"},Fe.createElement("span",{className:"r6o-delete-wrapper",onClick:w(O)},Fe.createElement("span",{className:"r6o-delete"},Fe.createElement(PM,{width:12}))))))),!s.readOnly&&Fe.createElement(HM,{focus:s.focus,placeholder:s.textPlaceHolder||Fi.t("Add tag..."),vocabulary:s.vocabulary||[],onChange:b,onSubmit:x}))};class cx extends K{constructor(c){super(c),this.element=Fe.createRef()}renderWidget(c){const o=this.props.widget({annotation:c.annotation,readOnly:c.readOnly,...c.config,onAppendBody:(a,u)=>c.onAppendBody(a,u),onUpdateBody:(a,u,m)=>c.onUpdateBody(a,u,m),onUpsertBody:(a,u,m)=>c.onUpsertBody(a,u,m),onRemoveBody:(a,u)=>c.onRemoveBody(a,u),onBatchModify:(a,u)=>c.onBatchModify(a,u),onSetProperty:(a,u)=>c.onSetProperty(a,u),onAddContext:a=>c.onAddContext(a),onSaveAndClose:()=>c.onSaveAndClose()});for(;this.element.current.firstChild;)this.element.current.removeChild(this.element.current.lastChild);this.element.current.appendChild(o)}componentDidMount(){this.renderWidget(this.props)}componentWillReceiveProps(c){this.element.current&&this.props.annotation!==c.annotation&&this.renderWidget(c)}render(){return Fe.createElement("div",{ref:this.element,className:"widget"})}}window.React=Fe,window.ReactDOM=Fe;const VM={COMMENT:nx,TAG:lx},UM=[Fe.createElement(nx,null),Fe.createElement(lx,null)],WM=s=>{const c=a=>{var u;return typeof a=="function"&&!!((u=a.prototype)!=null&&u.isReactComponent)},o=a=>typeof a=="function"&&(String(a).match(/return .+\(['|"].+['|"],\s*\{/g)||String(a).match(/return .+preact_compat/)||String(a).match(/return .+\.createElement/g));return c(s)||o(s)},GM=s=>{const c=(o,a,u)=>{if(typeof o=="string"||o instanceof String)return Fe.createElement(VM[o],a);if(u?.toLowerCase()==="react")return Fe.createElement(o,a);if(u?.toLowerCase()==="plainjs")return Fe.createElement(cx,{widget:o,config:a});if(WM(o))return Fe.createElement(o,a);if(typeof o=="function"||o instanceof Function)return Fe.createElement(cx,{widget:o,config:a});throw`${o} is not a valid plugin`};if(s.widget){const{widget:o,force:a,...u}=s;return c(o,u,a)}else return c(s)},ux=14;var dx=(s,c,o,a)=>{const u=s.getBoundingClientRect();c.className="r6o-editor r6o-arrow-top r6o-arrow-left";const{left:m,top:v,right:b,bottom:w}=o.getBoundingClientRect();if(c.style.top=`${w-u.top+ux}px`,c.style.left=`${m-u.left}px`,a){const x=c.children[1].getBoundingClientRect(),{innerWidth:E,innerHeight:O}=s.ownerDocument.defaultView;if(x.right>E&&(c.classList.remove("r6o-arrow-left"),c.classList.add("r6o-arrow-right"),c.style.left=`${b-x.width-u.left}px`),x.bottom>O){c.classList.remove("r6o-arrow-top"),c.classList.add("r6o-arrow-bottom");const B=c.children[1].getBoundingClientRect().height;c.style.top=`${v-u.top-B-ux}px`}const A=c.children[1].getBoundingClientRect();if(A.top<0){c.classList.add("pushed","down"),c.style.top=`${-u.top}px`;const B=w-u.top;A.height-u.top>B&&c.classList.remove("r6o-arrow-bottom")}A.left<0&&(c.classList.add("pushed","right"),c.style.left=`${-u.left}px`),requestAnimationFrame(()=>c.style.opacity=1)}};const hx=s=>{const{top:c,left:o,width:a,height:u}=s.getBoundingClientRect();return`${c}, ${o}, ${a}, ${u}`};class qM extends K{constructor(c){super(c),r(this,"initResizeObserver",()=>{const o=this.props.autoPosition===void 0?!0:this.props.autoPosition;if(window!=null&&window.ResizeObserver){const a=new ResizeObserver(()=>{this.state.dragged||dx(this.props.wrapperEl,this.element.current,this.props.selectedElement,o)});return a.observe(this.props.wrapperEl),()=>a.disconnect()}else this.state.dragged||dx(this.props.wrapperEl,this.element.current,this.props.selectedElement,o)}),r(this,"creationMeta",o=>{const a={},{user:u}=this.props.env;return u&&(a.creator={},u.id&&(a.creator.id=u.id),u.displayName&&(a.creator.name=u.displayName),a[o.created?"modified":"created"]=this.props.env.getCurrentTimeAdjusted()),a}),r(this,"getCurrentAnnotation",()=>this.state.currentAnnotation.clone()),r(this,"hasChanges",()=>{var o;return!((o=this.props.annotation)!=null&&o.isEqual(this.state.currentAnnotation))}),r(this,"updateCurrentAnnotation",(o,a)=>{this.setState({currentAnnotation:this.state.currentAnnotation.clone(o)},()=>{a?this.onOk():this.props.onChanged&&this.props.onChanged()})}),r(this,"onAppendBody",(o,a)=>this.updateCurrentAnnotation({body:[...this.state.currentAnnotation.bodies,{...o,...this.creationMeta(o)}]},a)),r(this,"onUpdateBody",(o,a,u)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.map(m=>m===o?{...a,...this.creationMeta(a)}:m)},u)),r(this,"onRemoveBody",(o,a)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.filter(u=>u!==o)},a)),r(this,"onUpsertBody",(o,a,u)=>{if(o==null&&a!=null)this.onAppendBody(a,u);else if(o!=null&&a!=null)this.onUpdateBody(o,a,u);else if(o!=null&&a==null){const m=this.state.currentAnnotation.bodies.find(v=>v.purpose===o.purpose);m?this.onUpdateBody(m,o,u):this.onAppendBody(o,u)}}),r(this,"onBatchModify",(o,a)=>{const u=o.filter(x=>x.action==="upsert"&&x.body).map(x=>({previous:this.state.currentAnnotation.bodies.find(E=>E.purpose===x.body.purpose),updated:{...x.body,...this.creationMeta(x.body)}})),m=o.filter(x=>x.action==="remove").map(x=>x.body),v=[...o.filter(x=>x.action==="append"||x.action==="upsert"&&x.updated&&!x.previous).map(x=>({...x.body,...this.creationMeta(x.body)})),...u.filter(x=>!x.previous).map(x=>x.updated)],b=[...o.filter(x=>x.action==="update"||x.action==="upsert"&&x.updated&&x.previous).map(x=>({previous:x.previous,updated:{...x.updated,...this.creationMeta(x.updated)}})),...u.filter(x=>x.previous)],w=[...this.state.currentAnnotation.bodies.filter(x=>!m.includes(x)).map(x=>{const E=b.find(O=>O.previous===x);return E?E.updated:x}),...v];this.updateCurrentAnnotation({body:w},a)}),r(this,"onSetProperty",(o,a)=>{if(["@context","id","type","body","target"].includes(o))throw new Exception(`Cannot set ${o} - not allowed`);if(a)this.updateCurrentAnnotation({[o]:a});else{const u=this.currentAnnotation.clone();delete u[o],this.setState({currentAnnotation:u})}}),r(this,"onAddContext",o=>{const{currentAnnotation:a}=this.state,u=Array.isArray(a.context)?a.context:[a.context];u.indexOf(o)<0&&(u.push(o),this.updateCurrentAnnotation({"@context":u}))}),r(this,"onCancel",()=>this.props.onCancel(this.props.annotation)),r(this,"onOk",()=>{const o=u=>u.clone({body:u.bodies.map(({draft:m,...v})=>v)}),{currentAnnotation:a}=this.state;a.bodies.length===0&&!this.props.allowEmpty?a.isSelection?this.onCancel():this.props.onAnnotationDeleted(this.props.annotation):a.isSelection?this.props.onAnnotationCreated(o(a).toAnnotation()):this.props.onAnnotationUpdated(o(a),this.props.annotation)}),r(this,"onDelete",()=>this.props.onAnnotationDeleted(this.props.annotation)),this.element=Fe.createRef(),this.state={currentAnnotation:c.annotation,dragged:!1,selectionBounds:hx(c.selectedElement)}}componentWillReceiveProps(c){var o;const{selectionBounds:a}=this.state,u=hx(c.selectedElement);(o=this.props.annotation)!=null&&o.isEqual(c.annotation)?this.setState({selectionBounds:u}):this.setState({currentAnnotation:c.annotation,selectionBounds:u}),this.props.modifiedTarget!=c.modifiedTarget&&this.state.currentAnnotation&&this.updateCurrentAnnotation({target:this.props.modifiedTarget}),a!=u&&this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}componentDidMount(){this.removeObserver=this.initResizeObserver(),new MutationObserver(()=>{this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}).observe(this.element.current,{childList:!0,subtree:!0})}componentWillUnmount(){this.removeObserver&&this.removeObserver()}render(){const{currentAnnotation:c}=this.state,o=this.props.widgets?this.props.widgets.map(GM):UM,a=m=>m.type.disableDelete?m.type.disableDelete(c,{...m.props,readOnly:this.props.readOnly,env:this.props.env}):!1,u=c&&(c.bodies.length>0||this.props.allowEmpty)&&!this.props.readOnly&&!c.isSelection&&!o.some(a);return Fe.createElement(e2,{disabled:!this.props.detachable,handle:".r6o-draggable",cancel:".r6o-btn, .r6o-btn *",onDrag:()=>this.setState({dragged:!0})},Fe.createElement("div",{ref:this.element,className:this.state.dragged?"r6o-editor dragged":"r6o-editor"},Fe.createElement("div",{className:"r6o-arrow"}),Fe.createElement("div",{className:"r6o-editor-inner"},o.map((m,v)=>Fe.cloneElement(m,{key:`${v}`,focus:v===0,annotation:c,readOnly:this.props.readOnly,env:this.props.env,onAppendBody:this.onAppendBody,onUpdateBody:this.onUpdateBody,onRemoveBody:this.onRemoveBody,onUpsertBody:this.onUpsertBody,onBatchModify:this.onBatchModify,onSetProperty:this.onSetProperty,onAddContext:this.onAddContext,onSaveAndClose:this.onOk})),this.props.readOnly?Fe.createElement("div",{className:"r6o-footer"},Fe.createElement("button",{className:"r6o-btn",onClick:this.onCancel},Fi.t("Close"))):Fe.createElement("div",{className:this.props.detachable?"r6o-footer r6o-draggable":"r6o-footer"},u&&Fe.createElement("button",{className:"r6o-btn left delete-annotation",title:Fi.t("Delete"),onClick:this.onDelete},Fe.createElement(_M,{width:12})),Fe.createElement("button",{className:"r6o-btn outline",onClick:this.onCancel},Fi.t("Cancel")),Fe.createElement("button",{className:"r6o-btn ",onClick:this.onOk},Fi.t("Ok"))))))}}var lu,XM=new Uint8Array(16);function YM(){if(!lu&&(lu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!lu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return lu(XM)}var KM=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ZM(s){return typeof s=="string"&&KM.test(s)}for(var ui=[],kp=0;kp<256;++kp)ui.push((kp+256).toString(16).substr(1));function JM(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=(ui[s[c+0]]+ui[s[c+1]]+ui[s[c+2]]+ui[s[c+3]]+"-"+ui[s[c+4]]+ui[s[c+5]]+"-"+ui[s[c+6]]+ui[s[c+7]]+"-"+ui[s[c+8]]+ui[s[c+9]]+"-"+ui[s[c+10]]+ui[s[c+11]]+ui[s[c+12]]+ui[s[c+13]]+ui[s[c+14]]+ui[s[c+15]]).toLowerCase();if(!ZM(o))throw TypeError("Stringified UUID is invalid");return o}function px(s,c,o){s=s||{};var a=s.random||(s.rng||YM)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,JM(a)}var $M=function s(c,o){if(c===o)return!0;if(c&&o&&typeof c=="object"&&typeof o=="object"){if(c.constructor!==o.constructor)return!1;var a,u,m;if(Array.isArray(c)){if(a=c.length,a!=o.length)return!1;for(u=a;u--!==0;)if(!s(c[u],o[u]))return!1;return!0}if(c.constructor===RegExp)return c.source===o.source&&c.flags===o.flags;if(c.valueOf!==Object.prototype.valueOf)return c.valueOf()===o.valueOf();if(c.toString!==Object.prototype.toString)return c.toString()===o.toString();if(m=Object.keys(c),a=m.length,a!==Object.keys(o).length)return!1;for(u=a;u--!==0;)if(!Object.prototype.hasOwnProperty.call(o,m[u]))return!1;for(u=a;u--!==0;){var v=m[u];if(!s(c[v],o[v]))return!1}return!0}return c!==c&&o!==o},fx=$M;const Pp=class{constructor(s,c){r(this,"clone",(o,a)=>new Pp({...this.underlying,...o},{...this.opts,...a})),r(this,"selector",o=>{const{target:a}=this.underlying;if(a.selector)return(Array.isArray(a.selector)?a.selector:[a.selector]).find(u=>u.type===o)}),this.underlying=s,this.opts=c}isEqual(s){return s?.type!=="Annotation"?!1:this.underlying===s.underlying?!0:!this.underlying.id||!s.underlying.id?!1:fx(this.underlying,s.underlying)}get readOnly(){var s;return(s=this.opts)==null?void 0:s.readOnly}get id(){return this.underlying.id}get context(){return this.underlying["@context"]}get type(){return this.underlying.type}get motivation(){return this.underlying.motivation}get body(){return this.underlying.body}get target(){return this.underlying.target}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}set bodies(s){this.underlying.body=s}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}get quote(){var s;return(s=this.selector("TextQuoteSelector"))==null?void 0:s.exact}get start(){var s;return(s=this.selector("TextPositionSelector"))==null?void 0:s.start}get end(){var s;return(s=this.selector("TextPositionSelector"))==null?void 0:s.end}};let Fo=Pp;r(Fo,"create",s=>{const c={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${px()}`,body:[]};return new Pp({...c,...s})});class el{constructor(c,o){r(this,"clone",a=>{const u=new el;return u.underlying=JSON.parse(JSON.stringify(this.underlying)),a&&(u.underlying={...u.underlying,...a}),u}),r(this,"selector",a=>{const{target:u}=this.underlying;if(u.selector)return(Array.isArray(u.selector)?u.selector:[u.selector]).find(m=>m.type===a)}),r(this,"toAnnotation",()=>{const a=Object.assign({},this.underlying,{type:"Annotation",id:`#${px()}`});return new Fo(a)}),this.underlying={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Selection",body:o||[],target:c}}get context(){return this.underlying["@context"]}get type(){return this.underlying.type}get body(){return this.underlying.body}get target(){return this.underlying.target}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}isEqual(c){return c?fx(this.underlying,c.underlying):!1}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}get quote(){var c;return(c=this.selector("TextQuoteSelector"))==null?void 0:c.exact}get isSelection(){return!0}}let _p=0;var QM=()=>({setServerTime:s=>{const c=Date.now();_p=s-c},getCurrentTimeAdjusted:()=>new Date(Date.now()+_p).toISOString(),toClientTime:s=>Date.parse(s)-_p});const e4=(s,c)=>{if(s){const o=s==="auto"?window.navigator.userLanguage||window.navigator.language:s,a=o.split("-")[0].toLowerCase(),u=[o,a].find(m=>uA.includes(m));u||console.warn(`Unsupported locale '${o}'. Falling back to default en.`),Fi.init(u,c)}else Fi.init(null,c)};var mx={exports:{}};(function(s){//! openseadragon 3.0.0
//! Built on 2021-12-15
//! Git commit: v3.0.0-0-3eded36
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function c(o){return new c.Viewer(o)}(function(o){o.version={versionStr:"3.0.0",major:parseInt("3",10),minor:parseInt("0",10),revision:parseInt("0",10)};var a={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},u=Object.prototype.toString,m=Object.prototype.hasOwnProperty;o.isFunction=function(v){return o.type(v)==="function"},o.isArray=Array.isArray||function(v){return o.type(v)==="array"},o.isWindow=function(v){return v&&typeof v=="object"&&"setInterval"in v},o.type=function(v){return v==null?String(v):a[u.call(v)]||"object"},o.isPlainObject=function(v){if(!v||c.type(v)!=="object"||v.nodeType||o.isWindow(v)||v.constructor&&!m.call(v,"constructor")&&!m.call(v.constructor.prototype,"isPrototypeOf"))return!1;var b;for(var w in v)b=w;return b===void 0||m.call(v,b)},o.isEmptyObject=function(v){for(var b in v)return!1;return!0},o.freezeObject=function(v){return Object.freeze?o.freezeObject=Object.freeze:o.freezeObject=function(b){return b},o.freezeObject(v)},o.supportsCanvas=function(){var v=document.createElement("canvas");return!!(o.isFunction(v.getContext)&&v.getContext("2d"))}(),o.isCanvasTainted=function(v){var b=!1;try{v.getContext("2d").getImageData(0,0,1,1)}catch{b=!0}return b},o.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),o.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),o.supportsEventListenerOptions=function(){var v=0;if(o.supportsAddEventListener)try{var b={get capture(){return v++,!1},get once(){return v++,!1},get passive(){return v++,!1}};window.addEventListener("test",null,b),window.removeEventListener("test",null,b)}catch{v=0}return v>=3}(),o.getCurrentPixelDensityRatio=function(){if(o.supportsCanvas){var v=document.createElement("canvas").getContext("2d"),b=window.devicePixelRatio||1,w=v.webkitBackingStorePixelRatio||v.mozBackingStorePixelRatio||v.msBackingStorePixelRatio||v.oBackingStorePixelRatio||v.backingStorePixelRatio||1;return Math.max(b,1)/w}else return 1},o.pixelDensityRatio=o.getCurrentPixelDensityRatio()})(c),function(o){o.extend=function(){var w,x,E,O,A,B,X=arguments[0]||{},le=arguments.length,re=!1,he=1;for(typeof X=="boolean"&&(re=X,X=arguments[1]||{},he=2),typeof X!="object"&&!c.isFunction(X)&&(X={}),le===he&&(X=this,--he);he<le;he++)if(w=arguments[he],w!==null||w!==void 0)for(x in w)E=X[x],O=w[x],X!==O&&(re&&O&&(c.isPlainObject(O)||(A=c.isArray(O)))?(A?(A=!1,B=E&&c.isArray(E)?E:[]):B=E&&c.isPlainObject(E)?E:{},X[x]=c.extend(re,B,O)):O!==void 0&&(X[x]=O));return X};var a=function(){if(typeof navigator!="object")return!1;var w=navigator.userAgent;return typeof w!="string"?!1:w.indexOf("iPhone")!==-1||w.indexOf("iPad")!==-1||w.indexOf("iPod")!==-1};o.extend(o,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:a(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(w,x){return function(){var E=arguments;return E===void 0&&(E=[]),x.apply(w,E)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},_viewers:new Map,getViewer:function(w){return o._viewers.get(this.getElement(w))},getElement:function(w){return typeof w=="string"&&(w=document.getElementById(w)),w},getElementPosition:function(w){var x=new o.Point,E,O;for(w=o.getElement(w),E=o.getElementStyle(w).position==="fixed",O=b(w,E);O;)x.x+=w.offsetLeft,x.y+=w.offsetTop,E&&(x=x.plus(o.getPageScroll())),w=O,E=o.getElementStyle(w).position==="fixed",O=b(w,E);return x},getElementOffset:function(w){w=o.getElement(w);var x=w&&w.ownerDocument,E,O,A={top:0,left:0};return x?(E=x.documentElement,typeof w.getBoundingClientRect<"u"&&(A=w.getBoundingClientRect()),O=x===x.window?x:x.nodeType===9?x.defaultView||x.parentWindow:!1,new o.Point(A.left+(O.pageXOffset||E.scrollLeft)-(E.clientLeft||0),A.top+(O.pageYOffset||E.scrollTop)-(E.clientTop||0))):new o.Point},getElementSize:function(w){return w=o.getElement(w),new o.Point(w.clientWidth,w.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(w){return w=o.getElement(w),w.currentStyle}:function(w){return w=o.getElement(w),window.getComputedStyle(w,"")},getCssPropertyWithVendorPrefix:function(w){var x={};return o.getCssPropertyWithVendorPrefix=function(E){if(x[E]!==void 0)return x[E];var O=document.createElement("div").style,A=null;if(O[E]!==void 0)A=E;else for(var B=["Webkit","Moz","MS","O","webkit","moz","ms","o"],X=o.capitalizeFirstLetter(E),le=0;le<B.length;le++){var re=B[le]+X;if(O[re]!==void 0){A=re;break}}return x[E]=A,A},o.getCssPropertyWithVendorPrefix(w)},capitalizeFirstLetter:function(w){return w.charAt(0).toUpperCase()+w.slice(1)},positiveModulo:function(w,x){var E=w%x;return E<0&&(E+=x),E},pointInElement:function(w,x){w=o.getElement(w);var E=o.getElementOffset(w),O=o.getElementSize(w);return x.x>=E.x&&x.x<E.x+O.x&&x.y<E.y+O.y&&x.y>=E.y},getMousePosition:function(w){if(typeof w.pageX=="number")o.getMousePosition=function(x){var E=new o.Point;return E.x=x.pageX,E.y=x.pageY,E};else if(typeof w.clientX=="number")o.getMousePosition=function(x){var E=new o.Point;return E.x=x.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,E.y=x.clientY+document.body.scrollTop+document.documentElement.scrollTop,E};else throw new Error("Unknown event mouse position, no known technique.");return o.getMousePosition(w)},getPageScroll:function(){var w=document.documentElement||{},x=document.body||{};if(typeof window.pageXOffset=="number")o.getPageScroll=function(){return new o.Point(window.pageXOffset,window.pageYOffset)};else if(x.scrollLeft||x.scrollTop)o.getPageScroll=function(){return new o.Point(document.body.scrollLeft,document.body.scrollTop)};else if(w.scrollLeft||w.scrollTop)o.getPageScroll=function(){return new o.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new o.Point(0,0);return o.getPageScroll()},setPageScroll:function(w){if(typeof window.scrollTo<"u")o.setPageScroll=function(O){window.scrollTo(O.x,O.y)};else{var x=o.getPageScroll();if(x.x===w.x&&x.y===w.y)return;document.body.scrollLeft=w.x,document.body.scrollTop=w.y;var E=o.getPageScroll();if(E.x!==x.x&&E.y!==x.y){o.setPageScroll=function(O){document.body.scrollLeft=O.x,document.body.scrollTop=O.y};return}if(document.documentElement.scrollLeft=w.x,document.documentElement.scrollTop=w.y,E=o.getPageScroll(),E.x!==x.x&&E.y!==x.y){o.setPageScroll=function(O){document.documentElement.scrollLeft=O.x,document.documentElement.scrollTop=O.y};return}o.setPageScroll=function(O){}}o.setPageScroll(w)},getWindowSize:function(){var w=document.documentElement||{},x=document.body||{};if(typeof window.innerWidth=="number")o.getWindowSize=function(){return new o.Point(window.innerWidth,window.innerHeight)};else if(w.clientWidth||w.clientHeight)o.getWindowSize=function(){return new o.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(x.clientWidth||x.clientHeight)o.getWindowSize=function(){return new o.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return o.getWindowSize()},makeCenteredNode:function(w){w=o.getElement(w);var x=[o.makeNeutralElement("div"),o.makeNeutralElement("div"),o.makeNeutralElement("div")];return o.extend(x[0].style,{display:"table",height:"100%",width:"100%"}),o.extend(x[1].style,{display:"table-row"}),o.extend(x[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),x[0].appendChild(x[1]),x[1].appendChild(x[2]),x[2].appendChild(w),x[0]},makeNeutralElement:function(w){var x=document.createElement(w),E=x.style;return E.background="transparent none",E.border="none",E.margin="0px",E.padding="0px",E.position="static",x},now:function(){return Date.now?o.now=Date.now:o.now=function(){return new Date().getTime()},o.now()},makeTransparentImage:function(w){var x=o.makeNeutralElement("img");return x.src=w,x},setElementOpacity:function(w,x,E){var O,A;w=o.getElement(w),E&&!o.Browser.alpha&&(x=Math.round(x)),o.Browser.opacity?w.style.opacity=x<1?x:"":x<1?(O=Math.round(100*x),A="alpha(opacity="+O+")",w.style.filter=A):w.style.filter=""},setElementTouchActionNone:function(w){w=o.getElement(w),typeof w.style.touchAction<"u"?w.style.touchAction="none":typeof w.style.msTouchAction<"u"&&(w.style.msTouchAction="none")},setElementPointerEvents:function(w,x){w=o.getElement(w),typeof w.style.pointerEvents<"u"&&(w.style.pointerEvents=x)},setElementPointerEventsNone:function(w){o.setElementPointerEvents(w,"none")},addClass:function(w,x){w=o.getElement(w),w.className?(" "+w.className+" ").indexOf(" "+x+" ")===-1&&(w.className+=" "+x):w.className=x},indexOf:function(w,x,E){return Array.prototype.indexOf?this.indexOf=function(O,A,B){return O.indexOf(A,B)}:this.indexOf=function(O,A,B){var X,le=B||0,re;if(!O)throw new TypeError;if(re=O.length,re===0||le>=re)return-1;for(le<0&&(le=re-Math.abs(le)),X=le;X<re;X++)if(O[X]===A)return X;return-1},this.indexOf(w,x,E)},removeClass:function(w,x){var E,O=[],A;for(w=o.getElement(w),E=w.className.split(/\s+/),A=0;A<E.length;A++)E[A]&&E[A]!==x&&O.push(E[A]);w.className=O.join(" ")},normalizeEventListenerOptions:function(w){var x;return typeof w<"u"?typeof w=="boolean"?x=o.supportsEventListenerOptions?{capture:w}:w:x=o.supportsEventListenerOptions?w:typeof w.capture<"u"?w.capture:!1:x=o.supportsEventListenerOptions?{capture:!1}:!1,x},addEvent:function(){if(o.supportsAddEventListener)return function(w,x,E,O){O=o.normalizeEventListenerOptions(O),w=o.getElement(w),w.addEventListener(x,E,O)};if(document.documentElement.attachEvent&&document.attachEvent)return function(w,x,E){w=o.getElement(w),w.attachEvent("on"+x,E)};throw new Error("No known event model.")}(),removeEvent:function(){if(o.supportsRemoveEventListener)return function(w,x,E,O){O=o.normalizeEventListenerOptions(O),w=o.getElement(w),w.removeEventListener(x,E,O)};if(document.documentElement.detachEvent&&document.detachEvent)return function(w,x,E){w=o.getElement(w),w.detachEvent("on"+x,E)};throw new Error("No known event model.")}(),cancelEvent:function(w){w.preventDefault()},eventIsCanceled:function(w){return w.defaultPrevented},stopEvent:function(w){w.stopPropagation()},createCallback:function(w,x){var E=[],O;for(O=2;O<arguments.length;O++)E.push(arguments[O]);return function(){var A=E.concat([]),B;for(B=0;B<arguments.length;B++)A.push(arguments[B]);return x.apply(w,A)}},getUrlParameter:function(w){var x=v[w];return x||null},getUrlProtocol:function(w){var x=w.match(/^([a-z]+:)\/\//i);return x===null?window.location.protocol:x[1].toLowerCase()},createAjaxRequest:function(w){var x;try{x=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{x=!1}if(x)window.XMLHttpRequest?o.createAjaxRequest=function(E){return E?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:o.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)o.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return o.createAjaxRequest(w)},makeAjaxRequest:function(w,x,E){var O,A,B;o.isPlainObject(w)&&(x=w.success,E=w.error,O=w.withCredentials,A=w.headers,B=w.responseType||null,w=w.url);var X=o.getUrlProtocol(w),le=o.createAjaxRequest(X==="file:");if(!o.isFunction(x))throw new Error("makeAjaxRequest requires a success callback");le.onreadystatechange=function(){le.readyState===4&&(le.onreadystatechange=function(){},le.status>=200&&le.status<300||le.status===0&&X!=="http:"&&X!=="https:"?x(le):(o.console.log("AJAX request returned %d: %s",le.status,w),o.isFunction(E)&&E(le)))};try{if(le.open("GET",w,!0),B&&(le.responseType=B),A)for(var re in A)Object.prototype.hasOwnProperty.call(A,re)&&A[re]&&le.setRequestHeader(re,A[re]);O&&(le.withCredentials=!0),le.send(null)}catch(he){o.console.log("%s while making AJAX request: %s",he.name,he.message),le.onreadystatechange=function(){},o.isFunction(E)&&E(le,he)}return le},jsonp:function(w){var x,E=w.url,O=document.head||document.getElementsByTagName("head")[0]||document.documentElement,A=w.callbackName||"openseadragon"+o.now(),B=window[A],X="$1"+A+"$2",le=w.param||"callback",re=w.callback;E=E.replace(/(=)\?(&|$)|\?\?/i,X),E+=(/\?/.test(E)?"&":"?")+le+"="+A,window[A]=function(he){if(B)window[A]=B;else try{delete window[A]}catch{}re&&o.isFunction(re)&&re(he)},x=document.createElement("script"),(w.async!==void 0||w.async!==!1)&&(x.async="async"),w.scriptCharset&&(x.charset=w.scriptCharset),x.src=E,x.onload=x.onreadystatechange=function(he,z){(z||!x.readyState||/loaded|complete/.test(x.readyState))&&(x.onload=x.onreadystatechange=null,O&&x.parentNode&&O.removeChild(x),x=void 0)},O.insertBefore(x,O.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(w){if(window.DOMParser)o.parseXml=function(x){var E=null,O;return O=new DOMParser,E=O.parseFromString(x,"text/xml"),E};else if(window.ActiveXObject)o.parseXml=function(x){var E=null;return E=new ActiveXObject("Microsoft.XMLDOM"),E.async=!1,E.loadXML(x),E};else throw new Error("Browser doesn't support XML DOM.");return o.parseXml(w)},parseJSON:function(w){return o.parseJSON=window.JSON.parse,o.parseJSON(w)},imageFormatSupported:function(w){return w=w||"",!!m[w.toLowerCase()]},setImageFormatsSupported:function(w){o.extend(m,w)}});var u=function(w){};o.console=window.console||{log:u,debug:u,info:u,warn:u,error:u,assert:u},o.Browser={vendor:o.BROWSERS.UNKNOWN,version:0,alpha:!0};var m={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},v={};(function(){var w=navigator.appVersion,x=navigator.userAgent,E;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(o.Browser.vendor=o.BROWSERS.IE,o.Browser.version=parseFloat(x.substring(x.indexOf("MSIE")+5,x.indexOf(";",x.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(x.indexOf("Edge")>=0?(o.Browser.vendor=o.BROWSERS.EDGE,o.Browser.version=parseFloat(x.substring(x.indexOf("Edge")+5))):x.indexOf("Edg")>=0?(o.Browser.vendor=o.BROWSERS.CHROMEEDGE,o.Browser.version=parseFloat(x.substring(x.indexOf("Edg")+4))):x.indexOf("Firefox")>=0?(o.Browser.vendor=o.BROWSERS.FIREFOX,o.Browser.version=parseFloat(x.substring(x.indexOf("Firefox")+8))):x.indexOf("Safari")>=0?(o.Browser.vendor=x.indexOf("Chrome")>=0?o.BROWSERS.CHROME:o.BROWSERS.SAFARI,o.Browser.version=parseFloat(x.substring(x.substring(0,x.indexOf("Safari")).lastIndexOf("/")+1,x.indexOf("Safari")))):(E=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),E.exec(x)!==null&&(o.Browser.vendor=o.BROWSERS.IE,o.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":o.Browser.vendor=o.BROWSERS.OPERA,o.Browser.version=parseFloat(w);break}var O=window.location.search.substring(1),A=O.split("&"),B,X,le;for(le=0;le<A.length;le++)if(B=A[le],X=B.indexOf("="),X>0){var re=B.substring(0,X),he=B.substring(X+1);try{v[re]=decodeURIComponent(he)}catch{o.console.error("Ignoring malformed URL parameter: %s=%s",re,he)}}o.Browser.alpha=!(o.Browser.vendor===o.BROWSERS.CHROME&&o.Browser.version<2),o.Browser.opacity=!0,o.Browser.vendor===o.BROWSERS.IE&&o.Browser.version<11&&o.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(w){var x=w.requestAnimationFrame||w.mozRequestAnimationFrame||w.webkitRequestAnimationFrame||w.msRequestAnimationFrame,E=w.cancelAnimationFrame||w.mozCancelAnimationFrame||w.webkitCancelAnimationFrame||w.msCancelAnimationFrame;if(x&&E)o.requestAnimationFrame=function(){return x.apply(w,arguments)},o.cancelAnimationFrame=function(){return E.apply(w,arguments)};else{var O=[],A=[],B=0,X;o.requestAnimationFrame=function(le){return O.push([++B,le]),X||(X=setInterval(function(){if(O.length){var re=o.now(),he=A;for(A=O,O=he;A.length;)A.shift()[1](re)}else clearInterval(X),X=void 0},1e3/50)),B},o.cancelAnimationFrame=function(le){var re,he;for(re=0,he=O.length;re<he;re+=1)if(O[re][0]===le){O.splice(re,1);return}for(re=0,he=A.length;re<he;re+=1)if(A[re][0]===le){A.splice(re,1);return}}}}(window);function b(w,x){return x&&w!==document.body?document.body:w.offsetParent}}(c),function(o,a){s.exports?s.exports=a():o.OpenSeadragon=a()}(or,function(){return c}),function(o){var a={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.fullscreenElement},a.requestFullScreen=function(u){return u.requestFullscreen()},a.exitFullScreen=function(){document.exitFullscreen()},a.fullScreenEventName="fullscreenchange",a.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.msFullscreenElement},a.requestFullScreen=function(u){return u.msRequestFullscreen()},a.exitFullScreen=function(){document.msExitFullscreen()},a.fullScreenEventName="MSFullscreenChange",a.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.webkitFullscreenElement},a.requestFullScreen=function(u){return u.webkitRequestFullscreen()},a.exitFullScreen=function(){document.webkitExitFullscreen()},a.fullScreenEventName="webkitfullscreenchange",a.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},a.requestFullScreen=function(u){return u.webkitRequestFullScreen()},a.exitFullScreen=function(){document.webkitCancelFullScreen()},a.fullScreenEventName="webkitfullscreenchange",a.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.mozFullScreenElement},a.requestFullScreen=function(u){return u.mozRequestFullScreen()},a.exitFullScreen=function(){document.mozCancelFullScreen()},a.fullScreenEventName="mozfullscreenchange",a.fullScreenErrorEventName="mozfullscreenerror"),a.isFullScreen=function(){return a.getFullScreenElement()!==null},a.cancelFullScreen=function(){o.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),a.exitFullScreen()},o.extend(o,a)}(c),function(o){o.EventSource=function(){this.events={}},o.EventSource.prototype={addOnceHandler:function(a,u,m,v){var b=this;v=v||1;var w=0,x=function(E){w++,w===v&&b.removeHandler(a,x),u(E)};this.addHandler(a,x,m)},addHandler:function(a,u,m){var v=this.events[a];v||(this.events[a]=v=[]),u&&o.isFunction(u)&&(v[v.length]={handler:u,userData:m||null})},removeHandler:function(a,u){var m=this.events[a],v=[],b;if(m&&o.isArray(m)){for(b=0;b<m.length;b++)m[b].handler!==u&&v.push(m[b]);this.events[a]=v}},removeAllHandlers:function(a){if(a)this.events[a]=[];else for(var u in this.events)this.events[u]=[]},getHandler:function(a){var u=this.events[a];return!u||!u.length?null:(u=u.length===1?[u[0]]:Array.apply(null,u),function(m,v){var b,w=u.length;for(b=0;b<w;b++)u[b]&&(v.eventSource=m,v.userData=u[b].userData,u[b].handler(v))})},raiseEvent:function(a,u){var m=this.getHandler(a);m&&(u||(u={}),m(this,u))}}}(c),function(o){var a={};o.MouseTracker=function(U){var V=arguments;o.isPlainObject(U)||(U={element:V[0],clickTimeThreshold:V[1],clickDistThreshold:V[2]}),this.hash=Math.random(),this.element=o.getElement(U.element),this.clickTimeThreshold=U.clickTimeThreshold||o.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=U.clickDistThreshold||o.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=U.dblClickTimeThreshold||o.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=U.dblClickDistThreshold||o.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=U.userData||null,this.stopDelay=U.stopDelay||50,this.preProcessEventHandler=U.preProcessEventHandler||null,this.contextMenuHandler=U.contextMenuHandler||null,this.enterHandler=U.enterHandler||null,this.leaveHandler=U.leaveHandler||null,this.exitHandler=U.exitHandler||null,this.overHandler=U.overHandler||null,this.outHandler=U.outHandler||null,this.pressHandler=U.pressHandler||null,this.nonPrimaryPressHandler=U.nonPrimaryPressHandler||null,this.releaseHandler=U.releaseHandler||null,this.nonPrimaryReleaseHandler=U.nonPrimaryReleaseHandler||null,this.moveHandler=U.moveHandler||null,this.scrollHandler=U.scrollHandler||null,this.clickHandler=U.clickHandler||null,this.dblClickHandler=U.dblClickHandler||null,this.dragHandler=U.dragHandler||null,this.dragEndHandler=U.dragEndHandler||null,this.pinchHandler=U.pinchHandler||null,this.stopHandler=U.stopHandler||null,this.keyDownHandler=U.keyDownHandler||null,this.keyUpHandler=U.keyUpHandler||null,this.keyHandler=U.keyHandler||null,this.focusHandler=U.focusHandler||null,this.blurHandler=U.blurHandler||null;var te=this;a[this.hash]={click:function(oe){ae(te,oe)},dblclick:function(oe){we(te,oe)},keydown:function(oe){ye(te,oe)},keyup:function(oe){Ce(te,oe)},keypress:function(oe){Pe(te,oe)},focus:function(oe){Xe(te,oe)},blur:function(oe){Je(te,oe)},contextmenu:function(oe){dt(te,oe)},wheel:function(oe){mt(te,oe)},mousewheel:function(oe){ht(te,oe)},DOMMouseScroll:function(oe){ht(te,oe)},MozMousePixelScroll:function(oe){ht(te,oe)},losecapture:function(oe){Pt(te,oe)},mouseenter:function(oe){nt(te,oe)},mouseleave:function(oe){ot(te,oe)},mouseover:function(oe){it(te,oe)},mouseout:function(oe){ut(te,oe)},mousedown:function(oe){Mt(te,oe)},mouseup:function(oe){yn(te,oe)},mousemove:function(oe){Ji(te,oe)},touchstart:function(oe){qt(te,oe)},touchend:function(oe){Gt(te,oe)},touchmove:function(oe){Zt(te,oe)},touchcancel:function(oe){hn(te,oe)},gesturestart:function(oe){Tn(te,oe)},gesturechange:function(oe){pt(te,oe)},gotpointercapture:function(oe){tn(te,oe)},lostpointercapture:function(oe){We(te,oe)},pointerenter:function(oe){nt(te,oe)},pointerleave:function(oe){ot(te,oe)},pointerover:function(oe){it(te,oe)},pointerout:function(oe){ut(te,oe)},pointerdown:function(oe){Mt(te,oe)},pointerup:function(oe){yn(te,oe)},pointermove:function(oe){Ji(te,oe)},pointercancel:function(oe){j(te,oe)},pointerupcaptured:function(oe){Ln(te,oe)},pointermovecaptured:function(oe){Oi(te,oe)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,o.MouseTracker.havePointerEvents&&o.setElementPointerEvents(this.element,"auto"),this.exitHandler&&o.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),U.startDisabled||this.setTracking(!0)},o.MouseTracker.prototype={destroy:function(){w(this),this.element=null,a[this.hash]=null,delete a[this.hash]},isTracking:function(){return a[this.hash].tracking},setTracking:function(U){return U?b(this):w(this),this},getActivePointersListByType:function(U){var V=a[this.hash],te,oe=V.activePointersLists.length,Me;for(te=0;te<oe;te++)if(V.activePointersLists[te].type===U)return V.activePointersLists[te];return Me=new o.MouseTracker.GesturePointList(U),V.activePointersLists.push(Me),Me},getActivePointerCount:function(){var U=a[this.hash],V,te=U.activePointersLists.length,oe=0;for(V=0;V<te;V++)oe+=U.activePointersLists[V].getLength();return oe},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var u=function(){try{return window.self!==window.top}catch{return!0}}();function m(U){try{return U.addEventListener&&U.removeEventListener}catch{return!1}}o.MouseTracker.gesturePointVelocityTracker=function(){var U=[],V=0,te=0,oe=function(Cn,jt){return Cn.hash.toString()+jt.type+jt.id.toString()},Me=function(){var Cn,jt=U.length,Bi,ni,Gs=o.now(),jx,Nx,Hx;for(jx=Gs-te,te=Gs,Cn=0;Cn<jt;Cn++)Bi=U[Cn],ni=Bi.gPoint,ni.direction=Math.atan2(ni.currentPos.y-Bi.lastPos.y,ni.currentPos.x-Bi.lastPos.x),Nx=Bi.lastPos.distanceTo(ni.currentPos),Bi.lastPos=ni.currentPos,Hx=1e3*Nx/(jx+1),ni.speed=.75*Hx+.25*ni.speed},Qe=function(Cn,jt){var Bi=oe(Cn,jt);U.push({guid:Bi,gPoint:jt,lastPos:jt.currentPos}),U.length===1&&(te=o.now(),V=window.setInterval(Me,50))},Ft=function(Cn,jt){var Bi=oe(Cn,jt),ni,Gs=U.length;for(ni=0;ni<Gs;ni++)if(U[ni].guid===Bi){U.splice(ni,1),Gs--,Gs===0&&window.clearInterval(V);break}};return{addPoint:Qe,removePoint:Ft}}(),o.MouseTracker.captureElement=document,o.MouseTracker.wheelEventName=o.Browser.vendor===o.BROWSERS.IE&&o.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",o.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",o.MouseTracker.wheelEventName],o.MouseTracker.wheelEventName==="DOMMouseScroll"&&o.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(o.MouseTracker.havePointerEvents=!0,o.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),o.MouseTracker.havePointerCapture=function(){var U=document.createElement("div");return o.isFunction(U.setPointerCapture)&&o.isFunction(U.releasePointerCapture)}(),o.MouseTracker.havePointerCapture&&o.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(o.MouseTracker.havePointerEvents=!1,o.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),o.MouseTracker.mousePointerId="legacy-mouse",o.MouseTracker.havePointerCapture=function(){var U=document.createElement("div");return o.isFunction(U.setCapture)&&o.isFunction(U.releaseCapture)}(),o.MouseTracker.havePointerCapture&&o.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&o.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&o.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),o.MouseTracker.GesturePointList=function(U){this._gPoints=[],this.type=U,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},o.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(U){return this._gPoints.push(U)},removeById:function(U){var V,te=this._gPoints.length;for(V=0;V<te;V++)if(this._gPoints[V].id===U){this._gPoints.splice(V,1);break}return this._gPoints.length},getByIndex:function(U){return U<this._gPoints.length?this._gPoints[U]:null},getById:function(U){var V,te=this._gPoints.length;for(V=0;V<te;V++)if(this._gPoints[V].id===U)return this._gPoints[V];return null},getPrimary:function(U){var V,te=this._gPoints.length;for(V=0;V<te;V++)if(this._gPoints[V].isPrimary)return this._gPoints[V];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(o.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(o.console.warn("GesturePointList.removeContact() Implausible contacts value"),this.contacts=0)}};function v(U){var V=a[U.hash],te,oe,Me,Qe,Ft,Cn=V.activePointersLists.length;for(te=0;te<Cn;te++)if(Me=V.activePointersLists[te],Me.getLength()>0){for(Ft=[],Qe=Me.asArray(),oe=0;oe<Qe.length;oe++)Ft.push(Qe[oe]);for(oe=0;oe<Ft.length;oe++)De(U,Me,Ft[oe])}for(te=0;te<Cn;te++)V.activePointersLists.pop();V.sentDragEvent=!1}function b(U){var V=a[U.hash],te,oe;if(!V.tracking){for(oe=0;oe<o.MouseTracker.subscribeEvents.length;oe++)te=o.MouseTracker.subscribeEvents[oe],o.addEvent(U.element,te,V[te],te===o.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);v(U),V.tracking=!0}}function w(U){var V=a[U.hash],te,oe;if(V.tracking){for(oe=0;oe<o.MouseTracker.subscribeEvents.length;oe++)te=o.MouseTracker.subscribeEvents[oe],o.removeEvent(U.element,te,V[te],!1);v(U),V.tracking=!1}}function x(U,V){var te=a[U.hash];if(V==="pointerevent")return{upName:"pointerup",upHandler:te.pointerupcaptured,moveName:"pointermove",moveHandler:te.pointermovecaptured};if(V==="mouse")return{upName:"pointerup",upHandler:te.pointerupcaptured,moveName:"pointermove",moveHandler:te.pointermovecaptured};if(V==="touch")return{upName:"touchend",upHandler:te.touchendcaptured,moveName:"touchmove",moveHandler:te.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function E(U,V){var te;if(o.MouseTracker.havePointerCapture)if(o.MouseTracker.havePointerEvents)try{U.element.setPointerCapture(V.id)}catch{o.console.warn("setPointerCapture() called on invalid pointer ID");return}else U.element.setCapture(!0);else te=x(U,o.MouseTracker.havePointerEvents?"pointerevent":V.type),u&&m(window.top)&&o.addEvent(window.top,te.upName,te.upHandler,!0),o.addEvent(o.MouseTracker.captureElement,te.upName,te.upHandler,!0),o.addEvent(o.MouseTracker.captureElement,te.moveName,te.moveHandler,!0);kt(U,V,!0)}function O(U,V){var te,oe,Me;if(o.MouseTracker.havePointerCapture)if(o.MouseTracker.havePointerEvents){if(oe=U.getActivePointersListByType(V.type),Me=oe.getById(V.id),!Me||!Me.captured)return;try{U.element.releasePointerCapture(V.id)}catch{}}else U.element.releaseCapture();else te=x(U,o.MouseTracker.havePointerEvents?"pointerevent":V.type),u&&m(window.top)&&o.removeEvent(window.top,te.upName,te.upHandler,!0),o.removeEvent(o.MouseTracker.captureElement,te.moveName,te.moveHandler,!0),o.removeEvent(o.MouseTracker.captureElement,te.upName,te.upHandler,!0);kt(U,V,!1)}function A(U){return o.MouseTracker.havePointerEvents?U.pointerId:o.MouseTracker.mousePointerId}function B(U){return o.MouseTracker.havePointerEvents?U.pointerType||(o.Browser.vendor===o.BROWSERS.IE?"mouse":""):"mouse"}function X(U){return o.MouseTracker.havePointerEvents?U.isPrimary:!0}function le(U){return o.getMousePosition(U)}function re(U,V){return he(le(U),V)}function he(U,V){var te=o.getElementOffset(V);return U.minus(te)}function z(U,V){return new o.Point((U.x+V.x)/2,(U.y+V.y)/2)}function ae(U,V){var te={originalEvent:V,eventType:"click",pointerType:"mouse",isEmulated:!1};Ge(U,te),te.preventDefault&&!te.defaultPrevented&&o.cancelEvent(V),te.stopPropagation&&o.stopEvent(V)}function we(U,V){var te={originalEvent:V,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};Ge(U,te),te.preventDefault&&!te.defaultPrevented&&o.cancelEvent(V),te.stopPropagation&&o.stopEvent(V)}function ye(U,V){var te=null,oe={originalEvent:V,eventType:"keydown",pointerType:"",isEmulated:!1};Ge(U,oe),U.keyDownHandler&&!oe.preventGesture&&!oe.defaultPrevented&&(te={eventSource:U,keyCode:V.keyCode?V.keyCode:V.charCode,ctrl:V.ctrlKey,shift:V.shiftKey,alt:V.altKey,meta:V.metaKey,originalEvent:V,preventDefault:oe.preventDefault||oe.defaultPrevented,userData:U.userData},U.keyDownHandler(te)),(te&&te.preventDefault||oe.preventDefault&&!oe.defaultPrevented)&&o.cancelEvent(V),oe.stopPropagation&&o.stopEvent(V)}function Ce(U,V){var te=null,oe={originalEvent:V,eventType:"keyup",pointerType:"",isEmulated:!1};Ge(U,oe),U.keyUpHandler&&!oe.preventGesture&&!oe.defaultPrevented&&(te={eventSource:U,keyCode:V.keyCode?V.keyCode:V.charCode,ctrl:V.ctrlKey,shift:V.shiftKey,alt:V.altKey,meta:V.metaKey,originalEvent:V,preventDefault:oe.preventDefault||oe.defaultPrevented,userData:U.userData},U.keyUpHandler(te)),(te&&te.preventDefault||oe.preventDefault&&!oe.defaultPrevented)&&o.cancelEvent(V),oe.stopPropagation&&o.stopEvent(V)}function Pe(U,V){var te=null,oe={originalEvent:V,eventType:"keypress",pointerType:"",isEmulated:!1};Ge(U,oe),U.keyHandler&&!oe.preventGesture&&!oe.defaultPrevented&&(te={eventSource:U,keyCode:V.keyCode?V.keyCode:V.charCode,ctrl:V.ctrlKey,shift:V.shiftKey,alt:V.altKey,meta:V.metaKey,originalEvent:V,preventDefault:oe.preventDefault||oe.defaultPrevented,userData:U.userData},U.keyHandler(te)),(te&&te.preventDefault||oe.preventDefault&&!oe.defaultPrevented)&&o.cancelEvent(V),oe.stopPropagation&&o.stopEvent(V)}function Xe(U,V){var te={originalEvent:V,eventType:"focus",pointerType:"",isEmulated:!1};Ge(U,te),U.focusHandler&&!te.preventGesture&&U.focusHandler({eventSource:U,originalEvent:V,userData:U.userData})}function Je(U,V){var te={originalEvent:V,eventType:"blur",pointerType:"",isEmulated:!1};Ge(U,te),U.blurHandler&&!te.preventGesture&&U.blurHandler({eventSource:U,originalEvent:V,userData:U.userData})}function dt(U,V){var te=null,oe={originalEvent:V,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};Ge(U,oe),U.contextMenuHandler&&!oe.preventGesture&&!oe.defaultPrevented&&(te={eventSource:U,position:he(le(V),U.element),originalEvent:oe.originalEvent,preventDefault:oe.preventDefault||oe.defaultPrevented,userData:U.userData},U.contextMenuHandler(te)),(te&&te.preventDefault||oe.preventDefault&&!oe.defaultPrevented)&&o.cancelEvent(V),oe.stopPropagation&&o.stopEvent(V)}function mt(U,V){Rt(U,V,V)}function ht(U,V){var te={target:V.target||V.srcElement,type:"wheel",shiftKey:V.shiftKey||!1,clientX:V.clientX,clientY:V.clientY,pageX:V.pageX?V.pageX:V.clientX,pageY:V.pageY?V.pageY:V.clientY,deltaMode:V.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};o.MouseTracker.wheelEventName==="mousewheel"?te.deltaY=-V.wheelDelta/o.DEFAULT_SETTINGS.pixelsPerWheelLine:te.deltaY=V.detail,Rt(U,te,V)}function Rt(U,V,te){var oe=0,Me,Qe=null;oe=V.deltaY<0?1:-1,Me={originalEvent:V,eventType:"wheel",pointerType:"mouse",isEmulated:V!==te},Ge(U,Me),U.scrollHandler&&!Me.preventGesture&&!Me.defaultPrevented&&(Qe={eventSource:U,pointerType:"mouse",position:re(V,U.element),scroll:oe,shift:V.shiftKey,isTouchEvent:!1,originalEvent:te,preventDefault:Me.preventDefault||Me.defaultPrevented,userData:U.userData},U.scrollHandler(Qe)),Me.stopPropagation&&o.stopEvent(te),(Qe&&Qe.preventDefault||Me.preventDefault&&!Me.defaultPrevented)&&o.cancelEvent(te)}function Pt(U,V){var te={id:o.MouseTracker.mousePointerId,type:"mouse"},oe={originalEvent:V,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};Ge(U,oe),V.target===U.element&&kt(U,te,!1),oe.stopPropagation&&o.stopEvent(V)}function qt(U,V){var te,oe,Me=V.changedTouches.length,Qe,Ft=U.getActivePointersListByType("touch");te=o.now(),Ft.getLength()>V.touches.length-Me&&o.console.warn("Tracked touch contact count doesn't match event.touches.length");var Cn={originalEvent:V,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(Ge(U,Cn),oe=0;oe<Me;oe++)Qe={id:V.changedTouches[oe].identifier,type:"touch",isPrimary:Ft.getLength()===0,currentPos:le(V.changedTouches[oe]),currentTime:te},ft(U,Cn,Qe),Xt(U,Cn,Qe,0),kt(U,Qe,!0);Cn.preventDefault&&!Cn.defaultPrevented&&o.cancelEvent(V),Cn.stopPropagation&&o.stopEvent(V)}function Gt(U,V){var te,oe,Me=V.changedTouches.length,Qe;te=o.now();var Ft={originalEvent:V,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(Ge(U,Ft),oe=0;oe<Me;oe++)Qe={id:V.changedTouches[oe].identifier,type:"touch",currentPos:le(V.changedTouches[oe]),currentTime:te},Hn(U,Ft,Qe,0),kt(U,Qe,!1),pn(U,Ft,Qe);Ft.preventDefault&&!Ft.defaultPrevented&&o.cancelEvent(V),Ft.stopPropagation&&o.stopEvent(V)}function Zt(U,V){var te,oe,Me=V.changedTouches.length,Qe;te=o.now();var Ft={originalEvent:V,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(Ge(U,Ft),oe=0;oe<Me;oe++)Qe={id:V.changedTouches[oe].identifier,type:"touch",currentPos:le(V.changedTouches[oe]),currentTime:te},cn(U,Ft,Qe);Ft.preventDefault&&!Ft.defaultPrevented&&o.cancelEvent(V),Ft.stopPropagation&&o.stopEvent(V)}function hn(U,V){var te=V.changedTouches.length,oe,Me,Qe={originalEvent:V,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(Ge(U,Qe),oe=0;oe<te;oe++)Me={id:V.changedTouches[oe].identifier,type:"touch"},di(U,Qe,Me);Qe.stopPropagation&&o.stopEvent(V)}function Tn(U,V){return o.eventIsCanceled(V)||V.preventDefault(),!1}function pt(U,V){return o.eventIsCanceled(V)||V.preventDefault(),!1}function tn(U,V){var te={originalEvent:V,eventType:"gotpointercapture",pointerType:B(V),isEmulated:!1};Ge(U,te),V.target===U.element&&kt(U,{id:V.pointerId,type:B(V)},!0),te.stopPropagation&&o.stopEvent(V)}function We(U,V){var te={originalEvent:V,eventType:"lostpointercapture",pointerType:B(V),isEmulated:!1};Ge(U,te),V.target===U.element&&kt(U,{id:V.pointerId,type:B(V)},!1),te.stopPropagation&&o.stopEvent(V)}function nt(U,V){var te={id:A(V),type:B(V),isPrimary:X(V),currentPos:le(V),currentTime:o.now()},oe={originalEvent:V,eventType:"pointerenter",pointerType:te.type,isEmulated:!1};Ge(U,oe),ft(U,oe,te)}function ot(U,V){var te={id:A(V),type:B(V),isPrimary:X(V),currentPos:le(V),currentTime:o.now()},oe={originalEvent:V,eventType:"pointerleave",pointerType:te.type,isEmulated:!1};Ge(U,oe),pn(U,oe,te)}function it(U,V){var te={id:A(V),type:B(V),isPrimary:X(V),currentPos:le(V),currentTime:o.now()},oe={originalEvent:V,eventType:"pointerover",pointerType:te.type,isEmulated:!1};Ge(U,oe),An(U,oe,te),oe.preventDefault&&!oe.defaultPrevented&&o.cancelEvent(V),oe.stopPropagation&&o.stopEvent(V)}function ut(U,V){var te={id:A(V),type:B(V),isPrimary:X(V),currentPos:le(V),currentTime:o.now()},oe={originalEvent:V,eventType:"pointerout",pointerType:te.type,isEmulated:!1};Ge(U,oe),fn(U,oe,te),oe.preventDefault&&!oe.defaultPrevented&&o.cancelEvent(V),oe.stopPropagation&&o.stopEvent(V)}function Mt(U,V){var te={id:A(V),type:B(V),isPrimary:X(V),currentPos:le(V),currentTime:o.now()},oe=o.MouseTracker.havePointerEvents&&te.type==="touch"&&o.Browser.vendor!==o.BROWSERS.IE,Me={originalEvent:V,eventType:"pointerdown",pointerType:te.type,isEmulated:!1};Ge(U,Me),Xt(U,Me,te,V.button),Me.preventDefault&&!Me.defaultPrevented&&o.cancelEvent(V),Me.stopPropagation&&o.stopEvent(V),Me.shouldCapture&&(oe?kt(U,te,!0):E(U,te))}function yn(U,V){dn(U,V)}function Ln(U,V){var te=U.getActivePointersListByType(B(V));te.getById(V.pointerId)&&dn(U,V),o.stopEvent(V)}function dn(U,V){var te;te={id:A(V),type:B(V),isPrimary:X(V),currentPos:le(V),currentTime:o.now()};var oe={originalEvent:V,eventType:"pointerup",pointerType:te.type,isEmulated:!1};Ge(U,oe),Hn(U,oe,te,V.button),oe.preventDefault&&!oe.defaultPrevented&&o.cancelEvent(V),oe.stopPropagation&&o.stopEvent(V),oe.shouldReleaseCapture&&(V.target===U.element?O(U,te):kt(U,te,!1))}function Ji(U,V){Hi(U,V)}function Oi(U,V){var te=U.getActivePointersListByType(B(V));te.getById(V.pointerId)&&Hi(U,V),o.stopEvent(V)}function Hi(U,V){var te={id:A(V),type:B(V),isPrimary:X(V),currentPos:le(V),currentTime:o.now()},oe={originalEvent:V,eventType:"pointermove",pointerType:te.type,isEmulated:!1};Ge(U,oe),cn(U,oe,te),oe.preventDefault&&!oe.defaultPrevented&&o.cancelEvent(V),oe.stopPropagation&&o.stopEvent(V)}function j(U,V){var te={id:V.pointerId,type:B(V)},oe={originalEvent:V,eventType:"pointercancel",pointerType:te.type,isEmulated:!1};Ge(U,oe),di(U,oe,te),oe.stopPropagation&&o.stopEvent(V)}function ue(U,V){return V.speed=0,V.direction=0,V.contactPos=V.currentPos,V.contactTime=V.currentTime,V.lastPos=V.currentPos,V.lastTime=V.currentTime,U.add(V)}function De(U,V,te){var oe,Me=V.getById(te.id);return Me?(Me.captured&&(o.console.warn("stopTrackingPointer() called on captured pointer"),O(U,Me)),(V.type==="mouse"||V.type==="pen")&&V.contacts>0&&V.removeContact(),oe=V.removeById(te.id)):oe=V.getLength(),oe}function Ze(U,V){switch(V.eventType){case"pointermove":V.isStoppable=!0,V.isCancelable=!0,V.preventDefault=!1,V.preventGesture=!U.hasGestureHandlers,V.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":V.isStoppable=!0,V.isCancelable=!0,V.preventDefault=!1,V.preventGesture=!1,V.stopPropagation=!1;break;case"pointerdown":V.isStoppable=!0,V.isCancelable=!0,V.preventDefault=!1,V.preventGesture=!U.hasGestureHandlers,V.stopPropagation=!1;break;case"pointerup":V.isStoppable=!0,V.isCancelable=!0,V.preventDefault=!1,V.preventGesture=!U.hasGestureHandlers,V.stopPropagation=!1;break;case"wheel":V.isStoppable=!0,V.isCancelable=!0,V.preventDefault=!1,V.preventGesture=!U.hasScrollHandler,V.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":V.isStoppable=!0,V.isCancelable=!1,V.preventDefault=!1,V.preventGesture=!1,V.stopPropagation=!1;break;case"click":V.isStoppable=!0,V.isCancelable=!0,V.preventDefault=!!U.clickHandler,V.preventGesture=!1,V.stopPropagation=!1;break;case"dblclick":V.isStoppable=!0,V.isCancelable=!0,V.preventDefault=!!U.dblClickHandler,V.preventGesture=!1,V.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:V.isStoppable=!1,V.isCancelable=!1,V.preventDefault=!1,V.preventGesture=!1,V.stopPropagation=!1;break}}function Ge(U,V){V.eventSource=U,V.eventPhase=V.originalEvent&&typeof V.originalEvent.eventPhase<"u"?V.originalEvent.eventPhase:0,V.defaultPrevented=o.eventIsCanceled(V.originalEvent),V.shouldCapture=!1,V.shouldReleaseCapture=!1,V.userData=U.userData,Ze(U,V),U.preProcessEventHandler&&U.preProcessEventHandler(V)}function kt(U,V,te){var oe=U.getActivePointersListByType(V.type),Me=oe.getById(V.id);Me?te&&!Me.captured?(Me.captured=!0,oe.captureCount++):!te&&Me.captured&&(Me.captured=!1,oe.captureCount--,oe.captureCount<0&&(oe.captureCount=0,o.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):o.console.warn("updatePointerCaptured() called on untracked pointer")}function ft(U,V,te){var oe=U.getActivePointersListByType(te.type),Me;Me=oe.getById(te.id),Me?(Me.insideElement=!0,Me.lastPos=Me.currentPos,Me.lastTime=Me.currentTime,Me.currentPos=te.currentPos,Me.currentTime=te.currentTime,te=Me):(te.captured=!1,te.insideElementPressed=!1,te.insideElement=!0,ue(oe,te)),U.enterHandler&&U.enterHandler({eventSource:U,pointerType:te.type,position:he(te.currentPos,U.element),buttons:oe.buttons,pointers:U.getActivePointerCount(),insideElementPressed:te.insideElementPressed,buttonDownAny:oe.buttons!==0,isTouchEvent:te.type==="touch",originalEvent:V.originalEvent,userData:U.userData})}function pn(U,V,te){var oe=U.getActivePointersListByType(te.type),Me,Qe;Me=oe.getById(te.id),Me?(Me.captured?(Me.insideElement=!1,Me.lastPos=Me.currentPos,Me.lastTime=Me.currentTime,Me.currentPos=te.currentPos,Me.currentTime=te.currentTime):De(U,oe,Me),te=Me):(te.captured=!1,te.insideElementPressed=!1),(U.leaveHandler||U.exitHandler)&&(Qe={eventSource:U,pointerType:te.type,position:te.currentPos&&he(te.currentPos,U.element),buttons:oe.buttons,pointers:U.getActivePointerCount(),insideElementPressed:te.insideElementPressed,buttonDownAny:oe.buttons!==0,isTouchEvent:te.type==="touch",originalEvent:V.originalEvent,userData:U.userData},U.leaveHandler&&U.leaveHandler(Qe),U.exitHandler&&U.exitHandler(Qe))}function An(U,V,te){var oe,Me;oe=U.getActivePointersListByType(te.type),Me=oe.getById(te.id),Me?te=Me:(te.captured=!1,te.insideElementPressed=!1),U.overHandler&&U.overHandler({eventSource:U,pointerType:te.type,position:he(te.currentPos,U.element),buttons:oe.buttons,pointers:U.getActivePointerCount(),insideElementPressed:te.insideElementPressed,buttonDownAny:oe.buttons!==0,isTouchEvent:te.type==="touch",originalEvent:V.originalEvent,userData:U.userData})}function fn(U,V,te){var oe,Me;oe=U.getActivePointersListByType(te.type),Me=oe.getById(te.id),Me?te=Me:(te.captured=!1,te.insideElementPressed=!1),U.outHandler&&U.outHandler({eventSource:U,pointerType:te.type,position:te.currentPos&&he(te.currentPos,U.element),buttons:oe.buttons,pointers:U.getActivePointerCount(),insideElementPressed:te.insideElementPressed,buttonDownAny:oe.buttons!==0,isTouchEvent:te.type==="touch",originalEvent:V.originalEvent,userData:U.userData})}function Xt(U,V,te,oe){var Me=a[U.hash],Qe=U.getActivePointersListByType(te.type),Ft;if(typeof V.originalEvent.buttons<"u"?Qe.buttons=V.originalEvent.buttons:oe===0?Qe.buttons|=1:oe===1?Qe.buttons|=4:oe===2?Qe.buttons|=2:oe===3?Qe.buttons|=8:oe===4?Qe.buttons|=16:oe===5&&(Qe.buttons|=32),oe!==0){V.shouldCapture=!1,V.shouldReleaseCapture=!1,U.nonPrimaryPressHandler&&!V.preventGesture&&!V.defaultPrevented&&(V.preventDefault=!0,U.nonPrimaryPressHandler({eventSource:U,pointerType:te.type,position:he(te.currentPos,U.element),button:oe,buttons:Qe.buttons,isTouchEvent:te.type==="touch",originalEvent:V.originalEvent,userData:U.userData}));return}if(Ft=Qe.getById(te.id),Ft)Ft.insideElementPressed=!0,Ft.insideElement=!0,Ft.originalTarget=V.originalEvent.target,Ft.contactPos=te.currentPos,Ft.contactTime=te.currentTime,Ft.lastPos=Ft.currentPos,Ft.lastTime=Ft.currentTime,Ft.currentPos=te.currentPos,Ft.currentTime=te.currentTime,te=Ft;else{o.console.warn("pointerdown event on untracked pointer"),te.captured=!1,te.insideElementPressed=!0,te.insideElement=!0,te.originalTarget=V.originalEvent.target,ue(Qe,te);return}Qe.addContact(),!V.preventGesture&&!V.defaultPrevented?(V.shouldCapture=!0,V.shouldReleaseCapture=!1,V.preventDefault=!0,(U.dragHandler||U.dragEndHandler||U.pinchHandler)&&o.MouseTracker.gesturePointVelocityTracker.addPoint(U,te),Qe.contacts===1?U.pressHandler&&!V.preventGesture&&U.pressHandler({eventSource:U,pointerType:te.type,position:he(te.contactPos,U.element),buttons:Qe.buttons,isTouchEvent:te.type==="touch",originalEvent:V.originalEvent,userData:U.userData}):Qe.contacts===2&&U.pinchHandler&&te.type==="touch"&&(Me.pinchGPoints=Qe.asArray(),Me.lastPinchDist=Me.currentPinchDist=Me.pinchGPoints[0].currentPos.distanceTo(Me.pinchGPoints[1].currentPos),Me.lastPinchCenter=Me.currentPinchCenter=z(Me.pinchGPoints[0].currentPos,Me.pinchGPoints[1].currentPos))):(V.shouldCapture=!1,V.shouldReleaseCapture=!1)}function Hn(U,V,te,oe){var Me=a[U.hash],Qe=U.getActivePointersListByType(te.type),Ft,Cn,jt,Bi=!1,ni;if(typeof V.originalEvent.buttons<"u"?Qe.buttons=V.originalEvent.buttons:oe===0?Qe.buttons^=-2:oe===1?Qe.buttons^=-5:oe===2?Qe.buttons^=-3:oe===3?Qe.buttons^=-9:oe===4?Qe.buttons^=-17:oe===5&&(Qe.buttons^=-33),V.shouldCapture=!1,oe!==0){V.shouldReleaseCapture=!1,U.nonPrimaryReleaseHandler&&!V.preventGesture&&!V.defaultPrevented&&(V.preventDefault=!0,U.nonPrimaryReleaseHandler({eventSource:U,pointerType:te.type,position:he(te.currentPos,U.element),button:oe,buttons:Qe.buttons,isTouchEvent:te.type==="touch",originalEvent:V.originalEvent,userData:U.userData}));return}jt=Qe.getById(te.id),jt?(Qe.removeContact(),jt.captured&&(Bi=!0),jt.lastPos=jt.currentPos,jt.lastTime=jt.currentTime,jt.currentPos=te.currentPos,jt.currentTime=te.currentTime,jt.insideElement||De(U,Qe,jt),Ft=jt.currentPos,Cn=jt.currentTime):(o.console.warn("updatePointerUp(): pointerup on untracked gPoint"),te.captured=!1,te.insideElementPressed=!1,te.insideElement=!0,ue(Qe,te),jt=te),!V.preventGesture&&!V.defaultPrevented&&(Bi?(V.shouldReleaseCapture=!0,V.preventDefault=!0,(U.dragHandler||U.dragEndHandler||U.pinchHandler)&&o.MouseTracker.gesturePointVelocityTracker.removePoint(U,jt),Qe.contacts===0?(U.releaseHandler&&U.releaseHandler({eventSource:U,pointerType:jt.type,position:he(Ft,U.element),buttons:Qe.buttons,insideElementPressed:jt.insideElementPressed,insideElementReleased:jt.insideElement,isTouchEvent:jt.type==="touch",originalEvent:V.originalEvent,userData:U.userData}),U.dragEndHandler&&Me.sentDragEvent&&U.dragEndHandler({eventSource:U,pointerType:jt.type,position:he(jt.currentPos,U.element),speed:jt.speed,direction:jt.direction,shift:V.originalEvent.shiftKey,isTouchEvent:jt.type==="touch",originalEvent:V.originalEvent,userData:U.userData}),Me.sentDragEvent=!1,(U.clickHandler||U.dblClickHandler)&&jt.insideElement&&(ni=Cn-jt.contactTime<=U.clickTimeThreshold&&jt.contactPos.distanceTo(Ft)<=U.clickDistThreshold,U.clickHandler&&U.clickHandler({eventSource:U,pointerType:jt.type,position:he(jt.currentPos,U.element),quick:ni,shift:V.originalEvent.shiftKey,isTouchEvent:jt.type==="touch",originalEvent:V.originalEvent,originalTarget:jt.originalTarget,userData:U.userData}),U.dblClickHandler&&ni&&(Qe.clicks++,Qe.clicks===1?(Me.lastClickPos=Ft,Me.dblClickTimeOut=setTimeout(function(){Qe.clicks=0},U.dblClickTimeThreshold)):Qe.clicks===2&&(clearTimeout(Me.dblClickTimeOut),Qe.clicks=0,Me.lastClickPos.distanceTo(Ft)<=U.dblClickDistThreshold&&U.dblClickHandler({eventSource:U,pointerType:jt.type,position:he(jt.currentPos,U.element),shift:V.originalEvent.shiftKey,isTouchEvent:jt.type==="touch",originalEvent:V.originalEvent,userData:U.userData}),Me.lastClickPos=null)))):Qe.contacts===2&&U.pinchHandler&&jt.type==="touch"&&(Me.pinchGPoints=Qe.asArray(),Me.lastPinchDist=Me.currentPinchDist=Me.pinchGPoints[0].currentPos.distanceTo(Me.pinchGPoints[1].currentPos),Me.lastPinchCenter=Me.currentPinchCenter=z(Me.pinchGPoints[0].currentPos,Me.pinchGPoints[1].currentPos))):(V.shouldReleaseCapture=!1,U.releaseHandler&&(U.releaseHandler({eventSource:U,pointerType:jt.type,position:he(Ft,U.element),buttons:Qe.buttons,insideElementPressed:jt.insideElementPressed,insideElementReleased:jt.insideElement,isTouchEvent:jt.type==="touch",originalEvent:V.originalEvent,userData:U.userData}),V.preventDefault=!0)))}function cn(U,V,te){var oe=a[U.hash],Me=U.getActivePointersListByType(te.type),Qe,Ft,Cn;if(typeof V.originalEvent.buttons<"u"&&(Me.buttons=V.originalEvent.buttons),Qe=Me.getById(te.id),Qe)Qe.lastPos=Qe.currentPos,Qe.lastTime=Qe.currentTime,Qe.currentPos=te.currentPos,Qe.currentTime=te.currentTime;else return;V.shouldCapture=!1,V.shouldReleaseCapture=!1,U.stopHandler&&te.type==="mouse"&&(clearTimeout(U.stopTimeOut),U.stopTimeOut=setTimeout(function(){Qr(U,V.originalEvent,te.type)},U.stopDelay)),Me.contacts===0?U.moveHandler&&U.moveHandler({eventSource:U,pointerType:te.type,position:he(te.currentPos,U.element),buttons:Me.buttons,isTouchEvent:te.type==="touch",originalEvent:V.originalEvent,userData:U.userData}):Me.contacts===1?(U.moveHandler&&(Qe=Me.asArray()[0],U.moveHandler({eventSource:U,pointerType:Qe.type,position:he(Qe.currentPos,U.element),buttons:Me.buttons,isTouchEvent:Qe.type==="touch",originalEvent:V.originalEvent,userData:U.userData})),U.dragHandler&&!V.preventGesture&&!V.defaultPrevented&&(Qe=Me.asArray()[0],Cn=Qe.currentPos.minus(Qe.lastPos),U.dragHandler({eventSource:U,pointerType:Qe.type,position:he(Qe.currentPos,U.element),buttons:Me.buttons,delta:Cn,speed:Qe.speed,direction:Qe.direction,shift:V.originalEvent.shiftKey,isTouchEvent:Qe.type==="touch",originalEvent:V.originalEvent,userData:U.userData}),V.preventDefault=!0,oe.sentDragEvent=!0)):Me.contacts===2&&(U.moveHandler&&(Ft=Me.asArray(),U.moveHandler({eventSource:U,pointerType:Ft[0].type,position:he(z(Ft[0].currentPos,Ft[1].currentPos),U.element),buttons:Me.buttons,isTouchEvent:Ft[0].type==="touch",originalEvent:V.originalEvent,userData:U.userData})),U.pinchHandler&&te.type==="touch"&&!V.preventGesture&&!V.defaultPrevented&&(Cn=oe.pinchGPoints[0].currentPos.distanceTo(oe.pinchGPoints[1].currentPos),Cn!==oe.currentPinchDist&&(oe.lastPinchDist=oe.currentPinchDist,oe.currentPinchDist=Cn,oe.lastPinchCenter=oe.currentPinchCenter,oe.currentPinchCenter=z(oe.pinchGPoints[0].currentPos,oe.pinchGPoints[1].currentPos),U.pinchHandler({eventSource:U,pointerType:"touch",gesturePoints:oe.pinchGPoints,lastCenter:he(oe.lastPinchCenter,U.element),center:he(oe.currentPinchCenter,U.element),lastDistance:oe.lastPinchDist,distance:oe.currentPinchDist,shift:V.originalEvent.shiftKey,originalEvent:V.originalEvent,userData:U.userData}),V.preventDefault=!0)))}function di(U,V,te){var oe=U.getActivePointersListByType(te.type),Me;Me=oe.getById(te.id),Me&&De(U,oe,Me)}function Qr(U,V,te){U.stopHandler&&U.stopHandler({eventSource:U,pointerType:te,position:re(V,U.element),buttons:U.getActivePointersListByType(te).buttons,isTouchEvent:te==="touch",originalEvent:V,userData:U.userData})}}(c),function(o){o.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},o.Control=function(a,u,m){var v=a.parentNode;typeof u=="number"&&(o.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),u={anchor:u}),u.attachToViewer=typeof u.attachToViewer>"u"?!0:u.attachToViewer,this.autoFade=typeof u.autoFade>"u"?!0:u.autoFade,this.element=a,this.anchor=u.anchor,this.container=m,this.anchor===o.ControlAnchor.ABSOLUTE?(this.wrapper=o.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof u.top=="number"?u.top+"px":u.top,this.wrapper.style.left=typeof u.left=="number"?u.left+"px":u.left,this.wrapper.style.height=typeof u.height=="number"?u.height+"px":u.height,this.wrapper.style.width=typeof u.width=="number"?u.width+"px":u.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=o.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===o.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),u.attachToViewer?this.anchor===o.ControlAnchor.TOP_RIGHT||this.anchor===o.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):v.appendChild(this.wrapper)},o.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==o.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(a){this.wrapper.style.display=a?this.anchor===o.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(a){this.element[o.SIGNAL]&&o.Browser.vendor===o.BROWSERS.IE?o.setElementOpacity(this.element,a,!0):o.setElementOpacity(this.wrapper,a,!0)}}}(c),function(o){o.ControlDock=function(u){var m=["topleft","topright","bottomright","bottomleft"],v,b;for(o.extend(!0,this,{id:"controldock-"+o.now()+"-"+Math.floor(Math.random()*1e6),container:o.makeNeutralElement("div"),controls:[]},u),this.container.onsubmit=function(){return!1},this.element&&(this.element=o.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),b=0;b<m.length;b++)v=m[b],this.controls[v]=o.makeNeutralElement("div"),this.controls[v].style.position="absolute",v.match("left")&&(this.controls[v].style.left="0px"),v.match("right")&&(this.controls[v].style.right="0px"),v.match("top")&&(this.controls[v].style.top="0px"),v.match("bottom")&&(this.controls[v].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},o.ControlDock.prototype={addControl:function(u,m){u=o.getElement(u);var v=null;if(!(a(this,u)>=0)){switch(m.anchor){case o.ControlAnchor.TOP_RIGHT:v=this.controls.topright,u.style.position="relative",u.style.paddingRight="0px",u.style.paddingTop="0px";break;case o.ControlAnchor.BOTTOM_RIGHT:v=this.controls.bottomright,u.style.position="relative",u.style.paddingRight="0px",u.style.paddingBottom="0px";break;case o.ControlAnchor.BOTTOM_LEFT:v=this.controls.bottomleft,u.style.position="relative",u.style.paddingLeft="0px",u.style.paddingBottom="0px";break;case o.ControlAnchor.TOP_LEFT:v=this.controls.topleft,u.style.position="relative",u.style.paddingLeft="0px",u.style.paddingTop="0px";break;case o.ControlAnchor.ABSOLUTE:v=this.container,u.style.margin="0px",u.style.padding="0px";break;default:case o.ControlAnchor.NONE:v=this.container,u.style.margin="0px",u.style.padding="0px";break}this.controls.push(new o.Control(u,m,v)),u.style.display="inline-block"}},removeControl:function(u){u=o.getElement(u);var m=a(this,u);return m>=0&&(this.controls[m].destroy(),this.controls.splice(m,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var u;for(u=this.controls.length-1;u>=0;u--)if(this.controls[u].isVisible())return!0;return!1},setControlsEnabled:function(u){var m;for(m=this.controls.length-1;m>=0;m--)this.controls[m].setVisible(u);return this}};function a(u,m){var v=u.controls,b;for(b=v.length-1;b>=0;b--)if(v[b].element===m)return b;return-1}}(c),function(o){o.Placement=o.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(c),function(o){var a={},u=1;o.Viewer=function(j){var ue=arguments,De=this,Ze;if(o.isPlainObject(j)||(j={id:ue[0],xmlPath:ue.length>1?ue[1]:void 0,prefixUrl:ue.length>2?ue[2]:void 0,controls:ue.length>3?ue[3]:void 0,overlays:ue.length>4?ue[4]:void 0}),j.config&&(o.extend(!0,j,j.config),delete j.config),o.extend(!0,this,{id:j.id,hash:j.hash||u++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},o.DEFAULT_SETTINGS,j),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof a[this.hash]<"u"&&o.console.warn("Hash "+this.hash+" has already been used."),a[this.hash]={fsBoundsDelta:new o.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=o.now(),o.EventSource.call(this),this.addHandler("open-failed",function(Ge){var kt=o.getString("Errors.OpenFailed",Ge.eventSource,Ge.message);De._showMessage(kt)}),o.ControlDock.call(this,j),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=o.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(Ge){Ge.width="100%",Ge.height="100%",Ge.overflow="hidden",Ge.position="absolute",Ge.top="0px",Ge.left="0px"}(this.canvas.style),o.setElementTouchActionNone(this.canvas),j.tabIndex!==""&&(this.canvas.tabIndex=j.tabIndex===void 0?0:j.tabIndex),this.container.className="openseadragon-container",function(Ge){Ge.width="100%",Ge.height="100%",Ge.position="relative",Ge.overflow="hidden",Ge.left="0px",Ge.top="0px",Ge.textAlign="left"}(this.container.style),o.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new o.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:o.delegate(this,re),keyDownHandler:o.delegate(this,he),keyHandler:o.delegate(this,z),clickHandler:o.delegate(this,ae),dblClickHandler:o.delegate(this,we),dragHandler:o.delegate(this,ye),dragEndHandler:o.delegate(this,Ce),enterHandler:o.delegate(this,Pe),leaveHandler:o.delegate(this,Xe),pressHandler:o.delegate(this,Je),releaseHandler:o.delegate(this,dt),nonPrimaryPressHandler:o.delegate(this,mt),nonPrimaryReleaseHandler:o.delegate(this,ht),scrollHandler:o.delegate(this,Pt),pinchHandler:o.delegate(this,Rt)}),this.outerTracker=new o.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:o.delegate(this,qt),leaveHandler:o.delegate(this,Gt)}),this.toolbar&&(this.toolbar=new o.ControlDock({element:this.toolbar})),this.bindStandardControls(),a[this.hash].prevContainerSize=m(this.container),this.world=new o.World({viewer:this}),this.world.addHandler("add-item",function(Ge){De.source=De.world.getItemAt(0).source,a[De.hash].forceRedraw=!0,De._updateRequestId||(De._updateRequestId=x(De,Zt))}),this.world.addHandler("remove-item",function(Ge){De.world.getItemCount()?De.source=De.world.getItemAt(0).source:De.source=null,a[De.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(Ge){De.viewport&&De.viewport._setContentBounds(De.world.getHomeBounds(),De.world.getContentFactor())}),this.world.addHandler("item-index-change",function(Ge){De.source=De.world.getItemAt(0).source}),this.viewport=new o.Viewport({containerSize:a[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new o.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:j.timeout}),this.tileCache=new o.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new o.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=o.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(Ze=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(Ze,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(Ze=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(Ze,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new o.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),Ze=0;Ze<this.customControls.length;Ze++)this.addControl(this.customControls[Ze].id,{anchor:this.customControls[Ze].anchor});o.requestAnimationFrame(function(){O(De)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),o._viewers.set(this.element,this)},o.extend(o.Viewer.prototype,o.EventSource.prototype,o.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(j){return o.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(j)},openTileSource:function(j){return o.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(j)},open:function(j,ue){var De=this;if(this.close(),!j)return this;if(this.sequenceMode&&o.isArray(j))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof ue<"u"&&!isNaN(ue)&&(this.initialPage=ue),this.tileSources=j,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(o.isArray(j)||(j=[j]),!j.length)return this;this._opening=!0;for(var Ze=j.length,Ge=0,kt=0,ft,pn=function(){if(Ge+kt===Ze)if(Ge){(De._firstOpen||!De.preserveViewport)&&(De.viewport.goHome(!0),De.viewport.update()),De._firstOpen=!1;var Xt=j[0];if(Xt.tileSource&&(Xt=Xt.tileSource),De.overlays&&!De.preserveOverlays)for(var Hn=0;Hn<De.overlays.length;Hn++)De.currentOverlays[Hn]=b(De,De.overlays[Hn]);De._drawOverlays(),De._opening=!1,De.raiseEvent("open",{source:Xt})}else De._opening=!1,De.raiseEvent("open-failed",ft)},An=function(Xt){(!o.isPlainObject(Xt)||!Xt.tileSource)&&(Xt={tileSource:Xt}),Xt.index!==void 0&&(o.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete Xt.index),Xt.collectionImmediately===void 0&&(Xt.collectionImmediately=!0);var Hn=Xt.success;Xt.success=function(di){if(Ge++,Xt.tileSource.overlays)for(var Qr=0;Qr<Xt.tileSource.overlays.length;Qr++)De.addOverlay(Xt.tileSource.overlays[Qr]);Hn&&Hn(di),pn()};var cn=Xt.error;Xt.error=function(di){kt++,ft||(ft=di),cn&&cn(di),pn()},De.addTiledImage(Xt)},fn=0;fn<j.length;fn++)An(j[fn]);return this},close:function(){return a[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),a[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(a[this.hash]){if(this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(o.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),a[this.navigator.hash]=null,delete a[this.navigator.hash],this.navigator=null),this.removeAllHandlers(),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),a[this.hash]=null,delete a[this.hash],this.canvas=null,this.container=null,o._viewers.delete(this.element),this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(j){return this.innerTracker.setTracking(j),this.outerTracker.setTracking(j),this.raiseEvent("mouse-enabled",{enabled:j}),this},areControlsEnabled:function(){var j=this.controls.length,ue;for(ue=0;ue<this.controls.length;ue++)j=j&&this.controls[ue].isVisible();return j},setControlsEnabled:function(j){return j?B(this):O(this),this.raiseEvent("controls-enabled",{enabled:j}),this},setDebugMode:function(j){for(var ue=0;ue<this.world.getItemCount();ue++)this.world.getItemAt(ue).debugMode=j;this.debugMode=j,this.forceRedraw()},isFullPage:function(){return a[this.hash].fullPage},setFullPage:function(j){var ue=document.body,De=ue.style,Ze=document.documentElement.style,Ge=this,kt,ft;if(j===this.isFullPage())return this;var pn={fullPage:j,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",pn),pn.preventDefaultAction)return this;if(j){for(this.elementSize=o.getElementSize(this.element),this.pageScroll=o.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=De.margin,this.docMargin=Ze.margin,De.margin="0",Ze.margin="0",this.bodyPadding=De.padding,this.docPadding=Ze.padding,De.padding="0",Ze.padding="0",this.bodyWidth=De.width,this.docWidth=Ze.width,De.width="100%",Ze.width="100%",this.bodyHeight=De.height,this.docHeight=Ze.height,De.height="100%",Ze.height="100%",this.bodyDisplay=De.display,De.display="block",this.previousBody=[],a[this.hash].prevElementParent=this.element.parentNode,a[this.hash].prevNextSibling=this.element.nextSibling,a[this.hash].prevElementWidth=this.element.style.width,a[this.hash].prevElementHeight=this.element.style.height,kt=ue.childNodes.length,ft=0;ft<kt;ft++)this.previousBody.push(ue.childNodes[0]),ue.removeChild(ue.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,ue.appendChild(this.toolbar.element),o.addClass(this.toolbar.element,"fullpage")),o.addClass(this.element,"fullpage"),ue.appendChild(this.element),this.element.style.height=o.getWindowSize().y+"px",this.element.style.width=o.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=o.getElementSize(this.element).y-o.getElementSize(this.toolbar.element).y+"px"),a[this.hash].fullPage=!0,o.delegate(this,qt)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,De.margin=this.bodyMargin,Ze.margin=this.docMargin,De.padding=this.bodyPadding,Ze.padding=this.docPadding,De.width=this.bodyWidth,Ze.width=this.docWidth,De.height=this.bodyHeight,Ze.height=this.docHeight,De.display=this.bodyDisplay,ue.removeChild(this.element),kt=this.previousBody.length,ft=0;ft<kt;ft++)ue.appendChild(this.previousBody.shift());o.removeClass(this.element,"fullpage"),a[this.hash].prevElementParent.insertBefore(this.element,a[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(ue.removeChild(this.toolbar.element),o.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=a[this.hash].prevElementWidth,this.element.style.height=a[this.hash].prevElementHeight;var An=0,fn=function(){o.setPageScroll(Ge.pageScroll);var Xt=o.getPageScroll();An++,An<10&&(Xt.x!==Ge.pageScroll.x||Xt.y!==Ge.pageScroll.y)&&o.requestAnimationFrame(fn)};o.requestAnimationFrame(fn),a[this.hash].fullPage=!1,o.delegate(this,Gt)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:j}),this},setFullScreen:function(j){var ue=this;if(!o.supportsFullScreen)return this.setFullPage(j);if(o.isFullScreen()===j)return this;var De={fullScreen:j,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",De),De.preventDefaultAction)return this;if(j){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var Ze=function(){var Ge=o.isFullScreen();Ge||(o.removeEvent(document,o.fullScreenEventName,Ze),o.removeEvent(document,o.fullScreenErrorEventName,Ze),ue.setFullPage(!1),ue.isFullPage()&&(ue.element.style.width=ue.fullPageStyleWidth,ue.element.style.height=ue.fullPageStyleHeight)),ue.navigator&&ue.viewport&&setTimeout(function(){ue.navigator.update(ue.viewport)}),ue.raiseEvent("full-screen",{fullScreen:Ge})};o.addEvent(document,o.fullScreenEventName,Ze),o.addEvent(document,o.fullScreenErrorEventName,Ze),o.requestFullScreen(document.body)}else o.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},setVisible:function(j){return this.container.style.visibility=j?"":"hidden",this.raiseEvent("visible",{visible:j}),this},addTiledImage:function(j){o.console.assert(j,"[Viewer.addTiledImage] options is required"),o.console.assert(j.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),o.console.assert(!j.replace||j.index>-1&&j.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var ue=this;j.replace&&(j.replaceItem=ue.world.getItemAt(j.index)),this._hideMessage(),j.placeholderFillStyle===void 0&&(j.placeholderFillStyle=this.placeholderFillStyle),j.opacity===void 0&&(j.opacity=this.opacity),j.preload===void 0&&(j.preload=this.preload),j.compositeOperation===void 0&&(j.compositeOperation=this.compositeOperation),j.crossOriginPolicy===void 0&&(j.crossOriginPolicy=j.tileSource.crossOriginPolicy!==void 0?j.tileSource.crossOriginPolicy:this.crossOriginPolicy),j.ajaxWithCredentials===void 0&&(j.ajaxWithCredentials=this.ajaxWithCredentials),j.loadTilesWithAjax===void 0&&(j.loadTilesWithAjax=this.loadTilesWithAjax),j.ajaxHeaders===void 0||j.ajaxHeaders===null?j.ajaxHeaders=this.ajaxHeaders:o.isPlainObject(j.ajaxHeaders)&&o.isPlainObject(this.ajaxHeaders)&&(j.ajaxHeaders=o.extend({},this.ajaxHeaders,j.ajaxHeaders));var De={options:j};function Ze(ft){for(var pn=0;pn<ue._loadQueue.length;pn++)if(ue._loadQueue[pn]===De){ue._loadQueue.splice(pn,1);break}ue._loadQueue.length===0&&Ge(De),ue.raiseEvent("add-item-failed",ft),j.error&&j.error(ft)}function Ge(ft){ue.collectionMode&&(ue.world.arrange({immediately:ft.options.collectionImmediately,rows:ue.collectionRows,columns:ue.collectionColumns,layout:ue.collectionLayout,tileSize:ue.collectionTileSize,tileMargin:ue.collectionTileMargin}),ue.world.setAutoRefigureSizes(!0))}if(o.isArray(j.tileSource)){setTimeout(function(){Ze({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:j.tileSource,options:j})});return}this._loadQueue.push(De);function kt(){for(var ft,pn,An;ue._loadQueue.length&&(ft=ue._loadQueue[0],!!ft.tileSource);){if(ue._loadQueue.splice(0,1),ft.options.replace){var fn=ue.world.getIndexOfItem(ft.options.replaceItem);fn!==-1&&(ft.options.index=fn),ue.world.removeItem(ft.options.replaceItem)}pn=new o.TiledImage({viewer:ue,source:ft.tileSource,viewport:ue.viewport,drawer:ue.drawer,tileCache:ue.tileCache,imageLoader:ue.imageLoader,x:ft.options.x,y:ft.options.y,width:ft.options.width,height:ft.options.height,fitBounds:ft.options.fitBounds,fitBoundsPlacement:ft.options.fitBoundsPlacement,clip:ft.options.clip,placeholderFillStyle:ft.options.placeholderFillStyle,opacity:ft.options.opacity,preload:ft.options.preload,degrees:ft.options.degrees,flipped:ft.options.flipped,compositeOperation:ft.options.compositeOperation,springStiffness:ue.springStiffness,animationTime:ue.animationTime,minZoomImageRatio:ue.minZoomImageRatio,wrapHorizontal:ue.wrapHorizontal,wrapVertical:ue.wrapVertical,immediateRender:ue.immediateRender,blendTime:ue.blendTime,alwaysBlend:ue.alwaysBlend,minPixelRatio:ue.minPixelRatio,smoothTileEdgesMinZoom:ue.smoothTileEdgesMinZoom,iOSDevice:ue.iOSDevice,crossOriginPolicy:ft.options.crossOriginPolicy,ajaxWithCredentials:ft.options.ajaxWithCredentials,loadTilesWithAjax:ft.options.loadTilesWithAjax,ajaxHeaders:ft.options.ajaxHeaders,debugMode:ue.debugMode}),ue.collectionMode&&ue.world.setAutoRefigureSizes(!1),ue.navigator&&(An=o.extend({},ft.options,{replace:!1,originalTiledImage:pn,tileSource:ft.tileSource}),ue.navigator.addTiledImage(An)),ue.world.addItem(pn,{index:ft.options.index}),ue._loadQueue.length===0&&Ge(ft),ue.world.getItemCount()===1&&!ue.preserveViewport&&ue.viewport.goHome(!0),ft.options.success&&ft.options.success({item:pn})}}v(this,j.tileSource,j,function(ft){De.tileSource=ft,kt()},function(ft){ft.options=j,Ze(ft),kt()})},addSimpleImage:function(j){o.console.assert(j,"[Viewer.addSimpleImage] options is required"),o.console.assert(j.url,"[Viewer.addSimpleImage] options.url is required");var ue=o.extend({},j,{tileSource:{type:"image",url:j.url}});delete ue.url,this.addTiledImage(ue)},addLayer:function(j){var ue=this;o.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var De=o.extend({},j,{success:function(Ze){ue.raiseEvent("add-layer",{options:j,drawer:Ze.item})},error:function(Ze){ue.raiseEvent("add-layer-failed",Ze)}});return this.addTiledImage(De),this},getLayerAtLevel:function(j){return o.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(j)},getLevelOfLayer:function(j){return o.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(j)},getLayersCount:function(){return o.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(j,ue){return o.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(j,ue)},removeLayer:function(j){return o.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(j)},forceRedraw:function(){return a[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var j=o.delegate(this,X),ue=o.delegate(this,le),De=o.delegate(this,this.goToNextPage),Ze=o.delegate(this,this.goToPreviousPage),Ge=this.navImages,kt=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(kt=!1),this.previousButton=new o.Button({element:this.previousButton?o.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.PreviousPage"),srcRest:pt(this.prefixUrl,Ge.previous.REST),srcGroup:pt(this.prefixUrl,Ge.previous.GROUP),srcHover:pt(this.prefixUrl,Ge.previous.HOVER),srcDown:pt(this.prefixUrl,Ge.previous.DOWN),onRelease:Ze,onFocus:j,onBlur:ue}),this.nextButton=new o.Button({element:this.nextButton?o.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.NextPage"),srcRest:pt(this.prefixUrl,Ge.next.REST),srcGroup:pt(this.prefixUrl,Ge.next.GROUP),srcHover:pt(this.prefixUrl,Ge.next.HOVER),srcDown:pt(this.prefixUrl,Ge.next.DOWN),onRelease:De,onFocus:j,onBlur:ue}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),kt&&(this.paging=new o.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:o.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||o.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var j=o.delegate(this,tn),ue=o.delegate(this,nt),De=o.delegate(this,ut),Ze=o.delegate(this,We),Ge=o.delegate(this,Mt),kt=o.delegate(this,Ln),ft=o.delegate(this,dn),pn=o.delegate(this,Ji),An=o.delegate(this,Oi),fn=o.delegate(this,Hi),Xt=o.delegate(this,X),Hn=o.delegate(this,le),cn=this.navImages,di=[],Qr=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(Qr=!1),this.showZoomControl&&(di.push(this.zoomInButton=new o.Button({element:this.zoomInButton?o.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.ZoomIn"),srcRest:pt(this.prefixUrl,cn.zoomIn.REST),srcGroup:pt(this.prefixUrl,cn.zoomIn.GROUP),srcHover:pt(this.prefixUrl,cn.zoomIn.HOVER),srcDown:pt(this.prefixUrl,cn.zoomIn.DOWN),onPress:j,onRelease:ue,onClick:De,onEnter:j,onExit:ue,onFocus:Xt,onBlur:Hn})),di.push(this.zoomOutButton=new o.Button({element:this.zoomOutButton?o.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.ZoomOut"),srcRest:pt(this.prefixUrl,cn.zoomOut.REST),srcGroup:pt(this.prefixUrl,cn.zoomOut.GROUP),srcHover:pt(this.prefixUrl,cn.zoomOut.HOVER),srcDown:pt(this.prefixUrl,cn.zoomOut.DOWN),onPress:Ze,onRelease:ue,onClick:Ge,onEnter:Ze,onExit:ue,onFocus:Xt,onBlur:Hn}))),this.showHomeControl&&di.push(this.homeButton=new o.Button({element:this.homeButton?o.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.Home"),srcRest:pt(this.prefixUrl,cn.home.REST),srcGroup:pt(this.prefixUrl,cn.home.GROUP),srcHover:pt(this.prefixUrl,cn.home.HOVER),srcDown:pt(this.prefixUrl,cn.home.DOWN),onRelease:kt,onFocus:Xt,onBlur:Hn})),this.showFullPageControl&&di.push(this.fullPageButton=new o.Button({element:this.fullPageButton?o.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.FullPage"),srcRest:pt(this.prefixUrl,cn.fullpage.REST),srcGroup:pt(this.prefixUrl,cn.fullpage.GROUP),srcHover:pt(this.prefixUrl,cn.fullpage.HOVER),srcDown:pt(this.prefixUrl,cn.fullpage.DOWN),onRelease:ft,onFocus:Xt,onBlur:Hn})),this.showRotationControl&&(di.push(this.rotateLeftButton=new o.Button({element:this.rotateLeftButton?o.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.RotateLeft"),srcRest:pt(this.prefixUrl,cn.rotateleft.REST),srcGroup:pt(this.prefixUrl,cn.rotateleft.GROUP),srcHover:pt(this.prefixUrl,cn.rotateleft.HOVER),srcDown:pt(this.prefixUrl,cn.rotateleft.DOWN),onRelease:pn,onFocus:Xt,onBlur:Hn})),di.push(this.rotateRightButton=new o.Button({element:this.rotateRightButton?o.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.RotateRight"),srcRest:pt(this.prefixUrl,cn.rotateright.REST),srcGroup:pt(this.prefixUrl,cn.rotateright.GROUP),srcHover:pt(this.prefixUrl,cn.rotateright.HOVER),srcDown:pt(this.prefixUrl,cn.rotateright.DOWN),onRelease:An,onFocus:Xt,onBlur:Hn}))),this.showFlipControl&&di.push(this.flipButton=new o.Button({element:this.flipButton?o.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:o.getString("Tooltips.Flip"),srcRest:pt(this.prefixUrl,cn.flip.REST),srcGroup:pt(this.prefixUrl,cn.flip.GROUP),srcHover:pt(this.prefixUrl,cn.flip.HOVER),srcDown:pt(this.prefixUrl,cn.flip.DOWN),onRelease:fn,onFocus:Xt,onBlur:Hn})),Qr?(this.buttonGroup=new o.ButtonGroup({buttons:di,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",o.delegate(this,yn)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||o.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||o.ControlAnchor.TOP_LEFT})):this.customButtons=di),this},currentPage:function(){return this._sequenceIndex},goToPage:function(j){return this.tileSources&&j>=0&&j<this.tileSources.length&&(this._sequenceIndex=j,this._updateSequenceButtons(j),this.open(this.tileSources[j]),this.referenceStrip&&this.referenceStrip.setFocus(j),this.raiseEvent("page",{page:j})),this},addOverlay:function(j,ue,De,Ze){var Ge;if(o.isPlainObject(j)?Ge=j:Ge={element:j,location:ue,placement:De,onDraw:Ze},j=o.getElement(Ge.element),w(this.currentOverlays,j)>=0)return this;var kt=b(this,Ge);return this.currentOverlays.push(kt),kt.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:j,location:Ge.location,placement:Ge.placement}),this},updateOverlay:function(j,ue,De){var Ze;return j=o.getElement(j),Ze=w(this.currentOverlays,j),Ze>=0&&(this.currentOverlays[Ze].update(ue,De),a[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:j,location:ue,placement:De})),this},removeOverlay:function(j){var ue;return j=o.getElement(j),ue=w(this.currentOverlays,j),ue>=0&&(this.currentOverlays[ue].destroy(),this.currentOverlays.splice(ue,1),a[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:j})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return a[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(j){var ue;return j=o.getElement(j),ue=w(this.currentOverlays,j),ue>=0?this.currentOverlays[ue]:null},_updateSequenceButtons:function(j){this.nextButton&&(!this.tileSources||this.tileSources.length-1===j?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(j>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(j){this._hideMessage();var ue=o.makeNeutralElement("div");ue.appendChild(document.createTextNode(j)),this.messageDiv=o.makeCenteredNode(ue),o.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var j=this.messageDiv;j&&(j.parentNode.removeChild(j),delete this.messageDiv)},gestureSettingsByDeviceType:function(j){switch(j){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var j,ue=this.currentOverlays.length;for(j=0;j<ue;j++)this.currentOverlays[j].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new o.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else o.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),o.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){o.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var j=o.pixelDensityRatio,ue=o.getCurrentPixelDensityRatio();j!==ue&&(o.pixelDensityRatio=ue,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var j=this._sequenceIndex-1;this.navPrevNextWrap&&j<0&&(j+=this.tileSources.length),this.goToPage(j)},goToNextPage:function(){var j=this._sequenceIndex+1;this.navPrevNextWrap&&j>=this.tileSources.length&&(j=0),this.goToPage(j)}});function m(j){return j=o.getElement(j),new o.Point(j.clientWidth===0?1:j.clientWidth,j.clientHeight===0?1:j.clientHeight)}function v(j,ue,De,Ze,Ge){var kt=j;if(o.type(ue)==="string"){if(ue.match(/^\s*<.*>\s*$/))ue=o.parseXml(ue);else if(ue.match(/^\s*[{[].*[}\]]\s*$/))try{var ft=o.parseJSON(ue);ue=ft}catch{}}function pn(An,fn){An.ready?Ze(An):(An.addHandler("ready",function(){Ze(An)}),An.addHandler("open-failed",function(Xt){Ge({message:Xt.message,source:fn})}))}setTimeout(function(){if(o.type(ue)==="string")ue=new o.TileSource({url:ue,crossOriginPolicy:De.crossOriginPolicy!==void 0?De.crossOriginPolicy:j.crossOriginPolicy,ajaxWithCredentials:j.ajaxWithCredentials,ajaxHeaders:De.ajaxHeaders?De.ajaxHeaders:j.ajaxHeaders,useCanvas:j.useCanvas,success:function(Hn){Ze(Hn.tileSource)}}),ue.addHandler("open-failed",function(Hn){Ge(Hn)});else if(o.isPlainObject(ue)||ue.nodeType)if(ue.crossOriginPolicy===void 0&&(De.crossOriginPolicy!==void 0||j.crossOriginPolicy!==void 0)&&(ue.crossOriginPolicy=De.crossOriginPolicy!==void 0?De.crossOriginPolicy:j.crossOriginPolicy),ue.ajaxWithCredentials===void 0&&(ue.ajaxWithCredentials=j.ajaxWithCredentials),ue.useCanvas===void 0&&(ue.useCanvas=j.useCanvas),o.isFunction(ue.getTileUrl)){var An=new o.TileSource(ue);An.getTileUrl=ue.getTileUrl,Ze(An)}else{var fn=o.TileSource.determineType(kt,ue);if(!fn){Ge({message:"Unable to load TileSource",source:ue});return}var Xt=fn.prototype.configure.apply(kt,[ue]);pn(new fn(Xt),ue)}else pn(ue,ue)})}function b(j,ue){if(ue instanceof o.Overlay)return ue;var De=null;if(ue.element)De=o.getElement(ue.element);else{var Ze=ue.id?ue.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);De=o.getElement(ue.id),De||(De=document.createElement("a"),De.href="#/overlay/"+Ze),De.id=Ze,o.addClass(De,ue.className?ue.className:"openseadragon-overlay")}var Ge=ue.location,kt=ue.width,ft=ue.height;if(!Ge){var pn=ue.x,An=ue.y;if(ue.px!==void 0){var fn=j.viewport.imageToViewportRectangle(new o.Rect(ue.px,ue.py,kt||0,ft||0));pn=fn.x,An=fn.y,kt=kt!==void 0?fn.width:void 0,ft=ft!==void 0?fn.height:void 0}Ge=new o.Point(pn,An)}var Xt=ue.placement;return Xt&&o.type(Xt)==="string"&&(Xt=o.Placement[ue.placement.toUpperCase()]),new o.Overlay({element:De,location:Ge,placement:Xt,onDraw:ue.onDraw,checkResize:ue.checkResize,width:kt,height:ft,rotationMode:ue.rotationMode})}function w(j,ue){var De;for(De=j.length-1;De>=0;De--)if(j[De].element===ue)return De;return-1}function x(j,ue){return o.requestAnimationFrame(function(){ue(j)})}function E(j){o.requestAnimationFrame(function(){A(j)})}function O(j){!j.autoHideControls||(j.controlsShouldFade=!0,j.controlsFadeBeginTime=o.now()+j.controlsFadeDelay,window.setTimeout(function(){E(j)},j.controlsFadeDelay))}function A(j){var ue,De,Ze,Ge;if(j.controlsShouldFade){for(ue=o.now(),De=ue-j.controlsFadeBeginTime,Ze=1-De/j.controlsFadeLength,Ze=Math.min(1,Ze),Ze=Math.max(0,Ze),Ge=j.controls.length-1;Ge>=0;Ge--)j.controls[Ge].autoFade&&j.controls[Ge].setOpacity(Ze);Ze>0&&E(j)}}function B(j){var ue;for(j.controlsShouldFade=!1,ue=j.controls.length-1;ue>=0;ue--)j.controls[ue].setOpacity(1)}function X(){B(this)}function le(){O(this)}function re(j){var ue={tracker:j.eventSource,position:j.position,originalEvent:j.originalEvent,preventDefault:j.preventDefault};this.raiseEvent("canvas-contextmenu",ue),j.preventDefault=ue.preventDefault}function he(j){var ue={originalEvent:j.originalEvent,preventDefaultAction:!1,preventVerticalPan:j.preventVerticalPan,preventHorizontalPan:j.preventHorizontalPan};if(this.raiseEvent("canvas-key",ue),!ue.preventDefaultAction&&!j.ctrl&&!j.alt&&!j.meta)switch(j.keyCode){case 38:ue.preventVerticalPan||(j.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),j.preventDefault=!0;break;case 40:ue.preventVerticalPan||(j.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),j.preventDefault=!0;break;case 37:ue.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),j.preventDefault=!0;break;case 39:ue.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),j.preventDefault=!0;break;default:j.preventDefault=!1;break}else j.preventDefault=!1}function z(j){var ue={originalEvent:j.originalEvent,preventDefaultAction:!1,preventVerticalPan:j.preventVerticalPan,preventHorizontalPan:j.preventHorizontalPan};if(this.raiseEvent("canvas-key",ue),!ue.preventDefaultAction&&!j.ctrl&&!j.alt&&!j.meta)switch(j.keyCode){case 43:case 61:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),j.preventDefault=!0;break;case 45:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),j.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),j.preventDefault=!0;break;case 119:case 87:ue.preventVerticalPan||(j.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(0,-40))),this.viewport.applyConstraints()),j.preventDefault=!0;break;case 115:case 83:ue.preventVerticalPan||(j.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(0,40))),this.viewport.applyConstraints()),j.preventDefault=!0;break;case 97:ue.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(-40,0))),this.viewport.applyConstraints()),j.preventDefault=!0;break;case 100:ue.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new o.Point(40,0))),this.viewport.applyConstraints()),j.preventDefault=!0;break;case 114:this.viewport.flipped?this.viewport.setRotation(o.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(o.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),j.preventDefault=!0;break;case 82:this.viewport.flipped?this.viewport.setRotation(o.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(o.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),j.preventDefault=!0;break;case 102:this.viewport.toggleFlip(),j.preventDefault=!0;break;case 106:this.goToPreviousPage();break;case 107:this.goToNextPage();break;default:j.preventDefault=!1;break}else j.preventDefault=!1}function ae(j){var ue,De=document.activeElement===this.canvas;De||this.canvas.focus(),this.viewport.flipped&&(j.position.x=this.viewport.getContainerSize().x-j.position.x);var Ze={tracker:j.eventSource,position:j.position,quick:j.quick,shift:j.shift,originalEvent:j.originalEvent,originalTarget:j.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",Ze),!Ze.preventDefaultAction&&this.viewport&&j.quick&&(ue=this.gestureSettingsByDeviceType(j.pointerType),ue.clickToZoom&&(this.viewport.zoomBy(j.shift?1/this.zoomPerClick:this.zoomPerClick,ue.zoomToRefPoint?this.viewport.pointFromPixel(j.position,!0):null),this.viewport.applyConstraints()))}function we(j){var ue,De={tracker:j.eventSource,position:j.position,shift:j.shift,originalEvent:j.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",De),!De.preventDefaultAction&&this.viewport&&(ue=this.gestureSettingsByDeviceType(j.pointerType),ue.dblClickToZoom&&(this.viewport.zoomBy(j.shift?1/this.zoomPerClick:this.zoomPerClick,ue.zoomToRefPoint?this.viewport.pointFromPixel(j.position,!0):null),this.viewport.applyConstraints()))}function ye(j){var ue,De={tracker:j.eventSource,pointerType:j.pointerType,position:j.position,delta:j.delta,speed:j.speed,direction:j.direction,shift:j.shift,originalEvent:j.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",De),ue=this.gestureSettingsByDeviceType(j.pointerType),ue.dragToPan&&!De.preventDefaultAction&&this.viewport){if(this.panHorizontal||(j.delta.x=0),this.panVertical||(j.delta.y=0),this.viewport.flipped&&(j.delta.x=-j.delta.x),this.constrainDuringPan){var Ze=this.viewport.deltaPointsFromPixels(j.delta.negate());this.viewport.centerSpringX.target.value+=Ze.x,this.viewport.centerSpringY.target.value+=Ze.y;var Ge=this.viewport.getBounds(),kt=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=Ze.x,this.viewport.centerSpringY.target.value-=Ze.y,Ge.x!==kt.x&&(j.delta.x=0),Ge.y!==kt.y&&(j.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(j.delta.negate()),ue.flickEnabled&&!this.constrainDuringPan)}}function Ce(j){var ue={tracker:j.eventSource,pointerType:j.pointerType,position:j.position,speed:j.speed,direction:j.direction,shift:j.shift,originalEvent:j.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",ue),!ue.preventDefaultAction&&this.viewport){var De=this.gestureSettingsByDeviceType(j.pointerType);if(De.flickEnabled&&j.speed>=De.flickMinSpeed){var Ze=0;this.panHorizontal&&(Ze=De.flickMomentum*j.speed*Math.cos(j.direction));var Ge=0;this.panVertical&&(Ge=De.flickMomentum*j.speed*Math.sin(j.direction));var kt=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),ft=this.viewport.pointFromPixel(new o.Point(kt.x-Ze,kt.y-Ge));this.viewport.panTo(ft,!1)}this.viewport.applyConstraints()}}function Pe(j){this.raiseEvent("canvas-enter",{tracker:j.eventSource,pointerType:j.pointerType,position:j.position,buttons:j.buttons,pointers:j.pointers,insideElementPressed:j.insideElementPressed,buttonDownAny:j.buttonDownAny,originalEvent:j.originalEvent})}function Xe(j){this.raiseEvent("canvas-exit",{tracker:j.eventSource,pointerType:j.pointerType,position:j.position,buttons:j.buttons,pointers:j.pointers,insideElementPressed:j.insideElementPressed,buttonDownAny:j.buttonDownAny,originalEvent:j.originalEvent})}function Je(j){this.raiseEvent("canvas-press",{tracker:j.eventSource,pointerType:j.pointerType,position:j.position,insideElementPressed:j.insideElementPressed,insideElementReleased:j.insideElementReleased,originalEvent:j.originalEvent})}function dt(j){this.raiseEvent("canvas-release",{tracker:j.eventSource,pointerType:j.pointerType,position:j.position,insideElementPressed:j.insideElementPressed,insideElementReleased:j.insideElementReleased,originalEvent:j.originalEvent})}function mt(j){this.raiseEvent("canvas-nonprimary-press",{tracker:j.eventSource,position:j.position,pointerType:j.pointerType,button:j.button,buttons:j.buttons,originalEvent:j.originalEvent})}function ht(j){this.raiseEvent("canvas-nonprimary-release",{tracker:j.eventSource,position:j.position,pointerType:j.pointerType,button:j.button,buttons:j.buttons,originalEvent:j.originalEvent})}function Rt(j){var ue,De,Ze,Ge,kt={tracker:j.eventSource,pointerType:j.pointerType,gesturePoints:j.gesturePoints,lastCenter:j.lastCenter,center:j.center,lastDistance:j.lastDistance,distance:j.distance,shift:j.shift,originalEvent:j.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",kt),this.viewport&&(ue=this.gestureSettingsByDeviceType(j.pointerType),ue.pinchToZoom&&(!kt.preventDefaultPanAction||!kt.preventDefaultZoomAction)&&(De=this.viewport.pointFromPixel(j.center,!0),kt.preventDefaultZoomAction||this.viewport.zoomBy(j.distance/j.lastDistance,De,!0),ue.zoomToRefPoint&&!kt.preventDefaultPanAction&&(Ze=this.viewport.pointFromPixel(j.lastCenter,!0),Ge=Ze.minus(De),this.panHorizontal||(Ge.x=0),this.panVertical||(Ge.y=0),this.viewport.panBy(Ge,!0)),this.viewport.applyConstraints()),ue.pinchRotate&&!kt.preventDefaultRotateAction)){var ft=Math.atan2(j.gesturePoints[0].currentPos.y-j.gesturePoints[1].currentPos.y,j.gesturePoints[0].currentPos.x-j.gesturePoints[1].currentPos.x),pn=Math.atan2(j.gesturePoints[0].lastPos.y-j.gesturePoints[1].lastPos.y,j.gesturePoints[0].lastPos.x-j.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(ft-pn)*(180/Math.PI))}}function Pt(j){var ue,De,Ze,Ge,kt;Ge=o.now(),kt=Ge-this._lastScrollTime,kt>this.minScrollDeltaTime?(this._lastScrollTime=Ge,ue={tracker:j.eventSource,position:j.position,scroll:j.scroll,shift:j.shift,originalEvent:j.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",ue),!ue.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(j.position.x=this.viewport.getContainerSize().x-j.position.x),De=this.gestureSettingsByDeviceType(j.pointerType),De.scrollToZoom&&(Ze=Math.pow(this.zoomPerScroll,j.scroll),this.viewport.zoomBy(Ze,De.zoomToRefPoint?this.viewport.pointFromPixel(j.position,!0):null),this.viewport.applyConstraints())),j.preventDefault=ue.preventDefault):j.preventDefault=!0}function qt(j){a[this.hash].mouseInside=!0,B(this),this.raiseEvent("container-enter",{tracker:j.eventSource,pointerType:j.pointerType,position:j.position,buttons:j.buttons,pointers:j.pointers,insideElementPressed:j.insideElementPressed,buttonDownAny:j.buttonDownAny,originalEvent:j.originalEvent})}function Gt(j){j.pointers<1&&(a[this.hash].mouseInside=!1,a[this.hash].animating||O(this)),this.raiseEvent("container-exit",{tracker:j.eventSource,pointerType:j.pointerType,position:j.position,buttons:j.buttons,pointers:j.pointers,insideElementPressed:j.insideElementPressed,buttonDownAny:j.buttonDownAny,originalEvent:j.originalEvent})}function Zt(j){hn(j),j.isOpen()?j._updateRequestId=x(j,Zt):j._updateRequestId=!1}function hn(j){if(!(j._opening||!a[j.hash])){if(j.autoResize){var ue=m(j.container),De=a[j.hash].prevContainerSize;if(!ue.equals(De)){var Ze=j.viewport;if(j.preserveImageSizeOnResize){var Ge=De.x/ue.x,kt=Ze.getZoom()*Ge,ft=Ze.getCenter();Ze.resize(ue,!1),Ze.zoomTo(kt,null,!0),Ze.panTo(ft,!0)}else{var pn=Ze.getBounds();Ze.resize(ue,!0),Ze.fitBoundsWithConstraints(pn,!0)}a[j.hash].prevContainerSize=ue,a[j.hash].forceRedraw=!0}}var An=j.viewport.update(),fn=j.world.update()||An;An&&j.raiseEvent("viewport-change"),j.referenceStrip&&(fn=j.referenceStrip.update(j.viewport)||fn),!a[j.hash].animating&&fn&&(j.raiseEvent("animation-start"),B(j)),(fn||a[j.hash].forceRedraw||j.world.needsDraw())&&(Tn(j),j._drawOverlays(),j.navigator&&j.navigator.update(j.viewport),a[j.hash].forceRedraw=!1,fn&&j.raiseEvent("animation")),a[j.hash].animating&&!fn&&(j.raiseEvent("animation-finish"),a[j.hash].mouseInside||O(j)),a[j.hash].animating=fn}}function Tn(j){j.imageLoader.clear(),j.drawer.clear(),j.world.draw(),j.raiseEvent("update-viewport",{})}function pt(j,ue){return j?j+ue:ue}function tn(){a[this.hash].lastZoomTime=o.now(),a[this.hash].zoomFactor=this.zoomPerSecond,a[this.hash].zooming=!0,ot(this)}function We(){a[this.hash].lastZoomTime=o.now(),a[this.hash].zoomFactor=1/this.zoomPerSecond,a[this.hash].zooming=!0,ot(this)}function nt(){a[this.hash].zooming=!1}function ot(j){o.requestAnimationFrame(o.delegate(j,it))}function it(){var j,ue,De;a[this.hash].zooming&&this.viewport&&(j=o.now(),ue=j-a[this.hash].lastZoomTime,De=Math.pow(a[this.hash].zoomFactor,ue/1e3),this.viewport.zoomBy(De),this.viewport.applyConstraints(),a[this.hash].lastZoomTime=j,ot(this))}function ut(){this.viewport&&(a[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function Mt(){this.viewport&&(a[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function yn(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function Ln(){this.viewport&&this.viewport.goHome()}function dn(){this.isFullPage()&&!o.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function Ji(){if(this.viewport){var j=this.viewport.getRotation();this.viewport.flipped?j=o.positiveModulo(j+this.rotationIncrement,360):j=o.positiveModulo(j-this.rotationIncrement,360),this.viewport.setRotation(j)}}function Oi(){if(this.viewport){var j=this.viewport.getRotation();this.viewport.flipped?j=o.positiveModulo(j-this.rotationIncrement,360):j=o.positiveModulo(j+this.rotationIncrement,360),this.viewport.setRotation(j)}}function Hi(){this.viewport.toggleFlip()}}(c),function(o){o.Navigator=function(x){var E=x.viewer,O=this,A,B;x.id?(this.element=document.getElementById(x.id),x.controlOptions={anchor:o.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(x.id="navigator-"+o.now(),this.element=o.makeNeutralElement("div"),x.controlOptions={anchor:o.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:x.autoFade},x.position&&(x.position==="BOTTOM_RIGHT"?x.controlOptions.anchor=o.ControlAnchor.BOTTOM_RIGHT:x.position==="BOTTOM_LEFT"?x.controlOptions.anchor=o.ControlAnchor.BOTTOM_LEFT:x.position==="TOP_RIGHT"?x.controlOptions.anchor=o.ControlAnchor.TOP_RIGHT:x.position==="TOP_LEFT"?x.controlOptions.anchor=o.ControlAnchor.TOP_LEFT:x.position==="ABSOLUTE"&&(x.controlOptions.anchor=o.ControlAnchor.ABSOLUTE,x.controlOptions.top=x.top,x.controlOptions.left=x.left,x.controlOptions.height=x.height,x.controlOptions.width=x.width))),this.element.id=x.id,this.element.className+=" navigator",x=o.extend(!0,{sizeRatio:o.DEFAULT_SETTINGS.navigatorSizeRatio},x,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:x.autoResize,minZoomImageRatio:1,background:x.background,opacity:x.opacity,borderColor:x.borderColor,displayRegionColor:x.displayRegionColor}),x.minPixelRatio=this.minPixelRatio=E.minPixelRatio,o.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new o.Point(1,1),this.totalBorderWidths=new o.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),x.controlOptions.anchor!==o.ControlAnchor.NONE&&function(re,he){re.margin="0px",re.border=he+"px solid "+x.borderColor,re.padding="0px",re.background=x.background,re.opacity=x.opacity,re.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=o.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(re,he){re.position="relative",re.top="0px",re.left="0px",re.fontSize="0px",re.overflow="hidden",re.border=he+"px solid "+x.displayRegionColor,re.margin="0px",re.padding="0px",re.background="transparent",re.float="left",re.cssFloat="left",re.styleFloat="left",re.zIndex=999999999,re.cursor="default"}(this.displayRegion.style,this.borderWidth),o.setElementPointerEventsNone(this.displayRegion),o.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=o.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",o.setElementPointerEventsNone(this.displayRegionContainer),o.setElementTouchActionNone(this.displayRegionContainer),E.addControl(this.element,x.controlOptions),this._resizeWithViewer=x.controlOptions.anchor!==o.ControlAnchor.ABSOLUTE&&x.controlOptions.anchor!==o.ControlAnchor.NONE,x.width&&x.height?(this.setWidth(x.width),this.setHeight(x.height)):this._resizeWithViewer&&(A=o.getElementSize(E.element),this.element.style.height=Math.round(A.y*x.sizeRatio)+"px",this.element.style.width=Math.round(A.x*x.sizeRatio)+"px",this.oldViewerSize=A,B=o.getElementSize(this.element),this.elementArea=B.x*B.y),this.oldContainerSize=new o.Point(0,0),o.Viewer.apply(this,[x]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function X(re){b(O.displayRegionContainer,re),b(O.displayRegion,-re),O.viewport.setRotation(re)}if(x.navigatorRotate){var le=x.viewer.viewport?x.viewer.viewport.getRotation():x.viewer.degrees||0;X(le),x.viewer.addHandler("rotate",function(re){X(re.degrees)})}this.innerTracker.destroy(),this.innerTracker=new o.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:o.delegate(this,u),clickHandler:o.delegate(this,a),releaseHandler:o.delegate(this,m),scrollHandler:o.delegate(this,v),preProcessEventHandler:function(re){re.eventType==="wheel"&&(re.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",o.setElementPointerEventsNone(this.canvas),o.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){O.viewport&&O.viewport.goHome(!0)}),E.world.addHandler("item-index-change",function(re){window.setTimeout(function(){var he=O.world.getItemAt(re.previousIndex);O.world.setItemIndex(he,re.newIndex)},1)}),E.world.addHandler("remove-item",function(re){var he=re.item,z=O._getMatchingItem(he);z&&O.world.removeItem(z)}),this.update(E.viewport)},o.extend(o.Navigator.prototype,o.EventSource.prototype,o.Viewer.prototype,{updateSize:function(){if(this.viewport){var x=new o.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);x.equals(this.oldContainerSize)||(this.viewport.resize(x,!0),this.viewport.goHome(!0),this.oldContainerSize=x,this.drawer.clear(),this.world.draw())}},setWidth:function(x){this.width=x,this.element.style.width=typeof x=="number"?x+"px":x,this._resizeWithViewer=!1},setHeight:function(x){this.height=x,this.element.style.height=typeof x=="number"?x+"px":x,this._resizeWithViewer=!1},setFlip:function(x){return this.viewport.setFlip(x),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(x){w(this.displayRegion,x),w(this.canvas,x),w(this.element,x)},update:function(x){var E,O,A,B,X,le;if(E=o.getElementSize(this.viewer.element),this._resizeWithViewer&&E.x&&E.y&&!E.equals(this.oldViewerSize)&&(this.oldViewerSize=E,this.maintainSizeRatio||!this.elementArea?(O=E.x*this.sizeRatio,A=E.y*this.sizeRatio):(O=Math.sqrt(this.elementArea*(E.x/E.y)),A=this.elementArea/O),this.element.style.width=Math.round(O)+"px",this.element.style.height=Math.round(A)+"px",this.elementArea||(this.elementArea=O*A),this.updateSize()),x&&this.viewport){B=x.getBoundsNoRotate(!0),X=this.viewport.pixelFromPointNoRotate(B.getTopLeft(),!1),le=this.viewport.pixelFromPointNoRotate(B.getBottomRight(),!1).minus(this.totalBorderWidths);var re=this.displayRegion.style;re.display=this.world.getItemCount()?"block":"none",re.top=Math.round(X.y)+"px",re.left=Math.round(X.x)+"px";var he=Math.abs(X.x-le.x),z=Math.abs(X.y-le.y);re.width=Math.round(Math.max(he,0))+"px",re.height=Math.round(Math.max(z,0))+"px"}},addTiledImage:function(x){var E=this,O=x.originalTiledImage;delete x.original;var A=o.extend({},x,{success:function(B){var X=B.item;X._originalForNavigator=O,E._matchBounds(X,O,!0),E._matchOpacity(X,O),E._matchCompositeOperation(X,O);function le(){E._matchBounds(X,O)}function re(){E._matchOpacity(X,O)}function he(){E._matchCompositeOperation(X,O)}O.addHandler("bounds-change",le),O.addHandler("clip-change",le),O.addHandler("opacity-change",re),O.addHandler("composite-operation-change",he)}});return o.Viewer.prototype.addTiledImage.apply(this,[A])},destroy:function(){return o.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(x){for(var E=this.world.getItemCount(),O,A=0;A<E;A++)if(O=this.world.getItemAt(A),O._originalForNavigator===x)return O;return null},_matchBounds:function(x,E,O){var A=E.getBoundsNoRotate();x.setPosition(A.getTopLeft(),O),x.setWidth(A.width,O),x.setRotation(E.getRotation(),O),x.setClip(E.getClip()),x.setFlip(E.getFlip())},_matchOpacity:function(x,E){x.setOpacity(E.opacity)},_matchCompositeOperation:function(x,E){x.setCompositeOperation(E.compositeOperation)}});function a(x){var E={tracker:x.eventSource,position:x.position,quick:x.quick,shift:x.shift,originalEvent:x.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",E),!E.preventDefaultAction&&x.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(x.position.x=this.viewport.getContainerSize().x-x.position.x);var O=this.viewport.pointFromPixel(x.position);this.panVertical?this.panHorizontal||(O.x=this.viewer.viewport.getCenter(!0).x):O.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(O),this.viewer.viewport.applyConstraints()}}function u(x){var E={tracker:x.eventSource,position:x.position,delta:x.delta,speed:x.speed,direction:x.direction,shift:x.shift,originalEvent:x.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",E),!E.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(x.delta.x=0),this.panVertical||(x.delta.y=0),this.viewer.viewport.flipped&&(x.delta.x=-x.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(x.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function m(x){x.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function v(x){var E={tracker:x.eventSource,position:x.position,scroll:x.scroll,shift:x.shift,originalEvent:x.originalEvent,preventDefault:x.preventDefault};this.viewer.raiseEvent("navigator-scroll",E),x.preventDefault=E.preventDefault}function b(x,E){w(x,"rotate("+E+"deg)")}function w(x,E){x.style.webkitTransform=E,x.style.mozTransform=E,x.style.msTransform=E,x.style.oTransform=E,x.style.transform=E}}(c),function(o){var a={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};o.extend(o,{getString:function(u){var m=u.split("."),v=null,b=arguments,w=a,x;for(x=0;x<m.length-1;x++)w=w[m[x]]||{};return v=w[m[x]],typeof v!="string"&&(o.console.log("Untranslated source string:",u),v=""),v.replace(/\{\d+\}/g,function(E){var O=parseInt(E.match(/\d+/),10)+1;return O<b.length?b[O]:""})},setString:function(u,m){var v=u.split("."),b=a,w;for(w=0;w<v.length-1;w++)b[v[w]]||(b[v[w]]={}),b=b[v[w]];b[v[w]]=m}})}(c),function(o){o.Point=function(a,u){this.x=typeof a=="number"?a:0,this.y=typeof u=="number"?u:0},o.Point.prototype={clone:function(){return new o.Point(this.x,this.y)},plus:function(a){return new o.Point(this.x+a.x,this.y+a.y)},minus:function(a){return new o.Point(this.x-a.x,this.y-a.y)},times:function(a){return new o.Point(this.x*a,this.y*a)},divide:function(a){return new o.Point(this.x/a,this.y/a)},negate:function(){return new o.Point(-this.x,-this.y)},distanceTo:function(a){return Math.sqrt(Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2))},squaredDistanceTo:function(a){return Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2)},apply:function(a){return new o.Point(a(this.x),a(this.y))},equals:function(a){return a instanceof o.Point&&this.x===a.x&&this.y===a.y},rotate:function(a,u){u=u||new o.Point(0,0);var m,v;if(a%90===0){var b=o.positiveModulo(a,360);switch(b){case 0:m=1,v=0;break;case 90:m=0,v=1;break;case 180:m=-1,v=0;break;case 270:m=0,v=-1;break}}else{var w=a*Math.PI/180;m=Math.cos(w),v=Math.sin(w)}var x=m*(this.x-u.x)-v*(this.y-u.y)+u.x,E=v*(this.x-u.x)+m*(this.y-u.y)+u.y;return new o.Point(x,E)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(c),function(o){o.TileSource=function(u,m,v,b,w,x){var E=this,O=arguments,A,B;if(o.isPlainObject(u)?A=u:A={width:O[0],height:O[1],tileSize:O[2],tileOverlap:O[3],minLevel:O[4],maxLevel:O[5]},o.EventSource.call(this),o.extend(!0,this,A),!this.success){for(B=0;B<arguments.length;B++)if(o.isFunction(arguments[B])){this.success=arguments[B];break}}this.success&&this.addHandler("ready",function(X){E.success(X)}),o.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new o.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=A.width&&A.height?A.width/A.height:1,this.dimensions=new o.Point(A.width,A.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=A.tileOverlap?A.tileOverlap:0,this.minLevel=A.minLevel?A.minLevel:0,this.maxLevel=A.maxLevel!==void 0&&A.maxLevel!==null?A.maxLevel:A.width&&A.height?Math.ceil(Math.log(Math.max(A.width,A.height))/Math.log(2)):0,this.success&&o.isFunction(this.success)&&this.success(this))},o.TileSource.prototype={getTileSize:function(u){return o.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(u){return this._tileWidth?this._tileWidth:this.getTileSize(u)},getTileHeight:function(u){return this._tileHeight?this._tileHeight:this.getTileSize(u)},setMaxLevel:function(u){this.maxLevel=u,this._memoizeLevelScale()},getLevelScale:function(u){return this._memoizeLevelScale(),this.getLevelScale(u)},_memoizeLevelScale:function(){var u={},m;for(m=0;m<=this.maxLevel;m++)u[m]=1/Math.pow(2,this.maxLevel-m);this.getLevelScale=function(v){return u[v]}},getNumTiles:function(u){var m=this.getLevelScale(u),v=Math.ceil(m*this.dimensions.x/this.getTileWidth(u)),b=Math.ceil(m*this.dimensions.y/this.getTileHeight(u));return new o.Point(v,b)},getPixelRatio:function(u){var m=this.dimensions.times(this.getLevelScale(u)),v=1/m.x*o.pixelDensityRatio,b=1/m.y*o.pixelDensityRatio;return new o.Point(v,b)},getClosestLevel:function(){var u,m;for(u=this.minLevel+1;u<=this.maxLevel&&(m=this.getNumTiles(u),!(m.x>1||m.y>1));u++);return u-1},getTileAtPoint:function(u,m){var v=m.x>=0&&m.x<=1&&m.y>=0&&m.y<=1/this.aspectRatio;o.console.assert(v,"[TileSource.getTileAtPoint] must be called with a valid point.");var b=this.dimensions.x*this.getLevelScale(u),w=m.x*b,x=m.y*b,E=Math.floor(w/this.getTileWidth(u)),O=Math.floor(x/this.getTileHeight(u));m.x>=1&&(E=this.getNumTiles(u).x-1);var A=1e-15;return m.y>=1/this.aspectRatio-A&&(O=this.getNumTiles(u).y-1),new o.Point(E,O)},getTileBounds:function(u,m,v,b){var w=this.dimensions.times(this.getLevelScale(u)),x=this.getTileWidth(u),E=this.getTileHeight(u),O=m===0?0:x*m-this.tileOverlap,A=v===0?0:E*v-this.tileOverlap,B=x+(m===0?1:2)*this.tileOverlap,X=E+(v===0?1:2)*this.tileOverlap,le=1/w.x;return B=Math.min(B,w.x-O),X=Math.min(X,w.y-A),b?new o.Rect(0,0,B,X):new o.Rect(O*le,A*le,B*le,X*le)},getImageInfo:function(u){var m=this,v,b,w,x,E,O,A;u&&(E=u.split("/"),O=E[E.length-1],A=O.lastIndexOf("."),A>-1&&(E[E.length-1]=O.slice(0,A))),b=function(B){typeof B=="string"&&(B=o.parseXml(B));var X=o.TileSource.determineType(m,B,u);if(!X){m.raiseEvent("open-failed",{message:"Unable to load TileSource",source:u});return}x=X.prototype.configure.apply(m,[B,u]),x.ajaxWithCredentials===void 0&&(x.ajaxWithCredentials=m.ajaxWithCredentials),w=new X(x),m.ready=!0,m.raiseEvent("ready",{tileSource:w})},u.match(/\.js$/)?(v=u.split("/").pop().replace(".js",""),o.jsonp({url:u,async:!1,callbackName:v,callback:b})):o.makeAjaxRequest({url:u,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(B){var X=a(B);b(X)},error:function(B,X){var le;try{le="HTTP "+B.status+" attempting to load TileSource"}catch{var re;typeof X>"u"||!X.toString?re="Unknown error":re=X.toString(),le=re+" attempting to load TileSource"}m.raiseEvent("open-failed",{message:le,source:u})}})},supports:function(u,m){return!1},configure:function(u,m){throw new Error("Method not implemented.")},getTileUrl:function(u,m,v){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(u,m,v){return{}},tileExists:function(u,m,v){var b=this.getNumTiles(u);return u>=this.minLevel&&u<=this.maxLevel&&m>=0&&v>=0&&m<b.x&&v<b.y}},o.extend(!0,o.TileSource.prototype,o.EventSource.prototype);function a(u){var m=u.responseText,v=u.status,b,w;if(u){if(u.status!==200&&u.status!==0)throw v=u.status,b=v===404?"Not Found":u.statusText,new Error(o.getString("Errors.Status",v,b))}else throw new Error(o.getString("Errors.Security"));if(m.match(/\s*<.*/))try{w=u.responseXML&&u.responseXML.documentElement?u.responseXML:o.parseXml(m)}catch{w=u.responseText}else if(m.match(/\s*[{[].*/))try{w=o.parseJSON(m)}catch{w=m}else w=m;return w}o.TileSource.determineType=function(u,m,v){var b;for(b in c)if(b.match(/.+TileSource$/)&&o.isFunction(c[b])&&o.isFunction(c[b].prototype.supports)&&c[b].prototype.supports.call(u,m,v))return c[b];return o.console.error("No TileSource was able to open %s %s",v,m),null}}(c),function(o){o.DziTileSource=function(m,v,b,w,x,E,O,A,B){var X,le,re,he;if(o.isPlainObject(m)?he=m:he={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=he.tilesUrl,this.fileFormat=he.fileFormat,this.displayRects=he.displayRects,this.displayRects)for(X=this.displayRects.length-1;X>=0;X--)for(le=this.displayRects[X],re=le.minLevel;re<=le.maxLevel;re++)this._levelRects[re]||(this._levelRects[re]=[]),this._levelRects[re].push(le);o.TileSource.apply(this,[he])},o.extend(o.DziTileSource.prototype,o.TileSource.prototype,{supports:function(m,v){var b;return m.Image?b=m.Image.xmlns:m.documentElement&&(m.documentElement.localName==="Image"||m.documentElement.tagName==="Image")&&(b=m.documentElement.namespaceURI),b=(b||"").toLowerCase(),b.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||b.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(m,v){var b;return o.isPlainObject(m)?b=u(this,m):b=a(this,m),v&&!b.tilesUrl&&(b.tilesUrl=v.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),v.search(/\.(dzi|xml|js)\?/)!==-1?b.queryParams=v.match(/\?.*/):b.queryParams=""),b},getTileUrl:function(m,v,b){return[this.tilesUrl,m,"/",v,"_",b,".",this.fileFormat,this.queryParams].join("")},tileExists:function(m,v,b){var w=this._levelRects[m],x,E,O,A,B,X,le;if(this.minLevel&&m<this.minLevel||this.maxLevel&&m>this.maxLevel)return!1;if(!w||!w.length)return!0;for(le=w.length-1;le>=0;le--)if(x=w[le],!(m<x.minLevel||m>x.maxLevel)&&(E=this.getLevelScale(m),O=x.x*E,A=x.y*E,B=O+x.width*E,X=A+x.height*E,O=Math.floor(O/this._tileWidth),A=Math.floor(A/this._tileWidth),B=Math.ceil(B/this._tileWidth),X=Math.ceil(X/this._tileWidth),O<=v&&v<B&&A<=b&&b<X))return!0;return!1}});function a(m,v){if(!v||!v.documentElement)throw new Error(o.getString("Errors.Xml"));var b=v.documentElement,w=b.localName||b.tagName,x=v.documentElement.namespaceURI,E=null,O=[],A,B,X,le,re;if(w==="Image")try{if(le=b.getElementsByTagName("Size")[0],le===void 0&&(le=b.getElementsByTagNameNS(x,"Size")[0]),E={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:b.getAttribute("Url"),Format:b.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(b.getAttribute("Overlap"),10),TileSize:parseInt(b.getAttribute("TileSize"),10),Size:{Height:parseInt(le.getAttribute("Height"),10),Width:parseInt(le.getAttribute("Width"),10)}}},!o.imageFormatSupported(E.Image.Format))throw new Error(o.getString("Errors.ImageFormat",E.Image.Format.toUpperCase()));for(A=b.getElementsByTagName("DisplayRect"),A===void 0&&(A=b.getElementsByTagNameNS(x,"DisplayRect")[0]),re=0;re<A.length;re++)B=A[re],X=B.getElementsByTagName("Rect")[0],X===void 0&&(X=B.getElementsByTagNameNS(x,"Rect")[0]),O.push({Rect:{X:parseInt(X.getAttribute("X"),10),Y:parseInt(X.getAttribute("Y"),10),Width:parseInt(X.getAttribute("Width"),10),Height:parseInt(X.getAttribute("Height"),10),MinLevel:parseInt(B.getAttribute("MinLevel"),10),MaxLevel:parseInt(B.getAttribute("MaxLevel"),10)}});return O.length&&(E.Image.DisplayRect=O),u(m,E)}catch(ae){throw ae instanceof Error?ae:new Error(o.getString("Errors.Dzi"))}else{if(w==="Collection")throw new Error(o.getString("Errors.Dzc"));if(w==="Error"){var he=b.getElementsByTagName("Message")[0],z=he.firstChild.nodeValue;throw new Error(z)}}throw new Error(o.getString("Errors.Dzi"))}function u(m,v){var b=v.Image,w=b.Url,x=b.Format,E=b.Size,O=b.DisplayRect||[],A=parseInt(E.Width,10),B=parseInt(E.Height,10),X=parseInt(b.TileSize,10),le=parseInt(b.Overlap,10),re=[],he,z;for(z=0;z<O.length;z++)he=O[z].Rect,re.push(new o.DisplayRect(parseInt(he.X,10),parseInt(he.Y,10),parseInt(he.Width,10),parseInt(he.Height,10),parseInt(he.MinLevel,10),parseInt(he.MaxLevel,10)));return o.extend(!0,{width:A,height:B,tileSize:X,tileOverlap:le,minLevel:null,maxLevel:null,tilesUrl:w,fileFormat:x,displayRects:re},v)}}(c),function(o){o.IIIFTileSource=function(b){if(o.extend(!0,this,b),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(b.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=b.version,this.tile_width&&this.tile_height)b.tileWidth=this.tile_width,b.tileHeight=this.tile_height;else if(this.tile_width)b.tileSize=this.tile_width;else if(this.tile_height)b.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)b.tileWidth=this.tiles[0].width,b.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var w=0;w<this.tiles.length;w++)for(var x=0;x<this.tiles[w].scaleFactors.length;x++){var E=this.tiles[w].scaleFactors[x];this.scale_factors.push(E),b.tileSizePerScaleFactor[E]={width:this.tiles[w].width,height:this.tiles[w].height||this.tiles[w].width}}}else if(a(b)){for(var O=Math.min(this.height,this.width),A=[256,512,1024],B=[],X=0;X<A.length;X++)A[X]<=O&&B.push(A[X]);B.length>0?b.tileSize=Math.max.apply(null,B):b.tileSize=O}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,b.levels=u(this),o.extend(!0,b,{width:b.levels[b.levels.length-1].width,height:b.levels[b.levels.length-1].height,tileSize:Math.max(b.height,b.width),tileOverlap:0,minLevel:0,maxLevel:b.levels.length-1}),this.levels=b.levels):o.console.error("Nothing in the info.json to construct image pyramids from");if(!b.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)b.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));else{var le=Math.max.apply(null,this.scale_factors);b.maxLevel=Math.round(Math.log(le)*Math.LOG2E)}o.TileSource.apply(this,[b])},o.extend(o.IIIFTileSource.prototype,o.TileSource.prototype,{supports:function(b,w){return b.protocol&&b.protocol==="http://iiif.io/api/image"||b["@context"]&&(b["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||b["@context"]==="http://iiif.io/api/image/1/context.json")||b.profile&&b.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||b.identifier&&b.width&&b.height?!0:!!(b.documentElement&&b.documentElement.tagName==="info"&&b.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(b,w){if(o.isPlainObject(b)){if(!b["@context"])b["@context"]="http://iiif.io/api/image/1.0/context.json",b["@id"]=w.replace("/info.json",""),b.version=1;else{var x=b["@context"];if(Array.isArray(x)){for(var E=0;E<x.length;E++)if(typeof x[E]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(x[E])||x[E]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){x=x[E];break}}switch(x){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":b.version=1;break;case"http://iiif.io/api/image/2/context.json":b.version=2;break;case"http://iiif.io/api/image/3/context.json":b.version=3;break;default:o.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(!b["@id"]&&b.id&&(b["@id"]=b.id),b.preferredFormats){for(var O=0;O<b.preferredFormats.length;O++)if(c.imageFormatSupported(b.preferredFormats[O])){b.tileFormat=b.preferredFormats[O];break}}return b}else{var A=m(b);return A["@context"]="http://iiif.io/api/image/1.0/context.json",A["@id"]=w.replace("/info.xml",""),A.version=1,A}},getTileWidth:function(b){if(this.emulateLegacyImagePyramid)return o.TileSource.prototype.getTileWidth.call(this,b);var w=Math.pow(2,this.maxLevel-b);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[w]?this.tileSizePerScaleFactor[w].width:this._tileWidth},getTileHeight:function(b){if(this.emulateLegacyImagePyramid)return o.TileSource.prototype.getTileHeight.call(this,b);var w=Math.pow(2,this.maxLevel-b);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[w]?this.tileSizePerScaleFactor[w].height:this._tileHeight},getLevelScale:function(b){if(this.emulateLegacyImagePyramid){var w=NaN;return this.levels.length>0&&b>=this.minLevel&&b<=this.maxLevel&&(w=this.levels[b].width/this.levels[this.maxLevel].width),w}return o.TileSource.prototype.getLevelScale.call(this,b)},getNumTiles:function(b){if(this.emulateLegacyImagePyramid){var w=this.getLevelScale(b);return w?new o.Point(1,1):new o.Point(0,0)}return o.TileSource.prototype.getNumTiles.call(this,b)},getTileAtPoint:function(b,w){return this.emulateLegacyImagePyramid?new o.Point(0,0):o.TileSource.prototype.getTileAtPoint.call(this,b,w)},getTileUrl:function(b,w,x){if(this.emulateLegacyImagePyramid){var E=null;return this.levels.length>0&&b>=this.minLevel&&b<=this.maxLevel&&(E=this.levels[b].url),E}var O="0",A=Math.pow(.5,this.maxLevel-b),B=Math.ceil(this.width*A),X=Math.ceil(this.height*A),le,re,he,z,ae,we,ye,Ce,Pe,Xe,Je,dt,mt,ht;return le=this.getTileWidth(b),re=this.getTileHeight(b),he=Math.ceil(le/A),z=Math.ceil(re/A),this.version===1?mt="native."+this.tileFormat:mt="default."+this.tileFormat,B<le&&X<re?(this.version===2&&B===this.width?Xe="full":this.version===3&&B===this.width&&X===this.height?Xe="max":this.version===3?Xe=B+","+X:Xe=B+",",ae="full"):(we=w*he,ye=x*z,Ce=Math.min(he,this.width-we),Pe=Math.min(z,this.height-ye),w===0&&x===0&&Ce===this.width&&Pe===this.height?ae="full":ae=[we,ye,Ce,Pe].join(","),Je=Math.ceil(Ce*A),dt=Math.ceil(Pe*A),this.version===2&&Je===this.width?Xe="full":this.version===3&&Je===this.width&&dt===this.height?Xe="max":this.version===3?Xe=Je+","+dt:Xe=Je+","),ht=[this["@id"],ae,Xe,O,mt].join("/"),ht},__testonly__:{canBeTiled:a,constructLevels:u}});function a(b){var w=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],x=Array.isArray(b.profile)?b.profile[0]:b.profile,E=w.indexOf(x)!==-1,O=!1;return b.version===2&&b.profile.length>1&&b.profile[1].supports&&(O=b.profile[1].supports.indexOf("sizeByW")!==-1),b.version===3&&b.extraFeatures&&(O=b.extraFeatures.indexOf("sizeByWh")!==-1),!E||O}function u(b){for(var w=[],x=0;x<b.sizes.length;x++)w.push({url:b["@id"]+"/full/"+b.sizes[x].width+","+(b.version===3?b.sizes[x].height:"")+"/0/default."+b.tileFormat,width:b.sizes[x].width,height:b.sizes[x].height});return w.sort(function(E,O){return E.width-O.width})}function m(b){if(!b||!b.documentElement)throw new Error(o.getString("Errors.Xml"));var w=b.documentElement,x=w.tagName,E=null;if(x==="info")try{return E={},v(w,E),E}catch(O){throw O instanceof Error?O:new Error(o.getString("Errors.IIIF"))}throw new Error(o.getString("Errors.IIIF"))}function v(b,w,x){var E,O;if(b.nodeType===3&&x)O=b.nodeValue.trim(),O.match(/^\d*$/)&&(O=Number(O)),w[x]?(o.isArray(w[x])||(w[x]=[w[x]]),w[x].push(O)):w[x]=O;else if(b.nodeType===1)for(E=0;E<b.childNodes.length;E++)v(b.childNodes[E],w,b.nodeName)}}(c),function(o){o.OsmTileSource=function(a,u,m,v,b){var w;o.isPlainObject(a)?w=a:w={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!w.width||!w.height)&&(w.width=65572864,w.height=65572864),w.tileSize||(w.tileSize=256,w.tileOverlap=0),w.tilesUrl||(w.tilesUrl="http://tile.openstreetmap.org/"),w.minLevel=8,o.TileSource.apply(this,[w])},o.extend(o.OsmTileSource.prototype,o.TileSource.prototype,{supports:function(a,u){return a.type&&a.type==="openstreetmaps"},configure:function(a,u){return a},getTileUrl:function(a,u,m){return this.tilesUrl+(a-8)+"/"+u+"/"+m+".png"}})}(c),function(o){o.TmsTileSource=function(a,u,m,v,b){var w;o.isPlainObject(a)?w=a:w={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var x=Math.ceil(w.width/256)*256,E=Math.ceil(w.height/256)*256,O;x>E?O=x/256:O=E/256,w.maxLevel=Math.ceil(Math.log(O)/Math.log(2))-1,w.tileSize=256,w.width=x,w.height=E,o.TileSource.apply(this,[w])},o.extend(o.TmsTileSource.prototype,o.TileSource.prototype,{supports:function(a,u){return a.type&&a.type==="tiledmapservice"},configure:function(a,u){return a},getTileUrl:function(a,u,m){var v=this.getNumTiles(a).y-1;return this.tilesUrl+a+"/"+u+"/"+(v-m)+".png"}})}(c),function(o){o.ZoomifyTileSource=function(a){typeof a.tileSize>"u"&&(a.tileSize=256),typeof a.fileFormat>"u"&&(a.fileFormat="jpg",this.fileFormat=a.fileFormat);var u={x:a.width,y:a.height};for(a.imageSizes=[{x:a.width,y:a.height}],a.gridSize=[this._getGridSize(a.width,a.height,a.tileSize)];parseInt(u.x,10)>a.tileSize||parseInt(u.y,10)>a.tileSize;)u.x=Math.floor(u.x/2),u.y=Math.floor(u.y/2),a.imageSizes.push({x:u.x,y:u.y}),a.gridSize.push(this._getGridSize(u.x,u.y,a.tileSize));a.imageSizes.reverse(),a.gridSize.reverse(),a.minLevel=0,a.maxLevel=a.gridSize.length-1,c.TileSource.apply(this,[a])},o.extend(o.ZoomifyTileSource.prototype,o.TileSource.prototype,{_getGridSize:function(a,u,m){return{x:Math.ceil(a/m),y:Math.ceil(u/m)}},_calculateAbsoluteTileNumber:function(a,u,m){for(var v=0,b={},w=0;w<a;w++)b=this.gridSize[w],v+=b.x*b.y;return b=this.gridSize[a],v+=b.x*m+u,v},supports:function(a,u){return a.type&&a.type==="zoomifytileservice"},configure:function(a,u){return a},getTileUrl:function(a,u,m){var v=0,b=this._calculateAbsoluteTileNumber(a,u,m);return v=Math.floor(b/256),this.tilesUrl+"TileGroup"+v+"/"+a+"-"+u+"-"+m+"."+this.fileFormat}})}(c),function(o){o.LegacyTileSource=function(v){var b,w,x;o.isArray(v)&&(b={type:"legacy-image-pyramid",levels:v}),b.levels=a(b.levels),b.levels.length>0?(w=b.levels[b.levels.length-1].width,x=b.levels[b.levels.length-1].height):(w=0,x=0,o.console.error("No supported image formats found")),o.extend(!0,b,{width:w,height:x,tileSize:Math.max(x,w),tileOverlap:0,minLevel:0,maxLevel:b.levels.length>0?b.levels.length-1:0}),o.TileSource.apply(this,[b]),this.levels=b.levels},o.extend(o.LegacyTileSource.prototype,o.TileSource.prototype,{supports:function(v,b){return v.type&&v.type==="legacy-image-pyramid"||v.documentElement&&v.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(v,b){var w;return o.isPlainObject(v)?w=m(this,v):w=u(this,v),w},getLevelScale:function(v){var b=NaN;return this.levels.length>0&&v>=this.minLevel&&v<=this.maxLevel&&(b=this.levels[v].width/this.levels[this.maxLevel].width),b},getNumTiles:function(v){var b=this.getLevelScale(v);return b?new o.Point(1,1):new o.Point(0,0)},getTileUrl:function(v,b,w){var x=null;return this.levels.length>0&&v>=this.minLevel&&v<=this.maxLevel&&(x=this.levels[v].url),x}});function a(v){var b=[],w,x;for(x=0;x<v.length;x++)w=v[x],w.height&&w.width&&w.url?b.push({url:w.url,width:Number(w.width),height:Number(w.height)}):o.console.error("Unsupported image format: %s",w.url?w.url:"<no URL>");return b.sort(function(E,O){return E.height-O.height})}function u(v,b){if(!b||!b.documentElement)throw new Error(o.getString("Errors.Xml"));var w=b.documentElement,x=w.tagName,E=null,O=[],A,B;if(x==="image")try{for(E={type:w.getAttribute("type"),levels:[]},O=w.getElementsByTagName("level"),B=0;B<O.length;B++)A=O[B],E.levels.push({url:A.getAttribute("url"),width:parseInt(A.getAttribute("width"),10),height:parseInt(A.getAttribute("height"),10)});return m(v,E)}catch(X){throw X instanceof Error?X:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(x==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(x==="error")throw new Error("Error: "+b)}throw new Error("Unknown element "+x)}function m(v,b){return b.levels}}(c),function(o){o.ImageTileSource=function(a){a=o.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},a),o.TileSource.apply(this,[a])},o.extend(o.ImageTileSource.prototype,o.TileSource.prototype,{supports:function(a,u){return a.type&&a.type==="image"},configure:function(a,u){return a},getImageInfo:function(a){var u=this._image=new Image,m=this;this.crossOriginPolicy&&(u.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(u.useCredentials=this.ajaxWithCredentials),o.addEvent(u,"load",function(){m.width=u.naturalWidth,m.height=u.naturalHeight,m.aspectRatio=m.width/m.height,m.dimensions=new o.Point(m.width,m.height),m._tileWidth=m.width,m._tileHeight=m.height,m.tileOverlap=0,m.minLevel=0,m.levels=m._buildLevels(),m.maxLevel=m.levels.length-1,m.ready=!0,m.raiseEvent("ready",{tileSource:m})}),o.addEvent(u,"error",function(){m.raiseEvent("open-failed",{message:"Error loading image at "+a,source:a})}),u.src=a},getLevelScale:function(a){var u=NaN;return a>=this.minLevel&&a<=this.maxLevel&&(u=this.levels[a].width/this.levels[this.maxLevel].width),u},getNumTiles:function(a){var u=this.getLevelScale(a);return u?new o.Point(1,1):new o.Point(0,0)},getTileUrl:function(a,u,m){var v=null;return a>=this.minLevel&&a<=this.maxLevel&&(v=this.levels[a].url),v},getContext2D:function(a,u,m){var v=null;return a>=this.minLevel&&a<=this.maxLevel&&(v=this.levels[a].context2D),v},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var a=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!o.supportsCanvas||!this.useCanvas)return delete this._image,a;var u=this._image.naturalWidth,m=this._image.naturalHeight,v=document.createElement("canvas"),b=v.getContext("2d");if(v.width=u,v.height=m,b.drawImage(this._image,0,0,u,m),a[0].context2D=b,delete this._image,o.isCanvasTainted(v))return a;for(;u>=2&&m>=2;){u=Math.floor(u/2),m=Math.floor(m/2);var w=document.createElement("canvas"),x=w.getContext("2d");w.width=u,w.height=m,x.drawImage(v,0,0,u,m),a.splice(0,0,{context2D:x,width:u,height:m}),v=w,b=x}return a},_freeupCanvasMemory:function(){for(var a=0;a<this.levels.length;a++)this.levels[a].context2D.canvas.height=0,this.levels[a].context2D.canvas.width=0}})}(c),function(o){o.TileSourceCollection=function(a,u,m,v){o.console.error("TileSourceCollection is deprecated; use World instead")}}(c),function(o){o.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},o.Button=function(x){var E=this;o.EventSource.call(this),o.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:o.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:o.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},x),this.element=x.element||o.makeNeutralElement("div"),x.element||(this.imgRest=o.makeTransparentImage(this.srcRest),this.imgGroup=o.makeTransparentImage(this.srcGroup),this.imgHover=o.makeTransparentImage(this.srcHover),this.imgDown=o.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,o.setElementPointerEventsNone(this.imgRest),o.setElementPointerEventsNone(this.imgGroup),o.setElementPointerEventsNone(this.imgHover),o.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",o.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",o.Browser.vendor===o.BROWSERS.FIREFOX&&o.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=o.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new o.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(O){O.insideElementPressed?(b(E,o.ButtonState.DOWN),E.raiseEvent("enter",{originalEvent:O.originalEvent})):O.buttonDownAny||b(E,o.ButtonState.HOVER)},focusHandler:function(O){E.tracker.enterHandler(O),E.raiseEvent("focus",{originalEvent:O.originalEvent})},leaveHandler:function(O){w(E,o.ButtonState.GROUP),O.insideElementPressed&&E.raiseEvent("exit",{originalEvent:O.originalEvent})},blurHandler:function(O){E.tracker.leaveHandler(O),E.raiseEvent("blur",{originalEvent:O.originalEvent})},pressHandler:function(O){b(E,o.ButtonState.DOWN),E.raiseEvent("press",{originalEvent:O.originalEvent})},releaseHandler:function(O){O.insideElementPressed&&O.insideElementReleased?(w(E,o.ButtonState.HOVER),E.raiseEvent("release",{originalEvent:O.originalEvent})):O.insideElementPressed?w(E,o.ButtonState.GROUP):b(E,o.ButtonState.HOVER)},clickHandler:function(O){O.quick&&E.raiseEvent("click",{originalEvent:O.originalEvent})},keyHandler:function(O){O.keyCode===13?(E.raiseEvent("click",{originalEvent:O.originalEvent}),E.raiseEvent("release",{originalEvent:O.originalEvent}),O.preventDefault=!0):O.preventDefault=!1}}),w(this,o.ButtonState.REST)},o.extend(o.Button.prototype,o.EventSource.prototype,{notifyGroupEnter:function(){b(this,o.ButtonState.GROUP)},notifyGroupExit:function(){w(this,o.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,o.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,o.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function a(x){o.requestAnimationFrame(function(){u(x)})}function u(x){var E,O,A;x.shouldFade&&(E=o.now(),O=E-x.fadeBeginTime,A=1-O/x.fadeLength,A=Math.min(1,A),A=Math.max(0,A),x.imgGroup&&o.setElementOpacity(x.imgGroup,A,!0),A>0&&a(x))}function m(x){x.shouldFade=!0,x.fadeBeginTime=o.now()+x.fadeDelay,window.setTimeout(function(){a(x)},x.fadeDelay)}function v(x){x.shouldFade=!1,x.imgGroup&&o.setElementOpacity(x.imgGroup,1,!0)}function b(x,E){x.element.disabled||(E>=o.ButtonState.GROUP&&x.currentState===o.ButtonState.REST&&(v(x),x.currentState=o.ButtonState.GROUP),E>=o.ButtonState.HOVER&&x.currentState===o.ButtonState.GROUP&&(x.imgHover&&(x.imgHover.style.visibility=""),x.currentState=o.ButtonState.HOVER),E>=o.ButtonState.DOWN&&x.currentState===o.ButtonState.HOVER&&(x.imgDown&&(x.imgDown.style.visibility=""),x.currentState=o.ButtonState.DOWN))}function w(x,E){x.element.disabled||(E<=o.ButtonState.HOVER&&x.currentState===o.ButtonState.DOWN&&(x.imgDown&&(x.imgDown.style.visibility="hidden"),x.currentState=o.ButtonState.HOVER),E<=o.ButtonState.GROUP&&x.currentState===o.ButtonState.HOVER&&(x.imgHover&&(x.imgHover.style.visibility="hidden"),x.currentState=o.ButtonState.GROUP),E<=o.ButtonState.REST&&x.currentState===o.ButtonState.GROUP&&(m(x),x.currentState=o.ButtonState.REST))}}(c),function(o){o.ButtonGroup=function(a){o.extend(!0,this,{buttons:[],clickTimeThreshold:o.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:o.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},a);var u=this.buttons.concat([]),m=this,v;if(this.element=a.element||o.makeNeutralElement("div"),!a.group)for(this.element.style.display="inline-block",v=0;v<u.length;v++)this.element.appendChild(u[v].element);o.setElementTouchActionNone(this.element),this.tracker=new o.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(b){var w;for(w=0;w<m.buttons.length;w++)m.buttons[w].notifyGroupEnter()},leaveHandler:function(b){var w;if(!b.insideElementPressed)for(w=0;w<m.buttons.length;w++)m.buttons[w].notifyGroupExit()}})},o.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var a=this.buttons.pop();this.element.removeChild(a.element),a.destroy()}this.tracker.destroy(),this.element=null}}}(c),function(o){o.Rect=function(a,u,m,v,b){this.x=typeof a=="number"?a:0,this.y=typeof u=="number"?u:0,this.width=typeof m=="number"?m:0,this.height=typeof v=="number"?v:0,this.degrees=typeof b=="number"?b:0,this.degrees=o.positiveModulo(this.degrees,360);var w,x;this.degrees>=270?(w=this.getTopRight(),this.x=w.x,this.y=w.y,x=this.height,this.height=this.width,this.width=x,this.degrees-=270):this.degrees>=180?(w=this.getBottomRight(),this.x=w.x,this.y=w.y,this.degrees-=180):this.degrees>=90&&(w=this.getBottomLeft(),this.x=w.x,this.y=w.y,x=this.height,this.height=this.width,this.width=x,this.degrees-=90)},o.Rect.fromSummits=function(a,u,m){var v=a.distanceTo(u),b=a.distanceTo(m),w=u.minus(a),x=Math.atan(w.y/w.x);return w.x<0?x+=Math.PI:w.y<0&&(x+=2*Math.PI),new o.Rect(a.x,a.y,v,b,x/Math.PI*180)},o.Rect.prototype={clone:function(){return new o.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new o.Point(this.x,this.y)},getBottomRight:function(){return new o.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new o.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new o.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new o.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new o.Point(this.width,this.height)},equals:function(a){return a instanceof o.Rect&&this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height&&this.degrees===a.degrees},times:function(a){return new o.Rect(this.x*a,this.y*a,this.width*a,this.height*a,this.degrees)},translate:function(a){return new o.Rect(this.x+a.x,this.y+a.y,this.width,this.height,this.degrees)},union:function(a){var u=this.getBoundingBox(),m=a.getBoundingBox(),v=Math.min(u.x,m.x),b=Math.min(u.y,m.y),w=Math.max(u.x+u.width,m.x+m.width),x=Math.max(u.y+u.height,m.y+m.height);return new o.Rect(v,b,w-v,x-b)},intersection:function(a){var u=1e-10,m=[],v=this.getTopLeft();a.containsPoint(v,u)&&m.push(v);var b=this.getTopRight();a.containsPoint(b,u)&&m.push(b);var w=this.getBottomLeft();a.containsPoint(w,u)&&m.push(w);var x=this.getBottomRight();a.containsPoint(x,u)&&m.push(x);var E=a.getTopLeft();this.containsPoint(E,u)&&m.push(E);var O=a.getTopRight();this.containsPoint(O,u)&&m.push(O);var A=a.getBottomLeft();this.containsPoint(A,u)&&m.push(A);var B=a.getBottomRight();this.containsPoint(B,u)&&m.push(B);for(var X=this._getSegments(),le=a._getSegments(),re=0;re<X.length;re++)for(var he=X[re],z=0;z<le.length;z++){var ae=le[z],we=ye(he[0],he[1],ae[0],ae[1]);we&&m.push(we)}function ye(ht,Rt,Pt,qt){var Gt=Rt.minus(ht),Zt=qt.minus(Pt),hn=-Zt.x*Gt.y+Gt.x*Zt.y;if(hn===0)return null;var Tn=(Gt.x*(ht.y-Pt.y)-Gt.y*(ht.x-Pt.x))/hn,pt=(Zt.x*(ht.y-Pt.y)-Zt.y*(ht.x-Pt.x))/hn;return-1e-10<=Tn&&Tn<=1-u&&-1e-10<=pt&&pt<=1-u?new o.Point(ht.x+pt*Gt.x,ht.y+pt*Gt.y):null}if(m.length===0)return null;for(var Ce=m[0].x,Pe=m[0].x,Xe=m[0].y,Je=m[0].y,dt=1;dt<m.length;dt++){var mt=m[dt];mt.x<Ce&&(Ce=mt.x),mt.x>Pe&&(Pe=mt.x),mt.y<Xe&&(Xe=mt.y),mt.y>Je&&(Je=mt.y)}return new o.Rect(Ce,Xe,Pe-Ce,Je-Xe)},_getSegments:function(){var a=this.getTopLeft(),u=this.getTopRight(),m=this.getBottomLeft(),v=this.getBottomRight();return[[a,u],[u,v],[v,m],[m,a]]},rotate:function(a,u){if(a=o.positiveModulo(a,360),a===0)return this.clone();u=u||this.getCenter();var m=this.getTopLeft().rotate(a,u),v=this.getTopRight().rotate(a,u),b=v.minus(m);b=b.apply(function(x){var E=1e-15;return Math.abs(x)<E?0:x});var w=Math.atan(b.y/b.x);return b.x<0?w+=Math.PI:b.y<0&&(w+=2*Math.PI),new o.Rect(m.x,m.y,this.width,this.height,w/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var a=this.getTopLeft(),u=this.getTopRight(),m=this.getBottomLeft(),v=this.getBottomRight(),b=Math.min(a.x,u.x,m.x,v.x),w=Math.max(a.x,u.x,m.x,v.x),x=Math.min(a.y,u.y,m.y,v.y),E=Math.max(a.y,u.y,m.y,v.y);return new o.Rect(b,x,w-b,E-x)},getIntegerBoundingBox:function(){var a=this.getBoundingBox(),u=Math.floor(a.x),m=Math.floor(a.y),v=Math.ceil(a.width+a.x-u),b=Math.ceil(a.height+a.y-m);return new o.Rect(u,m,v,b)},containsPoint:function(a,u){u=u||0;var m=this.getTopLeft(),v=this.getTopRight(),b=this.getBottomLeft(),w=v.minus(m),x=b.minus(m);return(a.x-m.x)*w.x+(a.y-m.y)*w.y>=-u&&(a.x-v.x)*w.x+(a.y-v.y)*w.y<=u&&(a.x-m.x)*x.x+(a.y-m.y)*x.y>=-u&&(a.x-b.x)*x.x+(a.y-b.y)*x.y<=u},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(c),function(o){var a={};o.ReferenceStrip=function(A){var B=this,X=A.viewer,le=o.getElementSize(X.element),re,he,z;for(A.id||(A.id="referencestrip-"+o.now(),this.element=o.makeNeutralElement("div"),this.element.id=A.id,this.element.className="referencestrip"),A=o.extend(!0,{sizeRatio:o.DEFAULT_SETTINGS.referenceStripSizeRatio,position:o.DEFAULT_SETTINGS.referenceStripPosition,scroll:o.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:o.DEFAULT_SETTINGS.clickTimeThreshold},A,{element:this.element}),o.extend(this,A),a[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,he=this.element.style,he.marginTop="0px",he.marginRight="0px",he.marginBottom="0px",he.marginLeft="0px",he.left="0px",he.bottom="0px",he.border="0px",he.background="#000",he.position="relative",o.setElementTouchActionNone(this.element),o.setElementOpacity(this.element,.8),this.viewer=X,this.tracker=new o.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:o.delegate(this,u),dragHandler:o.delegate(this,m),scrollHandler:o.delegate(this,v),enterHandler:o.delegate(this,w),leaveHandler:o.delegate(this,x),keyDownHandler:o.delegate(this,E),keyHandler:o.delegate(this,O),preProcessEventHandler:function(ae){ae.eventType==="wheel"&&(ae.preventDefault=!0)}}),A.width&&A.height?(this.element.style.width=A.width+"px",this.element.style.height=A.height+"px",X.addControl(this.element,{anchor:o.ControlAnchor.BOTTOM_LEFT})):A.scroll==="horizontal"?(this.element.style.width=le.x*A.sizeRatio*X.tileSources.length+12*X.tileSources.length+"px",this.element.style.height=le.y*A.sizeRatio+"px",X.addControl(this.element,{anchor:o.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=le.y*A.sizeRatio*X.tileSources.length+12*X.tileSources.length+"px",this.element.style.width=le.x*A.sizeRatio+"px",X.addControl(this.element,{anchor:o.ControlAnchor.TOP_LEFT})),this.panelWidth=le.x*this.sizeRatio+8,this.panelHeight=le.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},z=0;z<X.tileSources.length;z++)re=o.makeNeutralElement("div"),re.id=this.element.id+"-"+z,re.style.width=B.panelWidth+"px",re.style.height=B.panelHeight+"px",re.style.display="inline",re.style.float="left",re.style.cssFloat="left",re.style.styleFloat="left",re.style.padding="2px",o.setElementTouchActionNone(re),o.setElementPointerEventsNone(re),this.element.appendChild(re),re.activePanel=!1,this.panels.push(re);b(this,this.scroll==="vertical"?le.y:le.x,0),this.setFocus(0)},o.ReferenceStrip.prototype={setFocus:function(A){var B=this.element.querySelector("#"+this.element.id+"-"+A),X=o.getElementSize(this.viewer.canvas),le=Number(this.element.style.width.replace("px","")),re=Number(this.element.style.height.replace("px","")),he=-Number(this.element.style.marginLeft.replace("px","")),z=-Number(this.element.style.marginTop.replace("px","")),ae;this.currentSelected!==B&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=B,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(ae=Number(A)*(this.panelWidth+3),ae>he+X.x-this.panelWidth?(ae=Math.min(ae,le-X.x),this.element.style.marginLeft=-ae+"px",b(this,X.x,-ae)):ae<he&&(ae=Math.max(0,ae-X.x/2),this.element.style.marginLeft=-ae+"px",b(this,X.x,-ae))):(ae=Number(A)*(this.panelHeight+3),ae>z+X.y-this.panelHeight?(ae=Math.min(ae,re-X.y),this.element.style.marginTop=-ae+"px",b(this,X.y,-ae)):ae<z&&(ae=Math.max(0,ae-X.y/2),this.element.style.marginTop=-ae+"px",b(this,X.y,-ae))),this.currentPage=A,w.call(this,{eventSource:this.tracker}))},update:function(){return a[this.id].animating?(o.console.log("image reference strip update"),!0):!1},destroy:function(){if(this.miniViewers)for(var A in this.miniViewers)this.miniViewers[A].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function u(A){if(A.quick){var B;this.scroll==="horizontal"?B=Math.floor(A.position.x/this.panelWidth):B=Math.floor(A.position.y/this.panelHeight),this.viewer.goToPage(B)}this.element.focus()}function m(A){if(this.dragging=!0,this.element){var B=Number(this.element.style.marginLeft.replace("px","")),X=Number(this.element.style.marginTop.replace("px","")),le=Number(this.element.style.width.replace("px","")),re=Number(this.element.style.height.replace("px","")),he=o.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-A.delta.x>0?B>-(le-he.x)&&(this.element.style.marginLeft=B+A.delta.x*2+"px",b(this,he.x,B+A.delta.x*2)):-A.delta.x<0&&B<0&&(this.element.style.marginLeft=B+A.delta.x*2+"px",b(this,he.x,B+A.delta.x*2)):-A.delta.y>0?X>-(re-he.y)&&(this.element.style.marginTop=X+A.delta.y*2+"px",b(this,he.y,X+A.delta.y*2)):-A.delta.y<0&&X<0&&(this.element.style.marginTop=X+A.delta.y*2+"px",b(this,he.y,X+A.delta.y*2))}}function v(A){if(this.element){var B=Number(this.element.style.marginLeft.replace("px","")),X=Number(this.element.style.marginTop.replace("px","")),le=Number(this.element.style.width.replace("px","")),re=Number(this.element.style.height.replace("px","")),he=o.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?A.scroll>0?B>-(le-he.x)&&(this.element.style.marginLeft=B-A.scroll*60+"px",b(this,he.x,B-A.scroll*60)):A.scroll<0&&B<0&&(this.element.style.marginLeft=B-A.scroll*60+"px",b(this,he.x,B-A.scroll*60)):A.scroll<0?X>he.y-re&&(this.element.style.marginTop=X+A.scroll*60+"px",b(this,he.y,X+A.scroll*60)):A.scroll>0&&X<0&&(this.element.style.marginTop=X+A.scroll*60+"px",b(this,he.y,X+A.scroll*60)),A.preventDefault=!0}}function b(A,B,X){var le,re,he,z,ae,we;for(A.scroll==="horizontal"?le=A.panelWidth:le=A.panelHeight,re=Math.ceil(B/le)+5,he=Math.ceil((Math.abs(X)+B)/le)+1,re=he-re,re=re<0?0:re,ae=re;ae<he&&ae<A.panels.length;ae++)if(we=A.panels[ae],!we.activePanel){var ye,Ce=A.viewer.tileSources[ae];Ce.referenceStripThumbnailUrl?ye={type:"image",url:Ce.referenceStripThumbnailUrl}:ye=Ce,z=new o.Viewer({id:we.id,tileSources:[ye],element:we,navigatorSizeRatio:A.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:A.viewer.loadTilesWithAjax,ajaxHeaders:A.viewer.ajaxHeaders,useCanvas:A.useCanvas}),o.setElementPointerEventsNone(z.canvas),o.setElementPointerEventsNone(z.container),z.innerTracker.setTracking(!1),z.outerTracker.setTracking(!1),A.miniViewers[we.id]=z,we.activePanel=!0}}function w(A){var B=A.eventSource.element;this.scroll==="horizontal"?B.style.marginBottom="0px":B.style.marginLeft="0px"}function x(A){var B=A.eventSource.element;this.scroll==="horizontal"?B.style.marginBottom="-"+o.getElementSize(B).y/2+"px":B.style.marginLeft="-"+o.getElementSize(B).x/2+"px"}function E(A){if(!A.ctrl&&!A.alt&&!A.meta)switch(A.keyCode){case 38:v.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),A.preventDefault=!0;break;case 40:v.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),A.preventDefault=!0;break;case 37:v.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),A.preventDefault=!0;break;case 39:v.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),A.preventDefault=!0;break;default:A.preventDefault=!1;break}else A.preventDefault=!1}function O(A){if(!A.ctrl&&!A.alt&&!A.meta)switch(A.keyCode){case 61:v.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),A.preventDefault=!0;break;case 45:v.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),A.preventDefault=!0;break;case 48:case 119:case 87:v.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),A.preventDefault=!0;break;case 115:case 83:v.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),A.preventDefault=!0;break;case 97:v.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),A.preventDefault=!0;break;case 100:v.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),A.preventDefault=!0;break;default:A.preventDefault=!1;break}else A.preventDefault=!1}}(c),function(o){o.DisplayRect=function(a,u,m,v,b,w){o.Rect.apply(this,[a,u,m,v]),this.minLevel=b,this.maxLevel=w},o.extend(o.DisplayRect.prototype,o.Rect.prototype)}(c),function(o){o.Spring=function(u){var m=arguments;typeof u!="object"&&(u={initial:m.length&&typeof m[0]=="number"?m[0]:void 0,springStiffness:m.length>1?m[1].springStiffness:5,animationTime:m.length>1?m[1].animationTime:1.5}),o.console.assert(typeof u.springStiffness=="number"&&u.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),o.console.assert(typeof u.animationTime=="number"&&u.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),u.exponential&&(this._exponential=!0,delete u.exponential),o.extend(!0,this,u),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:o.now()},o.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},o.Spring.prototype={resetTo:function(u){o.console.assert(!this._exponential||u!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=u,this.start.time=this.target.time=this.current.time=o.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(u){o.console.assert(!this._exponential||u!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=u,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(u){this.start.value+=u,this.target.value+=u,this._exponential&&(o.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(u){this._exponential=u,this._exponential&&(o.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=o.now();var u,m;this._exponential?(u=this.start._logValue,m=this.target._logValue):(u=this.start.value,m=this.target.value);var v=this.current.time>=this.target.time?m:u+(m-u)*a(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),b=this.current.value;return this._exponential?this.current.value=Math.exp(v):this.current.value=v,b!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function a(u,m){return(1-Math.exp(u*-m))/(1-Math.exp(-u))}}(c),function(o){function a(m){o.extend(!0,this,{timeout:o.DEFAULT_SETTINGS.timeout,jobId:null},m),this.image=null}a.prototype={errorMsg:null,start:function(){var m=this,v=this.abort;this.image=new Image,this.image.onload=function(){m.finish(!0)},this.image.onabort=this.image.onerror=function(){m.errorMsg="Image load aborted",m.finish(!1)},this.jobId=window.setTimeout(function(){m.errorMsg="Image load exceeded timeout ("+m.timeout+" ms)",m.finish(!1)},this.timeout),this.loadWithAjax?(this.request=o.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(b){var w;try{w=new window.Blob([b.response])}catch(A){var x=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(A.name==="TypeError"&&x){var E=new x;E.append(b.response),w=E.getBlob()}}w.size===0&&(m.errorMsg="Empty image response.",m.finish(!1));var O=(window.URL||window.webkitURL).createObjectURL(w);m.image.src=O},error:function(b){m.errorMsg="Image load aborted - XHR error",m.finish(!1)}}),this.abort=function(){m.request.abort(),typeof v=="function"&&v()}):(this.crossOriginPolicy!==!1&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(m){this.image.onload=this.image.onerror=this.image.onabort=null,m||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},o.ImageLoader=function(m){o.extend(!0,this,{jobLimit:o.DEFAULT_SETTINGS.imageLoaderLimit,timeout:o.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},m)},o.ImageLoader.prototype={addJob:function(m){var v=this,b=function(E){u(v,E,m.callback)},w={src:m.src,loadWithAjax:m.loadWithAjax,ajaxHeaders:m.loadWithAjax?m.ajaxHeaders:null,crossOriginPolicy:m.crossOriginPolicy,ajaxWithCredentials:m.ajaxWithCredentials,callback:b,abort:m.abort,timeout:this.timeout},x=new a(w);!this.jobLimit||this.jobsInProgress<this.jobLimit?(x.start(),this.jobsInProgress++):this.jobQueue.push(x)},clear:function(){for(var m=0;m<this.jobQueue.length;m++){var v=this.jobQueue[m];typeof v.abort=="function"&&v.abort()}this.jobQueue=[]}};function u(m,v,b){var w;m.jobsInProgress--,(!m.jobLimit||m.jobsInProgress<m.jobLimit)&&m.jobQueue.length>0&&(w=m.jobQueue.shift(),w.start(),m.jobsInProgress++),b(v.image,v.errorMsg,v.request)}}(c),function(o){o.Tile=function(a,u,m,v,b,w,x,E,O,A){this.level=a,this.x=u,this.y=m,this.bounds=v,this.sourceBounds=A,this.exists=b,this.url=w,this.context2D=x,this.loadWithAjax=E,this.ajaxHeaders=O,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},o.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(a){if(!this.cacheImageRecord){o.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){o.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}this.element||(this.element=o.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!==a&&a.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),o.setElementOpacity(this.element,this.opacity)},drawCanvas:function(a,u,m,v){var b=this.position.times(o.pixelDensityRatio),w=this.size.times(o.pixelDensityRatio),x;if(!this.context2D&&!this.cacheImageRecord){o.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(x=this.context2D||this.cacheImageRecord.getRenderedContext(),!this.loaded||!x){o.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}a.save(),a.globalAlpha=this.opacity,typeof m=="number"&&m!==1&&(b=b.times(m),w=w.times(m)),v instanceof o.Point&&(b=b.plus(v)),a.globalAlpha===1&&this._hasTransparencyChannel()&&a.clearRect(b.x,b.y,w.x,w.y),u({context:a,tile:this,rendered:x});var E,O;this.sourceBounds?(E=Math.min(this.sourceBounds.width,x.canvas.width),O=Math.min(this.sourceBounds.height,x.canvas.height)):(E=x.canvas.width,O=x.canvas.height),a.translate(b.x+w.x/2,0),this.flipped&&a.scale(-1,1),a.drawImage(x.canvas,0,0,E,O,-w.x/2,b.y,w.x,w.y),a.restore()},getScaleForEdgeSmoothing:function(){var a;if(this.cacheImageRecord)a=this.cacheImageRecord.getRenderedContext();else if(this.context2D)a=this.context2D;else return o.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return a.canvas.width/(this.size.x*o.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(a,u,m){var v=Math.max(1,Math.ceil((m.x-u.x)/2)),b=Math.max(1,Math.ceil((m.y-u.y)/2));return new o.Point(v,b).minus(this.position.times(o.pixelDensityRatio).times(a||1).apply(function(w){return w%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(c),function(o){o.OverlayPlacement=o.Placement,o.OverlayRotationMode=o.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),o.Overlay=function(a,u,m){var v;o.isPlainObject(a)?v=a:v={element:a,location:u,placement:m},this.element=v.element,this.style=v.element.style,this._init(v)},o.Overlay.prototype={_init:function(a){this.location=a.location,this.placement=a.placement===void 0?o.Placement.TOP_LEFT:a.placement,this.onDraw=a.onDraw,this.checkResize=a.checkResize===void 0?!0:a.checkResize,this.width=a.width===void 0?null:a.width,this.height=a.height===void 0?null:a.height,this.rotationMode=a.rotationMode||o.OverlayRotationMode.EXACT,this.location instanceof o.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=o.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new o.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(a,u){var m=o.Placement.properties[this.placement];!m||(m.isHorizontallyCentered?a.x-=u.x/2:m.isRight&&(a.x-=u.x),m.isVerticallyCentered?a.y-=u.y/2:m.isBottom&&(a.y-=u.y))},destroy:function(){var a=this.element,u=this.style;a.parentNode&&(a.parentNode.removeChild(a),a.prevElementParent&&(u.display="none",document.body.appendChild(a))),this.onDraw=null,u.top="",u.left="",u.position="",this.width!==null&&(u.width=""),this.height!==null&&(u.height="");var m=o.getCssPropertyWithVendorPrefix("transformOrigin"),v=o.getCssPropertyWithVendorPrefix("transform");m&&v&&(u[m]="",u[v]="")},drawHTML:function(a,u){var m=this.element;m.parentNode!==a&&(m.prevElementParent=m.parentNode,m.prevNextSibling=m.nextSibling,a.appendChild(m),this.style.position="absolute",this.size=o.getElementSize(m));var v=this._getOverlayPositionAndSize(u),b=v.position,w=this.size=v.size,x=v.rotate;if(this.onDraw)this.onDraw(b,w,this.element);else{var E=this.style;E.left=b.x+"px",E.top=b.y+"px",this.width!==null&&(E.width=w.x+"px"),this.height!==null&&(E.height=w.y+"px");var O=o.getCssPropertyWithVendorPrefix("transformOrigin"),A=o.getCssPropertyWithVendorPrefix("transform");O&&A&&(x?(E[O]=this._getTransformOrigin(),E[A]="rotate("+x+"deg)"):(E[O]="",E[A]="")),E.display="block"}},_getOverlayPositionAndSize:function(a){var u=a.pixelFromPoint(this.location,!0),m=this._getSizeInPixels(a);this.adjust(u,m);var v=0;if(a.degrees&&this.rotationMode!==o.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===o.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var b=new o.Rect(u.x,u.y,m.x,m.y),w=this._getBoundingBox(b,a.degrees);u=w.getTopLeft(),m=w.getSize()}else v=a.degrees;return{position:u,size:m,rotate:v}},_getSizeInPixels:function(a){var u=this.size.x,m=this.size.y;if(this.width!==null||this.height!==null){var v=a.deltaPixelsFromPointsNoRotate(new o.Point(this.width||0,this.height||0),!0);this.width!==null&&(u=v.x),this.height!==null&&(m=v.y)}if(this.checkResize&&(this.width===null||this.height===null)){var b=this.size=o.getElementSize(this.element);this.width===null&&(u=b.x),this.height===null&&(m=b.y)}return new o.Point(u,m)},_getBoundingBox:function(a,u){var m=this._getPlacementPoint(a);return a.rotate(u,m).getBoundingBox()},_getPlacementPoint:function(a){var u=new o.Point(a.x,a.y),m=o.Placement.properties[this.placement];return m&&(m.isHorizontallyCentered?u.x+=a.width/2:m.isRight&&(u.x+=a.width),m.isVerticallyCentered?u.y+=a.height/2:m.isBottom&&(u.y+=a.height)),u},_getTransformOrigin:function(){var a="",u=o.Placement.properties[this.placement];return u&&(u.isLeft?a="left":u.isRight&&(a="right"),u.isTop?a+=" top":u.isBottom&&(a+=" bottom")),a},update:function(a,u){var m=o.isPlainObject(a)?a:{location:a,placement:u};this._init({location:m.location||this.location,placement:m.placement!==void 0?m.placement:this.placement,onDraw:m.onDraw||this.onDraw,checkResize:m.checkResize||this.checkResize,width:m.width!==void 0?m.width:this.width,height:m.height!==void 0?m.height:this.height,rotationMode:m.rotationMode||this.rotationMode})},getBounds:function(a){o.console.assert(a,"A viewport must now be passed to Overlay.getBounds.");var u=this.width,m=this.height;if(u===null||m===null){var v=a.deltaPointsFromPixelsNoRotate(this.size,!0);u===null&&(u=v.x),m===null&&(m=v.y)}var b=this.location.clone();return this.adjust(b,new o.Point(u,m)),this._adjustBoundsForRotation(a,new o.Rect(b.x,b.y,u,m))},_adjustBoundsForRotation:function(a,u){if(!a||a.degrees===0||this.rotationMode===o.OverlayRotationMode.EXACT)return u;if(this.rotationMode===o.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return u;var m=this._getOverlayPositionAndSize(a);return a.viewerElementToViewportRectangle(new o.Rect(m.position.x,m.position.y,m.size.x,m.size.y))}return u.rotate(-a.degrees,this._getPlacementPoint(u))}}}(c),function(o){o.Drawer=function(a){o.console.assert(a.viewer,"[Drawer] options.viewer is required");var u=arguments;if(o.isPlainObject(a)||(a={source:u[0],viewport:u[1],element:u[2]}),o.console.assert(a.viewport,"[Drawer] options.viewport is required"),o.console.assert(a.element,"[Drawer] options.element is required"),a.source&&o.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=a.viewer,this.viewport=a.viewport,this.debugGridColor=typeof a.debugGridColor=="string"?[a.debugGridColor]:a.debugGridColor||o.DEFAULT_SETTINGS.debugGridColor,a.opacity&&o.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=o.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=o.getElement(a.element),this.canvas=o.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var m=this._calculateCanvasSize();this.canvas.width=m.x,this.canvas.height=m.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",o.setElementOpacity(this.canvas,this.opacity,!0),o.setElementPointerEventsNone(this.canvas),o.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},o.Drawer.prototype={addOverlay:function(a,u,m,v){return o.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(a,u,m,v),this},updateOverlay:function(a,u,m){return o.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(a,u,m),this},removeOverlay:function(a){return o.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(a),this},clearOverlays:function(){return o.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(a){var u=this.viewport.pixelFromPointNoRotate(a,!0);return new o.Point(u.x*o.pixelDensityRatio,u.y*o.pixelDensityRatio)},clipWithPolygons:function(a,u){if(this.useCanvas){var m=this._getContext(u);m.beginPath(),a.forEach(function(v){v.forEach(function(b,w){m[w===0?"moveTo":"lineTo"](b.x,b.y)})}),m.clip()}},setOpacity:function(a){o.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var u=this.viewer.world,m=0;m<u.getItemCount();m++)u.getItemAt(m).setOpacity(a);return this},getOpacity:function(){o.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var a=this.viewer.world,u=0,m=0;m<a.getItemCount();m++){var v=a.getItemAt(m).getOpacity();v>u&&(u=v)}return u},needsUpdate:function(){return o.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return o.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return o.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return o.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var a=this._calculateCanvasSize();if((this.canvas.width!==a.x||this.canvas.height!==a.y)&&(this.canvas.width=a.x,this.canvas.height=a.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var u=this._calculateSketchCanvasSize();this.sketchCanvas.width=u.x,this.sketchCanvas.height=u.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(a,u){if(this.useCanvas){var m=this._getContext(a);if(u)m.clearRect(u.x,u.y,u.width,u.height);else{var v=m.canvas;m.clearRect(0,0,v.width,v.height)}}},viewportToDrawerRectangle:function(a){var u=this.viewport.pixelFromPointNoRotate(a.getTopLeft(),!0),m=this.viewport.deltaPixelsFromPointsNoRotate(a.getSize(),!0);return new o.Rect(u.x*o.pixelDensityRatio,u.y*o.pixelDensityRatio,m.x*o.pixelDensityRatio,m.y*o.pixelDensityRatio)},drawTile:function(a,u,m,v,b){if(o.console.assert(a,"[Drawer.drawTile] tile is required"),o.console.assert(u,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var w=this._getContext(m);v=v||1,a.drawCanvas(w,u,v,b)}else a.drawHTML(this.canvas)},_getContext:function(a){var u=this.context;if(a){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var m=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=m.x,this.sketchCanvas.height=m.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var v=this;this.viewer.addHandler("rotate",function b(){if(v.viewport.getRotation()!==0){v.viewer.removeHandler("rotate",b);var w=v._calculateSketchCanvasSize();v.sketchCanvas.width=w.x,v.sketchCanvas.height=w.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}u=this.sketchContext}return u},saveContext:function(a){!this.useCanvas||this._getContext(a).save()},restoreContext:function(a){!this.useCanvas||this._getContext(a).restore()},setClip:function(a,u){if(this.useCanvas){var m=this._getContext(u);m.beginPath(),m.rect(a.x,a.y,a.width,a.height),m.clip()}},drawRectangle:function(a,u,m){if(this.useCanvas){var v=this._getContext(m);v.save(),v.fillStyle=u,v.fillRect(a.x,a.y,a.width,a.height),v.restore()}},blendSketch:function(a,u,m,v){var b=a;if(o.isPlainObject(b)||(b={opacity:a,scale:u,translate:m,compositeOperation:v}),!(!this.useCanvas||!this.sketchCanvas)){a=b.opacity,v=b.compositeOperation;var w=b.bounds;if(this.context.save(),this.context.globalAlpha=a,v&&(this.context.globalCompositeOperation=v),w)w.x<0&&(w.width+=w.x,w.x=0),w.x+w.width>this.canvas.width&&(w.width=this.canvas.width-w.x),w.y<0&&(w.height+=w.y,w.y=0),w.y+w.height>this.canvas.height&&(w.height=this.canvas.height-w.y),this.context.drawImage(this.sketchCanvas,w.x,w.y,w.width,w.height,w.x,w.y,w.width,w.height);else{u=b.scale||1,m=b.translate;var x=m instanceof o.Point?m:new o.Point(0,0),E=0,O=0;if(m){var A=this.sketchCanvas.width-this.canvas.width,B=this.sketchCanvas.height-this.canvas.height;E=Math.round(A/2),O=Math.round(B/2)}this.context.drawImage(this.sketchCanvas,x.x-E*u,x.y-O*u,(this.canvas.width+2*E)*u,(this.canvas.height+2*O)*u,-E,-O,this.canvas.width+2*E,this.canvas.height+2*O)}this.context.restore()}},drawDebugInfo:function(a,u,m,v){if(this.useCanvas){var b=this.viewer.world.getIndexOfItem(v)%this.debugGridColor.length,w=this.context;w.save(),w.lineWidth=2*o.pixelDensityRatio,w.font="small-caps bold "+13*o.pixelDensityRatio+"px arial",w.strokeStyle=this.debugGridColor[b],w.fillStyle=this.debugGridColor[b],this.viewport.degrees!==0&&this._offsetForRotation({degrees:this.viewport.degrees}),v.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:v.getRotation(!0),point:v.viewport.pixelFromPointNoRotate(v._getRotationPoint(!0),!0)}),v.viewport.degrees===0&&v.getRotation(!0)%360===0&&v._drawer.viewer.viewport.getFlip()&&v._drawer._flip(),w.strokeRect(a.position.x*o.pixelDensityRatio,a.position.y*o.pixelDensityRatio,a.size.x*o.pixelDensityRatio,a.size.y*o.pixelDensityRatio);var x=(a.position.x+a.size.x/2)*o.pixelDensityRatio,E=(a.position.y+a.size.y/2)*o.pixelDensityRatio;w.translate(x,E),w.rotate(Math.PI/180*-this.viewport.degrees),w.translate(-x,-E),a.x===0&&a.y===0&&(w.fillText("Zoom: "+this.viewport.getZoom(),a.position.x*o.pixelDensityRatio,(a.position.y-30)*o.pixelDensityRatio),w.fillText("Pan: "+this.viewport.getBounds().toString(),a.position.x*o.pixelDensityRatio,(a.position.y-20)*o.pixelDensityRatio)),w.fillText("Level: "+a.level,(a.position.x+10)*o.pixelDensityRatio,(a.position.y+20)*o.pixelDensityRatio),w.fillText("Column: "+a.x,(a.position.x+10)*o.pixelDensityRatio,(a.position.y+30)*o.pixelDensityRatio),w.fillText("Row: "+a.y,(a.position.x+10)*o.pixelDensityRatio,(a.position.y+40)*o.pixelDensityRatio),w.fillText("Order: "+m+" of "+u,(a.position.x+10)*o.pixelDensityRatio,(a.position.y+50)*o.pixelDensityRatio),w.fillText("Size: "+a.size.toString(),(a.position.x+10)*o.pixelDensityRatio,(a.position.y+60)*o.pixelDensityRatio),w.fillText("Position: "+a.position.toString(),(a.position.x+10)*o.pixelDensityRatio,(a.position.y+70)*o.pixelDensityRatio),this.viewport.degrees!==0&&this._restoreRotationChanges(),v.getRotation(!0)%360!==0&&this._restoreRotationChanges(),v.viewport.degrees===0&&v.getRotation(!0)%360===0&&v._drawer.viewer.viewport.getFlip()&&v._drawer._flip(),w.restore()}},debugRect:function(a){if(this.useCanvas){var u=this.context;u.save(),u.lineWidth=2*o.pixelDensityRatio,u.strokeStyle=this.debugGridColor[0],u.fillStyle=this.debugGridColor[0],u.strokeRect(a.x*o.pixelDensityRatio,a.y*o.pixelDensityRatio,a.width*o.pixelDensityRatio,a.height*o.pixelDensityRatio),u.restore()}},setImageSmoothingEnabled:function(a){this.useCanvas&&(this._imageSmoothingEnabled=a,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(a){a.msImageSmoothingEnabled=this._imageSmoothingEnabled,a.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(a){var u=this._getContext(a).canvas;return new o.Point(u.width,u.height)},getCanvasCenter:function(){return new o.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(a){var u=a.point?a.point.times(o.pixelDensityRatio):this.getCanvasCenter(),m=this._getContext(a.useSketch);m.save(),m.translate(u.x,u.y),this.viewer.viewport.flipped?(m.rotate(Math.PI/180*-a.degrees),m.scale(-1,1)):m.rotate(Math.PI/180*a.degrees),m.translate(-u.x,-u.y)},_flip:function(a){a=a||{};var u=a.point?a.point.times(o.pixelDensityRatio):this.getCanvasCenter(),m=this._getContext(a.useSketch);m.translate(u.x,0),m.scale(-1,1),m.translate(-u.x,0)},_restoreRotationChanges:function(a){var u=this._getContext(a);u.restore()},_calculateCanvasSize:function(){var a=o.pixelDensityRatio,u=this.viewport.getContainerSize();return{x:Math.round(u.x*a),y:Math.round(u.y*a)}},_calculateSketchCanvasSize:function(){var a=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return a;var u=Math.ceil(Math.sqrt(a.x*a.x+a.y*a.y));return{x:u,y:u}}}}(c),function(o){o.Viewport=function(a){var u=arguments;u.length&&u[0]instanceof o.Point&&(a={containerSize:u[0],contentSize:u[1],config:u[2]}),a.config&&(o.extend(!0,a,a.config),delete a.config),this._margins=o.extend({left:0,top:0,right:0,bottom:0},a.margins||{}),delete a.margins,o.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:o.DEFAULT_SETTINGS.springStiffness,animationTime:o.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:o.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:o.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:o.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:o.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:o.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:o.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:o.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:o.DEFAULT_SETTINGS.maxZoomLevel,degrees:o.DEFAULT_SETTINGS.degrees,flipped:o.DEFAULT_SETTINGS.flipped,homeFillsViewer:o.DEFAULT_SETTINGS.homeFillsViewer},a),this._updateContainerInnerSize(),this.centerSpringX=new o.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new o.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new o.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new o.Rect(0,0,1,1),1),this.goHome(!0),this.update()},o.Viewport.prototype={resetContentSize:function(a){return o.console.assert(a,"[Viewport.resetContentSize] contentSize is required"),o.console.assert(a instanceof o.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),o.console.assert(a.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),o.console.assert(a.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new o.Rect(0,0,1,a.y/a.x),a.x),this},setHomeBounds:function(a,u){o.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(a,u)},_setContentBounds:function(a,u){o.console.assert(a,"[Viewport._setContentBounds] bounds is required"),o.console.assert(a instanceof o.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),o.console.assert(a.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),o.console.assert(a.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=a.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(u),this._contentBounds=a.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(u),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:u,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var a=this._contentAspectRatio/this.getAspectRatio(),u;return this.homeFillsViewer?u=a>=1?a:1:u=a>=1?1:a,u/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var a=this._contentBounds.getCenter(),u=1/this.getHomeZoom(),m=u/this.getAspectRatio();return new o.Rect(a.x-u/2,a.y-m/2,u,m)},goHome:function(a){return this.viewer&&this.viewer.raiseEvent("home",{immediately:a}),this.fitBounds(this.getHomeBounds(),a)},getMinZoom:function(){var a=this.getHomeZoom(),u=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*a;return u},getMaxZoom:function(){var a=this.maxZoomLevel;return a||(a=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,a/=this._contentBounds.width),Math.max(a,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new o.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return o.extend({},this._margins)},setMargins:function(a){o.console.assert(o.type(a)==="object","[Viewport.setMargins] margins must be an object"),this._margins=o.extend({left:0,top:0,right:0,bottom:0},a),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(a){return this.getBoundsNoRotate(a).rotate(-this.getRotation())},getBoundsNoRotate:function(a){var u=this.getCenter(a),m=1/this.getZoom(a),v=m/this.getAspectRatio();return new o.Rect(u.x-m/2,u.y-v/2,m,v)},getBoundsWithMargins:function(a){return this.getBoundsNoRotateWithMargins(a).rotate(-this.getRotation(),this.getCenter(a))},getBoundsNoRotateWithMargins:function(a){var u=this.getBoundsNoRotate(a),m=this._containerInnerSize.x*this.getZoom(a);return u.x-=this._margins.left/m,u.y-=this._margins.top/m,u.width+=(this._margins.left+this._margins.right)/m,u.height+=(this._margins.top+this._margins.bottom)/m,u},getCenter:function(a){var u=new o.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),m=new o.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),v,b,w,x,E,O,A,B;return a?u:this.zoomPoint?(v=this.pixelFromPoint(this.zoomPoint,!0),b=this.getZoom(),w=1/b,x=w/this.getAspectRatio(),E=new o.Rect(u.x-w/2,u.y-x/2,w,x),O=this._pixelFromPoint(this.zoomPoint,E),A=O.minus(v),B=A.divide(this._containerInnerSize.x*b),m.plus(B)):m},getZoom:function(a){return a?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(a){return Math.max(Math.min(a,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(a){var u=new o.Rect(a.x,a.y,a.width,a.height);if(!this.wrapHorizontal){var m=this.visibilityRatio*u.width,v=u.x+u.width,b=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,w=this._contentBoundsNoRotate.x-v+m,x=b-u.x-m;m>this._contentBoundsNoRotate.width?u.x+=(w+x)/2:x<0?u.x+=x:w>0&&(u.x+=w)}if(!this.wrapVertical){var E=this.visibilityRatio*u.height,O=u.y+u.height,A=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,B=this._contentBoundsNoRotate.y-O+E,X=A-u.y-E;E>this._contentBoundsNoRotate.height?u.y+=(B+X)/2:X<0?u.y+=X:B>0&&(u.y+=B)}return u},_raiseConstraintsEvent:function(a){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:a})},applyConstraints:function(a){var u=this.getZoom(),m=this._applyZoomConstraints(u);u!==m&&this.zoomTo(m,this.zoomPoint,a);var v=this.getBoundsNoRotate(),b=this._applyBoundaryConstraints(v);return this._raiseConstraintsEvent(a),(v.x!==b.x||v.y!==b.y||a)&&this.fitBounds(b.rotate(-this.getRotation()),a),this},ensureVisible:function(a){return this.applyConstraints(a)},_fitBounds:function(a,u){u=u||{};var m=u.immediately||!1,v=u.constraints||!1,b=this.getAspectRatio(),w=a.getCenter(),x=new o.Rect(a.x,a.y,a.width,a.height,a.degrees+this.getRotation()).getBoundingBox();x.getAspectRatio()>=b?x.height=x.width/b:x.width=x.height*b,x.x=w.x-x.width/2,x.y=w.y-x.height/2;var E=1/x.width;if(v){var O=x.getAspectRatio(),A=this._applyZoomConstraints(E);E!==A&&(E=A,x.width=1/E,x.x=w.x-x.width/2,x.height=x.width/O,x.y=w.y-x.height/2),x=this._applyBoundaryConstraints(x),w=x.getCenter(),this._raiseConstraintsEvent(m)}if(m)return this.panTo(w,!0),this.zoomTo(E,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var B=this.getBounds(),X=this.getZoom();if(X===0||Math.abs(E/X-1)<1e-8)return this.zoomTo(E,!0),this.panTo(w,m);x=x.rotate(-this.getRotation());var le=x.getTopLeft().times(E).minus(B.getTopLeft().times(X)).divide(E-X);return this.zoomTo(E,le,m)},fitBounds:function(a,u){return this._fitBounds(a,{immediately:u,constraints:!1})},fitBoundsWithConstraints:function(a,u){return this._fitBounds(a,{immediately:u,constraints:!0})},fitVertically:function(a){var u=new o.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(u,a)},fitHorizontally:function(a){var u=new o.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(u,a)},getConstrainedBounds:function(a){var u,m;return u=this.getBounds(a),m=this._applyBoundaryConstraints(u),m},panBy:function(a,u){var m=new o.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(m.plus(a),u)},panTo:function(a,u){return u?(this.centerSpringX.resetTo(a.x),this.centerSpringY.resetTo(a.y)):(this.centerSpringX.springTo(a.x),this.centerSpringY.springTo(a.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:a,immediately:u}),this},zoomBy:function(a,u,m){return this.zoomTo(this.zoomSpring.target.value*a,u,m)},zoomTo:function(a,u,m){var v=this;return this.zoomPoint=u instanceof o.Point&&!isNaN(u.x)&&!isNaN(u.y)?u:null,m?this._adjustCenterSpringsForZoomPoint(function(){v.zoomSpring.resetTo(a)}):this.zoomSpring.springTo(a),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:a,refPoint:u,immediately:m}),this},setRotation:function(a){return!this.viewer||!this.viewer.drawer.canRotate()?this:(this.degrees=o.positiveModulo(a,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:a}),this)},getRotation:function(){return this.degrees},resize:function(a,u){var m=this.getBoundsNoRotate(),v=m,b;return this.containerSize.x=a.x,this.containerSize.y=a.y,this._updateContainerInnerSize(),u&&(b=a.x/this.containerSize.x,v.width=m.width*b,v.height=v.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:a,maintain:u}),this.fitBounds(v,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new o.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var a=this;this._adjustCenterSpringsForZoomPoint(function(){a.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var u=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,u},_adjustCenterSpringsForZoomPoint:function(a){if(this.zoomPoint){var u=this.pixelFromPoint(this.zoomPoint,!0);a();var m=this.pixelFromPoint(this.zoomPoint,!0),v=m.minus(u),b=this.deltaPointsFromPixels(v,!0);this.centerSpringX.shiftBy(b.x),this.centerSpringY.shiftBy(b.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else a()},deltaPixelsFromPointsNoRotate:function(a,u){return a.times(this._containerInnerSize.x*this.getZoom(u))},deltaPixelsFromPoints:function(a,u){return this.deltaPixelsFromPointsNoRotate(a.rotate(this.getRotation()),u)},deltaPointsFromPixelsNoRotate:function(a,u){return a.divide(this._containerInnerSize.x*this.getZoom(u))},deltaPointsFromPixels:function(a,u){return this.deltaPointsFromPixelsNoRotate(a,u).rotate(-this.getRotation())},pixelFromPointNoRotate:function(a,u){return this._pixelFromPointNoRotate(a,this.getBoundsNoRotate(u))},pixelFromPoint:function(a,u){return this._pixelFromPoint(a,this.getBoundsNoRotate(u))},_pixelFromPointNoRotate:function(a,u){return a.minus(u.getTopLeft()).times(this._containerInnerSize.x/u.width).plus(new o.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(a,u){return this._pixelFromPointNoRotate(a.rotate(this.getRotation(),this.getCenter(!0)),u)},pointFromPixelNoRotate:function(a,u){var m=this.getBoundsNoRotate(u);return a.minus(new o.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/m.width).plus(m.getTopLeft())},pointFromPixel:function(a,u){return this.pointFromPixelNoRotate(a,u).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(a,u){var m=this._contentBoundsNoRotate.width;return new o.Point(a*this._contentSizeNoRotate.x/m,u*this._contentSizeNoRotate.x/m)},viewportToImageCoordinates:function(a,u){if(a instanceof o.Point)return this.viewportToImageCoordinates(a.x,a.y);if(this.viewer){var m=this.viewer.world.getItemCount();if(m>1)o.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(m===1){var v=this.viewer.world.getItemAt(0);return v.viewportToImageCoordinates(a,u,!0)}}return this._viewportToImageDelta(a-this._contentBoundsNoRotate.x,u-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(a,u){var m=this._contentBoundsNoRotate.width;return new o.Point(a/this._contentSizeNoRotate.x*m,u/this._contentSizeNoRotate.x*m)},imageToViewportCoordinates:function(a,u){if(a instanceof o.Point)return this.imageToViewportCoordinates(a.x,a.y);if(this.viewer){var m=this.viewer.world.getItemCount();if(m>1)o.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(m===1){var v=this.viewer.world.getItemAt(0);return v.imageToViewportCoordinates(a,u,!0)}}var b=this._imageToViewportDelta(a,u);return b.x+=this._contentBoundsNoRotate.x,b.y+=this._contentBoundsNoRotate.y,b},imageToViewportRectangle:function(a,u,m,v){var b=a;if(b instanceof o.Rect||(b=new o.Rect(a,u,m,v)),this.viewer){var w=this.viewer.world.getItemCount();if(w>1)o.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(w===1){var x=this.viewer.world.getItemAt(0);return x.imageToViewportRectangle(a,u,m,v,!0)}}var E=this.imageToViewportCoordinates(b.x,b.y),O=this._imageToViewportDelta(b.width,b.height);return new o.Rect(E.x,E.y,O.x,O.y,b.degrees)},viewportToImageRectangle:function(a,u,m,v){var b=a;if(b instanceof o.Rect||(b=new o.Rect(a,u,m,v)),this.viewer){var w=this.viewer.world.getItemCount();if(w>1)o.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(w===1){var x=this.viewer.world.getItemAt(0);return x.viewportToImageRectangle(a,u,m,v,!0)}}var E=this.viewportToImageCoordinates(b.x,b.y),O=this._viewportToImageDelta(b.width,b.height);return new o.Rect(E.x,E.y,O.x,O.y,b.degrees)},viewerElementToImageCoordinates:function(a){var u=this.pointFromPixel(a,!0);return this.viewportToImageCoordinates(u)},imageToViewerElementCoordinates:function(a){var u=this.imageToViewportCoordinates(a);return this.pixelFromPoint(u,!0)},windowToImageCoordinates:function(a){o.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var u=a.minus(o.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(u)},imageToWindowCoordinates:function(a){o.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var u=this.imageToViewerElementCoordinates(a);return u.plus(o.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(a){return this.pointFromPixel(a,!0)},viewportToViewerElementCoordinates:function(a){return this.pixelFromPoint(a,!0)},viewerElementToViewportRectangle:function(a){return o.Rect.fromSummits(this.pointFromPixel(a.getTopLeft(),!0),this.pointFromPixel(a.getTopRight(),!0),this.pointFromPixel(a.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(a){return o.Rect.fromSummits(this.pixelFromPoint(a.getTopLeft(),!0),this.pixelFromPoint(a.getTopRight(),!0),this.pixelFromPoint(a.getBottomLeft(),!0))},windowToViewportCoordinates:function(a){o.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var u=a.minus(o.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(u)},viewportToWindowCoordinates:function(a){o.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var u=this.viewportToViewerElementCoordinates(a);return u.plus(o.getElementPosition(this.viewer.element))},viewportToImageZoom:function(a){if(this.viewer){var u=this.viewer.world.getItemCount();if(u>1)o.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(u===1){var m=this.viewer.world.getItemAt(0);return m.viewportToImageZoom(a)}}var v=this._contentSizeNoRotate.x,b=this._containerInnerSize.x,w=this._contentBoundsNoRotate.width,x=b/v*w;return a*x},imageToViewportZoom:function(a){if(this.viewer){var u=this.viewer.world.getItemCount();if(u>1)o.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(u===1){var m=this.viewer.world.getItemAt(0);return m.imageToViewportZoom(a)}}var v=this._contentSizeNoRotate.x,b=this._containerInnerSize.x,w=this._contentBoundsNoRotate.width,x=v/b/w;return a*x},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(a){return this.flipped===a?this:(this.flipped=a,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:a}),this)}}}(c),function(o){o.TiledImage=function(z){var ae=this;o.console.assert(z.tileCache,"[TiledImage] options.tileCache is required"),o.console.assert(z.drawer,"[TiledImage] options.drawer is required"),o.console.assert(z.viewer,"[TiledImage] options.viewer is required"),o.console.assert(z.imageLoader,"[TiledImage] options.imageLoader is required"),o.console.assert(z.source,"[TiledImage] options.source is required"),o.console.assert(!z.clip||z.clip instanceof o.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),o.EventSource.call(this),this._tileCache=z.tileCache,delete z.tileCache,this._drawer=z.drawer,delete z.drawer,this._imageLoader=z.imageLoader,delete z.imageLoader,z.clip instanceof o.Rect&&(this._clip=z.clip.clone()),delete z.clip;var we=z.x||0;delete z.x;var ye=z.y||0;delete z.y,this.normHeight=z.source.dimensions.y/z.source.dimensions.x,this.contentAspectX=z.source.dimensions.x/z.source.dimensions.y;var Ce=1;z.width?(Ce=z.width,delete z.width,z.height&&(o.console.error("specifying both width and height to a tiledImage is not supported"),delete z.height)):z.height&&(Ce=z.height/this.normHeight,delete z.height);var Pe=z.fitBounds;delete z.fitBounds;var Xe=z.fitBoundsPlacement||c.Placement.CENTER;delete z.fitBoundsPlacement;var Je=z.degrees||0;delete z.degrees,o.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:o.DEFAULT_SETTINGS.springStiffness,animationTime:o.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:o.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:o.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:o.DEFAULT_SETTINGS.wrapVertical,immediateRender:o.DEFAULT_SETTINGS.immediateRender,blendTime:o.DEFAULT_SETTINGS.blendTime,alwaysBlend:o.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:o.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:o.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:o.DEFAULT_SETTINGS.iOSDevice,debugMode:o.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:o.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:o.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:o.DEFAULT_SETTINGS.placeholderFillStyle,opacity:o.DEFAULT_SETTINGS.opacity,preload:o.DEFAULT_SETTINGS.preload,compositeOperation:o.DEFAULT_SETTINGS.compositeOperation},z),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new o.Spring({initial:we,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new o.Spring({initial:ye,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new o.Spring({initial:Ce,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new o.Spring({initial:Je,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),Pe&&this.fitBounds(Pe,Xe,!0),this._drawingHandler=function(dt){ae.viewer.raiseEvent("tile-drawing",o.extend({tiledImage:ae},dt))}},o.extend(o.TiledImage.prototype,o.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(z){z!==this._fullyLoaded&&(this._fullyLoaded=z,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=o.now(),this._needsDraw=!0},update:function(){var z=this._xSpring.update(),ae=this._ySpring.update(),we=this._scaleSpring.update(),ye=this._degreesSpring.update();return z||ae||we||ye?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(z){return this.getBoundsNoRotate(z).rotate(this.getRotation(z),this._getRotationPoint(z))},getBoundsNoRotate:function(z){return z?new o.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new o.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return o.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(z){var ae=this.getBoundsNoRotate(z);if(this._clip){var we=z?this._worldWidthCurrent:this._worldWidthTarget,ye=we/this.source.dimensions.x,Ce=this._clip.times(ye);ae=new o.Rect(ae.x+Ce.x,ae.y+Ce.y,Ce.width,Ce.height)}return ae.rotate(this.getRotation(z),this._getRotationPoint(z))},getTileBounds:function(z,ae,we){var ye=this.source.getNumTiles(z),Ce=(ye.x+ae%ye.x)%ye.x,Pe=(ye.y+we%ye.y)%ye.y,Xe=this.source.getTileBounds(z,Ce,Pe);return this.getFlip()&&(Xe.x=1-Xe.x-Xe.width),Xe.x+=(ae-Ce)/ye.x,Xe.y+=this._worldHeightCurrent/this._worldWidthCurrent*((we-Pe)/ye.y),Xe},getContentSize:function(){return new o.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var z=this.imageToWindowCoordinates(new o.Point(0,0)),ae=this.imageToWindowCoordinates(this.getContentSize());return new o.Point(ae.x-z.x,ae.y-z.y)},_viewportToImageDelta:function(z,ae,we){var ye=we?this._scaleSpring.current.value:this._scaleSpring.target.value;return new o.Point(z*(this.source.dimensions.x/ye),ae*(this.source.dimensions.y*this.contentAspectX/ye))},viewportToImageCoordinates:function(z,ae,we){var ye;return z instanceof o.Point?(we=ae,ye=z):ye=new o.Point(z,ae),ye=ye.rotate(-this.getRotation(we),this._getRotationPoint(we)),we?this._viewportToImageDelta(ye.x-this._xSpring.current.value,ye.y-this._ySpring.current.value):this._viewportToImageDelta(ye.x-this._xSpring.target.value,ye.y-this._ySpring.target.value)},_imageToViewportDelta:function(z,ae,we){var ye=we?this._scaleSpring.current.value:this._scaleSpring.target.value;return new o.Point(z/this.source.dimensions.x*ye,ae/this.source.dimensions.y/this.contentAspectX*ye)},imageToViewportCoordinates:function(z,ae,we){z instanceof o.Point&&(we=ae,ae=z.y,z=z.x);var ye=this._imageToViewportDelta(z,ae);return we?(ye.x+=this._xSpring.current.value,ye.y+=this._ySpring.current.value):(ye.x+=this._xSpring.target.value,ye.y+=this._ySpring.target.value),ye.rotate(this.getRotation(we),this._getRotationPoint(we))},imageToViewportRectangle:function(z,ae,we,ye,Ce){var Pe=z;Pe instanceof o.Rect?Ce=ae:Pe=new o.Rect(z,ae,we,ye);var Xe=this.imageToViewportCoordinates(Pe.getTopLeft(),Ce),Je=this._imageToViewportDelta(Pe.width,Pe.height,Ce);return new o.Rect(Xe.x,Xe.y,Je.x,Je.y,Pe.degrees+this.getRotation(Ce))},viewportToImageRectangle:function(z,ae,we,ye,Ce){var Pe=z;z instanceof o.Rect?Ce=ae:Pe=new o.Rect(z,ae,we,ye);var Xe=this.viewportToImageCoordinates(Pe.getTopLeft(),Ce),Je=this._viewportToImageDelta(Pe.width,Pe.height,Ce);return new o.Rect(Xe.x,Xe.y,Je.x,Je.y,Pe.degrees-this.getRotation(Ce))},viewerElementToImageCoordinates:function(z){var ae=this.viewport.pointFromPixel(z,!0);return this.viewportToImageCoordinates(ae)},imageToViewerElementCoordinates:function(z){var ae=this.imageToViewportCoordinates(z);return this.viewport.pixelFromPoint(ae,!0)},windowToImageCoordinates:function(z){var ae=z.minus(c.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(ae)},imageToWindowCoordinates:function(z){var ae=this.imageToViewerElementCoordinates(z);return ae.plus(c.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(z){var ae=this._scaleSpring.current.value;return z=z.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new o.Rect((z.x-this._xSpring.current.value)/ae,(z.y-this._ySpring.current.value)/ae,z.width/ae,z.height/ae,z.degrees)},viewportToImageZoom:function(z){var ae=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return ae*z},imageToViewportZoom:function(z){var ae=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return z/ae},setPosition:function(z,ae){var we=this._xSpring.target.value===z.x&&this._ySpring.target.value===z.y;if(ae){if(we&&this._xSpring.current.value===z.x&&this._ySpring.current.value===z.y)return;this._xSpring.resetTo(z.x),this._ySpring.resetTo(z.y),this._needsDraw=!0}else{if(we)return;this._xSpring.springTo(z.x),this._ySpring.springTo(z.y),this._needsDraw=!0}we||this._raiseBoundsChange()},setWidth:function(z,ae){this._setScale(z,ae)},setHeight:function(z,ae){this._setScale(z/this.normHeight,ae)},setCroppingPolygons:function(z){var ae=function(ye){return ye instanceof o.Point||typeof ye.x=="number"&&typeof ye.y=="number"},we=function(ye){return ye.map(function(Ce){try{if(ae(Ce))return{x:Ce.x,y:Ce.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!o.isArray(z))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=z.map(function(ye){return we(ye)})}catch(ye){o.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),o.console.error(ye),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(z,ae,we){ae=ae||o.Placement.CENTER;var ye=o.Placement.properties[ae],Ce=this.contentAspectX,Pe=0,Xe=0,Je=1,dt=1;if(this._clip&&(Ce=this._clip.getAspectRatio(),Je=this._clip.width/this.source.dimensions.x,dt=this._clip.height/this.source.dimensions.y,z.getAspectRatio()>Ce?(Pe=this._clip.x/this._clip.height*z.height,Xe=this._clip.y/this._clip.height*z.height):(Pe=this._clip.x/this._clip.width*z.width,Xe=this._clip.y/this._clip.width*z.width)),z.getAspectRatio()>Ce){var mt=z.height/dt,ht=0;ye.isHorizontallyCentered?ht=(z.width-z.height*Ce)/2:ye.isRight&&(ht=z.width-z.height*Ce),this.setPosition(new o.Point(z.x-Pe+ht,z.y-Xe),we),this.setHeight(mt,we)}else{var Rt=z.width/Je,Pt=0;ye.isVerticallyCentered?Pt=(z.height-z.width/Ce)/2:ye.isBottom&&(Pt=z.height-z.width/Ce),this.setPosition(new o.Point(z.x-Pe,z.y-Xe+Pt),we),this.setWidth(Rt,we)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(z){o.console.assert(!z||z instanceof o.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),z instanceof o.Rect?this._clip=z.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(z){this.flipped=!!z,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(z){z!==this.opacity&&(this.opacity=z,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(z){this._preload=!!z,this._needsDraw=!0},getRotation:function(z){return z?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(z,ae){this._degreesSpring.target.value===z&&this._degreesSpring.isAtTargetValue()||(ae?this._degreesSpring.resetTo(z):this._degreesSpring.springTo(z),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(z){return this.getBoundsNoRotate(z).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(z){z!==this.compositeOperation&&(this.compositeOperation=z,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(z,ae){var we=this._scaleSpring.target.value===z;if(ae){if(we&&this._scaleSpring.current.value===z)return;this._scaleSpring.resetTo(z),this._updateForScale(),this._needsDraw=!0}else{if(we)return;this._scaleSpring.springTo(z),this._updateForScale(),this._needsDraw=!0}we||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var z=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),ae=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,we=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(ae/this.minPixelRatio)/Math.log(2))));return we=Math.max(we,this.source.minLevel||0),z=Math.min(z,we),{lowestLevel:z,highestLevel:we}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var z=this.lastDrawn.pop();z.beingDrawn=!1}var ae=this.viewport,we=this._viewportToTiledImageRectangle(ae.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var ye=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(we=we.intersection(ye),we===null)return}for(var Ce=this._getLevelsInterval(),Pe=Ce.lowestLevel,Xe=Ce.highestLevel,Je=null,dt=!1,mt=o.now(),ht=Xe;ht>=Pe;ht--){var Rt=!1,Pt=ae.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(ht),!0).x*this._scaleSpring.current.value;if(ht===Pe||!dt&&Pt>=this.minPixelRatio)Rt=!0,dt=!0;else if(!dt)continue;var qt=ae.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(ht),!1).x*this._scaleSpring.current.value,Gt=ae.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,Zt=this.immediateRender?1:Gt,hn=Math.min(1,(Pt-.5)/.5),Tn=Zt/Math.abs(Zt-qt);if(Je=a(this,dt,Rt,ht,hn,Tn,we,mt,Je),O(this.coverage,ht))break}re(this,this.lastDrawn),Je&&!Je.context2D?(v(this,Je,mt),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(z,ae,we){var ye,Ce;this.wrapHorizontal?(ye=o.positiveModulo(ae.x,1),Ce=o.positiveModulo(we.x,1)):(ye=Math.max(0,ae.x),Ce=Math.min(1,we.x));var Pe,Xe,Je=1/this.source.aspectRatio;this.wrapVertical?(Pe=o.positiveModulo(ae.y,Je),Xe=o.positiveModulo(we.y,Je)):(Pe=Math.max(0,ae.y),Xe=Math.min(Je,we.y));var dt=this.source.getTileAtPoint(z,new o.Point(ye,Pe)),mt=this.source.getTileAtPoint(z,new o.Point(Ce,Xe)),ht=this.source.getNumTiles(z);return this.wrapHorizontal&&(dt.x+=ht.x*Math.floor(ae.x),mt.x+=ht.x*Math.floor(we.x)),this.wrapVertical&&(dt.y+=ht.y*Math.floor(ae.y/Je),mt.y+=ht.y*Math.floor(we.y/Je)),{topLeft:dt,bottomRight:mt}}});function a(z,ae,we,ye,Ce,Pe,Xe,Je,dt){var mt=Xe.getBoundingBox().getTopLeft(),ht=Xe.getBoundingBox().getBottomRight();z.viewer&&z.viewer.raiseEvent("update-level",{tiledImage:z,havedrawn:ae,level:ye,opacity:Ce,visibility:Pe,drawArea:Xe,topleft:mt,bottomright:ht,currenttime:Je,best:dt}),X(z.coverage,ye),X(z.loadingCoverage,ye);var Rt=z._getCornerTiles(ye,mt,ht),Pt=Rt.topLeft,qt=Rt.bottomRight,Gt=z.source.getNumTiles(ye),Zt=z.viewport.pixelFromPoint(z.viewport.getCenter());z.getFlip()&&(qt.x+=1,z.wrapHorizontal||(qt.x=Math.min(qt.x,Gt.x-1)));for(var hn=Pt.x;hn<=qt.x;hn++)for(var Tn=Pt.y;Tn<=qt.y;Tn++){var pt;if(z.getFlip()){var tn=(Gt.x+hn%Gt.x)%Gt.x;pt=hn+Gt.x-tn-tn-1}else pt=hn;Xe.intersection(z.getTileBounds(ye,pt,Tn))!==null&&(dt=u(z,we,ae,pt,Tn,ye,Ce,Pe,Zt,Gt,Je,dt))}return dt}function u(z,ae,we,ye,Ce,Pe,Xe,Je,dt,mt,ht,Rt){var Pt=m(ye,Ce,Pe,z,z.source,z.tilesMatrix,ht,mt,z._worldWidthCurrent,z._worldHeightCurrent),qt=we;z.viewer&&z.viewer.raiseEvent("update-tile",{tiledImage:z,tile:Pt}),B(z.coverage,Pe,ye,Ce,!1);var Gt=Pt.loaded||Pt.loading||A(z.loadingCoverage,Pe,ye,Ce);if(B(z.loadingCoverage,Pe,ye,Ce,Gt),!Pt.exists||(ae&&!qt&&(A(z.coverage,Pe,ye,Ce)?B(z.coverage,Pe,ye,Ce,!0):qt=!0),!qt))return Rt;if(x(Pt,z.source.tileOverlap,z.viewport,dt,Je,z),!Pt.loaded)if(Pt.context2D)w(z,Pt);else{var Zt=z._tileCache.getImageRecord(Pt.cacheKey);if(Zt){var hn=Zt.getImage();w(z,Pt,hn)}}if(Pt.loaded){var Tn=E(z,Pt,ye,Ce,Pe,Xe,ht);Tn&&(z._needsDraw=!0)}else Pt.loading?z._tilesLoading++:Gt||(Rt=le(Rt,Pt));return Rt}function m(z,ae,we,ye,Ce,Pe,Xe,Je,dt,mt){var ht,Rt,Pt,qt,Gt,Zt,hn,Tn,pt;return Pe[we]||(Pe[we]={}),Pe[we][z]||(Pe[we][z]={}),(!Pe[we][z][ae]||!Pe[we][z][ae].flipped!=!ye.flipped)&&(ht=(Je.x+z%Je.x)%Je.x,Rt=(Je.y+ae%Je.y)%Je.y,Pt=ye.getTileBounds(we,z,ae),qt=Ce.getTileBounds(we,ht,Rt,!0),Gt=Ce.tileExists(we,ht,Rt),Zt=Ce.getTileUrl(we,ht,Rt),ye.loadTilesWithAjax?(hn=Ce.getTileAjaxHeaders(we,ht,Rt),o.isPlainObject(ye.ajaxHeaders)&&(hn=o.extend({},ye.ajaxHeaders,hn))):hn=null,Tn=Ce.getContext2D?Ce.getContext2D(we,ht,Rt):void 0,pt=new o.Tile(we,z,ae,Pt,Gt,Zt,Tn,ye.loadTilesWithAjax,hn,qt),ye.getFlip()?ht===0&&(pt.isRightMost=!0):ht===Je.x-1&&(pt.isRightMost=!0),Rt===Je.y-1&&(pt.isBottomMost=!0),pt.flipped=ye.flipped,Pe[we][z][ae]=pt),pt=Pe[we][z][ae],pt.lastTouchTime=Xe,pt}function v(z,ae,we){ae.loading=!0,z._imageLoader.addJob({src:ae.url,loadWithAjax:ae.loadWithAjax,ajaxHeaders:ae.ajaxHeaders,crossOriginPolicy:z.crossOriginPolicy,ajaxWithCredentials:z.ajaxWithCredentials,callback:function(ye,Ce,Pe){b(z,ae,we,ye,Ce,Pe)},abort:function(){ae.loading=!1}})}function b(z,ae,we,ye,Ce,Pe){if(!ye){o.console.log("Tile %s failed to load: %s - error: %s",ae,ae.url,Ce),z.viewer.raiseEvent("tile-load-failed",{tile:ae,tiledImage:z,time:we,message:Ce,tileRequest:Pe}),ae.loading=!1,ae.exists=!1;return}if(we<z.lastResetTime){o.console.log("Ignoring tile %s loaded before reset: %s",ae,ae.url),ae.loading=!1;return}var Xe=function(){var Je=z.source.getClosestLevel();w(z,ae,ye,Je,Pe)};z._midDraw?window.setTimeout(Xe,1):Xe()}function w(z,ae,we,ye,Ce){var Pe=0;function Xe(){return Pe++,Je}function Je(){Pe--,Pe===0&&(ae.loading=!1,ae.loaded=!0,ae.context2D||z._tileCache.cacheTile({image:we,tile:ae,cutoff:ye,tiledImage:z}),z._needsDraw=!0)}z.viewer.raiseEvent("tile-loaded",{tile:ae,tiledImage:z,tileRequest:Ce,image:we,getCompletionCallback:Xe}),Xe()()}function x(z,ae,we,ye,Ce,Pe){var Xe=z.bounds.getTopLeft();Xe.x*=Pe._scaleSpring.current.value,Xe.y*=Pe._scaleSpring.current.value,Xe.x+=Pe._xSpring.current.value,Xe.y+=Pe._ySpring.current.value;var Je=z.bounds.getSize();Je.x*=Pe._scaleSpring.current.value,Je.y*=Pe._scaleSpring.current.value;var dt=we.pixelFromPointNoRotate(Xe,!0),mt=we.pixelFromPointNoRotate(Xe,!1),ht=we.deltaPixelsFromPointsNoRotate(Je,!0),Rt=we.deltaPixelsFromPointsNoRotate(Je,!1),Pt=mt.plus(Rt.divide(2)),qt=ye.squaredDistanceTo(Pt);ae||(ht=ht.plus(new o.Point(1,1))),z.isRightMost&&Pe.wrapHorizontal&&(ht.x+=.75),z.isBottomMost&&Pe.wrapVertical&&(ht.y+=.75),z.position=dt,z.size=ht,z.squaredDistance=qt,z.visibility=Ce}function E(z,ae,we,ye,Ce,Pe,Xe){var Je=1e3*z.blendTime,dt,mt;if(ae.blendStart||(ae.blendStart=Xe),dt=Xe-ae.blendStart,mt=Je?Math.min(1,dt/Je):1,z.alwaysBlend&&(mt*=Pe),ae.opacity=mt,z.lastDrawn.push(ae),mt===1)B(z.coverage,Ce,we,ye,!0),z._hasOpaqueTile=!0;else if(dt<Je)return!0;return!1}function O(z,ae,we,ye){var Ce,Pe,Xe,Je;if(!z[ae])return!1;if(we===void 0||ye===void 0){Ce=z[ae];for(Xe in Ce)if(Object.prototype.hasOwnProperty.call(Ce,Xe)){Pe=Ce[Xe];for(Je in Pe)if(Object.prototype.hasOwnProperty.call(Pe,Je)&&!Pe[Je])return!1}return!0}return z[ae][we]===void 0||z[ae][we][ye]===void 0||z[ae][we][ye]===!0}function A(z,ae,we,ye){return we===void 0||ye===void 0?O(z,ae+1):O(z,ae+1,2*we,2*ye)&&O(z,ae+1,2*we,2*ye+1)&&O(z,ae+1,2*we+1,2*ye)&&O(z,ae+1,2*we+1,2*ye+1)}function B(z,ae,we,ye,Ce){if(!z[ae]){o.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",ae);return}z[ae][we]||(z[ae][we]={}),z[ae][we][ye]=Ce}function X(z,ae){z[ae]={}}function le(z,ae){return!z||ae.visibility>z.visibility||ae.visibility===z.visibility&&ae.squaredDistance<z.squaredDistance?ae:z}function re(z,ae){if(!(z.opacity===0||ae.length===0&&!z.placeholderFillStyle)){var we=ae[0],ye;we&&(ye=z.opacity<1||z.compositeOperation&&z.compositeOperation!=="source-over"||!z._isBottomItem()&&we._hasTransparencyChannel());var Ce,Pe,Xe=z.viewport.getZoom(!0),Je=z.viewportToImageZoom(Xe);ae.length>1&&Je>z.smoothTileEdgesMinZoom&&!z.iOSDevice&&z.getRotation(!0)%360===0&&o.supportsCanvas&&(ye=!0,Ce=we.getScaleForEdgeSmoothing(),Pe=we.getTranslationForEdgeSmoothing(Ce,z._drawer.getCanvasSize(!1),z._drawer.getCanvasSize(!0)));var dt;ye&&(Ce||(dt=z.viewport.viewportToViewerElementRectangle(z.getClippedBounds(!0)).getIntegerBoundingBox(),z._drawer.viewer.viewport.getFlip()&&(z.viewport.degrees!==0||z.getRotation(!0)%360!==0)&&(dt.x=z._drawer.viewer.container.clientWidth-(dt.x+dt.width)),dt=dt.times(o.pixelDensityRatio)),z._drawer._clear(!0,dt)),Ce||(z.viewport.degrees!==0&&z._drawer._offsetForRotation({degrees:z.viewport.degrees,useSketch:ye}),z.getRotation(!0)%360!==0&&z._drawer._offsetForRotation({degrees:z.getRotation(!0),point:z.viewport.pixelFromPointNoRotate(z._getRotationPoint(!0),!0),useSketch:ye}),z.viewport.degrees===0&&z.getRotation(!0)%360===0&&z._drawer.viewer.viewport.getFlip()&&z._drawer._flip());var mt=!1;if(z._clip){z._drawer.saveContext(ye);var ht=z.imageToViewportRectangle(z._clip,!0);ht=ht.rotate(-z.getRotation(!0),z._getRotationPoint(!0));var Rt=z._drawer.viewportToDrawerRectangle(ht);Ce&&(Rt=Rt.times(Ce)),Pe&&(Rt=Rt.translate(Pe)),z._drawer.setClip(Rt,ye),mt=!0}if(z._croppingPolygons){z._drawer.saveContext(ye);try{var Pt=z._croppingPolygons.map(function(hn){return hn.map(function(Tn){var pt=z.imageToViewportCoordinates(Tn.x,Tn.y,!0).rotate(-z.getRotation(!0),z._getRotationPoint(!0)),tn=z._drawer.viewportCoordToDrawerCoord(pt);return Ce&&(tn=tn.times(Ce)),tn})});z._drawer.clipWithPolygons(Pt,ye)}catch(hn){o.console.error(hn)}mt=!0}if(z.placeholderFillStyle&&z._hasOpaqueTile===!1){var qt=z._drawer.viewportToDrawerRectangle(z.getBounds(!0));Ce&&(qt=qt.times(Ce)),Pe&&(qt=qt.translate(Pe));var Gt=null;typeof z.placeholderFillStyle=="function"?Gt=z.placeholderFillStyle(z,z._drawer.context):Gt=z.placeholderFillStyle,z._drawer.drawRectangle(qt,Gt,ye)}for(var Zt=ae.length-1;Zt>=0;Zt--)we=ae[Zt],z._drawer.drawTile(we,z._drawingHandler,ye,Ce,Pe),we.beingDrawn=!0,z.viewer&&z.viewer.raiseEvent("tile-drawn",{tiledImage:z,tile:we});mt&&z._drawer.restoreContext(ye),Ce||(z.getRotation(!0)%360!==0&&z._drawer._restoreRotationChanges(ye),z.viewport.degrees!==0&&z._drawer._restoreRotationChanges(ye)),ye&&(Ce&&(z.viewport.degrees!==0&&z._drawer._offsetForRotation({degrees:z.viewport.degrees,useSketch:!1}),z.getRotation(!0)%360!==0&&z._drawer._offsetForRotation({degrees:z.getRotation(!0),point:z.viewport.pixelFromPointNoRotate(z._getRotationPoint(!0),!0),useSketch:!1})),z._drawer.blendSketch({opacity:z.opacity,scale:Ce,translate:Pe,compositeOperation:z.compositeOperation,bounds:dt}),Ce&&(z.getRotation(!0)%360!==0&&z._drawer._restoreRotationChanges(!1),z.viewport.degrees!==0&&z._drawer._restoreRotationChanges(!1))),Ce||z.viewport.degrees===0&&z.getRotation(!0)%360===0&&z._drawer.viewer.viewport.getFlip()&&z._drawer._flip(),he(z,ae)}}function he(z,ae){if(z.debugMode)for(var we=ae.length-1;we>=0;we--){var ye=ae[we];try{z._drawer.drawDebugInfo(ye,ae.length,we,z)}catch(Ce){o.console.error(Ce)}}}}(c),function(o){var a=function(m){o.console.assert(m,"[TileCache.cacheTile] options is required"),o.console.assert(m.tile,"[TileCache.cacheTile] options.tile is required"),o.console.assert(m.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=m.tile,this.tiledImage=m.tiledImage},u=function(m){o.console.assert(m,"[ImageRecord] options is required"),o.console.assert(m.image,"[ImageRecord] options.image is required"),this._image=m.image,this._tiles=[]};u.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var m=document.createElement("canvas");m.width=this._image.width,m.height=this._image.height,this._renderedContext=m.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(m){o.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=m},addTile:function(m){o.console.assert(m,"[ImageRecord.addTile] tile is required"),this._tiles.push(m)},removeTile:function(m){for(var v=0;v<this._tiles.length;v++)if(this._tiles[v]===m){this._tiles.splice(v,1);return}o.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",m)},getTileCount:function(){return this._tiles.length}},o.TileCache=function(m){m=m||{},this._maxImageCacheCount=m.maxImageCacheCount||o.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},o.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(m){o.console.assert(m,"[TileCache.cacheTile] options is required"),o.console.assert(m.tile,"[TileCache.cacheTile] options.tile is required"),o.console.assert(m.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),o.console.assert(m.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var v=m.cutoff||0,b=this._tilesLoaded.length,w=this._imagesLoaded[m.tile.cacheKey];if(w||(o.console.assert(m.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),w=this._imagesLoaded[m.tile.cacheKey]=new u({image:m.image}),this._imagesLoadedCount++),w.addTile(m.tile),m.tile.cacheImageRecord=w,this._imagesLoadedCount>this._maxImageCacheCount){for(var x=null,E=-1,O=null,A,B,X,le,re,he,z=this._tilesLoaded.length-1;z>=0;z--)if(he=this._tilesLoaded[z],A=he.tile,!(A.level<=v||A.beingDrawn)){if(!x){x=A,E=z,O=he;continue}le=A.lastTouchTime,B=x.lastTouchTime,re=A.level,X=x.level,(le<B||le===B&&re>X)&&(x=A,E=z,O=he)}x&&E>=0&&(this._unloadTile(O),b=E)}this._tilesLoaded[b]=new a({tile:m.tile,tiledImage:m.tiledImage})},clearTilesFor:function(m){o.console.assert(m,"[TileCache.clearTilesFor] tiledImage is required");for(var v,b=0;b<this._tilesLoaded.length;++b)v=this._tilesLoaded[b],v.tiledImage===m&&(this._unloadTile(v),this._tilesLoaded.splice(b,1),b--)},getImageRecord:function(m){return o.console.assert(m,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[m]},_unloadTile:function(m){o.console.assert(m,"[TileCache._unloadTile] tileRecord is required");var v=m.tile,b=m.tiledImage;v.unload(),v.cacheImageRecord=null;var w=this._imagesLoaded[v.cacheKey];w.removeTile(v),w.getTileCount()||(w.destroy(),delete this._imagesLoaded[v.cacheKey],this._imagesLoadedCount--),b.viewer.raiseEvent("tile-unloaded",{tile:v,tiledImage:b})}}}(c),function(o){o.World=function(a){var u=this;o.console.assert(a.viewer,"[World] options.viewer is required"),o.EventSource.call(this),this.viewer=a.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(m){u._autoRefigureSizes?u._figureSizes():u._needsSizesFigured=!0},this._figureSizes()},o.extend(o.World.prototype,o.EventSource.prototype,{addItem:function(a,u){if(o.console.assert(a,"[World.addItem] item is required"),o.console.assert(a instanceof o.TiledImage,"[World.addItem] only TiledImages supported at this time"),u=u||{},u.index!==void 0){var m=Math.max(0,Math.min(this._items.length,u.index));this._items.splice(m,0,a)}else this._items.push(a);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,a.addHandler("bounds-change",this._delegatedFigureSizes),a.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:a})},getItemAt:function(a){return o.console.assert(a!==void 0,"[World.getItemAt] index is required"),this._items[a]},getIndexOfItem:function(a){return o.console.assert(a,"[World.getIndexOfItem] item is required"),o.indexOf(this._items,a)},getItemCount:function(){return this._items.length},setItemIndex:function(a,u){o.console.assert(a,"[World.setItemIndex] item is required"),o.console.assert(u!==void 0,"[World.setItemIndex] index is required");var m=this.getIndexOfItem(a);if(u>=this._items.length)throw new Error("Index bigger than number of layers.");u===m||m===-1||(this._items.splice(m,1),this._items.splice(u,0,a),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:a,previousIndex:m,newIndex:u}))},removeItem:function(a){o.console.assert(a,"[World.removeItem] item is required");var u=o.indexOf(this._items,a);u!==-1&&(a.removeHandler("bounds-change",this._delegatedFigureSizes),a.removeHandler("clip-change",this._delegatedFigureSizes),a.destroy(),this._items.splice(u,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(a))},removeAll:function(){this.viewer._cancelPendingImages();var a,u;for(u=0;u<this._items.length;u++)a=this._items[u],a.removeHandler("bounds-change",this._delegatedFigureSizes),a.removeHandler("clip-change",this._delegatedFigureSizes),a.destroy();var m=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,u=0;u<m.length;u++)a=m[u],this._raiseRemoveItem(a)},resetItems:function(){for(var a=0;a<this._items.length;a++)this._items[a].reset()},update:function(){for(var a=!1,u=0;u<this._items.length;u++)a=this._items[u].update()||a;return a},draw:function(){for(var a=0;a<this._items.length;a++)this._items[a].draw();this._needsDraw=!1},needsDraw:function(){for(var a=0;a<this._items.length;a++)if(this._items[a].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(a){this._autoRefigureSizes=a,a&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(a){a=a||{};var u=a.immediately||!1,m=a.layout||o.DEFAULT_SETTINGS.collectionLayout,v=a.rows||o.DEFAULT_SETTINGS.collectionRows,b=a.columns||o.DEFAULT_SETTINGS.collectionColumns,w=a.tileSize||o.DEFAULT_SETTINGS.collectionTileSize,x=a.tileMargin||o.DEFAULT_SETTINGS.collectionTileMargin,E=w+x,O;!a.rows&&b?O=b:O=Math.ceil(this._items.length/v);var A=0,B=0,X,le,re,he,z;this.setAutoRefigureSizes(!1);for(var ae=0;ae<this._items.length;ae++)ae&&ae%O===0&&(m==="horizontal"?(B+=E,A=0):(A+=E,B=0)),X=this._items[ae],le=X.getBounds(),le.width>le.height?re=w:re=w*(le.width/le.height),he=re*(le.height/le.width),z=new o.Point(A+(w-re)/2,B+(w-he)/2),X.setPosition(z,u),X.setWidth(re,u),m==="horizontal"?A+=E:B+=E;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var a=this._homeBounds?this._homeBounds.clone():null,u=this._contentSize?this._contentSize.clone():null,m=this._contentFactor||0;if(!this._items.length)this._homeBounds=new o.Rect(0,0,1,1),this._contentSize=new o.Point(1,1),this._contentFactor=1;else{var v=this._items[0],b=v.getBounds();this._contentFactor=v.getContentSize().x/b.width;for(var w=v.getClippedBounds().getBoundingBox(),x=w.x,E=w.y,O=w.x+w.width,A=w.y+w.height,B=1;B<this._items.length;B++)v=this._items[B],b=v.getBounds(),this._contentFactor=Math.max(this._contentFactor,v.getContentSize().x/b.width),w=v.getClippedBounds().getBoundingBox(),x=Math.min(x,w.x),E=Math.min(E,w.y),O=Math.max(O,w.x+w.width),A=Math.max(A,w.y+w.height);this._homeBounds=new o.Rect(x,E,O-x,A-E),this._contentSize=new o.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==m||!this._homeBounds.equals(a)||!this._contentSize.equals(u))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(a){this.raiseEvent("remove-item",{item:a})}})}(c)})(mx);var Jr=mx.exports;const ln="http://www.w3.org/2000/svg",Rp=s=>{const c=s.getAttribute("class");return c?new Set(c.split(" ")):new Set},Fr=(s,c)=>{const o=Rp(s);o.add(c),s.setAttribute("class",Array.from(o).join(" "))},cu=(s,c)=>{const o=Rp(s);o.delete(c),o.size===0?s.removeAttribute("class"):s.setAttribute("class",Array.from(o).join(" "))},Op=(s,c)=>Rp(s).has(c),$r=(s,c)=>{const o=s.selector("FragmentSelector");if(o!=null&&o.conformsTo.startsWith("http://www.w3.org/TR/media-frags")){const{value:a}=o,u=a.includes(":")?a.substring(a.indexOf("=")+1,a.indexOf(":")):"pixel",m=a.includes(":")?a.substring(a.indexOf(":")+1):a.substring(a.indexOf("=")+1);let[v,b,w,x]=m.split(",").map(parseFloat);return u.toLowerCase()==="percent"&&(v=v*c.naturalWidth/100,b=b*c.naturalHeight/100,w=w*c.naturalWidth/100,x=x*c.naturalHeight/100),{x:v,y:b,w,h:x}}},t4=(s,c,o,a,u)=>({source:u?.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=pixel:${s},${c},${o},${a}`}}),n4=(s,c,o,a,u)=>{const m=s/u.naturalWidth*100,v=c/u.naturalHeight*100,b=o/u.naturalWidth*100,w=a/u.naturalHeight*100;return{source:u.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=percent:${m},${v},${b},${w}`}}},Vs=(s,c,o,a,u,m)=>m?.toLowerCase()==="percent"?n4(s,c,o,a,u):t4(s,c,o,a,u),uu=(s,c,o,a,u)=>{s.setAttribute("x",c),s.setAttribute("y",o),s.setAttribute("width",a),s.setAttribute("height",u)},du=(s,c,o)=>{s.setAttribute("cx",c),s.setAttribute("cy",o),s.setAttribute("r",7)},gx=(s,c,o,a,u)=>{const m=document.createElementNS(ln,"path");m.setAttribute("fill-rule","evenodd");const{naturalWidth:v,naturalHeight:b}=s;return m.setAttribute("d",`M0 0 h${v} v${b} h-${v} z M${c} ${o} h${a} v${u} h-${a} z`),m},vx=(s,c,o,a,u,m)=>{const{naturalWidth:v,naturalHeight:b}=c;s.setAttribute("d",`M0 0 h${v} v${b} h-${v} z M${o} ${a} h${u} v${m} h-${u} z`)},Dp=(s,c,o,a)=>{const{x:u,y:m,w:v,h:b}=s.type==="Annotation"||s.type==="Selection"?$r(s,c):{x:s,y:c,w:o,h:a},w=document.createElementNS(ln,"g");if(v===0&&b===0){Fr(w,"a9s-point"),Fr(w,"a9s-non-scaling"),w.setAttribute("transform-origin",`${u} ${m}`);const x=document.createElementNS(ln,"circle"),E=document.createElementNS(ln,"circle");E.setAttribute("class","a9s-inner"),du(E,u,m),x.setAttribute("class","a9s-outer"),du(x,u,m),w.appendChild(x),w.appendChild(E)}else{const x=document.createElementNS(ln,"rect"),E=document.createElementNS(ln,"rect");E.setAttribute("class","a9s-inner"),uu(E,u,m,v,b),x.setAttribute("class","a9s-outer"),uu(x,u,m,v,b),w.appendChild(x),w.appendChild(E)}return w},Ap=s=>{const c=s.querySelector(".a9s-outer");if(c.nodeName==="rect"){const o=parseFloat(c.getAttribute("x")),a=parseFloat(c.getAttribute("y")),u=parseFloat(c.getAttribute("width")),m=parseFloat(c.getAttribute("height"));return{x:o,y:a,w:u,h:m}}else{const o=parseFloat(c.getAttribute("cx")),a=parseFloat(c.getAttribute("cy"));return{x:o,y:a,w:0,h:0}}},yx=(s,c,o,a,u)=>{const m=s.querySelector(".a9s-inner"),v=s.querySelector(".a9s-outer");v.nodeName==="rect"?(uu(m,c,o,a,u),uu(v,c,o,a,u)):(du(m,c,o),du(v,c,o))},i4=(s,c)=>{const{w:o,h:a}=$r(s,c);return o*a};class r4{constructor(c,o,a,u,m){r(this,"dragTo",(v,b)=>{this.group.style.display=null,this.opposite=[v,b];const{x:w,y:x,w:E,h:O}=this.bbox;vx(this.mask,this.env.image,w,x,E,O),yx(this.rect,w,x,E,O)}),r(this,"getBoundingClientRect",()=>this.rect.getBoundingClientRect()),r(this,"toSelection",()=>{const{x:v,y:b,w,h:x}=this.bbox;return new el(Vs(v,b,w,x,this.env.image,this.config.fragmentUnit))}),r(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.mask=null,this.rect=null,this.group=null}),this.anchor=[c,o],this.opposite=[c,o],this.config=u,this.env=m,this.group=document.createElementNS(ln,"g"),this.mask=gx(m.image,c,o,2,2),this.mask.setAttribute("class","a9s-selection-mask"),this.rect=Dp(c,o,2,2),this.rect.setAttribute("class","a9s-selection"),this.group.style.pointerEvents="none",this.group.style.display="none",this.group.appendChild(this.mask),this.group.appendChild(this.rect),a.appendChild(this.group)}get bbox(){const c=this.opposite[0]-this.anchor[0],o=this.opposite[1]-this.anchor[1];return{x:c>0?this.anchor[0]:this.opposite[0],y:o>0?this.anchor[1]:this.opposite[1],w:Math.max(1,Math.abs(c)),h:Math.max(1,Math.abs(o))}}get element(){return this.rect}}const o4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},Ip=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,s4=s=>{let c=null;const o=(u,m)=>new MouseEvent(u,{screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY,pageX:m.pageX,pageY:m.pageY,bubbles:!0}),a=u=>{const m=u.changedTouches[0],v=o(o4[u.type],m);m.target.dispatchEvent(v),u.preventDefault(),(u.type==="touchstart"||u.type==="touchmove")&&(c&&clearTimeout(c),c=setTimeout(()=>{const b=o("dblclick",m);m.target.dispatchEvent(b)},800)),u.type==="touchend"&&c&&clearTimeout(c)};s.addEventListener("touchstart",a,!0),s.addEventListener("touchmove",a,!0),s.addEventListener("touchend",a,!0),s.addEventListener("touchcancel",a,!0)},hu="An implementation is missing",a4=Ip();class bx extends Xi{constructor(c,o,a){super(),r(this,"enableResponsive",()=>{window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>{const m=this.svg.getBoundingClientRect(),{width:v,height:b}=this.svg.viewBox.baseVal;this.scale=Math.max(v/m.width,b/m.height),this.onScaleChanged&&this.onScaleChanged(this.scale)}),this.resizeObserver.observe(this.svg.parentNode))}),r(this,"getSVGPoint",m=>{const v=this.svg.createSVGPoint();if(a4){const b=this.svg.getBoundingClientRect(),w=m.clientX-b.x,x=m.clientY-b.y,{left:E,top:O}=this.svg.getBoundingClientRect();return v.x=w+E,v.y=x+O,v.matrixTransform(this.g.getScreenCTM().inverse())}else return v.x=m.offsetX,v.y=m.offsetY,v.matrixTransform(this.g.getCTM().inverse())}),r(this,"drawHandle",(m,v)=>{const b=document.createElementNS(ln,"g");b.setAttribute("class","a9s-handle");const w=document.createElementNS(ln,"g"),x=B=>{const X=document.createElementNS(ln,"circle");return X.setAttribute("cx",m),X.setAttribute("cy",v),X.setAttribute("r",B),X.setAttribute("transform-origin",`${m} ${v}`),X},E=this.config.handleRadius||6,O=x(E);O.setAttribute("class","a9s-handle-inner");const A=x(E+1);return A.setAttribute("class","a9s-handle-outer"),w.appendChild(A),w.appendChild(O),b.appendChild(w),b}),r(this,"setHandleXY",(m,v,b)=>{const w=m.querySelector(".a9s-handle-inner");w.setAttribute("cx",v),w.setAttribute("cy",b),w.setAttribute("transform-origin",`${v} ${b}`);const x=m.querySelector(".a9s-handle-outer");x.setAttribute("cx",v),x.setAttribute("cy",b),x.setAttribute("transform-origin",`${v} ${b}`)}),r(this,"getHandleXY",m=>{const v=m.querySelector(".a9s-handle-outer");return{x:parseFloat(v.getAttribute("cx")),y:parseFloat(v.getAttribute("cy"))}}),r(this,"scaleHandle",m=>{const v=m.querySelector(".a9s-handle-inner"),b=m.querySelector(".a9s-handle-outer"),w=this.scale*(this.config.handleRadius||6);v.setAttribute("r",w),b.setAttribute("r",w)}),this.svg=c.closest("svg"),this.g=c,this.config=o,this.env=a,this.scale=1;const{image:u}=a;(u instanceof Element||u instanceof HTMLDocument)&&this.enableResponsive()}destroy(){this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=null}}class Mp extends bx{constructor(c,o,a){super(c,o,a),r(this,"attachListeners",({mouseMove:u,mouseUp:m,dblClick:v})=>{u&&(this.mouseMove=b=>{const{x:w,y:x}=this.getSVGPoint(b);this.started||(this.emit("startSelection",{x:w,y:x}),this.started=!0),u(w,x,b)},this.svg.addEventListener("mousemove",this.mouseMove)),m&&(this.mouseUp=b=>{if(b.button!==0)return;const{x:w,y:x}=this.getSVGPoint(b);m(w,x,b)},document.addEventListener("mouseup",this.mouseUp)),v&&(this.dblClick=b=>{const{x:w,y:x}=this.getSVGPoint(b);v(w,x,b)},document.addEventListener("dblclick",this.dblClick))}),r(this,"detachListeners",()=>{this.mouseMove&&this.svg.removeEventListener("mousemove",this.mouseMove),this.mouseUp&&document.removeEventListener("mouseup",this.mouseUp),this.dblClick&&document.removeEventListener("dblclick",this.dblClick)}),r(this,"start",(u,m)=>{const{x:v,y:b}=this.getSVGPoint(u);this.startDrawing(v,b,m,u)}),r(this,"startDrawing",u=>{throw new Error(hu)}),r(this,"createEditableShape",(u,m)=>{throw new Error(hu)}),this.started=!1}get isDrawing(){throw new Error(hu)}}Mp.supports=s=>{throw new Error(hu)};const wx="An implementation is missing";class xx extends bx{constructor(c,o,a,u){super(o,a,u),r(this,"updateState",m=>{throw new Error(wx)}),this.annotation=c}get element(){throw new Error(wx)}}const l4=/firefox/i.test(navigator.userAgent),Sx=(s,c,o,a,u)=>{s.setAttribute("width",a),s.setAttribute("height",u),l4?(s.setAttribute("x",0),s.setAttribute("y",0),s.setAttribute("transform",`translate(${c}, ${o})`)):(s.setAttribute("x",c),s.setAttribute("y",o))},c4=(s,c)=>{const{x:o,y:a,width:u,height:m}=c.getBBox(),v=document.createElementNS(ln,"svg");v.setAttribute("class","a9s-formatter-el"),Sx(v,o,a,u,m);const b=document.createElementNS(ln,"g");b.appendChild(s),v.appendChild(b),c.append(v)},pu=(s,c,o)=>{if(!o)return s;const a=o.reduce((b,w)=>{const x=w(c);if(!x)return b;if(typeof x=="string"||x instanceof String)b.className=b.className?`${b.className} ${x}`:x;else if(x.nodeType===Node.ELEMENT_NODE)b.elements=b.elements?[...b.elements,x]:[x];else{const{className:E,style:O,element:A}=x;E&&(b.className=b.className?`${b.className} ${E}`:E),O&&(b.style=b.style?`${b.style} ${O}`:O),A&&(b.elements=b.elements?[...b.elements,A]:[A])}for(const E in x)x.hasOwnProperty(E)&&E.startsWith("data-")&&(b[E]=x[E]);return b},{}),{className:u,style:m,elements:v}=a;if(u&&Fr(s,u),m){const b=s.querySelector(".a9s-outer"),w=s.querySelector(".a9s-inner");b&&w?(b.setAttribute("style","display:none"),w.setAttribute("style",m)):s.setAttribute("style",m)}v&&v.forEach(b=>c4(b,s));for(const b in a)a.hasOwnProperty(b)&&b.startsWith("data-")&&s.setAttribute(b,a[b])},Ex=(s,c,o,a,u)=>{const m=s.querySelector(".a9s-formatter-el");m&&Sx(m,c,o,a,u)},tl="corner",fu="edge";class u4 extends xx{constructor(c,o,a,u){super(c,o,a,u),r(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),r(this,"setSize",(E,O,A,B)=>{yx(this.rectangle,E,O,A,B),vx(this.mask,this.env.image,E,O,A,B),Ex(this.elementGroup,E,O,A,B);const[X,le,re,he,z,ae,we,ye]=this.handles;this.setHandleXY(X,E,O),this.setHandleXY(le,E+A,O),this.setHandleXY(re,E+A,O+B),this.setHandleXY(he,E,O+B),this.enableEdgeControls&&(this.setHandleXY(z,E+A/2,O),this.setHandleXY(ae,E+A,O+B/2),this.setHandleXY(we,E+A/2,O+B),this.setHandleXY(ye,E,O+B/2))}),r(this,"stretchCorners",(E,O,A)=>{const B=this.getHandleXY(O),X=A.x-B.x,le=A.y-B.y,re=X>0?B.x:A.x,he=le>0?B.y:A.y,z=Math.abs(X),ae=Math.abs(le);return this.setSize(re,he,z,ae),{x:re,y:he,w:z,h:ae}}),r(this,"stretchEdge",(E,O,A)=>{const B=this.getHandleXY(O),X=Ap(this.rectangle),le=E%2===0,re=le?X.w:A.x-B.x,he=le?A.y-B.y:X.h,z=le?X.x:re>0?B.x:A.x,ae=le?he>0?B.y:A.y:X.y,we=Math.abs(re),ye=Math.abs(he);return this.setSize(z,ae,we,ye),{x:z,y:ae,w:we,h:ye}}),r(this,"onGrab",(E,O)=>A=>{if(A.button!==0)return;this.grabbedElem=E,this.grabbedType=O;const B=this.getSVGPoint(A),{x:X,y:le}=Ap(this.rectangle);this.mouseOffset={x:B.x-X,y:B.y-le}}),r(this,"onMouseMove",E=>{if(E.button!==0)return;const O=(A,B)=>A<0?0:A>B?B:A;if(this.grabbedElem){const A=this.getSVGPoint(E);if(this.grabbedElem===this.rectangle){const{w:B,h:X}=Ap(this.rectangle),{naturalWidth:le,naturalHeight:re}=this.env.image,he=O(A.x-this.mouseOffset.x,le-B),z=O(A.y-this.mouseOffset.y,re-X);this.setSize(he,z,B,X),this.emit("update",Vs(he,z,B,X,this.env.image,this.config.fragmentUnit))}else{const B=this.handles.indexOf(this.grabbedElem),X=this.handles[B^2],{x:le,y:re,w:he,h:z}=this.grabbedType===tl?this.stretchCorners(B,X,A):this.stretchEdge(B,X,A);this.emit("update",Vs(le,re,he,z,this.env.image,this.config.fragmentUnit))}}}),r(this,"onMouseUp",E=>{this.grabbedElem=null,this.grabbedType=null,this.mouseOffset=null}),r(this,"updateState",E=>{const{x:O,y:A,w:B,h:X}=$r(E,this.env.image);this.setSize(O,A,B,X)}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp);const{x:m,y:v,w:b,h:w}=$r(c,u.image);this.containerGroup=document.createElementNS(ln,"g"),this.mask=gx(u.image,m,v,b,w),this.mask.setAttribute("class","a9s-selection-mask"),this.containerGroup.appendChild(this.mask),this.elementGroup=document.createElementNS(ln,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.setAttribute("data-id",c.id),this.rectangle=Dp(m,v,b,w),this.rectangle.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.rectangle)),this.elementGroup.appendChild(this.rectangle),this.enableEdgeControls=a.enableEdgeControls;const x=this.enableEdgeControls?[[m+b/2,v,fu],[m+b,v+w/2,fu],[m+b/2,v+w,fu],[m,v+w/2,fu]]:[];this.handles=[[m,v,tl],[m+b,v,tl],[m+b,v+w,tl],[m,v+w,tl],...x].map(E=>{const[O,A,B]=E,X=this.drawHandle(O,A);return X.addEventListener("mousedown",this.onGrab(X,B)),this.elementGroup.appendChild(X),X}),this.containerGroup.appendChild(this.elementGroup),o.appendChild(this.containerGroup),pu(this.rectangle,c,a.formatters),this.grabbedElem=null,this.grabbedType=null,this.mouseOffset=null}get element(){return this.elementGroup}destroy(){this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}}class mu extends Mp{constructor(c,o,a){super(c,o,a),r(this,"startDrawing",(u,m)=>{this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp}),this.rubberband=new r4(u,m,this.g,this.config,this.env)}),r(this,"stop",()=>{this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),r(this,"onMouseMove",(u,m)=>this.rubberband.dragTo(u,m)),r(this,"onMouseUp",()=>{this.detachListeners(),this.started=!1;const{width:u,height:m}=this.rubberband.getBoundingClientRect(),v=this.config.minSelectionWidth||4,b=this.config.minSelectionHeight||4;if(u>=v&&m>=b){const{element:w}=this.rubberband;w.annotation=this.rubberband.toSelection(),this.emit("complete",w)}else this.emit("cancel");this.stop()}),r(this,"createEditableShape",(u,m)=>new u4(u,this.g,{...this.config,formatters:m},this.env)),this.rubberband=null}get isDrawing(){return this.rubberband!=null}}mu.identifier="rect",mu.supports=s=>{const c=s.selector("FragmentSelector");return c?.conformsTo.startsWith("http://www.w3.org/TR/media-frags")};const gu=s=>{let c=0,o=s.length-1;for(let a=0;a<s.length;a++)c+=(s[o][0]+s[a][0])*(s[o][1]-s[a][1]),o=a;return Math.abs(.5*c)},d4=(s,c,o,a)=>{const u=s[0]-c,m=s[1]-o;return Math.sqrt(u*u+m*m)<=a},h4=(s,c,o,a,u,m)=>{const v=Math.cos(0),b=Math.sin(0),w=s[0]-c,x=s[1]-o,E=v*w+b*x,O=b*w-v*x;return E*E/(a*a)+O*O/(u*u)<=1},zp=(s,c)=>{const o=s[0],a=s[1];let u=!1;for(let m=0,v=c.length-1;m<c.length;v=m++){const b=c[m][0],w=c[m][1],x=c[v][0],E=c[v][1];w>a!=E>a&&o<(x-b)*(a-w)/(E-w)+b&&(u=!u)}return u},p4=(s,c)=>{for(let o of s)if(!zp(o,c))return!1;return!0},f4=(s,c,o,a,u,m)=>{const v=s[0],b=s[1],w=a-c,x=u-o,E=Math.sqrt(w*w+x*x);return Math.abs((v-c)*x-(b-o)*w)/E<=m},Tx=s=>{const c=s.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(u=>u.trim()),o=[];let a=[];for(let u of c){const m=u.substring(0,1);if(m.toLowerCase()==="z")o.push([...a]),a=[];else{const v=u.substring(1).split(" ").map(E=>parseFloat(E.trim())),b=m===m.toUpperCase(),w=b?v[0]:v[0]+a[a.length-1][0],x=b?v[1]:v[1]+a[a.length-1][1];a.push([w,x])}}return a.length>0&&o.push([...a]),o},m4=s=>{const c=new XMLSerializer().serializeToString(s.documentElement).replace("<svg>",`<svg xmlns="${ln}">`);return new DOMParser().parseFromString(c,"image/svg+xml").documentElement},Cx=s=>{const c=a=>{Array.from(a.attributes).forEach(u=>{u.name.startsWith("on")&&a.removeAttribute(u.name)})},o=s.getElementsByTagName("script");return Array.from(o).reverse().forEach(a=>a.parentNode.removeChild(a)),c(s),Array.from(s.querySelectorAll("*")).forEach(c),s},jo=s=>{const c=s.selector("SvgSelector");if(c){const o=new DOMParser,{value:a}=c,u=o.parseFromString(a,"image/svg+xml"),m=u.lookupPrefix(ln),v=u.lookupNamespaceURI(null);return m||v?Cx(u).firstChild:Cx(m4(u)).firstChild}},kx=s=>{const c=jo(s),o=document.createElementNS(ln,"g"),a=c.cloneNode(!0);a.setAttribute("class","a9s-inner");const u=c.cloneNode(!0);return u.setAttribute("class","a9s-outer"),o.appendChild(u),o.appendChild(a),o},Lp=(s,c)=>{const o=s.querySelector(".a9s-inner").cloneNode(!0);o.removeAttribute("class"),o.removeAttribute("xmlns");let a=o.outerHTML||new XMLSerializer().serializeToString(o);return a=a.replace(` xmlns="${ln}"`,""),{source:c?.src,selector:{type:"SvgSelector",value:`<svg>${a}</svg>`}}},g4=s=>{const c=jo(s),o=c.nodeName.toLowerCase();if(o==="polygon")return v4(c);if(o==="circle")return y4(c);if(o==="ellipse")return b4(c);if(o=="path")return w4(c);if(o=="line")return 0;throw`Unsupported SVG shape type: ${o}`},v4=s=>{const c=s.getAttribute("points").trim().split(" ").map(o=>o.split(",").map(a=>parseFloat(a.trim())));return gu(c)},y4=s=>{const c=s.getAttribute("r");return c*c*Math.PI},b4=s=>{const c=s.getAttribute("rx"),o=s.getAttribute("ry");return c*o*Math.PI},w4=s=>{const c=Tx(s);if(c.length==1)return gu(c[0]);{const o=u=>c.find(m=>{if(u!==m)return p4(u,m)});let a=0;for(let u of c)o(u)?a-=gu(u):a+=gu(u);return a}};class Px{constructor(c,o){r(this,"redraw",()=>{this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}),r(this,"destroy",()=>this.mask.parentNode.removeChild(this.mask)),this.w=c.naturalWidth,this.h=c.naturalHeight,this.polygon=o,this.mask=document.createElementNS(ln,"path"),this.mask.setAttribute("fill-rule","evenodd"),this.mask.setAttribute("class","a9s-selection-mask"),this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}get element(){return this.mask}}class x4{constructor(c,o,a){r(this,"setPoints",u=>{const m=u.map(v=>`${v[0]},${v[1]}`).join(" ");this.outer.setAttribute("points",m),this.inner.setAttribute("points",m)}),r(this,"getBoundingClientRect",()=>this.outer.getBoundingClientRect()),r(this,"dragTo",u=>{this.group.style.display=null,this.mousepos=u;const m=[...this.points,u];this.setPoints(m),this.mask.redraw()}),r(this,"addPoint",()=>{const[u,m]=this.mousepos,v=this.points[this.points.length-1];Math.pow(u-v[0],2)+Math.pow(m-v[1],2)>4&&(this.points=[...this.points,this.mousepos],this.setPoints(this.points),this.mask.redraw())}),r(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.polygon=null,this.group=null}),r(this,"toSelection",()=>new el(Lp(this.group,this.env.image))),this.points=[c],this.env=a,this.mousepos=c,this.group=document.createElementNS(ln,"g"),this.polygon=document.createElementNS(ln,"g"),this.polygon.setAttribute("class","a9s-selection"),this.outer=document.createElementNS(ln,"polygon"),this.outer.setAttribute("class","a9s-outer"),this.inner=document.createElementNS(ln,"polygon"),this.inner.setAttribute("class","a9s-inner"),this.setPoints(this.points),this.mask=new Px(a.image,this.inner),this.polygon.appendChild(this.outer),this.polygon.appendChild(this.inner),this.group.style.display="none",this.group.appendChild(this.mask.element),this.group.appendChild(this.polygon),o.appendChild(this.group)}get element(){return this.polygon}}const Fp=s=>{const c=s.querySelector(".a9s-inner").points,o=[];for(let a=0;a<c.numberOfItems;a++)o.push(c.getItem(a));return o},S4=s=>s.querySelector(".a9s-inner").getBBox();class E4 extends xx{constructor(c,o,a,u){super(c,o,a,u),r(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),r(this,"setPoints",m=>{const v=B=>Math.round(10*B)/10,b=m.map(B=>`${v(B.x)},${v(B.y)}`).join(" ");this.shape.querySelector(".a9s-inner").setAttribute("points",b);const w=this.shape.querySelector(".a9s-outer");w.setAttribute("points",b),this.mask.redraw();const{x,y:E,width:O,height:A}=w.getBBox();Ex(this.elementGroup,x,E,O,A)}),r(this,"onGrab",m=>v=>{v.button===0&&(this.grabbedElem=m,this.grabbedAt=this.getSVGPoint(v))}),r(this,"onMouseMove",m=>{const v=(b,w,x)=>b+w<0?-b:b+w>x?x-b:w;if(this.grabbedElem){const b=this.getSVGPoint(m);if(this.grabbedElem===this.shape){const{x:w,y:x,width:E,height:O}=S4(this.shape),{naturalWidth:A,naturalHeight:B}=this.env.image,X=v(w,b.x-this.grabbedAt.x,A-E),le=v(x,b.y-this.grabbedAt.y,B-O),re=Fp(this.shape).map(he=>({x:he.x+X,y:he.y+le}));this.grabbedAt=b,this.setPoints(re),re.forEach((he,z)=>this.setHandleXY(this.handles[z],he.x,he.y)),this.emit("update",Lp(this.shape,this.env.image))}else{const w=this.handles.indexOf(this.grabbedElem),x=Fp(this.shape).map((E,O)=>O===w?b:E);this.setPoints(x),this.setHandleXY(this.handles[w],b.x,b.y),this.emit("update",Lp(this.shape,this.env.image))}}}),r(this,"onMouseUp",m=>{this.grabbedElem=null,this.grabbedAt=null}),r(this,"updateState",m=>{const v=jo(m).getAttribute("points").split(" ").map(b=>{const[w,x]=b.split(",").map(E=>parseFloat(E.trim()));return{x:w,y:x}});this.setPoints(v),v.forEach((b,w)=>this.setHandleXY(this.handles[w],b.x,b.y))}),r(this,"destroy",()=>{this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp),this.containerGroup=document.createElementNS(ln,"g"),this.shape=kx(c),this.shape.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.shape)),this.mask=new Px(u.image,this.shape.querySelector(".a9s-inner")),this.containerGroup.appendChild(this.mask.element),this.elementGroup=document.createElementNS(ln,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.setAttribute("data-id",c.id),this.elementGroup.appendChild(this.shape),this.handles=Fp(this.shape).map(m=>{const v=this.drawHandle(m.x,m.y);return v.addEventListener("mousedown",this.onGrab(v)),this.elementGroup.appendChild(v),v}),this.containerGroup.appendChild(this.elementGroup),o.appendChild(this.containerGroup),pu(this.shape,c,a.formatters),this.grabbedElem=null,this.grabbedAt=null}get element(){return this.elementGroup}}class jp extends Mp{constructor(c,o,a){super(c,o,a),r(this,"startDrawing",(u,m,v)=>{this._isDrawing=!0,this._startOnSingleClick=v,this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp,dblClick:this.onDblClick}),this.rubberband=new x4([u,m],this.g,this.env)}),r(this,"stop",()=>{this.detachListeners(),this._isDrawing=!1,this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),r(this,"onMouseMove",(u,m)=>this.rubberband.dragTo([u,m])),r(this,"onMouseUp",()=>{const{width:u,height:m}=this.rubberband.getBoundingClientRect(),v=this.config.minSelectionWidth||4,b=this.config.minSelectionHeight||4;u>=v||m>=b?this.rubberband.addPoint():this._startOnSingleClick||(this.emit("cancel"),this.stop())}),r(this,"onDblClick",()=>{this._isDrawing=!1;const u=this.rubberband.element;u.annotation=this.rubberband.toSelection(),this.emit("complete",u),this.stop()}),r(this,"createEditableShape",(u,m)=>new E4(u,this.g,{...this.config,formatters:m},this.env)),this._isDrawing=!1,this._startOnSingleClick=!1}get isDrawing(){return this._isDrawing}}jp.identifier="polygon",jp.supports=s=>{var c;const o=s.selector("SvgSelector");if(o)return(c=o.value)==null?void 0:c.match(/^<svg.*<polygon/g)};class T4 extends Xi{constructor(c,o,a){super(),r(this,"listTools",()=>this._registered.map(u=>u.identifier)),r(this,"registerTool",u=>{const m=u.identifier;this.listTools().includes(m)&&this.unregisterTool(m),this._registered.unshift(u)}),r(this,"unregisterTool",u=>this._registered=this._registered.filter(m=>m.identifier!==u)),r(this,"setCurrent",u=>{this._current&&this._current.destroy();const m=typeof u=="string"||u instanceof String?this._registered.find(v=>v.identifier===u):u;this._current=new m(this._g,this._config,this._env),this._current.on("startSelection",v=>this.emit("startSelection",v)),this._current.on("complete",v=>this.emit("complete",v)),this._current.on("cancel",v=>this.emit("cancel",v))}),r(this,"forAnnotation",u=>{var m;const[v,...b]=u.targets,w=(m=v.renderedVia)==null?void 0:m.name,x=w?this._registered.find(E=>E.identifier===w):this._registered.find(E=>E.supports(u));return x?new x(this._g,this._config,this._env):null}),this._g=c,this._config=o,this._env=a,this._registered=[mu,jp],this.setCurrent(mu)}get current(){return this._current}}const C4={FragmentSelector:Dp,SvgSelector:kx},k4={FragmentSelector:i4,SvgSelector:g4},_x=s=>{const c=s.targets[0];if(c)return Array.isArray(c.selector)?c.selector[0]:c.selector},Np=(s,c)=>C4[_x(s).type](s,c),Rx=(s,c)=>k4[_x(s).type](s,c);class P4{constructor(c){const o=document.createElementNS(ln,"svg");o.setAttribute("class","a9s-osd-crosshair-container");const a=document.createElementNS(ln,"g");a.setAttribute("class","a9s-crosshair"),o.appendChild(a);const u=document.createElementNS(ln,"line"),m=document.createElementNS(ln,"line");a.appendChild(u),a.appendChild(m),c.parentElement.appendChild(o);const v=b=>{const{offsetX:w,offsetY:x}=b,E=c.parentElement.offsetWidth,O=c.parentElement.offsetHeight;u.setAttribute("x1",0),u.setAttribute("y1",x),u.setAttribute("x2",E),u.setAttribute("y2",x),m.setAttribute("x1",w),m.setAttribute("y1",0),m.setAttribute("x2",w),m.setAttribute("y2",O)};c.addEventListener("pointermove",v),c.parentElement.addEventListener("pointermove",v)}}function _4(s,c,o,a,u){Ox(s,c,o||0,a||s.length-1,u||R4)}function Ox(s,c,o,a,u){for(;a>o;){if(a-o>600){var m=a-o+1,v=c-o+1,b=Math.log(m),w=.5*Math.exp(2*b/3),x=.5*Math.sqrt(b*w*(m-w)/m)*(v-m/2<0?-1:1),E=Math.max(o,Math.floor(c-v*w/m+x)),O=Math.min(a,Math.floor(c+(m-v)*w/m+x));Ox(s,c,E,O,u)}var A=s[c],B=o,X=a;for(nl(s,o,c),u(s[a],A)>0&&nl(s,o,a);B<X;){for(nl(s,B,X),B++,X--;u(s[B],A)<0;)B++;for(;u(s[X],A)>0;)X--}u(s[o],A)===0?nl(s,o,X):(X++,nl(s,X,a)),X<=c&&(o=X+1),c<=X&&(a=X-1)}}function nl(s,c,o){var a=s[c];s[c]=s[o],s[o]=a}function R4(s,c){return s<c?-1:s>c?1:0}class O4{constructor(c=9){this._maxEntries=Math.max(4,c),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(c){let o=this.data;const a=[];if(!yu(c,o))return a;const u=this.toBBox,m=[];for(;o;){for(let v=0;v<o.children.length;v++){const b=o.children[v],w=o.leaf?u(b):b;yu(c,w)&&(o.leaf?a.push(b):Bp(c,w)?this._all(b,a):m.push(b))}o=m.pop()}return a}collides(c){let o=this.data;if(!yu(c,o))return!1;const a=[];for(;o;){for(let u=0;u<o.children.length;u++){const m=o.children[u],v=o.leaf?this.toBBox(m):m;if(yu(c,v)){if(o.leaf||Bp(c,v))return!0;a.push(m)}}o=a.pop()}return!1}load(c){if(!(c&&c.length))return this;if(c.length<this._minEntries){for(let a=0;a<c.length;a++)this.insert(c[a]);return this}let o=this._build(c.slice(),0,c.length-1,0);if(!this.data.children.length)this.data=o;else if(this.data.height===o.height)this._splitRoot(this.data,o);else{if(this.data.height<o.height){const a=this.data;this.data=o,o=a}this._insert(o,this.data.height-o.height-1,!0)}return this}insert(c){return c&&this._insert(c,this.data.height-1),this}clear(){return this.data=Ws([]),this}remove(c,o){if(!c)return this;let a=this.data;const u=this.toBBox(c),m=[],v=[];let b,w,x;for(;a||m.length;){if(a||(a=m.pop(),w=m[m.length-1],b=v.pop(),x=!0),a.leaf){const E=D4(c,a.children,o);if(E!==-1)return a.children.splice(E,1),m.push(a),this._condense(m),this}!x&&!a.leaf&&Bp(a,u)?(m.push(a),v.push(b),b=0,w=a,a=a.children[0]):w?(b++,a=w.children[b],x=!1):a=null}return this}toBBox(c){return c}compareMinX(c,o){return c.minX-o.minX}compareMinY(c,o){return c.minY-o.minY}toJSON(){return this.data}fromJSON(c){return this.data=c,this}_all(c,o){const a=[];for(;c;)c.leaf?o.push(...c.children):a.push(...c.children),c=a.pop();return o}_build(c,o,a,u){const m=a-o+1;let v=this._maxEntries,b;if(m<=v)return b=Ws(c.slice(o,a+1)),Us(b,this.toBBox),b;u||(u=Math.ceil(Math.log(m)/Math.log(v)),v=Math.ceil(m/Math.pow(v,u-1))),b=Ws([]),b.leaf=!1,b.height=u;const w=Math.ceil(m/v),x=w*Math.ceil(Math.sqrt(v));Dx(c,o,a,x,this.compareMinX);for(let E=o;E<=a;E+=x){const O=Math.min(E+x-1,a);Dx(c,E,O,w,this.compareMinY);for(let A=E;A<=O;A+=w){const B=Math.min(A+w-1,O);b.children.push(this._build(c,A,B,u-1))}}return Us(b,this.toBBox),b}_chooseSubtree(c,o,a,u){for(;u.push(o),!(o.leaf||u.length-1===a);){let m=1/0,v=1/0,b;for(let w=0;w<o.children.length;w++){const x=o.children[w],E=Hp(x),O=M4(c,x)-E;O<v?(v=O,m=E<m?E:m,b=x):O===v&&E<m&&(m=E,b=x)}o=b||o.children[0]}return o}_insert(c,o,a){const u=a?c:this.toBBox(c),m=[],v=this._chooseSubtree(u,this.data,o,m);for(v.children.push(c),rl(v,u);o>=0&&m[o].children.length>this._maxEntries;)this._split(m,o),o--;this._adjustParentBBoxes(u,m,o)}_split(c,o){const a=c[o],u=a.children.length,m=this._minEntries;this._chooseSplitAxis(a,m,u);const v=this._chooseSplitIndex(a,m,u),b=Ws(a.children.splice(v,a.children.length-v));b.height=a.height,b.leaf=a.leaf,Us(a,this.toBBox),Us(b,this.toBBox),o?c[o-1].children.push(b):this._splitRoot(a,b)}_splitRoot(c,o){this.data=Ws([c,o]),this.data.height=c.height+1,this.data.leaf=!1,Us(this.data,this.toBBox)}_chooseSplitIndex(c,o,a){let u,m=1/0,v=1/0;for(let b=o;b<=a-o;b++){const w=il(c,0,b,this.toBBox),x=il(c,b,a,this.toBBox),E=z4(w,x),O=Hp(w)+Hp(x);E<m?(m=E,u=b,v=O<v?O:v):E===m&&O<v&&(v=O,u=b)}return u||a-o}_chooseSplitAxis(c,o,a){const u=c.leaf?this.compareMinX:A4,m=c.leaf?this.compareMinY:I4,v=this._allDistMargin(c,o,a,u),b=this._allDistMargin(c,o,a,m);v<b&&c.children.sort(u)}_allDistMargin(c,o,a,u){c.children.sort(u);const m=this.toBBox,v=il(c,0,o,m),b=il(c,a-o,a,m);let w=vu(v)+vu(b);for(let x=o;x<a-o;x++){const E=c.children[x];rl(v,c.leaf?m(E):E),w+=vu(v)}for(let x=a-o-1;x>=o;x--){const E=c.children[x];rl(b,c.leaf?m(E):E),w+=vu(b)}return w}_adjustParentBBoxes(c,o,a){for(let u=a;u>=0;u--)rl(o[u],c)}_condense(c){for(let o=c.length-1,a;o>=0;o--)c[o].children.length===0?o>0?(a=c[o-1].children,a.splice(a.indexOf(c[o]),1)):this.clear():Us(c[o],this.toBBox)}}function D4(s,c,o){if(!o)return c.indexOf(s);for(let a=0;a<c.length;a++)if(o(s,c[a]))return a;return-1}function Us(s,c){il(s,0,s.children.length,c,s)}function il(s,c,o,a,u){u||(u=Ws(null)),u.minX=1/0,u.minY=1/0,u.maxX=-1/0,u.maxY=-1/0;for(let m=c;m<o;m++){const v=s.children[m];rl(u,s.leaf?a(v):v)}return u}function rl(s,c){return s.minX=Math.min(s.minX,c.minX),s.minY=Math.min(s.minY,c.minY),s.maxX=Math.max(s.maxX,c.maxX),s.maxY=Math.max(s.maxY,c.maxY),s}function A4(s,c){return s.minX-c.minX}function I4(s,c){return s.minY-c.minY}function Hp(s){return(s.maxX-s.minX)*(s.maxY-s.minY)}function vu(s){return s.maxX-s.minX+(s.maxY-s.minY)}function M4(s,c){return(Math.max(c.maxX,s.maxX)-Math.min(c.minX,s.minX))*(Math.max(c.maxY,s.maxY)-Math.min(c.minY,s.minY))}function z4(s,c){const o=Math.max(s.minX,c.minX),a=Math.max(s.minY,c.minY),u=Math.min(s.maxX,c.maxX),m=Math.min(s.maxY,c.maxY);return Math.max(0,u-o)*Math.max(0,m-a)}function Bp(s,c){return s.minX<=c.minX&&s.minY<=c.minY&&c.maxX<=s.maxX&&c.maxY<=s.maxY}function yu(s,c){return c.minX<=s.maxX&&c.minY<=s.maxY&&c.maxX>=s.minX&&c.maxY>=s.minY}function Ws(s){return{children:s,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Dx(s,c,o,a,u){const m=[c,o];for(;m.length;){if(o=m.pop(),c=m.pop(),o-c<=a)continue;const v=c+Math.ceil((o-c)/a/2)*a;_4(s,v,c,o,u),m.push(c,v,v,o)}}const Vp=(s,c)=>{if(s.targets[0].selector.type==="FragmentSelector"){const{x:o,y:a,w:u,h:m}=$r(s);return{minX:o,minY:a,maxX:o+u,maxY:a+m}}else{const o=Np(s,c),a=document.createElementNS(ln,"svg");a.style.position="absolute",a.style.opacity=0,a.style.top=0,a.style.left=0,a.appendChild(o),document.body.appendChild(a);const{x:u,y:m,width:v,height:b}=o.getBBox();return document.body.removeChild(a),{minX:u,minY:m,maxX:u+v,maxY:m+b}}},L4=s=>{var c;const o=s.targets[0];return Array.isArray(o.selector)?o.selector[0].type:(c=o.selector)==null?void 0:c.type},F4=(s,c,o,a)=>{const u=jo(o),m=u.nodeName.toLowerCase(),v=[s,c];if(m==="polygon"){const b=Array.from(u.points).map(w=>[w.x,w.y]);return zp(v,b)}else if(m==="circle"){const b=u.getAttribute("cx"),w=u.getAttribute("cy"),x=u.getAttribute("r");return d4(v,b,w,x)}else if(m==="ellipse"){const b=u.getAttribute("cx"),w=u.getAttribute("cy"),x=u.getAttribute("rx"),E=u.getAttribute("ry");return h4(v,b,w,x,E)}else{if(m==="path")return Tx(u).find(b=>zp(v,b));if(m==="line"){const b=parseInt(u.getAttribute("x1")),w=parseInt(u.getAttribute("y1")),x=parseInt(u.getAttribute("x2")),E=parseInt(u.getAttribute("y2"));return f4(v,b,w,x,E,a)}else throw`Unsupported SVG shape type: ${m}`}};class j4{constructor(c){r(this,"clear",()=>this.spatial_index.clear()),r(this,"getAnnotationAt",(o,a,u)=>{const m=u?5/u:5,v=this.spatial_index.search({minX:o-m,minY:a-m,maxX:o+m,maxY:a+m}).map(b=>b.annotation).filter(b=>{const w=L4(b);if(w==="FragmentSelector")return!0;if(w==="SvgSelector")return F4(o,a,b,m);throw`Unsupported selector type: ${w}`});if(v.length>0)return v.sort((b,w)=>Rx(b,this.env.image)-Rx(w,this.env.image)),v[0]}),r(this,"getAnnotationsIntersecting",o=>{const a=o.minX,u=a?o:Vp(o,this.env.image),m=this.spatial_index.search(u).map(v=>v.annotation);return a?m:m.filter(v=>!v.isEqual(o))}),r(this,"insert",o=>{(Array.isArray(o)?o:[o]).forEach(a=>{this.spatial_index.insert({...Vp(a,this.env.image),annotation:a})})}),r(this,"getBounds",o=>this.getBounds(o,this.env.image)),r(this,"remove",o=>{const a={...Vp(o,this.env.image),annotation:o};this.spatial_index.remove(a,(u,m)=>u.annotation.id===m.annotation.id)}),this.env=c,c.store=this,this.spatial_index=new O4}}const Ax=(s,c)=>{const o=(Op(c,".a9s-annotation")?c:c.closest(".a9s-annotation")).querySelector(".a9s-outer").getBoundingClientRect(),{canvas:a}=s.drawer,u=a.getBoundingClientRect(),m=a.width/u.width,v=a.height/u.height,b=o.x-u.x,w=o.y-u.y,{width:x,height:E}=o,O=document.createElement("CANVAS"),A=O.getContext("2d");O.width=x,O.height=E,A.drawImage(a,b*m,w*v,x*m,E*v,0,0,x,E);const B=s.viewport.viewerElementToImageCoordinates(new OpenSeadragon.Point(b,w)),X=s.viewport.viewportToImageZoom(s.viewport.getZoom());return{snippet:O,transform:le=>{const re=B.x+le[0]/m/X,he=B.y+le[1]/v/X;return[re,he]}}},N4=Ip();class Ix extends Xi{constructor(c){super(),r(this,"_getShapeAt",a=>{const u=w=>{const x=this.svg.createSVGPoint();if(window.TouchEvent&&w instanceof TouchEvent){const E=this.svg.getBoundingClientRect(),O=w.touches[0],A=O.clientX-E.x,B=O.clientY-E.y,{left:X,top:le}=this.svg.getBoundingClientRect();return x.x=A+X,x.y=B+le,x.matrixTransform(this.g.getScreenCTM().inverse())}else return x.x=w.offsetX,x.y=w.offsetY,x.matrixTransform(this.g.getCTM().inverse())},{x:m,y:v}=u(a),b=this.store.getAnnotationAt(m,v,this.currentScale());if(b)return this.findShape(b)}),r(this,"_initDrawingTools",a=>{var u;let m=!1,v=!1,b=!1;this.tools=new T4(this.g,this.config,this.env),this.tools.on("complete",E=>{v=!1,this.onDrawingComplete(E)}),this.mouseTracker=new Jr.MouseTracker({element:this.svg,preProcessEventHandler:E=>{this.mouseTracker.enabled||(E.preventDefault=!1,E.preventGesture=!0),this.selectedShape&&E.eventType==="wheel"&&(E.preventDefault=!1,this.viewer.canvas.dispatchEvent(new E.originalEvent.constructor(E.eventType,E.originalEvent)))},pressHandler:E=>{this.tools.current.isDrawing||(this.tools.current.start(E.originalEvent,this.drawOnSingleClick&&!this.hoveredShape),a||this.scaleTool(this.tools.current))},moveHandler:E=>{if(this.tools.current.isDrawing){const{x:O,y:A}=this.tools.current.getSVGPoint(E.originalEvent);!E.buttons||!v?(E.originalEvent.stopPropagation(),this.tools.current.onMouseMove(O,A,E.originalEvent),m||(this.emit("startSelection",{x:O,y:A}),m=!0)):(!b&&this.tools.current.onDragStart&&this.tools.current.onDragStart(O,A,E.originalEvent),b=!0)}},releaseHandler:E=>{if(this.tools.current.isDrawing){v=!0;const{x:O,y:A}=this.tools.current.getSVGPoint(E.originalEvent);m&&this.emit("endSelection",{x:O,y:A}),this.tools.current.onMouseUp(O,A,E.originalEvent),b&&this.tools.current.onDragEnd&&this.tools.current.onDragEnd()}m=!1,b=!1}});const w=this.config.hotkey?this.config.hotkey.key?this.config.hotkey.key.toLowerCase():this.config.hotkey.toLowerCase():"shift",x=(u=this.config.hotkey)==null?void 0:u.inverted;this.mouseTracker.enabled=x,this.onKeyDown&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyUp&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyDown=E=>{if(E.key.toLowerCase()===w&&!this.selectedShape){const O=!this.readOnly&&!x;this.mouseTracker.enabled=O,this.tools.current.enabled=O}},this.onKeyUp=E=>{E.key.toLowerCase()===w&&!this.tools.current.isDrawing&&(this.mouseTracker.enabled=x,this.tools.current.enabled=x)},document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}),r(this,"_initMouseEvents",()=>{this.svg.addEventListener("mousemove",u=>{var m,v;if(!((m=this.tools)!=null&&m.current.isDrawing)&&!u.target.closest(".a9s-annotation.editable.selected")){const b=this._getShapeAt(u);if(b?.annotation!==((v=this.hoveredShape)==null?void 0:v.annotation)){if(this.hoveredShape){const w=this.hoveredShape.element||this.hoveredShape;cu(w,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape)}b&&(Fr(b,"hover"),this.emit("mouseEnterAnnotation",b.annotation,b))}this.hoveredShape=b}}),this.svg.parentElement.addEventListener("mouseleave",()=>{this.hoveredShape&&(cu(this.hoveredShape,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape),this.hoveredShape=null)});let a=null;this.viewer.addHandler("canvas-press",()=>a=new Date().getTime()),this.viewer.addHandler("canvas-click",u=>{var m;const{originalEvent:v}=u;if(!((m=this.tools.current)!=null&&m.isDrawing||this.disableSelect)&&new Date().getTime()-a<250){const b=v.target.closest(".a9s-annotation.editable.selected")?this.selectedShape:this._getShapeAt(v);b?(u.preventDefaultAction=!0,this.selectShape(b)):b||(this.deselect(),this.emit("select",{}))}this.disableSelect&&this.hoveredShape&&this.emit("clickAnnotation",this.hoveredShape.annotation,this.hoveredShape)})}),r(this,"_lazy",a=>{if(this.viewer.world.getItemAt(0))a();else{const u=()=>{a(),this.viewer.removeHandler("open",u),this.viewer.world.removeHandler("add-item",u)};this.viewer.addHandler("open",u),this.viewer.world.addHandler("add-item",u)}}),r(this,"_refreshNonScalingAnnotations",()=>{const a=this.currentScale();Array.from(this.svg.querySelectorAll(".a9s-non-scaling")).forEach(u=>u.setAttribute("transform",`scale(${1/a})`))}),r(this,"addAnnotation",(a,u)=>{const m=u||this.g,v=Np(a,this.env.image);return Fr(v,"a9s-annotation"),v.setAttribute("data-id",a.id),v.annotation=a,m.appendChild(v),pu(v,a,this.formatters),this.scaleFormatterElements(v),v}),r(this,"addDrawingTool",a=>this.tools.registerTool(a)),r(this,"addOrUpdateAnnotation",(a,u)=>{var m;const v=(m=this.selectedShape)==null?void 0:m.annotation;(v===a||v!=null&&v.isSelection||v==u)&&this.deselect(),u&&this.removeAnnotation(a),this.removeAnnotation(a);const b=this.addAnnotation(a);Op(b,"a9s-non-scaling")&&b.setAttribute("transform",`scale(${1/this.currentScale()})`),this.store.insert(a)}),r(this,"currentScale",()=>{const a=this.viewer.viewport.getContainerSize().x;return this.viewer.viewport.getZoom(!0)*a/this.viewer.world.getContentFactor()}),r(this,"deselect",()=>{var a;if((a=this.tools)==null||a.current.stop(),this.selectedShape){const{annotation:u}=this.selectedShape;if(this.selectedShape.destroy){if(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),!u.isSelection){const m=this.addAnnotation(u);Op(m,"a9s-non-scaling")&&m.setAttribute("transform",`scale(${1/this.currentScale()})`)}}else cu(this.selectedShape,"selected");this.selectedShape=null}}),r(this,"destroy",()=>{this.deselect(),this.svg.parentNode.removeChild(this.svg)}),r(this,"findShape",a=>{const u=a!=null&&a.id?a.id:a;return this.g.querySelector(`.a9s-annotation[data-id="${u}"]`)}),r(this,"_fit",(a,u,m)=>{const v=this.findShape(a);if(v){const b=u?typeof u=="boolean"?u:u.immediately:!1,w=u?.padding||0,x=this.viewer.container.getBoundingClientRect(),E=Math.min(2*w/x.width,2*w/x.height),{x:O,y:A,width:B,height:X}=v.getBBox(),le=O-E*B,re=A-E*X,he=B+2*E*B,z=X+2*E*X,ae=this.viewer.viewport.imageToViewportRectangle(le,re,he,z);this.viewer.viewport[m](ae,b)}}),r(this,"fitBounds",(a,u)=>this._fit(a,u,"fitBounds")),r(this,"fitBoundsWithConstraints",(a,u)=>this._fit(a,u,"fitBoundsWithConstraints")),r(this,"getAnnotations",()=>Array.from(this.g.querySelectorAll(".a9s-annotation")).map(a=>a.annotation)),r(this,"getAnnotationsIntersecting",a=>{const u=a.id?a:this.findShape(a).annotation;return this.store.getAnnotationsIntersecting(u)}),r(this,"getImageSnippetById",a=>{const u=this.findShape(a);if(u)return Ax(this.viewer,u)}),r(this,"getSelectedImageSnippet",()=>{var a;if(this.selectedShape){const u=(a=this.selectedShape.element)!=null?a:this.selectedShape;return Ax(this.viewer,u)}}),r(this,"init",a=>{this.deselect(),Array.from(this.g.querySelectorAll(".a9s-annotation")).forEach(u=>this.g.removeChild(u)),this.store.clear(),this._lazy(()=>{console.time("Took"),console.log("Drawing..."),this.loaded||(this.g.style.display="none"),a.forEach(u=>this.addAnnotation(u)),console.log("Indexing..."),this.store.insert(a),console.timeEnd("Took"),this.resize()})}),r(this,"listDrawingTools",()=>this.tools.listTools()),r(this,"overrideId",(a,u)=>{const m=this.findShape(a);m.setAttribute("data-id",u);const{annotation:v}=m,b=v.clone({id:u});return m.annotation=b,this.store.remove(v),this.store.insert(b),b}),r(this,"panTo",(a,u)=>{const m=this.findShape(a);if(m){const{top:v,left:b,width:w,height:x}=m.getBoundingClientRect(),E=b+w/2+window.scrollX,O=v+x/2+window.scrollY,A=this.viewer.viewport.windowToViewportCoordinates(new Jr.Point(E,O));this.viewer.viewport.panTo(A,u)}}),r(this,"removeAnnotation",a=>{var u,m;const v=a.type?a.id:a;((u=this.selectedShape)==null?void 0:u.annotation.id)===v&&this.deselect();const b=this.findShape(a);if(b){const{annotation:w}=b;((m=this.selectedShape)==null?void 0:m.annotation)===w&&this.deselect(),b.parentNode.removeChild(b),this.store.remove(w)}}),r(this,"removeDrawingTool",a=>{var u;return(u=this.tools)==null?void 0:u.unregisterTool(a)}),r(this,"scaleFormatterElements",a=>{const u=1/this.currentScale();if(a){const m=a.querySelector(".a9s-formatter-el");m&&m.firstChild.setAttribute("transform",`scale(${u})`)}else Array.from(this.g.querySelectorAll(".a9s-formatter-el")).forEach(m=>m.firstChild.setAttribute("transform",`scale(${u})`))}),r(this,"scaleTool",a=>{if(a){const u=1/this.currentScale();a.scale=u,a.onScaleChanged&&a.onScaleChanged(u)}}),r(this,"selectAnnotation",(a,u)=>{this.selectedShape&&this.deselect();const m=this.findShape(a);if(m){this.selectShape(m,u);const v=this.selectedShape.element?this.selectedShape.element:this.selectedShape;return{annotation:m.annotation,element:v}}else this.deselect()}),r(this,"selectShape",(a,u)=>{var m;if(!u&&!a.annotation.isSelection&&this.emit("clickAnnotation",a.annotation,a),((m=this.selectedShape)==null?void 0:m.annotation)===a.annotation)return;this.selectedShape&&this.selectedShape.annotation!==a.annotation&&this.deselect();const{annotation:v}=a;if(this.readOnly||v.readOnly||this.headless)this.selectedShape=a,Fr(a,"selected"),u||this.emit("select",{annotation:v,element:a,skipEvent:u});else{const b=this.tools.forAnnotation(v);if(b){setTimeout(()=>{a.parentNode.removeChild(a),u||this.emit("select",{annotation:v,element:this.selectedShape.element})},1),this.selectedShape=b.createEditableShape(v,this.formatters),this.scaleTool(this.selectedShape),this.scaleFormatterElements(this.selectedShape.element),this.selectedShape.element.annotation=v;const w=new Jr.MouseTracker({element:this.svg,preProcessEventHandler:x=>{x.stopPropagation=!0,x.preventDefault=!1,x.preventGesture=!0}}).setTracking(!1);this.selectedShape.element.addEventListener("mouseenter",()=>{this.hoveredShape=this.selectedShape,w.setTracking(!0)}),this.selectedShape.element.addEventListener("mouseleave",()=>{this.hoveredShape=null,w.setTracking(!1)}),this.selectedShape.mouseTracker=w,this.selectedShape.on("update",x=>this.emit("updateTarget",this.selectedShape.element,x))}else this.selectedShape=a,u||this.emit("select",{annotation:v,element:this.selectedShape})}}),r(this,"setDrawingEnabled",a=>{if(this.mouseTracker){const u=a&&!this.readOnly;this.mouseTracker.enabled=u,this.mouseTracker.setTracking(u),this.tools.current&&(this.tools.current.enabled=u)}}),r(this,"setDrawingTool",a=>{var u;this.tools&&((u=this.tools.current)==null||u.stop(),this.tools.setCurrent(a))}),r(this,"setVisible",a=>{a?this.svg.style.display=null:(this.deselect(),this.svg.style.display="none")}),r(this,"stopDrawing",()=>{var a;(a=this.tools)!=null&&a.current&&(this.tools.current.isDrawing&&this.tools.current.stop(),this.mouseTracker.enabled=!1,this.tools.current.enabled=!1)}),this.viewer=c.viewer,this.config=c.config,this.env=c.env,this.readOnly=c.config.readOnly,this.headless=c.config.headless,c.config.formatter?this.formatters=[c.config.formatter]:c.config.formatters&&(this.formatters=Array.isArray(c.config.formatters)?c.config.formatters:[c.config.formatters]),this.disableSelect=c.config.disableSelect,this.drawOnSingleClick=c.config.drawOnSingleClick,this.svg=document.createElementNS(ln,"svg"),N4?(this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer touch"),s4(this.svg)):this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer"),this.g=document.createElementNS(ln,"g"),this.svg.appendChild(this.g),this.viewer.canvas.appendChild(this.svg),this.viewer.addHandler("animation",()=>this.resize()),this.viewer.addHandler("rotate",()=>this.resize()),this.viewer.addHandler("resize",()=>this.resize()),this.viewer.addHandler("flip",()=>this.resize()),this.loaded=!1;const o=()=>{const{x:a,y:u}=this.viewer.world.getItemAt(0).source.dimensions,m=this.viewer.world.getItemAt(0).source["@id"]||new URL(this.viewer.world.getItemAt(0).source.url,document.baseURI).href;this.env.image={src:m,naturalWidth:a,naturalHeight:u},c.config.crosshair&&(this.crosshair||(this.crosshair=new P4(this.svg),Fr(this.svg,"no-cursor"))),this.loaded||this.emit("load",m),this.loaded=!0,this.g.style.display="inline",this.resize()};this.viewer.addHandler("open",o),this.viewer.world.addHandler("add-item",o),this.viewer.world.getItemAt(0)&&o(),this.store=new j4(this.env),this.selectedShape=null,this.hoveredShape=null,this._initMouseEvents()}resize(){var c;const o=this.viewer.viewport.getFlip(),a=this.viewer.viewport.pixelFromPoint(new Jr.Point(0,0),!0);o&&(a.x=this.viewer.viewport._containerInnerSize.x-a.x);const u=this.currentScale(),m=o?-u:u,v=this.viewer.viewport.getRotation();this.g.setAttribute("transform",`translate(${a.x}, ${a.y}) scale(${m}, ${u}) rotate(${v})`),this._refreshNonScalingAnnotations(),this.scaleFormatterElements(),this.selectedShape&&(this.selectedShape.element?(this.scaleTool(this.selectedShape),this.emit("viewportChange",this.selectedShape.element)):this.emit("viewportChange",this.selectedShape)),(c=this.tools)!=null&&c.current&&this.scaleTool(this.tools.current)}}class H4 extends Ix{constructor(c){super(c),r(this,"onDrawingComplete",o=>{var a;this.mouseTracker.enabled=(a=this.config.hotkey)==null?void 0:a.inverted,this.selectShape(o),this.emit("createSelection",o.annotation)}),this._initDrawingTools()}}const Up=s=>{const c=s.viewport.viewportToImageRectangle(s.viewport.getBounds(!0)),o=s.viewport.getContainerSize().x,a=s.viewport.getZoom(!0)*o/s.world.getContentFactor();return{extent:c,scale:a}},B4=s=>{var c;const o=s.targets[0];return o?Array.isArray(o.selector)?o.selector[0].type:(c=o.selector)==null?void 0:c.type:null},Mx=(s,c)=>{const{extent:o,scale:a}=Up(s),{selector:u}=c,m=Fo.create({target:c});if(u.type==="SvgSelector"){const v=jo(m),b=v.nodeName.toLowerCase();let w=null;if(b==="polygon")w=V4(v,o,a);else if(b==="circle")w=U4(v,o,a);else if(b==="ellipse")w=W4(v,o,a);else if(b==="path")w=G4(v,o,a);else throw`Unsupported SVG shape type: ${b}`;let x=w.outerHTML||new XMLSerializer().serializeToString(w);return x=x.replace(` xmlns="${ln}"`,""),{...c,selector:{type:"SvgSelector",value:`<svg>${x}</svg>`}}}else if(u.type==="FragmentSelector"){const{x:v,y:b,w,h:x}=$r(m),E=o.x+v/a,O=o.y+b/a,A=w/a,B=x/a;return w===0&&x===0?{...Vs(E,O,A,B),renderedVia:{name:"point"}}:Vs(E,O,A,B)}else throw`Unsupported selector type: ${u.type}`},V4=(s,c,o)=>{const a=Array.from(s.points).map(u=>{const m=c.x+u.x/o,v=c.y+u.y/o;return m+","+v}).join(" ");return s.setAttribute("points",a),s},U4=(s,c,o)=>{const a=parseFloat(s.getAttribute("cx")),u=parseFloat(s.getAttribute("cy")),m=parseFloat(s.getAttribute("r"));return s.setAttribute("cx",c.x+a/o),s.setAttribute("cy",c.y+u/o),s.setAttribute("r",m/o),s},W4=(s,c,o)=>{const a=parseFloat(s.getAttribute("cx")),u=parseFloat(s.getAttribute("cy")),m=parseFloat(s.getAttribute("rx")),v=parseFloat(s.getAttribute("ry"));return s.setAttribute("cx",c.x+a/o),s.setAttribute("cy",c.y+u/o),s.setAttribute("rx",m/o),s.setAttribute("ry",v/o),s},G4=(s,c,o)=>{const a=s.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(u=>u.trim()).map(u=>{const m=u.substring(0,1);if(m.toLowerCase()==="z")return m;{const v=u.substring(1).split(" ").map(E=>parseFloat(E.trim())),b=m===m.toUpperCase(),w=b?c.x+v[0]/o:v[0]/o,x=b?c.y+v[1]/o:v[1]/o;return m+" "+w+" "+x}}).join(" ");return s.setAttribute("d",a),s},zx=(s,c)=>{const{extent:o,scale:a}=Up(s),u=c.selector("FragmentSelector");if(c.selector("SvgSelector")){const m=jo(c),v=m.nodeName.toLowerCase();let b=null;if(v==="polygon")b=q4(m,o,a);else if(v==="circle")b=X4(m,o,a);else if(v==="ellipse")b=Y4(m,o,a);else if(v==="path")b=K4(m,o,a);else throw`Unsupported SVG shape type: ${v}`;let w=b.outerHTML||new XMLSerializer().serializeToString(b);w=w.replace(` xmlns="${ln}"`,"");const x={selector:{type:"SvgSelector",value:`<svg>${w}</svg>`}};return c.clone({target:x})}else if(u){const{x:m,y:v,w:b,h:w}=$r(c),x=(m-o.x)*a,E=(v-o.y)*a,O=Vs(x,E,b*a,w*a);return c.clone({target:O})}},q4=(s,c,o)=>{const a=Array.from(s.points).map(u=>{const m=o*(u.x-c.x),v=o*(u.y-c.y);return m+","+v}).join(" ");return s.setAttribute("points",a),s},X4=(s,c,o)=>{const a=s.getAttribute("cx"),u=s.getAttribute("cy"),m=s.getAttribute("r");return s.setAttribute("cx",o*(a-c.x)),s.setAttribute("cy",o*(u-c.y)),s.setAttribute("r",m*o),s},Y4=(s,c,o)=>{const a=s.getAttribute("cx"),u=s.getAttribute("cy"),m=s.getAttribute("rx"),v=s.getAttribute("ry");return s.setAttribute("cx",o*(a-c.x)),s.setAttribute("cy",o*(u-c.y)),s.setAttribute("rx",m*o),s.setAttribute("ry",v*o),s},K4=(s,c,o)=>{const a=s.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(u=>u.trim()).map(u=>{const m=u.substring(0,1);if(m.toLowerCase()==="z")return m;{const v=u.substring(1).split(" ").filter(E=>E).map(E=>parseFloat(E.trim())),b=m===m.toUpperCase(),w=b?o*(v[0]-c.x):o*v[0],x=b?o*(v[1]-c.y):o*v[1];return m+" "+w+" "+x}}).join(" ");return s.setAttribute("d",a),s},Lx=(s,c)=>{const{extent:o,scale:a}=Up(s),u=B4(c.annotation);if(u==="FragmentSelector")Z4(c,o,a);else if(u==="SvgSelector")J4(c,o,a);else throw`Unsupported selector type type: ${u}`;const m=c.querySelector(".a9s-formatter-el");if(m){const{x:v,y:b}=c.querySelector(".a9s-inner").getBBox();m.setAttribute("x",v),m.setAttribute("y",b)}},Z4=(s,c,o)=>{const{x:a,y:u,w:m,h:v}=$r(s.annotation),b=s.querySelector(".a9s-outer"),w=s.querySelector(".a9s-inner"),x=o*(a-c.x),E=o*(u-c.y);m===0&&v===0?[b,w].forEach(O=>{O.setAttribute("cx",x),O.setAttribute("cy",E)}):[b,w].forEach(O=>{O.setAttribute("x",x),O.setAttribute("y",E),O.setAttribute("width",m*o),O.setAttribute("height",v*o)})},J4=(s,c,o)=>{const a=jo(s.annotation),u=a.nodeName.toLowerCase();if(u==="polygon")$4(s,a,c,o);else if(u==="circle")Q4(s,a,c,o);else if(u==="ellipse")e3(s,a,c,o);else if(u==="path")t3(s,a,c,o);else throw`Unsupported SVG shape type: ${u}`},$4=(s,c,o,a)=>{const u=Array.from(c.points).map(m=>{const v=a*(m.x-o.x),b=a*(m.y-o.y);return v+","+b}).join(" ");s.querySelector(".a9s-outer").setAttribute("points",u),s.querySelector(".a9s-inner").setAttribute("points",u)},Q4=(s,c,o,a)=>{const u=a*(c.getAttribute("cx")-o.x),m=a*(c.getAttribute("cy")-o.y),v=a*c.getAttribute("r"),b=s.querySelector(".a9s-outer");b.setAttribute("cx",u),b.setAttribute("cy",m),b.setAttribute("r",v);const w=s.querySelector(".a9s-inner");w.setAttribute("cx",u),w.setAttribute("cy",m),w.setAttribute("r",v)},e3=(s,c,o,a)=>{const u=a*(c.getAttribute("cx")-o.x),m=a*(c.getAttribute("cy")-o.y),v=a*c.getAttribute("rx"),b=a*c.getAttribute("ry"),w=s.querySelector(".a9s-outer");w.setAttribute("cx",u),w.setAttribute("cy",m),w.setAttribute("rx",v),w.setAttribute("ry",b);const x=s.querySelector(".a9s-inner");x.setAttribute("cx",u),x.setAttribute("cy",m),x.setAttribute("rx",v),x.setAttribute("ry",b)},t3=(s,c,o,a)=>{const u=c.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(m=>m.trim()).map(m=>{const v=m.substring(0,1);if(v.toLowerCase()==="z")return v;{const b=m.substring(1).split(" ").filter(O=>O).map(O=>parseFloat(O.trim())),w=v===v.toUpperCase(),x=w?a*(b[0]-o.x):a*b[0],E=w?a*(b[1]-o.y):a*b[1];return v+" "+x+" "+E}}).join(" ");s.querySelector(".a9s-inner").setAttribute("d",u),s.querySelector(".a9s-outer").setAttribute("d",u)},n3=Ip();class i3 extends Ix{constructor(c){super(c),r(this,"_fit",(o,a,u)=>{const m=a?typeof a=="boolean"?a:a.immediately:!1,v=a?.padding||0,b=this.findShape(o);if(b){const w=this.viewer.container.getBoundingClientRect(),x=b.getBoundingClientRect(),E=x.x-w.x,O=x.y-w.y,{width:A,height:B}=x,X=E-v,le=O-v,re=A+2*v,he=B+2*v,z=this.viewer.viewport.viewerElementToViewportRectangle(new Jr.Rect(X,le,re,he));this.viewer.viewport[u](z,m)}}),r(this,"_getShapeAt",o=>{const a=w=>{if(n3){const x=this.svg.getBoundingClientRect(),E=w.clientX-x.x,O=w.clientY-x.y;return new Jr.Point(E,O)}else return new Jr.Point(w.offsetX,w.offsetY)},u=this.viewer.viewport.viewerElementToViewportCoordinates(a(o)),{x:m,y:v}=this.viewer.viewport.viewportToImageCoordinates(u.x,u.y),b=this.store.getAnnotationAt(m,v,this.currentScale());if(b)return this.findShape(b)}),r(this,"_refreshNonScalingAnnotations",()=>{}),r(this,"addAnnotation",(o,a)=>{const u=a||this.g,m=Np(o,this.env.image);return Fr(m,"a9s-annotation"),m.setAttribute("data-id",o.id),m.annotation=o,Lx(this.viewer,m),u.appendChild(m),pu(m,o,this.formatters),m}),r(this,"addOrUpdateAnnotation",(o,a)=>{var u;const m=(u=this.selectedShape)==null?void 0:u.annotation;(m===o||m!=null&&m.isSelection||m==a)&&this.deselect(),a&&this.removeAnnotation(o),this.removeAnnotation(o),this.addAnnotation(o),this.store.insert(o)}),r(this,"deselect",()=>{var o;if((o=this.tools)==null||o.current.stop(),this.selectedShape){const{annotation:a}=this.selectedShape;this.selectedShape.destroy?(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),a.isSelection||this.addAnnotation(a)):cu(this.selectedShape,"selected"),this.selectedShape=null}}),r(this,"onDrawingComplete",o=>{const a=o.annotation.clone({target:Mx(this.viewer,o.annotation.target)});o.annotation=a,this.selectShape(o),this.emit("createSelection",o.annotation),this.mouseTracker.enabled=!1}),r(this,"selectShape",(o,a)=>{var u;if(!a&&!o.annotation.isSelection&&this.emit("clickAnnotation",o.annotation,o),((u=this.selectedShape)==null?void 0:u.annotation)===o.annotation)return;this.selectedShape&&this.selectedShape.annotation!==o.annotation&&this.deselect(!0);const{annotation:m}=o;if(this.readOnly||m.readOnly||this.headless)this.selectedShape=o,Fr(o,"selected"),a||this.emit("select",{annotation:m,element:o,skipEvent:a});else{setTimeout(()=>{o.parentNode.removeChild(o),a||this.emit("select",{annotation:m,element:this.selectedShape.element})},1);const v=this.tools.forAnnotation(m);this.selectedShape=v.createEditableShape(m),this.selectedShape.element.annotation=m;const b=zx(this.viewer,m);this.selectedShape.updateState(b);const w=new Jr.MouseTracker({element:this.svg,preProcessEventHandler:x=>{x.stopPropagation=!0,x.preventDefault=!1,x.preventGesture=!0}}).setTracking(!1);this.selectedShape.element.addEventListener("mouseenter",()=>{this.hoveredShape=this.selectedShape,w.setTracking(!0)}),this.selectedShape.element.addEventListener("mouseleave",()=>{this.hoveredShape=null,w.setTracking(!1)}),this.selectedShape.mouseTracker=w,this.selectedShape.on("update",x=>{const E=Mx(this.viewer,x);this.selectedShape.element.annotation=this.selectedShape.annotation.clone({target:E}),this.emit("updateTarget",this.selectedShape.element,E)})}}),this._initDrawingTools(!0)}resize(){if(this.store&&(Array.from(this.g.querySelectorAll(".a9s-annotation:not(.selected)")).forEach(c=>Lx(this.viewer,c)),this.selectedShape))if(this.selectedShape.element){const c=zx(this.viewer,this.selectedShape.element.annotation);this.selectedShape.updateState&&this.selectedShape.updateState(c),this.emit("viewportChange",this.selectedShape.element)}else this.emit("viewportChange",this.selectedShape)}}var r3=0;function Fx(s,c,o,a,u){var m,v,b={};for(v in c)v=="ref"?m=c[v]:b[v]=c[v];var w={type:s,props:b,key:o,ref:m,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--r3,__source:a,__self:u};if(typeof s=="function"&&(m=s.defaultProps))for(v in m)b[v]===void 0&&(b[v]=m[v]);return h.vnode&&h.vnode(w),w}class o3 extends K{constructor(c){super(c),r(this,"clearState",o=>this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,beforeHeadlessModify:null},o)),r(this,"forwardEvent",(o,a)=>{this.annotationLayer.on(o,(u,m)=>{this.props[a](u.clone(),m)})}),r(this,"onKeyUp",o=>{if(o.which===27){this.annotationLayer.stopDrawing();const{selectedAnnotation:a}=this.state;a&&(this.cancelSelected(),this.props.onCancelSelected(a))}else if(o.which===46){const{disableDeleteKey:a}=this.props.config;if(!a){const{selectedAnnotation:u}=this.state;u&&(u.isSelection?this.onCancelAnnotation(u):this.onDeleteAnnotation(u))}}}),r(this,"handleStartSelect",o=>this.props.onSelectionStarted(o)),r(this,"handleEndSelect",o=>this.props.onSelectionEnded(o)),r(this,"handleSelect",(o,a)=>{this.state.editorDisabled?this.onHeadlessSelect(o,a):this.onNormalSelect(o,a)}),r(this,"onNormalSelect",(o,a)=>{const{annotation:u,element:m}=o;if(u){const v=()=>{this.setState({selectedAnnotation:u,selectedDOMElement:m,modifiedTarget:null},()=>{a||(u.isSelection?this.props.onSelectionCreated(u.clone()):this.props.onAnnotationSelected(u.clone(),m))})},{selectedAnnotation:b}=this.state;b&&!b.isEqual(u)?this.clearState(()=>{this.props.onCancelSelected(b),v()}):v()}else{const{selectedAnnotation:v}=this.state;v?this.clearState(()=>this.props.onCancelSelected(v)):this.clearState()}}),r(this,"onHeadlessSelect",(o,a)=>{this.saveSelected().then(()=>{this.onNormalSelect(o,a)})}),r(this,"handleUpdateTarget",(o,a)=>{this.setState({selectedDOMElement:o,modifiedTarget:a});const u=JSON.parse(JSON.stringify(a));this.props.onSelectionTargetChanged(u)}),r(this,"handleViewportChange",o=>this.setState({selectedDOMElement:o})),r(this,"overrideAnnotationId",o=>a=>{const{id:u}=o;this.state.selectedAnnotation?this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null},()=>{this.annotationLayer.overrideId(u,a)}):this.annotationLayer.overrideId(u,a)}),r(this,"onCreateOrUpdateAnnotation",(o,a)=>(u,m)=>{let v=u.isSelection?u.toAnnotation():u;v=this.state.modifiedTarget?v.clone({target:this.state.modifiedTarget}):v.clone(),this.clearState(()=>{this.annotationLayer.addOrUpdateAnnotation(v,m),m?this.props[o](v,m.clone()):this.props[o](v,this.overrideAnnotationId(v)),a&&a()})}),r(this,"onDeleteAnnotation",o=>{this.clearState(),this.annotationLayer.removeAnnotation(o),this.props.onAnnotationDeleted(o)}),r(this,"onCancelAnnotation",(o,a)=>{this.state.editorDisabled||this.annotationLayer.deselect(),this.props.onCancelSelected(o),this.clearState(a)}),r(this,"addAnnotation",o=>{var a;o.id===((a=this.state.selectedAnnotation)==null?void 0:a.id)&&(this.annotationLayer.deselect(),this.clearState()),this.annotationLayer.addOrUpdateAnnotation(o.clone())}),r(this,"addDrawingTool",o=>this.annotationLayer.addDrawingTool(o)),r(this,"cancelSelected",()=>new Promise(o=>{this.annotationLayer.deselect(),this.state.selectedAnnotation?this.clearState(o):o()})),r(this,"fitBounds",(o,a)=>this.annotationLayer.fitBounds(o,a)),r(this,"fitBoundsWithConstraints",(o,a)=>this.annotationLayer.fitBoundsWithConstraints(o,a)),r(this,"getAnnotationById",o=>{var a;return(a=this.annotationLayer.findShape(o))==null?void 0:a.annotation}),r(this,"getAnnotations",()=>this.annotationLayer.getAnnotations().map(o=>o.clone())),r(this,"getAnnotationsIntersecting",o=>this.annotationLayer.getAnnotationsIntersecting(o)),r(this,"getImageSnippetById",o=>this.annotationLayer.getImageSnippetById(o)),r(this,"getSelected",()=>{var o;if(this.state.selectedAnnotation)return this.state.editorDisabled?this.state.selectedAnnotation:(o=this._editor.current)==null?void 0:o.getCurrentAnnotation()}),r(this,"getSelectedImageSnippet",()=>this.annotationLayer.getSelectedImageSnippet()),r(this,"listDrawingTools",()=>this.annotationLayer.listDrawingTools()),r(this,"panTo",(o,a)=>this.annotationLayer.panTo(o,a)),r(this,"removeAnnotation",o=>this.annotationLayer.removeAnnotation(o)),r(this,"removeDrawingTool",o=>this.annotationLayer.removeDrawingTool(o)),r(this,"saveSelected",()=>new Promise(o=>{const a=this.state.selectedAnnotation;if(a)if(this._editor.current)this._editor.current.onOk(),o();else if(a.isSelection)a.bodies.length>0||this.props.config.allowEmpty?this.onCreateOrUpdateAnnotation("onAnnotationCreated",o)(a):(this.annotationLayer.deselect(),o());else{const{beforeHeadlessModify:u,modifiedTarget:m}=this.state;u?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",o)(a,u):m?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",o)(a,a):this.onCancelAnnotation(a,o)}else o()})),r(this,"selectAnnotation",o=>{const a=this.annotationLayer.selectAnnotation(o,!0);if(a)return this.handleSelect(a,!0),a.annotation.clone();this.clearState()}),r(this,"setAnnotations",o=>this.annotationLayer.init(o.map(a=>a.clone()))),r(this,"setDrawingEnabled",o=>this.annotationLayer.setDrawingEnabled(o)),r(this,"setDrawingTool",o=>this.annotationLayer.setDrawingTool(o)),r(this,"setVisible",o=>{this.annotationLayer.setVisible(o),o||this.clearState()}),r(this,"updateSelected",(o,a)=>new Promise(u=>{this.state.selectedAnnotation&&(a?this.state.selectedAnnotation.isSelection?this.onCreateOrUpdateAnnotation("onAnnotationCreated",u)(o):this.onCreateOrUpdateAnnotation("onAnnotationUpdated",u)(o,this.state.selectedAnnotation):this.setState({selectedAnnotation:o,beforeHeadlessModify:this.state.beforeHeadlessModify||this.state.selectedAnnotation},u))})),this.state={selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,readOnly:c.config.readOnly,editorDisabled:c.config.disableEditor,widgets:c.config.widgets,beforeHeadlessModify:null},this._editor=Fe.createRef()}componentDidMount(){this.annotationLayer=this.props.config.gigapixelMode?new i3(this.props):new H4(this.props),this.annotationLayer.on("load",this.props.onLoad),this.annotationLayer.on("startSelection",this.handleStartSelect),this.annotationLayer.on("endSelection",this.handleEndSelect),this.annotationLayer.on("select",this.handleSelect),this.annotationLayer.on("updateTarget",this.handleUpdateTarget),this.annotationLayer.on("viewportChange",this.handleViewportChange),this.forwardEvent("clickAnnotation","onClickAnnotation"),this.forwardEvent("mouseEnterAnnotation","onMouseEnterAnnotation"),this.forwardEvent("mouseLeaveAnnotation","onMouseLeaveAnnotation"),document.addEventListener("keyup",this.onKeyUp)}componentWillUnmount(){this.annotationLayer.destroy(),document.removeEventListener("keyup",this.onKeyUp)}get disableEditor(){return this.state.editorDisabled}set disableEditor(c){this.setState({editorDisabled:c})}get disableSelect(){return this.annotationLayer.disableSelect}set disableSelect(c){this.annotationLayer.disableSelect=c}get formatters(){return this.annotationLayer.formatters}set formatters(c){this.annotationLayer.formatters=c}get readOnly(){return this.state.readOnly}set readOnly(c){this.annotationLayer.readOnly=c,this.setState({readOnly:c})}get widgets(){return this.state.widgets}set widgets(c){this.setState({widgets:c})}render(){var c;const o=this.state.selectedAnnotation&&!this.state.editorDisabled,a=this.state.readOnly||((c=this.state.selectedAnnotation)==null?void 0:c.readOnly);return o&&Fx(qM,{ref:this._editor,detachable:!0,wrapperEl:this.props.wrapperEl,annotation:this.state.selectedAnnotation,modifiedTarget:this.state.modifiedTarget,selectedElement:this.state.selectedDOMElement,readOnly:a,allowEmpty:this.props.config.allowEmpty,widgets:this.state.widgets,env:this.props.env,onAnnotationCreated:this.onCreateOrUpdateAnnotation("onAnnotationCreated"),onAnnotationUpdated:this.onCreateOrUpdateAnnotation("onAnnotationUpdated"),onAnnotationDeleted:this.onDeleteAnnotation,onCancel:this.onCancelAnnotation})}}class s3{constructor(c,o){r(this,"handleAnnotationCreated",(u,m)=>this._emitter.emit("createAnnotation",u.underlying,m)),r(this,"handleAnnotationDeleted",u=>this._emitter.emit("deleteAnnotation",u.underlying)),r(this,"handleAnnotationSelected",(u,m)=>this._emitter.emit("selectAnnotation",u.underlying,m)),r(this,"handleAnnotationUpdated",(u,m)=>this._emitter.emit("updateAnnotation",u.underlying,m.underlying)),r(this,"handleCancelSelected",u=>this._emitter.emit("cancelSelected",u.underlying)),r(this,"handleClickAnnotation",(u,m)=>this._emitter.emit("clickAnnotation",u.underlying,m)),r(this,"handleLoad",u=>this._emitter.emit("load",u)),r(this,"handleSelectionCreated",u=>this._emitter.emit("createSelection",u.underlying)),r(this,"handleSelectionStarted",u=>this._emitter.emit("startSelection",u)),r(this,"handleSelectionEnded",u=>this._emitter.emit("endSelection",u)),r(this,"handleSelectionTargetChanged",u=>this._emitter.emit("changeSelectionTarget",u)),r(this,"handleMouseEnterAnnotation",(u,m)=>this._emitter.emit("mouseEnterAnnotation",u.underlying,m)),r(this,"handleMouseLeaveAnnotation",(u,m)=>this._emitter.emit("mouseLeaveAnnotation",u.underlying,m)),r(this,"_wrap",u=>u?.type==="Annotation"?new Fo(u):u),r(this,"addAnnotation",u=>this._app.current.addAnnotation(new Fo(u))),r(this,"addDrawingTool",u=>this._app.current.addDrawingTool(u)),r(this,"cancelSelected",()=>this._app.current.cancelSelected()),r(this,"clearAnnotations",()=>this.setAnnotations([])),r(this,"clearAuthInfo",()=>this._env.user=null),r(this,"destroy",()=>Fe.unmountComponentAtNode(this.appContainerEl)),r(this,"fitBounds",(u,m)=>this._app.current.fitBounds(this._wrap(u),m)),r(this,"fitBoundsWithConstraints",(u,m)=>this._app.current.fitBoundsWithConstraints(this._wrap(u),m)),r(this,"getAnnotationById",u=>{const m=this._app.current.getAnnotationById(u);return m?.underlying}),r(this,"getAnnotations",()=>this._app.current.getAnnotations().map(u=>u.underlying)),r(this,"getAnnotationsIntersecting",u=>this._app.current.getAnnotationsIntersecting(this._wrap(u))),r(this,"getImageSnippetById",u=>this._app.current.getImageSnippetById(u)),r(this,"getSelected",()=>{const u=this._app.current.getSelected();return u?.underlying}),r(this,"getSelectedImageSnippet",()=>this._app.current.getSelectedImageSnippet()),r(this,"listDrawingTools",()=>this._app.current.listDrawingTools()),r(this,"loadAnnotations",u=>fetch(u).then(m=>m.json()).then(m=>(this.setAnnotations(m),m))),r(this,"off",(u,m)=>this._emitter.off(u,m)),r(this,"on",(u,m)=>this._emitter.on(u,m)),r(this,"once",(u,m)=>this._emitter.once(u,m)),r(this,"panTo",(u,m)=>this._app.current.panTo(this._wrap(u),m)),r(this,"removeAnnotation",u=>this._app.current.removeAnnotation(this._wrap(u))),r(this,"removeDrawingTool",u=>this._app.current.removeDrawingTool(u)),r(this,"saveSelected",()=>this._app.current.saveSelected()),r(this,"selectAnnotation",u=>{const m=this._app.current.selectAnnotation(this._wrap(u));return m?.underlying}),r(this,"setAnnotations",u=>{const m=(u||[]).map(v=>new Fo(v));this._app.current.setAnnotations(m)}),r(this,"setAuthInfo",u=>this._env.user=u),r(this,"setDrawingEnabled",u=>this._app.current.setDrawingEnabled(u)),r(this,"setDrawingTool",u=>this._app.current.setDrawingTool(u)),r(this,"setServerTime",u=>this._env.setServerTime(u)),r(this,"setVisible",u=>this._app.current.setVisible(u)),r(this,"updateSelected",(u,m)=>{let v=null;u.type==="Annotation"?v=new Fo(u):u.type==="Selection"&&(v=new el(u.target,u.body)),v&&this._app.current.updateSelected(v,m)});const a=o||{};this._app=Fe.createRef(),this._emitter=new Xi,this._env=QM(),this._element=c.element,window.getComputedStyle(this._element).getPropertyValue("position")==="static"&&(this._element.style.position="relative"),e4(a.locale,a.messages),this.appContainerEl=document.createElement("DIV"),this._element.appendChild(this.appContainerEl),Fe.render(Fx(o3,{ref:this._app,viewer:c,wrapperEl:this._element,config:a,env:this._env,onSelectionStarted:this.handleSelectionStarted,onSelectionEnded:this.handleSelectionEnded,onSelectionCreated:this.handleSelectionCreated,onSelectionTargetChanged:this.handleSelectionTargetChanged,onAnnotationCreated:this.handleAnnotationCreated,onAnnotationSelected:this.handleAnnotationSelected,onAnnotationUpdated:this.handleAnnotationUpdated,onAnnotationDeleted:this.handleAnnotationDeleted,onCancelSelected:this.handleCancelSelected,onClickAnnotation:this.handleClickAnnotation,onLoad:this.handleLoad,onMouseEnterAnnotation:this.handleMouseEnterAnnotation,onMouseLeaveAnnotation:this.handleMouseLeaveAnnotation}),this.appContainerEl)}get disableEditor(){return this._app.current.disableEditor}set disableEditor(c){this._app.current.disableEditor=c}get disableSelect(){return this._app.current.disableSelect}set disableSelect(c){this._app.current.disableSelect=c}get formatters(){return this._app.current.formatters||[]}set formatters(c){if(c){const o=Array.isArray(c)?c:[c];this._app.current.formatters=o}else this._app.current.formatters=null}get readOnly(){return this._app.current.readOnly}set readOnly(c){this._app.current.readOnly=c}get widgets(){return this._app.current.widgets}set widgets(c){this._app.current.widgets=c}}var a3=(s,c)=>new s3(s,c);return a3})})(bP);var UK=bP.exports;const WK=Er(UK);function GK(e){var n;const{data:t}=e;return L.jsx("div",{className:"image-metadata",children:(n=Object.keys(t))==null?void 0:n.map(i=>L.jsx("div",{children:`${i}: ${t[i]}`},i))})}function qK(e){const n=`os-zoom-in ${e.side}`,t=`os-zoom-out ${e.side}`,i=e.documentView.bookMode?null:e.onZoomGrid;return L.jsxs("ul",{className:"ImageZoomControl",children:[L.jsx("li",{children:L.jsx("i",{title:"Zoom In",id:n,onClick:e.onZoomIn,className:"zoom-in fas fa-plus-circle fa-2x"})}),L.jsx("li",{children:L.jsx("i",{title:"Fixed Zoom 1",onClick:e.onZoomFixed_1,className:"zoom-3 fas fa-circle fa-2x"})}),L.jsx("li",{children:L.jsx("i",{title:"Fixed Zoom 2",onClick:e.onZoomFixed_2,className:"zoom-2 fas fa-circle fa-lg"})}),L.jsx("li",{children:L.jsx("i",{title:"Fixed Zoom 3",onClick:e.onZoomFixed_3,className:"zoom-1 fas fa-circle"})}),L.jsx("li",{children:L.jsx("i",{title:"Zoom Out",id:t,onClick:e.onZoomOut,className:"zoom-out fas fa-minus-circle fa-2x"})}),L.jsx("li",{className:e.documentView.bookMode?"disabled":"",children:L.jsx("i",{title:"Return to grid mode (not available in book mode)",onClick:i,className:"zoom-grid fas fa-th fa-2x"})})]})}function ov(e){const{delay:n=0,color:t="dark"}=e,[i,r]=M.useState(n===0);return M.useEffect(()=>{if(n>0){const l=setTimeout(()=>{r(!0)},n);return()=>clearTimeout(l)}},[]),i?L.jsxs("div",{className:`big-ring-spinner ${t}`,children:[L.jsx("div",{}),L.jsx("div",{}),L.jsx("div",{}),L.jsx("div",{})]}):L.jsx("div",{})}function XK(e){const{side:n,initViewer:t,tileSource:i}=e,[r,l]=M.useState(!0),h=M.useRef(null);return M.useEffect(()=>{(async()=>h.current&&await t(h.current,i).then(()=>l(!1)))()},[]),M.useMemo(()=>L.jsx("div",{id:`image-view-seadragon-${n}`,ref:h,children:r&&L.jsx(ov,{color:"light",delay:1e3})}),[r])}function YK(e){const[n,t]=M.useState(null),[i,r]=M.useState(null),{tagsLeft:l,tagsRight:h}=M.useContext(va),d=M.useMemo(()=>e.side==="right"?h:l,[e.side,l,h]),p=Hr(),f=ga(),[g]=og(),y=M.useRef(null),S=e.document.folioIndex[e.folioID],T=M.useCallback(()=>{if(S.zoneTagIndex&&y.current){const K=y.current.querySelectorAll(".a9s-annotation"),Y=Object.keys(S.zoneTagIndex).filter(ce=>S.zoneTagIndex[ce].some(de=>d.includes(de))),se=g.get("zone");se&&!Y.includes(se)&&Y.push(se),K.forEach(ce=>{const de=ce.getAttribute("data-id");Y.includes(de)?ce.classList.add("selected"):ce.classList.remove("selected")})}},[S,d,y,g]);M.useEffect(()=>{setTimeout(()=>T(),50)},[T]);const k=()=>{e.documentViewActions.changeTranscriptionType(e.side,"g")},P=()=>{n.viewport.zoomTo(n.viewport.getMaxZoom())},_=()=>{n.viewport.zoomTo(n.viewport.getMaxZoom()/2)},D=()=>{n.viewport.fitVertically()},q=()=>{n.viewport.zoomBy(2)},G=()=>{n.viewport.zoomBy(.5)};M.useEffect(()=>{i&&(i.off("selectAnnotation"),i.off("cancelSelected"),i.on("selectAnnotation",K=>{g.set("zone",K.id),T(),f(`${p.pathname}?${es(g.toString())}`)}),i.on("cancelSelected",()=>{g.delete("zone"),f(`${p.pathname}?${es(g.toString())}`)}))},[g,i,T,S,f,p.pathname]),M.useEffect(()=>{S.tileSource&&n&&(n.open(S.tileSource),S.annotations&&i&&i.setAnnotations(S.annotations))},[i,n,S,e.document.folioIndex]);const ne=async(K,Y)=>{if(!K)t(null),r(null);else{const se=vm({element:K,showNavigationControl:!1,zoomPerClick:2,gestureSettingsMouse:{clickToZoom:!1}});t(se);const ce=WK(se,{});ce.disableEditor=!0,ce.readOnly=!0,r(ce),se.addTiledImage({tileSource:Y})}};return M.useEffect(()=>()=>{n&&n.destroy()},[n]),L.jsx("div",{ref:y,children:S.tileSource?L.jsxs("div",{className:`image-view imageViewComponent ${e.side}`,style:{position:"relative"},children:[L.jsx(rs,{side:e.side,documentView:e.documentView,documentViewActions:e.documentViewActions,documentName:e.document.variorum&&e.document.folioIndex[e.folioID].doc_id}),L.jsx(qK,{side:e.side,documentView:e.documentView,onZoomFixed_1:P,onZoomFixed_2:_,onZoomFixed_3:D,onZoomGrid:k,onZoomIn:q,onZoomOut:G,viewer:n}),L.jsx(XK,{side:e.side,tileSource:S.tileSource,initViewer:ne,loading:S.loading},e.folioID),S.metadata&&L.jsx(GK,{data:S.metadata})]}):L.jsx(ov,{color:"dark",delay:300})})}function KK(e){return{document:e.document}}const ZK=qi(KK)(YK),JK={tokenize:iZ,partial:!0},wP={tokenize:rZ,partial:!0},xP={tokenize:oZ,partial:!0},SP={tokenize:sZ,partial:!0},$K={tokenize:aZ,partial:!0},EP={tokenize:tZ,previous:CP},TP={tokenize:nZ,previous:kP},Br={tokenize:eZ,previous:PP},Cr={},QK={text:Cr};let Ho=48;for(;Ho<123;)Cr[Ho]=Br,Ho++,Ho===58?Ho=65:Ho===91&&(Ho=97);Cr[43]=Br;Cr[45]=Br;Cr[46]=Br;Cr[95]=Br;Cr[72]=[Br,TP];Cr[104]=[Br,TP];Cr[87]=[Br,EP];Cr[119]=[Br,EP];function eZ(e,n,t){const i=this;let r,l;return h;function h(y){return!Vm(y)||!PP.call(i,i.previous)||sv(i.events)?t(y):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),d(y))}function d(y){return Vm(y)?(e.consume(y),d):y===64?(e.consume(y),p):t(y)}function p(y){return y===46?e.check($K,g,f)(y):y===45||y===95||bi(y)?(l=!0,e.consume(y),p):g(y)}function f(y){return e.consume(y),r=!0,p}function g(y){return l&&r&&Ti(i.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),n(y)):t(y)}}function tZ(e,n,t){const i=this;return r;function r(h){return h!==87&&h!==119||!CP.call(i,i.previous)||sv(i.events)?t(h):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(JK,e.attempt(wP,e.attempt(xP,l),t),t)(h))}function l(h){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),n(h)}}function nZ(e,n,t){const i=this;let r="",l=!1;return h;function h(y){return(y===72||y===104)&&kP.call(i,i.previous)&&!sv(i.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),r+=String.fromCodePoint(y),e.consume(y),d):t(y)}function d(y){if(Ti(y)&&r.length<5)return r+=String.fromCodePoint(y),e.consume(y),d;if(y===58){const S=r.toLowerCase();if(S==="http"||S==="https")return e.consume(y),p}return t(y)}function p(y){return y===47?(e.consume(y),l?f:(l=!0,p)):t(y)}function f(y){return y===null||Yu(y)||On(y)||is(y)||kd(y)?t(y):e.attempt(wP,e.attempt(xP,g),t)(y)}function g(y){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),n(y)}}function iZ(e,n,t){let i=0;return r;function r(h){return(h===87||h===119)&&i<3?(i++,e.consume(h),r):h===46&&i===3?(e.consume(h),l):t(h)}function l(h){return h===null?t(h):n(h)}}function rZ(e,n,t){let i,r,l;return h;function h(f){return f===46||f===95?e.check(SP,p,d)(f):f===null||On(f)||is(f)||f!==45&&kd(f)?p(f):(l=!0,e.consume(f),h)}function d(f){return f===95?i=!0:(r=i,i=void 0),e.consume(f),h}function p(f){return r||i||!l?t(f):n(f)}}function oZ(e,n){let t=0,i=0;return r;function r(h){return h===40?(t++,e.consume(h),r):h===41&&i<t?l(h):h===33||h===34||h===38||h===39||h===41||h===42||h===44||h===46||h===58||h===59||h===60||h===63||h===93||h===95||h===126?e.check(SP,n,l)(h):h===null||On(h)||is(h)?n(h):(e.consume(h),r)}function l(h){return h===41&&i++,e.consume(h),r}}function sZ(e,n,t){return i;function i(d){return d===33||d===34||d===39||d===41||d===42||d===44||d===46||d===58||d===59||d===63||d===95||d===126?(e.consume(d),i):d===38?(e.consume(d),l):d===93?(e.consume(d),r):d===60||d===null||On(d)||is(d)?n(d):t(d)}function r(d){return d===null||d===40||d===91||On(d)||is(d)?n(d):i(d)}function l(d){return Ti(d)?h(d):t(d)}function h(d){return d===59?(e.consume(d),i):Ti(d)?(e.consume(d),h):t(d)}}function aZ(e,n,t){return i;function i(l){return e.consume(l),r}function r(l){return bi(l)?t(l):n(l)}}function CP(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||On(e)}function kP(e){return!Ti(e)}function PP(e){return!(e===47||Vm(e))}function Vm(e){return e===43||e===45||e===46||e===95||bi(e)}function sv(e){let n=e.length,t=!1;for(;n--;){const i=e[n][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){t=!0;break}if(i._gfmAutolinkLiteralWalkedInto){t=!1;break}}return e.length>0&&!t&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}const lZ={tokenize:gZ,partial:!0};function cZ(){return{document:{91:{tokenize:pZ,continuation:{tokenize:fZ},exit:mZ}},text:{91:{tokenize:hZ},93:{add:"after",tokenize:uZ,resolveTo:dZ}}}}function uZ(e,n,t){const i=this;let r=i.events.length;const l=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let h;for(;r--;){const p=i.events[r][1];if(p.type==="labelImage"){h=p;break}if(p.type==="gfmFootnoteCall"||p.type==="labelLink"||p.type==="label"||p.type==="image"||p.type==="link")break}return d;function d(p){if(!h||!h._balanced)return t(p);const f=ur(i.sliceSerialize({start:h.end,end:i.now()}));return f.codePointAt(0)!==94||!l.includes(f.slice(1))?t(p):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),n(p))}}function dZ(e,n){let t=e.length;for(;t--;)if(e[t][1].type==="labelImage"&&e[t][0]==="enter"){e[t][1];break}e[t+1][1].type="data",e[t+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},e[t+3][1].start),end:Object.assign({},e[e.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},e[t+3][1].end),end:Object.assign({},e[t+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},e[e.length-1][1].start)},h={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},d=[e[t+1],e[t+2],["enter",i,n],e[t+3],e[t+4],["enter",r,n],["exit",r,n],["enter",l,n],["enter",h,n],["exit",h,n],["exit",l,n],e[e.length-2],e[e.length-1],["exit",i,n]];return e.splice(t,e.length-t+1,...d),e}function hZ(e,n,t){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l=0,h;return d;function d(y){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(y),e.exit("gfmFootnoteCallLabelMarker"),p}function p(y){return y!==94?t(y):(e.enter("gfmFootnoteCallMarker"),e.consume(y),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(y){if(l>999||y===93&&!h||y===null||y===91||On(y))return t(y);if(y===93){e.exit("chunkString");const S=e.exit("gfmFootnoteCallString");return r.includes(ur(i.sliceSerialize(S)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(y),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),n):t(y)}return On(y)||(h=!0),l++,e.consume(y),y===92?g:f}function g(y){return y===91||y===92||y===93?(e.consume(y),l++,f):f(y)}}function pZ(e,n,t){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l,h=0,d;return p;function p(k){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(k),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(k){return k===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(k),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",g):t(k)}function g(k){if(h>999||k===93&&!d||k===null||k===91||On(k))return t(k);if(k===93){e.exit("chunkString");const P=e.exit("gfmFootnoteDefinitionLabelString");return l=ur(i.sliceSerialize(P)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(k),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),S}return On(k)||(d=!0),h++,e.consume(k),k===92?y:g}function y(k){return k===91||k===92||k===93?(e.consume(k),h++,g):g(k)}function S(k){return k===58?(e.enter("definitionMarker"),e.consume(k),e.exit("definitionMarker"),r.includes(l)||r.push(l),un(e,T,"gfmFootnoteDefinitionWhitespace")):t(k)}function T(k){return n(k)}}function fZ(e,n,t){return e.check(Ul,n,e.attempt(lZ,n,t))}function mZ(e){e.exit("gfmFootnoteDefinition")}function gZ(e,n,t){const i=this;return un(e,r,"gfmFootnoteDefinitionIndent",5);function r(l){const h=i.events[i.events.length-1];return h&&h[1].type==="gfmFootnoteDefinitionIndent"&&h[2].sliceSerialize(h[1],!0).length===4?n(l):t(l)}}function vZ(e){let n=(e||{}).singleTilde;const t={tokenize:r,resolveAll:i};return n==null&&(n=!0),{text:{126:t},insideSpan:{null:[t]},attentionMarkers:{null:[126]}};function i(l,h){let d=-1;for(;++d<l.length;)if(l[d][0]==="enter"&&l[d][1].type==="strikethroughSequenceTemporary"&&l[d][1]._close){let p=d;for(;p--;)if(l[p][0]==="exit"&&l[p][1].type==="strikethroughSequenceTemporary"&&l[p][1]._open&&l[d][1].end.offset-l[d][1].start.offset===l[p][1].end.offset-l[p][1].start.offset){l[d][1].type="strikethroughSequence",l[p][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},l[p][1].start),end:Object.assign({},l[d][1].end)},g={type:"strikethroughText",start:Object.assign({},l[p][1].end),end:Object.assign({},l[d][1].start)},y=[["enter",f,h],["enter",l[p][1],h],["exit",l[p][1],h],["enter",g,h]],S=h.parser.constructs.insideSpan.null;S&&Gi(y,y.length,0,Pd(S,l.slice(p+1,d),h)),Gi(y,y.length,0,[["exit",g,h],["enter",l[d][1],h],["exit",l[d][1],h],["exit",f,h]]),Gi(l,p-1,d-p+3,y),d=p+y.length-2;break}}for(d=-1;++d<l.length;)l[d][1].type==="strikethroughSequenceTemporary"&&(l[d][1].type="data");return l}function r(l,h,d){const p=this.previous,f=this.events;let g=0;return y;function y(T){return p===126&&f[f.length-1][1].type!=="characterEscape"?d(T):(l.enter("strikethroughSequenceTemporary"),S(T))}function S(T){const k=Ku(p);if(T===126)return g>1?d(T):(l.consume(T),g++,S);if(g<2&&!n)return d(T);const P=l.exit("strikethroughSequenceTemporary"),_=Ku(T);return P._open=!_||_===2&&!!k,P._close=!k||k===2&&!!_,h(T)}}}class yZ{constructor(){this.map=[]}add(n,t,i){bZ(this,n,t,i)}consume(n){if(this.map.sort((l,h)=>l[0]-h[0]),this.map.length===0)return;let t=this.map.length;const i=[];for(;t>0;)t-=1,i.push(n.slice(this.map[t][0]+this.map[t][1])),i.push(this.map[t][2]),n.length=this.map[t][0];i.push([...n]),n.length=0;let r=i.pop();for(;r;)n.push(...r),r=i.pop();this.map.length=0}}function bZ(e,n,t,i){let r=0;if(!(t===0&&i.length===0)){for(;r<e.map.length;){if(e.map[r][0]===n){e.map[r][1]+=t,e.map[r][2].push(...i);return}r+=1}e.map.push([n,t,i])}}function wZ(e,n){let t=!1;const i=[];for(;n<e.length;){const r=e[n];if(t){if(r[0]==="enter")r[1].type==="tableContent"&&i.push(e[n+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(e[n-1][1].type==="tableDelimiterMarker"){const l=i.length-1;i[l]=i[l]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(t=!0);n+=1}return i}const xZ={flow:{null:{tokenize:SZ,resolveAll:EZ}}};function SZ(e,n,t){const i=this;let r=0,l=0,h;return d;function d(ie){let ge=i.events.length-1;for(;ge>-1;){const Ae=i.events[ge][1].type;if(Ae==="lineEnding"||Ae==="linePrefix")ge--;else break}const pe=ge>-1?i.events[ge][1].type:null,be=pe==="tableHead"||pe==="tableRow"?Y:p;return be===Y&&i.parser.lazy[i.now().line]?t(ie):be(ie)}function p(ie){return e.enter("tableHead"),e.enter("tableRow"),f(ie)}function f(ie){return ie===124||(h=!0,l+=1),g(ie)}function g(ie){return ie===null?t(ie):zt(ie)?l>1?(l=0,i.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(ie),e.exit("lineEnding"),T):t(ie):rn(ie)?un(e,g,"whitespace")(ie):(l+=1,h&&(h=!1,r+=1),ie===124?(e.enter("tableCellDivider"),e.consume(ie),e.exit("tableCellDivider"),h=!0,g):(e.enter("data"),y(ie)))}function y(ie){return ie===null||ie===124||On(ie)?(e.exit("data"),g(ie)):(e.consume(ie),ie===92?S:y)}function S(ie){return ie===92||ie===124?(e.consume(ie),y):y(ie)}function T(ie){return i.interrupt=!1,i.parser.lazy[i.now().line]?t(ie):(e.enter("tableDelimiterRow"),h=!1,rn(ie)?un(e,k,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ie):k(ie))}function k(ie){return ie===45||ie===58?_(ie):ie===124?(h=!0,e.enter("tableCellDivider"),e.consume(ie),e.exit("tableCellDivider"),P):K(ie)}function P(ie){return rn(ie)?un(e,_,"whitespace")(ie):_(ie)}function _(ie){return ie===58?(l+=1,h=!0,e.enter("tableDelimiterMarker"),e.consume(ie),e.exit("tableDelimiterMarker"),D):ie===45?(l+=1,D(ie)):ie===null||zt(ie)?ne(ie):K(ie)}function D(ie){return ie===45?(e.enter("tableDelimiterFiller"),q(ie)):K(ie)}function q(ie){return ie===45?(e.consume(ie),q):ie===58?(h=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(ie),e.exit("tableDelimiterMarker"),G):(e.exit("tableDelimiterFiller"),G(ie))}function G(ie){return rn(ie)?un(e,ne,"whitespace")(ie):ne(ie)}function ne(ie){return ie===124?k(ie):ie===null||zt(ie)?!h||r!==l?K(ie):(e.exit("tableDelimiterRow"),e.exit("tableHead"),n(ie)):K(ie)}function K(ie){return t(ie)}function Y(ie){return e.enter("tableRow"),se(ie)}function se(ie){return ie===124?(e.enter("tableCellDivider"),e.consume(ie),e.exit("tableCellDivider"),se):ie===null||zt(ie)?(e.exit("tableRow"),n(ie)):rn(ie)?un(e,se,"whitespace")(ie):(e.enter("data"),ce(ie))}function ce(ie){return ie===null||ie===124||On(ie)?(e.exit("data"),se(ie)):(e.consume(ie),ie===92?de:ce)}function de(ie){return ie===92||ie===124?(e.consume(ie),ce):ce(ie)}}function EZ(e,n){let t=-1,i=!0,r=0,l=[0,0,0,0],h=[0,0,0,0],d=!1,p=0,f,g,y;const S=new yZ;for(;++t<e.length;){const T=e[t],k=T[1];T[0]==="enter"?k.type==="tableHead"?(d=!1,p!==0&&(W1(S,n,p,f,g),g=void 0,p=0),f={type:"table",start:Object.assign({},k.start),end:Object.assign({},k.end)},S.add(t,0,[["enter",f,n]])):k.type==="tableRow"||k.type==="tableDelimiterRow"?(i=!0,y=void 0,l=[0,0,0,0],h=[0,t+1,0,0],d&&(d=!1,g={type:"tableBody",start:Object.assign({},k.start),end:Object.assign({},k.end)},S.add(t,0,[["enter",g,n]])),r=k.type==="tableDelimiterRow"?2:g?3:1):r&&(k.type==="data"||k.type==="tableDelimiterMarker"||k.type==="tableDelimiterFiller")?(i=!1,h[2]===0&&(l[1]!==0&&(h[0]=h[1],y=Au(S,n,l,r,void 0,y),l=[0,0,0,0]),h[2]=t)):k.type==="tableCellDivider"&&(i?i=!1:(l[1]!==0&&(h[0]=h[1],y=Au(S,n,l,r,void 0,y)),l=h,h=[l[1],t,0,0])):k.type==="tableHead"?(d=!0,p=t):k.type==="tableRow"||k.type==="tableDelimiterRow"?(p=t,l[1]!==0?(h[0]=h[1],y=Au(S,n,l,r,t,y)):h[1]!==0&&(y=Au(S,n,h,r,t,y)),r=0):r&&(k.type==="data"||k.type==="tableDelimiterMarker"||k.type==="tableDelimiterFiller")&&(h[3]=t)}for(p!==0&&W1(S,n,p,f,g),S.consume(n.events),t=-1;++t<n.events.length;){const T=n.events[t];T[0]==="enter"&&T[1].type==="table"&&(T[1]._align=wZ(n.events,t))}return e}function Au(e,n,t,i,r,l){const h=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",d="tableContent";t[0]!==0&&(l.end=Object.assign({},$s(n.events,t[0])),e.add(t[0],0,[["exit",l,n]]));const p=$s(n.events,t[1]);if(l={type:h,start:Object.assign({},p),end:Object.assign({},p)},e.add(t[1],0,[["enter",l,n]]),t[2]!==0){const f=$s(n.events,t[2]),g=$s(n.events,t[3]),y={type:d,start:Object.assign({},f),end:Object.assign({},g)};if(e.add(t[2],0,[["enter",y,n]]),i!==2){const S=n.events[t[2]],T=n.events[t[3]];if(S[1].end=Object.assign({},T[1].end),S[1].type="chunkText",S[1].contentType="text",t[3]>t[2]+1){const k=t[2]+1,P=t[3]-t[2]-1;e.add(k,P,[])}}e.add(t[3]+1,0,[["exit",y,n]])}return r!==void 0&&(l.end=Object.assign({},$s(n.events,r)),e.add(r,0,[["exit",l,n]]),l=void 0),l}function W1(e,n,t,i,r){const l=[],h=$s(n.events,t);r&&(r.end=Object.assign({},h),l.push(["exit",r,n])),i.end=Object.assign({},h),l.push(["exit",i,n]),e.add(t+1,0,l)}function $s(e,n){const t=e[n],i=t[0]==="enter"?"start":"end";return t[1][i]}const TZ={tokenize:kZ},CZ={text:{91:TZ}};function kZ(e,n,t){const i=this;return r;function r(p){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?t(p):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(p),e.exit("taskListCheckMarker"),l)}function l(p){return On(p)?(e.enter("taskListCheckValueUnchecked"),e.consume(p),e.exit("taskListCheckValueUnchecked"),h):p===88||p===120?(e.enter("taskListCheckValueChecked"),e.consume(p),e.exit("taskListCheckValueChecked"),h):t(p)}function h(p){return p===93?(e.enter("taskListCheckMarker"),e.consume(p),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),d):t(p)}function d(p){return zt(p)?n(p):rn(p)?e.check({tokenize:PZ},n,t)(p):t(p)}}function PZ(e,n,t){return un(e,i,"whitespace");function i(r){return r===null?t(r):n(r)}}function _Z(e){return vk([QK,cZ(),vZ(e),xZ,CZ])}function G1(e,n){const t=String(e);if(typeof n!="string")throw new TypeError("Expected character");let i=0,r=t.indexOf(n);for(;r!==-1;)i++,r=t.indexOf(n,r+n.length);return i}function RZ(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const OZ={}.hasOwnProperty,DZ=function(e,n,t,i){let r,l;typeof n=="string"||n instanceof RegExp?(l=[[n,t]],r=i):(l=n,r=t),r||(r={});const h=Xg(r.ignore||[]),d=AZ(l);let p=-1;for(;++p<d.length;)zk(e,"text",f);return e;function f(y,S){let T=-1,k;for(;++T<S.length;){const P=S[T];if(h(P,k?k.children.indexOf(P):void 0,k))return;k=P}if(k)return g(y,S)}function g(y,S){const T=S[S.length-1],k=d[p][0],P=d[p][1];let _=0;const D=T.children.indexOf(y);let q=!1,G=[];k.lastIndex=0;let ne=k.exec(y.value);for(;ne;){const K=ne.index,Y={index:ne.index,input:ne.input,stack:[...S,y]};let se=P(...ne,Y);if(typeof se=="string"&&(se=se.length>0?{type:"text",value:se}:void 0),se!==!1&&(_!==K&&G.push({type:"text",value:y.value.slice(_,K)}),Array.isArray(se)?G.push(...se):se&&G.push(se),_=K+ne[0].length,q=!0),!k.global)break;ne=k.exec(y.value)}return q?(_<y.value.length&&G.push({type:"text",value:y.value.slice(_)}),T.children.splice(D,1,...G)):G=[y],D+G.length}};function AZ(e){const n=[];if(typeof e!="object")throw new TypeError("Expected array or object as schema");if(Array.isArray(e)){let t=-1;for(;++t<e.length;)n.push([q1(e[t][0]),X1(e[t][1])])}else{let t;for(t in e)OZ.call(e,t)&&n.push([q1(t),X1(e[t])])}return n}function q1(e){return typeof e=="string"?new RegExp(RZ(e),"g"):e}function X1(e){return typeof e=="function"?e:()=>e}const Yf="phrasing",Kf=["autolink","link","image","label"],IZ={transforms:[HZ],enter:{literalAutolink:zZ,literalAutolinkEmail:Zf,literalAutolinkHttp:Zf,literalAutolinkWww:Zf},exit:{literalAutolink:NZ,literalAutolinkEmail:jZ,literalAutolinkHttp:LZ,literalAutolinkWww:FZ}},MZ={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Yf,notInConstruct:Kf},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Yf,notInConstruct:Kf},{character:":",before:"[ps]",after:"\\/",inConstruct:Yf,notInConstruct:Kf}]};function zZ(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Zf(e){this.config.enter.autolinkProtocol.call(this,e)}function LZ(e){this.config.exit.autolinkProtocol.call(this,e)}function FZ(e){this.config.exit.data.call(this,e);const n=this.stack[this.stack.length-1];n.url="http://"+this.sliceSerialize(e)}function jZ(e){this.config.exit.autolinkEmail.call(this,e)}function NZ(e){this.exit(e)}function HZ(e){DZ(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,BZ],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,VZ]],{ignore:["link","linkReference"]})}function BZ(e,n,t,i,r){let l="";if(!_P(r)||(/^w/i.test(n)&&(t=n+t,n="",l="http://"),!UZ(t)))return!1;const h=WZ(t+i);if(!h[0])return!1;const d={type:"link",title:null,url:l+n+h[0],children:[{type:"text",value:n+h[0]}]};return h[1]?[d,{type:"text",value:h[1]}]:d}function VZ(e,n,t,i){return!_P(i,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+n+"@"+t,children:[{type:"text",value:n+"@"+t}]}}function UZ(e){const n=e.split(".");return!(n.length<2||n[n.length-1]&&(/_/.test(n[n.length-1])||!/[a-zA-Z\d]/.test(n[n.length-1]))||n[n.length-2]&&(/_/.test(n[n.length-2])||!/[a-zA-Z\d]/.test(n[n.length-2])))}function WZ(e){const n=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!n)return[e,void 0];e=e.slice(0,n.index);let t=n[0],i=t.indexOf(")");const r=G1(e,"(");let l=G1(e,")");for(;i!==-1&&r>l;)e+=t.slice(0,i+1),t=t.slice(i+1),i=t.indexOf(")"),l++;return[e,t]}function _P(e,n){const t=e.input.charCodeAt(e.index-1);return(e.index===0||is(t)||kd(t))&&(!n||t!==47)}function RP(e){return e.label||!e.identifier?e.label||"":_k(e.identifier)}function GZ(e,n,t){const i=n.indexStack,r=e.children||[],l=n.createTracker(t),h=[];let d=-1;for(i.push(-1);++d<r.length;){const p=r[d];i[i.length-1]=d,h.push(l.move(n.handle(p,e,n,{before:`
`,after:`
`,...l.current()}))),p.type!=="list"&&(n.bulletLastUsed=void 0),d<r.length-1&&h.push(l.move(qZ(p,r[d+1],e,n)))}return i.pop(),h.join("")}function qZ(e,n,t,i){let r=i.join.length;for(;r--;){const l=i.join[r](e,n,t,i);if(l===!0||l===1)break;if(typeof l=="number")return`
`.repeat(1+l);if(l===!1)return`

<!---->

`}return`

`}const XZ=/\r?\n|\r/g;function YZ(e,n){const t=[];let i=0,r=0,l;for(;l=XZ.exec(e);)h(e.slice(i,l.index)),t.push(l[0]),i=l.index+l[0].length,r++;return h(e.slice(i)),t.join("");function h(d){t.push(n(d,r,!d))}}function OP(e){if(!e._compiled){const n=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function KZ(e,n){return Y1(e,n.inConstruct,!0)&&!Y1(e,n.notInConstruct,!1)}function Y1(e,n,t){if(typeof n=="string"&&(n=[n]),!n||n.length===0)return t;let i=-1;for(;++i<n.length;)if(e.includes(n[i]))return!0;return!1}function DP(e,n,t){const i=(t.before||"")+(n||"")+(t.after||""),r=[],l=[],h={};let d=-1;for(;++d<e.unsafe.length;){const g=e.unsafe[d];if(!KZ(e.stack,g))continue;const y=OP(g);let S;for(;S=y.exec(i);){const T="before"in g||!!g.atBreak,k="after"in g,P=S.index+(T?S[1].length:0);r.includes(P)?(h[P].before&&!T&&(h[P].before=!1),h[P].after&&!k&&(h[P].after=!1)):(r.push(P),h[P]={before:T,after:k})}}r.sort(ZZ);let p=t.before?t.before.length:0;const f=i.length-(t.after?t.after.length:0);for(d=-1;++d<r.length;){const g=r[d];g<p||g>=f||g+1<f&&r[d+1]===g+1&&h[g].after&&!h[g+1].before&&!h[g+1].after||r[d-1]===g-1&&h[g].before&&!h[g-1].before&&!h[g-1].after||(p!==g&&l.push(K1(i.slice(p,g),"\\")),p=g,/[!-/:-@[-`{-~]/.test(i.charAt(g))&&(!t.encode||!t.encode.includes(i.charAt(g)))?l.push("\\"):(l.push("&#x"+i.charCodeAt(g).toString(16).toUpperCase()+";"),p++))}return l.push(K1(i.slice(p,f),t.after)),l.join("")}function ZZ(e,n){return e-n}function K1(e,n){const t=/\\(?=[!-/:-@[-`{-~])/g,i=[],r=[],l=e+n;let h=-1,d=0,p;for(;p=t.exec(l);)i.push(p.index);for(;++h<i.length;)d!==i[h]&&r.push(e.slice(d,i[h])),r.push("\\"),d=i[h];return r.push(e.slice(d)),r.join("")}function zd(e){const n=e||{},t=n.now||{};let i=n.lineShift||0,r=t.line||1,l=t.column||1;return{move:p,current:h,shift:d};function h(){return{now:{line:r,column:l},lineShift:i}}function d(f){i+=f}function p(f){const g=f||"",y=g.split(/\r?\n|\r/g),S=y[y.length-1];return r+=y.length-1,l=y.length===1?l+S.length:1+S.length+i,g}}AP.peek=aJ;function JZ(){return{enter:{gfmFootnoteDefinition:QZ,gfmFootnoteDefinitionLabelString:eJ,gfmFootnoteCall:iJ,gfmFootnoteCallString:rJ},exit:{gfmFootnoteDefinition:nJ,gfmFootnoteDefinitionLabelString:tJ,gfmFootnoteCall:sJ,gfmFootnoteCallString:oJ}}}function $Z(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:lJ,footnoteReference:AP}}}function QZ(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function eJ(){this.buffer()}function tJ(e){const n=this.resume(),t=this.stack[this.stack.length-1];t.label=n,t.identifier=ur(this.sliceSerialize(e)).toLowerCase()}function nJ(e){this.exit(e)}function iJ(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function rJ(){this.buffer()}function oJ(e){const n=this.resume(),t=this.stack[this.stack.length-1];t.label=n,t.identifier=ur(this.sliceSerialize(e)).toLowerCase()}function sJ(e){this.exit(e)}function AP(e,n,t,i){const r=zd(i);let l=r.move("[^");const h=t.enter("footnoteReference"),d=t.enter("reference");return l+=r.move(DP(t,RP(e),{...r.current(),before:l,after:"]"})),d(),h(),l+=r.move("]"),l}function aJ(){return"["}function lJ(e,n,t,i){const r=zd(i);let l=r.move("[^");const h=t.enter("footnoteDefinition"),d=t.enter("label");return l+=r.move(DP(t,RP(e),{...r.current(),before:l,after:"]"})),d(),l+=r.move("]:"+(e.children&&e.children.length>0?" ":"")),r.shift(4),l+=r.move(YZ(GZ(e,t,r.current()),cJ)),h(),l}function cJ(e,n,t){return n===0?e:(t?"":"    ")+e}function IP(e,n,t){const i=n.indexStack,r=e.children||[],l=[];let h=-1,d=t.before;i.push(-1);let p=n.createTracker(t);for(;++h<r.length;){const f=r[h];let g;if(i[i.length-1]=h,h+1<r.length){let y=n.handle.handlers[r[h+1].type];y&&y.peek&&(y=y.peek),g=y?y(r[h+1],e,n,{before:"",after:"",...p.current()}).charAt(0):""}else g=t.after;l.length>0&&(d==="\r"||d===`
`)&&f.type==="html"&&(l[l.length-1]=l[l.length-1].replace(/(\r?\n|\r)$/," "),d=" ",p=n.createTracker(t),p.move(l.join(""))),l.push(p.move(n.handle(f,e,n,{...p.current(),before:d,after:g}))),d=l[l.length-1].slice(-1)}return i.pop(),l.join("")}const uJ=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];MP.peek=mJ;const dJ={canContainEols:["delete"],enter:{strikethrough:pJ},exit:{strikethrough:fJ}},hJ={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:uJ}],handlers:{delete:MP}};function pJ(e){this.enter({type:"delete",children:[]},e)}function fJ(e){this.exit(e)}function MP(e,n,t,i){const r=zd(i),l=t.enter("strikethrough");let h=r.move("~~");return h+=IP(e,t,{...r.current(),before:h,after:"~"}),h+=r.move("~~"),l(),h}function mJ(){return"~"}zP.peek=gJ;function zP(e,n,t){let i=e.value||"",r="`",l=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++l<t.unsafe.length;){const h=t.unsafe[l],d=OP(h);let p;if(h.atBreak)for(;p=d.exec(i);){let f=p.index;i.charCodeAt(f)===10&&i.charCodeAt(f-1)===13&&f--,i=i.slice(0,f)+" "+i.slice(p.index+1)}}return r+i+r}function gJ(){return"`"}function vJ(e){return e.length}function yJ(e,n){const t=n||{},i=(t.align||[]).concat(),r=t.stringLength||vJ,l=[],h=[],d=[],p=[];let f=0,g=-1;for(;++g<e.length;){const P=[],_=[];let D=-1;for(e[g].length>f&&(f=e[g].length);++D<e[g].length;){const q=bJ(e[g][D]);if(t.alignDelimiters!==!1){const G=r(q);_[D]=G,(p[D]===void 0||G>p[D])&&(p[D]=G)}P.push(q)}h[g]=P,d[g]=_}let y=-1;if(typeof i=="object"&&"length"in i)for(;++y<f;)l[y]=Z1(i[y]);else{const P=Z1(i);for(;++y<f;)l[y]=P}y=-1;const S=[],T=[];for(;++y<f;){const P=l[y];let _="",D="";P===99?(_=":",D=":"):P===108?_=":":P===114&&(D=":");let q=t.alignDelimiters===!1?1:Math.max(1,p[y]-_.length-D.length);const G=_+"-".repeat(q)+D;t.alignDelimiters!==!1&&(q=_.length+q+D.length,q>p[y]&&(p[y]=q),T[y]=q),S[y]=G}h.splice(1,0,S),d.splice(1,0,T),g=-1;const k=[];for(;++g<h.length;){const P=h[g],_=d[g];y=-1;const D=[];for(;++y<f;){const q=P[y]||"";let G="",ne="";if(t.alignDelimiters!==!1){const K=p[y]-(_[y]||0),Y=l[y];Y===114?G=" ".repeat(K):Y===99?K%2?(G=" ".repeat(K/2+.5),ne=" ".repeat(K/2-.5)):(G=" ".repeat(K/2),ne=G):ne=" ".repeat(K)}t.delimiterStart!==!1&&!y&&D.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&q==="")&&(t.delimiterStart!==!1||y)&&D.push(" "),t.alignDelimiters!==!1&&D.push(G),D.push(q),t.alignDelimiters!==!1&&D.push(ne),t.padding!==!1&&D.push(" "),(t.delimiterEnd!==!1||y!==f-1)&&D.push("|")}k.push(t.delimiterEnd===!1?D.join("").replace(/ +$/,""):D.join(""))}return k.join(`
`)}function bJ(e){return e==null?"":String(e)}function Z1(e){const n=typeof e=="string"?e.codePointAt(0):0;return n===67||n===99?99:n===76||n===108?108:n===82||n===114?114:0}const wJ={enter:{table:xJ,tableData:J1,tableHeader:J1,tableRow:EJ},exit:{codeText:TJ,table:SJ,tableData:Jf,tableHeader:Jf,tableRow:Jf}};function xJ(e){const n=e._align;this.enter({type:"table",align:n.map(t=>t==="none"?null:t),children:[]},e),this.setData("inTable",!0)}function SJ(e){this.exit(e),this.setData("inTable")}function EJ(e){this.enter({type:"tableRow",children:[]},e)}function Jf(e){this.exit(e)}function J1(e){this.enter({type:"tableCell",children:[]},e)}function TJ(e){let n=this.resume();this.getData("inTable")&&(n=n.replace(/\\([\\|])/g,CJ));const t=this.stack[this.stack.length-1];t.value=n,this.exit(e)}function CJ(e,n){return n==="|"?n:e}function kJ(e){const n=e||{},t=n.tableCellPadding,i=n.tablePipeAlign,r=n.stringLength,l=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:h,tableRow:d,tableCell:p,inlineCode:S}};function h(T,k,P,_){return f(g(T,P,_),T.align)}function d(T,k,P,_){const D=y(T,P,_),q=f([D]);return q.slice(0,q.indexOf(`
`))}function p(T,k,P,_){const D=P.enter("tableCell"),q=P.enter("phrasing"),G=IP(T,P,{..._,before:l,after:l});return q(),D(),G}function f(T,k){return yJ(T,{align:k,alignDelimiters:i,padding:t,stringLength:r})}function g(T,k,P){const _=T.children;let D=-1;const q=[],G=k.enter("table");for(;++D<_.length;)q[D]=y(_[D],k,P);return G(),q}function y(T,k,P){const _=T.children;let D=-1;const q=[],G=k.enter("tableRow");for(;++D<_.length;)q[D]=p(_[D],T,k,P);return G(),q}function S(T,k,P){let _=zP(T,k,P);return P.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function PJ(e){const n=e.options.bullet||"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}function _J(e){const n=e.options.listItemIndent||"tab";if(n===1||n==="1")return"one";if(n!=="tab"&&n!=="one"&&n!=="mixed")throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}function RJ(e,n,t,i){const r=_J(t);let l=t.bulletCurrent||PJ(t);n&&n.type==="list"&&n.ordered&&(l=(typeof n.start=="number"&&n.start>-1?n.start:1)+(t.options.incrementListMarker===!1?0:n.children.indexOf(e))+l);let h=l.length+1;(r==="tab"||r==="mixed"&&(n&&n.type==="list"&&n.spread||e.spread))&&(h=Math.ceil(h/4)*4);const d=t.createTracker(i);d.move(l+" ".repeat(h-l.length)),d.shift(h);const p=t.enter("listItem"),f=t.indentLines(t.containerFlow(e,d.current()),g);return p(),f;function g(y,S,T){return S?(T?"":" ".repeat(h))+y:(T?l:l+" ".repeat(h-l.length))+y}}const OJ={exit:{taskListCheckValueChecked:$1,taskListCheckValueUnchecked:$1,paragraph:AJ}},DJ={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:IJ}};function $1(e){const n=this.stack[this.stack.length-2];n.checked=e.type==="taskListCheckValueChecked"}function AJ(e){const n=this.stack[this.stack.length-2];if(n&&n.type==="listItem"&&typeof n.checked=="boolean"){const t=this.stack[this.stack.length-1],i=t.children[0];if(i&&i.type==="text"){const r=n.children;let l=-1,h;for(;++l<r.length;){const d=r[l];if(d.type==="paragraph"){h=d;break}}h===t&&(i.value=i.value.slice(1),i.value.length===0?t.children.shift():t.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,t.position.start=Object.assign({},i.position.start)))}}this.exit(e)}function IJ(e,n,t,i){const r=e.children[0],l=typeof e.checked=="boolean"&&r&&r.type==="paragraph",h="["+(e.checked?"x":" ")+"] ",d=zd(i);l&&d.move(h);let p=RJ(e,n,t,{...i,...d.current()});return l&&(p=p.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),p;function f(g){return g+h}}function MJ(){return[IZ,JZ(),dJ,wJ,OJ]}function zJ(e){return{extensions:[MZ,$Z(),hJ,kJ(e),DJ]}}function LJ(e={}){const n=this.data();t("micromarkExtensions",_Z(e)),t("fromMarkdownExtensions",MJ()),t("toMarkdownExtensions",zJ(e));function t(i,r){(n[i]?n[i]:n[i]=[]).push(r)}}class FJ extends M.Component{constructor(){super(),Ai(this,"onFilterChange",n=>{const t=n.target.value;this.setState({...this.state,filterTerm:t})}),this.state={filterTerm:""}}render(){return this.props.notes.loaded?L.jsxs("div",{id:"notesView",style:{position:"relative",overflow:"auto"},children:[L.jsx(rs,{side:this.props.side,onFilterChange:this.onFilterChange,value:this.state.filterTerm,documentView:this.props.documentView,documentViewActions:this.props.documentViewActions}),L.jsx("div",{id:"notesViewInner",children:L.jsx("div",{id:"notesContent",children:L.jsx(Ju,{children:this.props.notes.notes,remarkPlugins:[LJ]})})})]}):null}}function jJ(e){return{notes:e.notes}}const NJ=qi(jJ)(FJ);class HJ extends M.Component{render(){return L.jsx("div",{className:"single-pane-view",children:this.props.singlePane})}}function BJ(e){return{document:e.document}}const VJ=qi(BJ)(HJ);class UJ extends M.Component{constructor(n){super(),Ai(this,"onDrag",t=>{if(this.dragging){const i=this.ecComponent.clientWidth-2*this.dividerWidth;let r,l,h;this.activeDivider===1?(r=t.clientX-this.ecComponent.offsetLeft-this.dividerWidth/2,h=i*this.splitFractionRight,l=i-r-h):(h=i-t.clientX-this.dividerWidth/2,r=i*this.splitFraction,l=i-r-h),r>=this.leftPaneMinWidth&&l>=this.rightPaneMinWidth&&h>=this.thirdPaneMinWidth&&(this.splitFraction=i===0?0:r/i,this.splitFractionRight=i===0?0:h/i,this.updateUI()),this.updatePaneSize()}}),Ai(this,"onStartDrag",t=>{this.dragging=!0,this.activeDivider=t==="first"?1:2}),Ai(this,"onEndDrag",t=>{this.dragging=!1,this.activeDivider=0}),Ai(this,"onResize",t=>{this.updatePaneSize()}),this.firstFolio=n.document.folios[0],this.rightPaneMinWidth=n.rightPane.props.documentView.right.transcriptionType==="glossary"?450:200,this.leftPaneMinWidth=n.leftPane.props.documentView.left.transcriptionType==="glossary"?450:200,this.thirdPaneMinWidth=n.thirdPane.props.documentView.third.transcriptionType==="glossary"?450:n.thirdPane.props.documentView.third.transcriptionType==="g"?0:200,this.splitFraction=n.threePanel?.49:.5,this.splitFractionRight=n.threePanel?.01:0,this.dividerWidth=16,this.ecComponent=document.querySelector("#diplomatic"),this.ecComponent.clientWidth,this.state={style:{gridTemplateColumns:`${this.splitFraction}fr ${this.dividerWidth}px ${1-this.splitFraction-this.splitFractionRight}fr ${this.dividerWidth}px ${this.splitFractionRight}fr`}},this.dragging=!1,this.activeDivider=0,this.onDrag=this.onDrag.bind(this),this.onResize=this.onResize.bind(this),this.onEndDrag=this.onEndDrag.bind(this),this.updatePaneSize=this.updatePaneSize.bind(this),this.updatePaneSize=this.updatePaneSize.bind(this)}updateUI(){const n=this.splitFraction,t=this.splitFractionRight,i=1-n-t;this.setState({...this.state,style:{...this.state.style,gridTemplateColumns:`${n}fr ${this.dividerWidth}px ${i}fr ${this.dividerWidth}px ${t}fr`}})}updatePaneSize(){const n=Math.floor(Math.abs(this.ecComponent.clientWidth*this.splitFraction)),t=Math.floor(Math.abs(this.ecComponent.clientWidth*this.splitFractionRight)),i=Math.floor(this.ecComponent.clientWidth*(1-this.splitFraction-this.splitFractionRight));this.props.onWidth&&n>=this.leftPaneMinWidth&&i>=this.rightPaneMinWidth&&t>=this.thirdPaneMinWidth&&this.props.onWidth(n,i,t)}componentDidMount(){if(this.updateUI(),window.addEventListener("pointermove",this.onDrag),window.addEventListener("pointerup",this.onEndDrag),window.addEventListener("resize",this.onResize),this.props.onWidth){const n=Math.floor(Math.abs(this.ecComponent.clientWidth*this.splitFraction)),t=Math.floor(this.ecComponent.clientWidth*(1-this.splitFraction)),i=Math.floor(this.ecComponent.clientWidth*(1-this.splitFraction));this.props.onWidth(n,t,i)}}componentDidUpdate(n){this.rightPaneMinWidth=this.props.rightPane.props.documentView.right.transcriptionType==="glossary"?450:200,this.leftPaneMinWidth=this.props.leftPane.props.documentView.left.transcriptionType==="glossary"?450:200,this.thirdPaneMinWidth=this.props.thirdPane.props.documentView.third.transcriptionType==="glossary"?450:this.props.thirdPane.props.documentView.third.transcriptionType==="g"?0:200}componentWillUnmount(){window.removeEventListener("pointermove",this.onDrag),window.removeEventListener("pointerup",this.onEndDrag),window.removeEventListener("resize",this.onResize)}renderDivider(n){return L.jsx("div",{className:`divider ${n}_divider`,onPointerDown:()=>this.onStartDrag(n),children:L.jsx("div",{className:"drawer-button hidden",onClick:this.onDrawerButton,children:L.jsx("i",{className:"drawer-icon fas fa-caret-left fa-2x",children:" "})})})}render(){return L.jsxs("div",{className:"split-pane-view three-pane",style:{...this.state.style},children:[this.props.leftPane,this.renderDivider("first"),this.props.rightPane,this.props.threePanel&&this.renderDivider("second"),this.props.threePanel&&this.props.thirdPane]})}}function WJ(e){return{document:e.document}}const GJ=qi(WJ)(UJ);function qJ(e){const[n,t]=M.useState(null),[i,r]=M.useState(!1),l=g=>{t(g.currentTarget),r(!0)},h=g=>{r(!1)},d=()=>{const g=Wi(e.text)||`ERROR: Could not find comment for id: ${e.commentID}.`,y={maxWidth:200,padding:"25px 15px 15px 15px"},S={float:"right",padding:5,fontStyle:"bold"};return L.jsx(zC,{id:e.commentID,open:i,anchorEl:n,children:L.jsx(iC,{in:i,children:L.jsxs(jl,{className:"editor-comment-content",children:[L.jsx("div",{onClick:h,style:S,children:L.jsx("span",{className:"fa fa-window-close"})}),L.jsx(kn,{style:y,children:g})]})})})},p={display:"inline"},f={fontStyle:"bold",fontSize:"18pt",color:"red"};return L.jsxs("div",{style:p,children:[L.jsx("span",{onClick:g=>l(g),style:f,children:"*"}),d()]})}class Q1 extends M.Component{constructor(n){super(n),this.state={error:null,errorInfo:null}}static getDerivedStateFromError(n){return{error:!0}}componentDidCatch(n,t){this.setState({error:n,errorInfo:t})}render(){return this.state.errorInfo?L.jsxs("div",{style:{height:"350px",overflowY:"scroll"},children:[L.jsx("h2",{children:"Something went wrong."}),L.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:["There has been an error rendering a comment",L.jsx("br",{}),this.state.error&&this.state.error.toString(),L.jsx("br",{}),this.state.errorInfo.componentStack]})]}):this.props.children}}class XJ extends vt.Component{constructor(n,t){super(n,t),Ai(this,"changeCurrentFolio",i=>{const{side:r,documentView:l,documentViewActions:h}=this.props,{dataset:d}=i.currentTarget;if(typeof d.id>"u"||d.id.length===0)return;const p=d.id;h.changeCurrentFolio(p,r,l[r].transcriptionType)}),this.changeCurrentFolio=this.changeCurrentFolio.bind(this)}render(){const{side:n,document:t,documentView:i,bottom:r=!1}=this.props;if(i[n].iiifShortID==="-1")return null;const l=t.folioIndex[i[n].iiifShortID].name;return L.jsx("div",{className:r?"paginationComponent bottom":"paginationComponent",children:L.jsxs("div",{className:"paginationControl",children:[L.jsx("span",{title:"Go back",onClick:this.changeCurrentFolio,"data-id":i[n].previousFolioShortID,className:i[n].hasPrevious?"arrow":"arrow disabled",children:L.jsx(gP,{})}),L.jsx("span",{className:"folioName",children:l}),L.jsxs("span",{title:"Go forward",onClick:this.changeCurrentFolio,"data-id":i[n].nextFolioShortID,className:i[n].hasNext?"arrow":"arrow disabled",children:[" ",L.jsx(vP,{})]})]})})}}function YJ(e){return{document:e.document}}const na=qi(YJ)(XJ);class KJ extends vt.Component{render(){const{html:n,htmlToReactParserOptionsSide:t}=this.props;return Wi(n,t)}}function gl({side:e,documentView:n,documentViewActions:t}){return L.jsxs("div",{style:{position:"relative"},className:"watermarkContainer",children:[n.left.iiifShortID!=="-1"&&n.right.iiifShortID!=="-1"?L.jsx(rs,{side:e,documentView:n,documentViewActions:t}):null,L.jsxs("div",{className:"transcriptContent",children:[L.jsx(na,{side:e,className:"pagination_upper",documentView:n,documentViewActions:t}),L.jsx("div",{className:"watermark",children:L.jsx("div",{className:e!=="third"?"watermark_contents":"third_pane_blank"})})]})]})}function ZJ(e,n,t){return t.includes(e)&&(n.attribs.classname?n.attribs.classname+=" selected-zone":n.attribs.classname="selected-zone"),n}function $f(e,n){if(e&&n.attribs["data-facs"]){const t=n.attribs["data-facs"].split(" ");return ZJ(e,n,t)}return n}function eE(e,n){var t;const i=(t=e.attribs)==null?void 0:t.ana;return i&&i.split(" ").map(r=>r.slice(1)).some(r=>n.includes(r))&&(e.attribs.class="active"),e}function JJ(e,n){return{replace(t){var i,r,l;switch(t.name){case"div":return t=eE(t,n),$f(e,t);case"tei-seg":return eE(t,n);case"tei-line":return $f(e,t);case"tei-surface":return $f(e,t);case"tei-note":{const h=((i=t.children[0])==null?void 0:i.data)||"",d=t.attribs.n||t.attribs.id;return d?L.jsx(qJ,{commentID:d,text:h}):t}case"tei-figure":{const h=t.children.find(g=>g.name==="tei-graphic"),d=(r=h?.attribs)==null?void 0:r.url;if(!d)return t;const p=t.children.find(g=>g.name==="tei-figdesc"),f=(l=p?.children[0])==null?void 0:l.data;return L.jsxs("figure",{className:"inline-figure",children:[L.jsx("img",{src:d,alt:f||"",className:"inline-image"}),f?L.jsx("figcaption",{children:f}):null]})}default:return t}}}}function $J(e){const[n]=og(),{side:t,folioID:i,transcriptionType:r,document:l,documentView:h,documentViewActions:d}=e,{tagsLeft:p,tagsRight:f}=M.useContext(va),g=t==="left"?p:f;if(i==="-1")return L.jsx(gl,{documentView:h,documentViewActions:d,side:t});const y=l.folioIndex[i];if(y&&!y.loading&&!y.transcription)return L.jsx(gl,{documentView:h,documentViewActions:d,side:t});const S=y&&y.transcription&&y.transcription[r];if(y&&!y.loading&&!S)return L.jsx(gl,{documentView:h,documentViewActions:d,side:t});const T=JJ(n.get("zone"),g),k=S&&S.html,P=S&&S.layout;return y&&!y.loading&&!k?L.jsx(gl,{documentView:h,documentViewActions:d,side:t}):y&&y.loading?L.jsxs("div",{children:[L.jsx(rs,{side:t,documentView:h,documentViewActions:d,documentName:l.variorum&&y.doc_id}),L.jsx(na,{side:t,documentView:h,documentViewActions:d}),L.jsx("div",{className:"transcriptionViewComponent",children:L.jsx("div",{className:"transcriptContent",children:L.jsx(Q1,{children:L.jsx(ov,{delay:3e3,color:"dark"})})})}),L.jsx(na,{side:t,documentView:h,documentViewActions:d,bottom:!0})]}):L.jsxs("div",{style:{position:"relative",overflow:"auto"},children:[L.jsx(rs,{side:t,documentView:h,documentViewActions:d,documentName:l.variorum&&y.doc_id}),L.jsx(na,{side:t,documentView:h,documentViewActions:d}),L.jsx("div",{className:"transcriptionViewComponent",children:L.jsx("div",{className:"transcriptContent",children:L.jsx(Q1,{children:L.jsx("div",{className:"surface grid-mode",style:{gridTemplateAreas:P},children:L.jsx(KJ,{html:k,htmlToReactParserOptionsSide:T})})})})}),L.jsx(na,{side:t,documentView:h,documentViewActions:d,bottom:!0})]})}function QJ(e){return{annotations:e.annotations,document:e.document}}const e$=qi(QJ)($J);class t$ extends M.Component{render(){const{side:n,document:t,documentView:i,documentViewActions:r}=this.props,l=`xmlViewComponent ${n}`,h=`xmlViewComponent_${n}`,d=i[n].iiifShortID;if(d==="-1")return L.jsx("div",{className:"watermark",children:L.jsx("div",{className:"watermark_contents"})});const p=t.folioIndex[d];if(!p.transcription)return L.jsx(gl,{documentView:i,documentViewActions:r,side:n});const{transcriptionType:f}=i[n],g=p.transcription[f],{xml:y}=g;return L.jsxs("div",{id:h,className:l,style:{position:"relative",overflow:"auto"},children:[L.jsx(rs,{side:n,documentView:i,documentViewActions:r,documentName:t.variorum&&p.doc_id}),L.jsx(na,{side:n,className:"pagination_upper",documentView:i,documentViewActions:r}),L.jsx("div",{className:"xmlContentInner",children:L.jsx("pre",{children:y})})]})}}function n$(e){return{document:e.document}}const i$=qi(n$)(t$),Qf={isXMLMode:!1,width:0};function r$(e){const[n,t]=M.useState(!e.document.variorum),[i,r]=M.useState(!1),[l,h]=M.useState(Qf),[d,p]=M.useState(Qf),[f,g]=M.useState(Qf),[y,S]=M.useState(e.containerWidth<960),T=kj(),k=ga(),P=Hr();M.useEffect(()=>{ym(e,"RouteListenerSaga.userNavigation",P.pathname)},[e.config]),M.useEffect(()=>{S(e.containerWidth<960)},[e.containerWidth]);const _=Se=>{k(Se+P.search)},D=()=>{const{folioID:Se,transcriptionType:ve,folioID2:Re,transcriptionType2:_e,folioID3:J,transcriptionType3:ze}=T,{document:st}=e,ee=st.variorum?Object.keys(st.transcriptionTypes[Object.keys(st.transcriptionTypes)[0]])[0]:Object.keys(st.transcriptionTypes)[0];if(!Se)return{left:{folioID:"-1",transcriptionType:"g"},right:{folioID:"-1",transcriptionType:st.variorum?"g":ee},third:{folioID:"-1",transcriptionType:"g"}};const Ct=Object.keys(st.folioIndex).includes(Se),tt=Ct?Se:"-1";let at,yt,Ot,Tt,rt;if(Re){const Ye=Object.keys(st.folioIndex).includes(Re);if(at=Ct?ve:"g",yt=Ye?Re:"-1",Ot=Ye?_e||ee:"g",J){const xt=Object.keys(st.folioIndex).includes(J);Tt=xt?J:"-1",rt=xt?ze||ee:"g"}else Tt="-1",rt="g"}else at="f",yt=Ct?Se:"-1",Ot=Ct?ve||ee:"g",Tt="-1",rt="g";return{left:{folioID:tt,transcriptionType:at},right:{folioID:yt,transcriptionType:Ot},third:{folioID:Tt,transcriptionType:rt}}};M.useEffect(()=>{ym(e,"DiplomaticActions.setFixedFrameMode",!0)},[]);const q=(Se,ve)=>{Se==="left"?h({...l,isXMLMode:ve}):Se==="right"?p({...d,isXMLMode:ve}):g({...f,isXMLMode:ve})},G=(Se,ve)=>{if(r(ve),ve){const[Re,_e]=K(Se);ce(Re,"f",_e,"f")}},ne=(Se,ve)=>{var Re;const{document:_e}=e;if(_e.folioByName[Se]){const J=(Re=_e.folioByName[Se])==null?void 0:Re.id;de(J,ve,D()[ve].transcriptionType)}},K=Se=>{const{document:ve}=e,Re=ve.folioIndex[Se],{name:_e,pageNumber:J}=Re,ze=ve.variorum?ve.folios.filter(st=>st.doc_id===Re.doc_id):ve.folios;return!_e.endsWith("v")&&_e.endsWith("r")?[ze[J-1].id,ze[J].id]:ze[J+1]?[ze[J].id,ze[J+1].id]:[ze[J].id,null]},Y=(Se,ve,Re)=>{h({...l,width:Se}),p({...d,width:ve}),g({...f,width:Re})},se=(Se,ve)=>{const Re=D();if(Se==="left"){const{folioID:_e}=Re.left,J=Re.right;ce(_e,ve,J.folioID,J.transcriptionType,Re.third.folioID,Re.third.transcriptionType)}else if(Se==="right"){const{folioID:_e}=Re.right,J=Re.left;ce(J.folioID,J.transcriptionType,_e,ve,Re.third.folioID,Re.third.transcriptionType)}else{const{folioID:_e}=Re.third;ce(Re.left.folioID,Re.left.transcriptionType,Re.right.folioID,Re.right.transcriptionType,_e,ve)}},ce=(Se,ve,Re,_e,J,ze)=>{if(!Se){_("/ec");return}if(!ve){_(`/ec/${Se}`);return}if(!Re){_(`/ec/${Se}/${ve}`);return}if(!_e){_(`/ec/${Se}/${ve}/${Re}/tc`);return}if(!J){_(`/ec/${Se}/${ve}/${Re}/${_e}`);return}if(!ze){_(`/ec/${Se}/${ve}/${Re}/${_e}/${J}/f`);return}_(`/ec/${Se}/${ve}/${Re}/${_e}/${J}/${ze}`)},de=(Se,ve,Re)=>{const _e=D();if(i){const[J,ze]=K(Se);J&&ce(J,"f",ze,"f")}else if(n)if(ve==="left"){const J=_e.right;ce(Se,Re,Se,J.transcriptionType)}else if(ve==="right"){const J=_e.left;ce(Se,J.transcriptionType,Se,Re)}else ce(_e.left.folioID,_e.left.transcriptionType,_e.right.folioID,_e.right.transcriptionType,Se,Re);else if(ve==="left"){const J=_e.right,ze=_e.third;ce(Se,Re,J.folioID,J.transcriptionType,ze.folioID,ze.transcriptionType)}else if(ve==="right"){const J=_e.left,ze=_e.third;ce(J.folioID,J.transcriptionType,Se,Re,ze.folioID,ze.transcriptionType)}else ce(_e.left.folioID,_e.left.transcriptionType,_e.right.folioID,_e.right.transcriptionType,Se,Re)},ie=Se=>{const{transcriptionType:ve}=D()[Se],Re=Se==="left"?l.isXMLMode:Se==="right"?d.isXMLMode:f.isXMLMode;return ve==="g"?"ImageGridView":ve==="f"?"ImageView":ve==="glossary"?"GlossaryView":ve==="notes"?"NotesView":Re?"XMLView":"TranscriptionView"},ge=Se=>{const{document:ve}=e,Re=D()[Se];if(Re.folioID==="-1")return{...Se==="left"?l:Se==="right"?d:f,iiifShortID:Re.folioID,transcriptionType:Re.transcriptionType};const _e=Re.folioID,J=ve.variorum?ve.folios.filter(at=>at.doc_id===ve.folioIndex[_e].doc_id):ve.folios,ze=J.length;let st="",ee="",Ct=!1,tt=!1;if(i){const[at]=K(_e),yt=ve.folioIndex[at].pageNumber;yt>-1&&(tt=yt<ze-2,st=tt?J[yt+2].id:"",Ct=yt>1&&ze>1,ee=Ct?J[yt-2].id:"")}else{const at=ve.folioIndex[_e].pageNumber;at>-1&&(tt=at<ze-1,st=tt?J[at+1].id:"",Ct=at>0&&ze>1,ee=Ct?J[at-1].id:"")}return{...Se==="left"?l:Se==="right"?d:f,iiifShortID:_e,transcriptionType:Re.transcriptionType,hasPrevious:Ct,hasNext:tt,previousFolioShortID:ee,nextFolioShortID:st,documentID:ve.variorum?ve.folioIndex[_e].doc_id:ve.documentName}},pe={setXMLMode:q,setLinkedMode:t,setBookMode:G,changeTranscriptionType:se,changeCurrentFolio:de,jumpToFolio:ne},be=(Se,ve)=>{const Re=ie(Se),_e=Ae(Se),J=ve[Se].iiifShortID,ze=ve[Se].documentID,{transcriptionType:st}=ve[Se];return Re==="ImageView"?L.jsx(ZK,{folioID:J,documentView:ve,documentViewActions:pe,side:Se},_e):Re==="TranscriptionView"?L.jsx(e$,{documentView:ve,documentViewActions:pe,side:Se,folioID:J,transcriptionType:st},_e):Re==="XMLView"?L.jsx(i$,{folioID:J,transcriptionType:st,documentView:ve,documentViewActions:pe,side:Se},_e):Re==="ImageGridView"?e.tagExplorerMode?L.jsx(Z7,{side:Se,documentView:ve}):L.jsx(VK,{documentView:ve,documentViewActions:pe,side:Se,selectedDoc:ze||e.document.variorum&&Object.keys(e.document.derivativeNames)[Se==="left"?0:Se==="right"?1:Object.keys(e.document.derivativeNames).length>2?2:1]},_e):Re==="GlossaryView"?L.jsx(NK,{documentView:ve,documentViewActions:pe,side:Se},_e):Re==="NotesView"?L.jsx(NJ,{documentView:ve,documentViewActions:pe,side:Se},_e):L.jsx("div",{children:"ERROR: Unrecognized viewType."})},Ae=Se=>{const ve=Se==="left"?l:Se==="right"?d:f;return ve.viewType==="ImageGridView"?`${Se}-${ve.viewType}`:typeof ve.folio<"u"?`${Se}-${ve.viewType}-${ve.folio.id}`:`${Se}-${ve.viewType}`};if(!e.document.loaded)return null;const Le={linkedMode:n,bookMode:i,left:ge("left"),right:ge("right"),third:ge("third")};return{...ge("right")},bF("md",e.width)&&!y?L.jsx("div",{style:{height:"100%"},children:L.jsx(GJ,{leftPane:be("left",Le),rightPane:be("right",Le),thirdPane:be("third",Le),onWidth:Y,threePanel:e.document.threePanel})}):L.jsx("div",{style:{height:"100%"},children:L.jsx(VJ,{singlePane:be(ge("left").iiifShortID==="-1"?"left":"right",Le)})})}function o$(e){return{document:e.document,glossary:e.glossary}}const ul=BE()(qi(o$)(r$));function s$(e){const n=M.useRef(!1),{pathname:t}=Hr(),i=()=>{ym(e,"RouteListenerSaga.userNavigation",t)};return M.useEffect(()=>{n.current||(i(),n.current=!0)},[]),M.useEffect(()=>{i()},[t]),null}function a$(e){return{}}const l$=qi(a$)(s$);function LP(e){const[n,t]=M.useState(0),[i,r]=M.useState("min(100%, 100dvh"),l=M.useRef(null);M.useEffect(()=>{SF().listen(()=>{window.scrollTo(0,0)})},[]),M.useEffect(()=>{l.current&&(t(l.current.offsetWidth),l.current.clientHeight===0&&r("100dvh"))},[l]);const{fixedFrameMode:h}=e.diplomatic,d=h?"editioncrafter":"editioncrafter sticky",p=L.jsxs("div",{id:"diplomatic",className:d,ref:l,style:{height:i},children:[L.jsx(l$,{}),L.jsx("div",{id:"content",style:{height:"100%"},children:L.jsxs(Bj,{children:[L.jsx(Bo,{path:"/ec/:folioID/:transcriptionType/:folioID2/:transcriptionType2/:folioID3/:transcriptionType3",element:L.jsx(ul,{...e,containerWidth:n}),exact:!0}),L.jsx(Bo,{path:"/ec/:folioID/:transcriptionType/:folioID2/:transcriptionType2",element:L.jsx(ul,{...e,containerWidth:n}),exact:!0}),L.jsx(Bo,{path:"/ec/:folioID/:transcriptionType",element:L.jsx(ul,{...e,containerWidth:n}),exact:!0}),L.jsx(Bo,{path:"/ec/:folioID",element:L.jsx(ul,{...e,containerWidth:n}),exact:!0}),L.jsx(Bo,{path:"/ec",element:L.jsx(ul,{...e,containerWidth:n}),exact:!0}),L.jsx(Bo,{path:"/",element:L.jsx(Nj,{to:"/ec"}),exact:!0})]})})]}),f=e.tagExplorerMode!==!0?L.jsx(aT,{children:L.jsx(lT,{children:p})}):p;return L.jsx($F,{store:e.store,children:f})}LP.propTypes={store:wt.object.isRequired,config:wt.object.isRequired};function c$(e){return{diplomatic:e.diplomatic,documentView:e.documentView}}const u$=BE()(qi(c$)(LP));function d$(e){const n=Km({palette:{primary:{main:"#792421"},secondary:{main:"#EBE3DD"}}}),t=e.tagExplorerMode===!0;return L.jsx(HE,{theme:n,children:L.jsx(u$,{config:e,store:W8(e),tagExplorerMode:t})})}var FP={exports:{}};const h$={},p$=Object.freeze(Object.defineProperty({__proto__:null,default:h$},Symbol.toStringTag,{value:"Module"})),em=Um(p$);(function(e,n){var t=void 0,i=function(r){return t||(t=new Promise(function(l,h){var d=typeof r<"u"?r:{},p=d.onAbort;d.onAbort=function(C){h(new Error(C)),p&&p(C)},d.postRun=d.postRun||[],d.postRun.push(function(){l(d)}),e=void 0;var f;f||(f=typeof d<"u"?d:{});var g=typeof window=="object",y=typeof importScripts=="function",S=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";f.onRuntimeInitialized=function(){function C(Ee,qe){switch(typeof qe){case"boolean":La(Ee,qe?1:0);break;case"number":Es(Ee,qe);break;case"string":ih(Ee,qe,-1,-1);break;case"object":if(qe===null)Ro(Ee);else if(qe.length!=null){var bt=bs(qe,Po);Ts(Ee,bt,qe.length,-1),Yi(bt)}else Qn(Ee,"Wrong API use : tried to return a value of an unknown type ("+qe+").",-1);break;default:Ro(Ee)}}function R(Ee,qe){for(var bt=[],Bt=0;Bt<Ee;Bt+=1){var Qt=on(qe+4*Bt,"i32"),Pn=Qd(Qt);if(Pn===1||Pn===2)Qt=za(Qt);else if(Pn===3)Qt=th(Qt);else if(Pn===4){Pn=Qt,Qt=eh(Pn),Pn=nh(Pn);for(var ki=new Uint8Array(Qt),Pi=0;Pi<Qt;Pi+=1)ki[Pi]=de[Pn+Pi];Qt=ki}else Qt=null;bt.push(Qt)}return bt}function H(Ee,qe){this.Ka=Ee,this.db=qe,this.Ia=1,this.eb=[]}function $(Ee,qe){if(this.db=qe,qe=me(Ee)+1,this.Xa=Aa(qe),this.Xa===null)throw Error("Unable to allocate memory for the SQL string");Ie(Ee,ie,this.Xa,qe),this.cb=this.Xa,this.Ta=this.hb=null}function fe(Ee){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),Ee!=null){var qe=this.filename,bt="/",Bt=qe;if(bt&&(bt=typeof bt=="string"?bt:xo(bt),Bt=qe?Ne(bt+"/"+qe):bt),qe=lt(!0,!0),Bt=fs(Bt,(qe!==void 0?qe:438)&4095|32768,0),Ee){if(typeof Ee=="string"){bt=Array(Ee.length);for(var Qt=0,Pn=Ee.length;Qt<Pn;++Qt)bt[Qt]=Ee.charCodeAt(Qt);Ee=bt}Eo(Bt,qe|146),bt=Rr(Bt,577),Fe(bt,Ee,0,Ee.length,0),vs(bt),Eo(Bt,qe)}}this.handleError(Wt(this.filename,Oe)),this.db=on(Oe,"i32"),Zn(this.db),this.Ya={},this.Ma={}}var Oe=lr(4),Ve=f.cwrap,Wt=Ve("sqlite3_open","number",["string","number"]),an=Ve("sqlite3_close_v2","number",["number"]),Kt=Ve("sqlite3_exec","number",["number","string","number","number","number"]),Vn=Ve("sqlite3_changes","number",["number"]),Kn=Ve("sqlite3_prepare_v2","number",["number","string","number","number","number"]),Hd=Ve("sqlite3_sql","string",["number"]),Bd=Ve("sqlite3_normalized_sql","string",["number"]),uc=Ve("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Vd=Ve("sqlite3_bind_text","number",["number","number","number","number","number"]),dc=Ve("sqlite3_bind_blob","number",["number","number","number","number","number"]),Ud=Ve("sqlite3_bind_double","number",["number","number","number"]),Wd=Ve("sqlite3_bind_int","number",["number","number","number"]),Gd=Ve("sqlite3_bind_parameter_index","number",["number","string"]),Ia=Ve("sqlite3_step","number",["number"]),qd=Ve("sqlite3_errmsg","string",["number"]),Xd=Ve("sqlite3_column_count","number",["number"]),Yd=Ve("sqlite3_data_count","number",["number"]),Kd=Ve("sqlite3_column_double","number",["number","number"]),Ma=Ve("sqlite3_column_text","string",["number","number"]),hc=Ve("sqlite3_column_blob","number",["number","number"]),Ki=Ve("sqlite3_column_bytes","number",["number","number"]),xi=Ve("sqlite3_column_type","number",["number","number"]),qr=Ve("sqlite3_column_name","string",["number","number"]),Zd=Ve("sqlite3_reset","number",["number"]),Jd=Ve("sqlite3_clear_bindings","number",["number"]),$d=Ve("sqlite3_finalize","number",["number"]),pc=Ve("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),Qd=Ve("sqlite3_value_type","number",["number"]),eh=Ve("sqlite3_value_bytes","number",["number"]),th=Ve("sqlite3_value_text","string",["number"]),nh=Ve("sqlite3_value_blob","number",["number"]),za=Ve("sqlite3_value_double","number",["number"]),Es=Ve("sqlite3_result_double","",["number","number"]),Ro=Ve("sqlite3_result_null","",["number"]),ih=Ve("sqlite3_result_text","",["number","string","number","number"]),Ts=Ve("sqlite3_result_blob","",["number","number","number","number"]),La=Ve("sqlite3_result_int","",["number","number"]),Qn=Ve("sqlite3_result_error","",["number","string","number"]),fc=Ve("sqlite3_aggregate_context","number",["number","number"]),Zn=Ve("RegisterExtensionFunctions","number",["number"]);H.prototype.bind=function(Ee){if(!this.Ka)throw"Statement closed";return this.reset(),Array.isArray(Ee)?this.vb(Ee):Ee!=null&&typeof Ee=="object"?this.wb(Ee):!0},H.prototype.step=function(){if(!this.Ka)throw"Statement closed";this.Ia=1;var Ee=Ia(this.Ka);switch(Ee){case 100:return!0;case 101:return!1;default:throw this.db.handleError(Ee)}},H.prototype.qb=function(Ee){return Ee==null&&(Ee=this.Ia,this.Ia+=1),Kd(this.Ka,Ee)},H.prototype.zb=function(Ee){if(Ee==null&&(Ee=this.Ia,this.Ia+=1),Ee=Ma(this.Ka,Ee),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(Ee)},H.prototype.Ab=function(Ee){return Ee==null&&(Ee=this.Ia,this.Ia+=1),Ma(this.Ka,Ee)},H.prototype.getBlob=function(Ee){Ee==null&&(Ee=this.Ia,this.Ia+=1);var qe=Ki(this.Ka,Ee);Ee=hc(this.Ka,Ee);for(var bt=new Uint8Array(qe),Bt=0;Bt<qe;Bt+=1)bt[Bt]=de[Ee+Bt];return bt},H.prototype.get=function(Ee,qe){qe=qe||{},Ee!=null&&this.bind(Ee)&&this.step(),Ee=[];for(var bt=Yd(this.Ka),Bt=0;Bt<bt;Bt+=1)switch(xi(this.Ka,Bt)){case 1:var Qt=qe.useBigInt?this.zb(Bt):this.qb(Bt);Ee.push(Qt);break;case 2:Ee.push(this.qb(Bt));break;case 3:Ee.push(this.Ab(Bt));break;case 4:Ee.push(this.getBlob(Bt));break;default:Ee.push(null)}return Ee},H.prototype.getColumnNames=function(){for(var Ee=[],qe=Xd(this.Ka),bt=0;bt<qe;bt+=1)Ee.push(qr(this.Ka,bt));return Ee},H.prototype.getAsObject=function(Ee,qe){Ee=this.get(Ee,qe),qe=this.getColumnNames();for(var bt={},Bt=0;Bt<qe.length;Bt+=1)bt[qe[Bt]]=Ee[Bt];return bt},H.prototype.getSQL=function(){return Hd(this.Ka)},H.prototype.getNormalizedSQL=function(){return Bd(this.Ka)},H.prototype.run=function(Ee){return Ee!=null&&this.bind(Ee),this.step(),this.reset()},H.prototype.mb=function(Ee,qe){qe==null&&(qe=this.Ia,this.Ia+=1),Ee=F(Ee);var bt=bs(Ee,Po);this.eb.push(bt),this.db.handleError(Vd(this.Ka,qe,bt,Ee.length-1,0))},H.prototype.ub=function(Ee,qe){qe==null&&(qe=this.Ia,this.Ia+=1);var bt=bs(Ee,Po);this.eb.push(bt),this.db.handleError(dc(this.Ka,qe,bt,Ee.length,0))},H.prototype.lb=function(Ee,qe){qe==null&&(qe=this.Ia,this.Ia+=1),this.db.handleError((Ee===(Ee|0)?Wd:Ud)(this.Ka,qe,Ee))},H.prototype.xb=function(Ee){Ee==null&&(Ee=this.Ia,this.Ia+=1),dc(this.Ka,Ee,0,0,0)},H.prototype.nb=function(Ee,qe){switch(qe==null&&(qe=this.Ia,this.Ia+=1),typeof Ee){case"string":this.mb(Ee,qe);return;case"number":this.lb(Ee,qe);return;case"bigint":this.mb(Ee.toString(),qe);return;case"boolean":this.lb(Ee+0,qe);return;case"object":if(Ee===null){this.xb(qe);return}if(Ee.length!=null){this.ub(Ee,qe);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+Ee+")."},H.prototype.wb=function(Ee){var qe=this;return Object.keys(Ee).forEach(function(bt){var Bt=Gd(qe.Ka,bt);Bt!==0&&qe.nb(Ee[bt],Bt)}),!0},H.prototype.vb=function(Ee){for(var qe=0;qe<Ee.length;qe+=1)this.nb(Ee[qe],qe+1);return!0},H.prototype.reset=function(){return this.freemem(),Jd(this.Ka)===0&&Zd(this.Ka)===0},H.prototype.freemem=function(){for(var Ee;(Ee=this.eb.pop())!==void 0;)Yi(Ee)},H.prototype.free=function(){this.freemem();var Ee=$d(this.Ka)===0;return delete this.db.Ya[this.Ka],this.Ka=0,Ee},$.prototype.next=function(){if(this.Xa===null)return{done:!0};if(this.Ta!==null&&(this.Ta.free(),this.Ta=null),!this.db.db)throw this.fb(),Error("Database closed");var Ee=_o(),qe=lr(4);Dt(Oe),Dt(qe);try{this.db.handleError(uc(this.db.db,this.cb,-1,Oe,qe)),this.cb=on(qe,"i32");var bt=on(Oe,"i32");return bt===0?(this.fb(),{done:!0}):(this.Ta=new H(bt,this.db),this.db.Ya[bt]=this.Ta,{value:this.Ta,done:!1})}catch(Bt){throw this.hb=Q(this.cb),this.fb(),Bt}finally{Gr(Ee)}},$.prototype.fb=function(){Yi(this.Xa),this.Xa=null},$.prototype.getRemainingSQL=function(){return this.hb!==null?this.hb:Q(this.cb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&($.prototype[Symbol.iterator]=function(){return this}),fe.prototype.run=function(Ee,qe){if(!this.db)throw"Database closed";if(qe){Ee=this.prepare(Ee,qe);try{Ee.step()}finally{Ee.free()}}else this.handleError(Kt(this.db,Ee,0,0,Oe));return this},fe.prototype.exec=function(Ee,qe,bt){if(!this.db)throw"Database closed";var Bt=_o(),Qt=null;try{var Pn=Da(Ee),ki=lr(4);for(Ee=[];on(Pn,"i8")!==0;){Dt(Oe),Dt(ki),this.handleError(uc(this.db,Pn,-1,Oe,ki));var Pi=on(Oe,"i32");if(Pn=on(ki,"i32"),Pi!==0){var Si=null;for(Qt=new H(Pi,this),qe!=null&&Qt.bind(qe);Qt.step();)Si===null&&(Si={columns:Qt.getColumnNames(),values:[]},Ee.push(Si)),Si.values.push(Qt.get(null,bt));Qt.free()}}return Ee}catch(_i){throw Qt&&Qt.free(),_i}finally{Gr(Bt)}},fe.prototype.each=function(Ee,qe,bt,Bt,Qt){typeof qe=="function"&&(Bt=bt,bt=qe,qe=void 0),Ee=this.prepare(Ee,qe);try{for(;Ee.step();)bt(Ee.getAsObject(null,Qt))}finally{Ee.free()}if(typeof Bt=="function")return Bt()},fe.prototype.prepare=function(Ee,qe){if(Dt(Oe),this.handleError(Kn(this.db,Ee,-1,Oe,0)),Ee=on(Oe,"i32"),Ee===0)throw"Nothing to prepare";var bt=new H(Ee,this);return qe!=null&&bt.bind(qe),this.Ya[Ee]=bt},fe.prototype.iterateStatements=function(Ee){return new $(Ee,this)},fe.prototype.export=function(){Object.values(this.Ya).forEach(function(qe){qe.free()}),Object.values(this.Ma).forEach(Wr),this.Ma={},this.handleError(an(this.db));var Ee=_a(this.filename);return this.handleError(Wt(this.filename,Oe)),this.db=on(Oe,"i32"),Zn(this.db),Ee},fe.prototype.close=function(){this.db!==null&&(Object.values(this.Ya).forEach(function(Ee){Ee.free()}),Object.values(this.Ma).forEach(Wr),this.Ma={},this.handleError(an(this.db)),Ca("/"+this.filename),this.db=null)},fe.prototype.handleError=function(Ee){if(Ee===0)return null;throw Ee=qd(this.db),Error(Ee)},fe.prototype.getRowsModified=function(){return Vn(this.db)},fe.prototype.create_function=function(Ee,qe){Object.prototype.hasOwnProperty.call(this.Ma,Ee)&&(Wr(this.Ma[Ee]),delete this.Ma[Ee]);var bt=ws(function(Bt,Qt,Pn){Qt=R(Qt,Pn);try{var ki=qe.apply(null,Qt)}catch(Pi){Qn(Bt,Pi,-1);return}C(Bt,ki)},"viii");return this.Ma[Ee]=bt,this.handleError(pc(this.db,Ee,qe.length,1,0,bt,0,0,0)),this},fe.prototype.create_aggregate=function(Ee,qe){var bt=qe.init||function(){return null},Bt=qe.finalize||function(Si){return Si},Qt=qe.step;if(!Qt)throw"An aggregate function must have a step function in "+Ee;var Pn={};Object.hasOwnProperty.call(this.Ma,Ee)&&(Wr(this.Ma[Ee]),delete this.Ma[Ee]),qe=Ee+"__finalize",Object.hasOwnProperty.call(this.Ma,qe)&&(Wr(this.Ma[qe]),delete this.Ma[qe]);var ki=ws(function(Si,_i,Fa){var Ar=fc(Si,1);Object.hasOwnProperty.call(Pn,Ar)||(Pn[Ar]=bt()),_i=R(_i,Fa),_i=[Pn[Ar]].concat(_i);try{Pn[Ar]=Qt.apply(null,_i)}catch(rh){delete Pn[Ar],Qn(Si,rh,-1)}},"viii"),Pi=ws(function(Si){var _i=fc(Si,1);try{var Fa=Bt(Pn[_i])}catch(Ar){delete Pn[_i],Qn(Si,Ar,-1);return}C(Si,Fa),delete Pn[_i]},"vi");return this.Ma[Ee]=ki,this.Ma[qe]=Pi,this.handleError(pc(this.db,Ee,Qt.length-1,1,0,0,ki,Pi,0)),this},f.Database=fe};var T=Object.assign({},f),k="./this.program",P="",_,D;if(S){var q=em,G=em;P=__dirname+"/",D=C=>(C=tt(C)?new URL(C):G.normalize(C),q.readFileSync(C)),_=C=>(C=tt(C)?new URL(C):G.normalize(C),new Promise((R,H)=>{q.readFile(C,void 0,($,fe)=>{$?H($):R(fe.buffer)})})),!f.thisProgram&&1<process.argv.length&&(k=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),e.exports=f}else(g||y)&&(y?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),P=P.startsWith("blob:")?"":P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1),y&&(D=C=>{var R=new XMLHttpRequest;return R.open("GET",C,!1),R.responseType="arraybuffer",R.send(null),new Uint8Array(R.response)}),_=C=>tt(C)?new Promise((R,H)=>{var $=new XMLHttpRequest;$.open("GET",C,!0),$.responseType="arraybuffer",$.onload=()=>{($.status==200||$.status==0&&$.response)&&H($.response),R($.status)},$.onerror=R,$.send(null)}):fetch(C,{credentials:"same-origin"}).then(R=>R.ok?R.arrayBuffer():Promise.reject(Error(R.status+" : "+R.url))));var ne=f.print||console.log.bind(console),K=f.printErr||console.error.bind(console);Object.assign(f,T),T=null,f.thisProgram&&(k=f.thisProgram);var Y;f.wasmBinary&&(Y=f.wasmBinary);var se,ce=!1,de,ie,ge,pe,be,Ae,Le;function Se(){var C=se.buffer;f.HEAP8=de=new Int8Array(C),f.HEAP16=ge=new Int16Array(C),f.HEAPU8=ie=new Uint8Array(C),f.HEAPU16=new Uint16Array(C),f.HEAP32=pe=new Int32Array(C),f.HEAPU32=be=new Uint32Array(C),f.HEAPF32=Ae=new Float32Array(C),f.HEAPF64=Le=new Float64Array(C)}var ve=[],Re=[],_e=[];function J(){var C=f.preRun.shift();ve.unshift(C)}var ze=0,st=null;function ee(C){var R;throw(R=f.onAbort)==null||R.call(f,C),C="Aborted("+C+")",K(C),ce=!0,new WebAssembly.RuntimeError(C+". Build with -sASSERTIONS for more info.")}var Ct=C=>C.startsWith("data:application/octet-stream;base64,"),tt=C=>C.startsWith("file://"),at;function yt(C){if(C==at&&Y)return new Uint8Array(Y);if(D)return D(C);throw"both async and sync fetching of the wasm failed"}function Ot(C){return Y?Promise.resolve().then(()=>yt(C)):_(C).then(R=>new Uint8Array(R),()=>yt(C))}function Tt(C,R,H){return Ot(C).then($=>WebAssembly.instantiate($,R)).then(H,$=>{K(`failed to asynchronously prepare wasm: ${$}`),ee($)})}function rt(C,R){var H=at;Y||typeof WebAssembly.instantiateStreaming!="function"||Ct(H)||tt(H)||S||typeof fetch!="function"?Tt(H,C,R):fetch(H,{credentials:"same-origin"}).then($=>WebAssembly.instantiateStreaming($,C).then(R,function(fe){return K(`wasm streaming compile failed: ${fe}`),K("falling back to ArrayBuffer instantiation"),Tt(H,C,R)}))}var Ye,xt,Ht=C=>{for(;0<C.length;)C.shift()(f)};function on(C,R="i8"){switch(R.endsWith("*")&&(R="*"),R){case"i1":return de[C];case"i8":return de[C];case"i16":return ge[C>>1];case"i32":return pe[C>>2];case"i64":ee("to do getValue(i64) use WASM_BIGINT");case"float":return Ae[C>>2];case"double":return Le[C>>3];case"*":return be[C>>2];default:ee(`invalid type for getValue: ${R}`)}}function Dt(C){var R="i32";switch(R.endsWith("*")&&(R="*"),R){case"i1":de[C]=0;break;case"i8":de[C]=0;break;case"i16":ge[C>>1]=0;break;case"i32":pe[C>>2]=0;break;case"i64":ee("to do setValue(i64) use WASM_BIGINT");case"float":Ae[C>>2]=0;break;case"double":Le[C>>3]=0;break;case"*":be[C>>2]=0;break;default:ee(`invalid type for setValue: ${R}`)}}var Yt=typeof TextDecoder<"u"?new TextDecoder:void 0,I=(C,R,H)=>{var $=R+H;for(H=R;C[H]&&!(H>=$);)++H;if(16<H-R&&C.buffer&&Yt)return Yt.decode(C.subarray(R,H));for($="";R<H;){var fe=C[R++];if(fe&128){var Oe=C[R++]&63;if((fe&224)==192)$+=String.fromCharCode((fe&31)<<6|Oe);else{var Ve=C[R++]&63;fe=(fe&240)==224?(fe&15)<<12|Oe<<6|Ve:(fe&7)<<18|Oe<<12|Ve<<6|C[R++]&63,65536>fe?$+=String.fromCharCode(fe):(fe-=65536,$+=String.fromCharCode(55296|fe>>10,56320|fe&1023))}}else $+=String.fromCharCode(fe)}return $},Q=(C,R)=>C?I(ie,C,R):"",xe=(C,R)=>{for(var H=0,$=C.length-1;0<=$;$--){var fe=C[$];fe==="."?C.splice($,1):fe===".."?(C.splice($,1),H++):H&&(C.splice($,1),H--)}if(R)for(;H;H--)C.unshift("..");return C},Ne=C=>{var R=C.charAt(0)==="/",H=C.substr(-1)==="/";return(C=xe(C.split("/").filter($=>!!$),!R).join("/"))||R||(C="."),C&&H&&(C+="/"),(R?"/":"")+C},je=C=>{var R=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(C).slice(1);return C=R[0],R=R[1],!C&&!R?".":(R&&(R=R.substr(0,R.length-1)),C+R)},$e=C=>{if(C==="/")return"/";C=Ne(C),C=C.replace(/\/$/,"");var R=C.lastIndexOf("/");return R===-1?C:C.substr(R+1)},Ke=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return H=>crypto.getRandomValues(H);if(S)try{var C=em;if(C.randomFillSync)return H=>C.randomFillSync(H);var R=C.randomBytes;return H=>(H.set(R(H.byteLength)),H)}catch{}ee("initRandomDevice")},Et=C=>(Et=Ke())(C),It=(...C)=>{for(var R="",H=!1,$=C.length-1;-1<=$&&!H;$--){if(H=0<=$?C[$]:"/",typeof H!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!H)return"";R=H+"/"+R,H=H.charAt(0)==="/"}return R=xe(R.split("/").filter(fe=>!!fe),!H).join("/"),(H?"/":"")+R||"."},Lt=[],me=C=>{for(var R=0,H=0;H<C.length;++H){var $=C.charCodeAt(H);127>=$?R++:2047>=$?R+=2:55296<=$&&57343>=$?(R+=4,++H):R+=3}return R},Ie=(C,R,H,$)=>{if(!(0<$))return 0;var fe=H;$=H+$-1;for(var Oe=0;Oe<C.length;++Oe){var Ve=C.charCodeAt(Oe);if(55296<=Ve&&57343>=Ve){var Wt=C.charCodeAt(++Oe);Ve=65536+((Ve&1023)<<10)|Wt&1023}if(127>=Ve){if(H>=$)break;R[H++]=Ve}else{if(2047>=Ve){if(H+1>=$)break;R[H++]=192|Ve>>6}else{if(65535>=Ve){if(H+2>=$)break;R[H++]=224|Ve>>12}else{if(H+3>=$)break;R[H++]=240|Ve>>18,R[H++]=128|Ve>>12&63}R[H++]=128|Ve>>6&63}R[H++]=128|Ve&63}}return R[H]=0,H-fe};function F(C,R){var H=Array(me(C)+1);return C=Ie(C,H,0,H.length),R&&(H.length=C),H}var N=[];function W(C,R){N[C]={input:[],output:[],Wa:R},Ea(C,Z)}var Z={open(C){var R=N[C.node.rdev];if(!R)throw new ct(43);C.tty=R,C.seekable=!1},close(C){C.tty.Wa.fsync(C.tty)},fsync(C){C.tty.Wa.fsync(C.tty)},read(C,R,H,$){if(!C.tty||!C.tty.Wa.rb)throw new ct(60);for(var fe=0,Oe=0;Oe<$;Oe++){try{var Ve=C.tty.Wa.rb(C.tty)}catch{throw new ct(29)}if(Ve===void 0&&fe===0)throw new ct(6);if(Ve==null)break;fe++,R[H+Oe]=Ve}return fe&&(C.node.timestamp=Date.now()),fe},write(C,R,H,$){if(!C.tty||!C.tty.Wa.ib)throw new ct(60);try{for(var fe=0;fe<$;fe++)C.tty.Wa.ib(C.tty,R[H+fe])}catch{throw new ct(29)}return $&&(C.node.timestamp=Date.now()),fe}},Te={rb(){e:{if(!Lt.length){var C=null;if(S){var R=Buffer.alloc(256),H=0,$=process.stdin.fd;try{H=q.readSync($,R,0,256)}catch(fe){if(fe.toString().includes("EOF"))H=0;else throw fe}0<H&&(C=R.slice(0,H).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(C=window.prompt("Input: "),C!==null&&(C+=`
`));if(!C){C=null;break e}Lt=F(C,!0)}C=Lt.shift()}return C},ib(C,R){R===null||R===10?(ne(I(C.output,0)),C.output=[]):R!=0&&C.output.push(R)},fsync(C){C.output&&0<C.output.length&&(ne(I(C.output,0)),C.output=[])},Lb(){return{Gb:25856,Ib:5,Fb:191,Hb:35387,Eb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Mb(){return 0},Nb(){return[24,80]}},Ue={ib(C,R){R===null||R===10?(K(I(C.output,0)),C.output=[]):R!=0&&C.output.push(R)},fsync(C){C.output&&0<C.output.length&&(K(I(C.output,0)),C.output=[])}};function gt(C,R){var H=C.Ha?C.Ha.length:0;H>=R||(R=Math.max(R,H*(1048576>H?2:1.125)>>>0),H!=0&&(R=Math.max(R,256)),H=C.Ha,C.Ha=new Uint8Array(R),0<C.La&&C.Ha.set(H.subarray(0,C.La),0))}var He={Pa:null,Qa(){return He.createNode(null,"/",16895,0)},createNode(C,R,H,$){if((H&61440)===24576||(H&61440)===4096)throw new ct(63);return He.Pa||(He.Pa={dir:{node:{Oa:He.Fa.Oa,Na:He.Fa.Na,lookup:He.Fa.lookup,$a:He.Fa.$a,rename:He.Fa.rename,unlink:He.Fa.unlink,rmdir:He.Fa.rmdir,readdir:He.Fa.readdir,symlink:He.Fa.symlink},stream:{Sa:He.Ga.Sa}},file:{node:{Oa:He.Fa.Oa,Na:He.Fa.Na},stream:{Sa:He.Ga.Sa,read:He.Ga.read,write:He.Ga.write,kb:He.Ga.kb,ab:He.Ga.ab,bb:He.Ga.bb}},link:{node:{Oa:He.Fa.Oa,Na:He.Fa.Na,readlink:He.Fa.readlink},stream:{}},ob:{node:{Oa:He.Fa.Oa,Na:He.Fa.Na},stream:rc}}),H=ec(C,R,H,$),wi(H.mode)?(H.Fa=He.Pa.dir.node,H.Ga=He.Pa.dir.stream,H.Ha={}):(H.mode&61440)===32768?(H.Fa=He.Pa.file.node,H.Ga=He.Pa.file.stream,H.La=0,H.Ha=null):(H.mode&61440)===40960?(H.Fa=He.Pa.link.node,H.Ga=He.Pa.link.stream):(H.mode&61440)===8192&&(H.Fa=He.Pa.ob.node,H.Ga=He.Pa.ob.stream),H.timestamp=Date.now(),C&&(C.Ha[R]=H,C.timestamp=H.timestamp),H},Kb(C){return C.Ha?C.Ha.subarray?C.Ha.subarray(0,C.La):new Uint8Array(C.Ha):new Uint8Array(0)},Fa:{Oa(C){var R={};return R.dev=(C.mode&61440)===8192?C.id:1,R.ino=C.id,R.mode=C.mode,R.nlink=1,R.uid=0,R.gid=0,R.rdev=C.rdev,wi(C.mode)?R.size=4096:(C.mode&61440)===32768?R.size=C.La:(C.mode&61440)===40960?R.size=C.link.length:R.size=0,R.atime=new Date(C.timestamp),R.mtime=new Date(C.timestamp),R.ctime=new Date(C.timestamp),R.yb=4096,R.blocks=Math.ceil(R.size/R.yb),R},Na(C,R){if(R.mode!==void 0&&(C.mode=R.mode),R.timestamp!==void 0&&(C.timestamp=R.timestamp),R.size!==void 0&&(R=R.size,C.La!=R))if(R==0)C.Ha=null,C.La=0;else{var H=C.Ha;C.Ha=new Uint8Array(R),H&&C.Ha.set(H.subarray(0,Math.min(R,C.La))),C.La=R}},lookup(){throw ds[44]},$a(C,R,H,$){return He.createNode(C,R,H,$)},rename(C,R,H){if(wi(C.mode)){try{var $=fr(R,H)}catch{}if($)for(var fe in $.Ha)throw new ct(55)}delete C.parent.Ha[C.name],C.parent.timestamp=Date.now(),C.name=H,R.Ha[H]=C,R.timestamp=C.parent.timestamp},unlink(C,R){delete C.Ha[R],C.timestamp=Date.now()},rmdir(C,R){var H=fr(C,R),$;for($ in H.Ha)throw new ct(55);delete C.Ha[R],C.timestamp=Date.now()},readdir(C){var R=[".",".."],H;for(H of Object.keys(C.Ha))R.push(H);return R},symlink(C,R,H){return C=He.createNode(C,R,41471,0),C.link=H,C},readlink(C){if((C.mode&61440)!==40960)throw new ct(28);return C.link}},Ga:{read(C,R,H,$,fe){var Oe=C.node.Ha;if(fe>=C.node.La)return 0;if(C=Math.min(C.node.La-fe,$),8<C&&Oe.subarray)R.set(Oe.subarray(fe,fe+C),H);else for($=0;$<C;$++)R[H+$]=Oe[fe+$];return C},write(C,R,H,$,fe,Oe){if(R.buffer===de.buffer&&(Oe=!1),!$)return 0;if(C=C.node,C.timestamp=Date.now(),R.subarray&&(!C.Ha||C.Ha.subarray)){if(Oe)return C.Ha=R.subarray(H,H+$),C.La=$;if(C.La===0&&fe===0)return C.Ha=R.slice(H,H+$),C.La=$;if(fe+$<=C.La)return C.Ha.set(R.subarray(H,H+$),fe),$}if(gt(C,fe+$),C.Ha.subarray&&R.subarray)C.Ha.set(R.subarray(H,H+$),fe);else for(Oe=0;Oe<$;Oe++)C.Ha[fe+Oe]=R[H+Oe];return C.La=Math.max(C.La,fe+$),$},Sa(C,R,H){if(H===1?R+=C.position:H===2&&(C.node.mode&61440)===32768&&(R+=C.node.La),0>R)throw new ct(28);return R},kb(C,R,H){gt(C.node,R+H),C.node.La=Math.max(C.node.La,R+H)},ab(C,R,H,$,fe){if((C.node.mode&61440)!==32768)throw new ct(43);if(C=C.node.Ha,fe&2||C.buffer!==de.buffer){if((0<H||H+R<C.length)&&(C.subarray?C=C.subarray(H,H+R):C=Array.prototype.slice.call(C,H,H+R)),H=!0,R=65536*Math.ceil(R/65536),(fe=xs(65536,R))?(ie.fill(0,fe,fe+R),R=fe):R=0,!R)throw new ct(48);de.set(C,R)}else H=!1,R=C.byteOffset;return{Cb:R,tb:H}},bb(C,R,H,$){return He.Ga.write(C,R,0,$,H,!1),0}}},lt=(C,R)=>{var H=0;return C&&(H|=365),R&&(H|=146),H},Rn=null,en={},oi=[],wo=1,zi=null,kr=!0,ct=class{constructor(C){this.name="ErrnoError",this.Ja=C}},ds={},Ld=class{constructor(){this.Za={},this.node=null}get flags(){return this.Za.flags}set flags(C){this.Za.flags=C}get position(){return this.Za.position}set position(C){this.Za.position=C}},Ql=class{constructor(C,R,H,$){C||(C=this),this.parent=C,this.Qa=C.Qa,this.Ua=null,this.id=wo++,this.name=R,this.mode=H,this.Fa={},this.Ga={},this.rdev=$}get read(){return(this.mode&365)===365}set read(C){C?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(C){C?this.mode|=146:this.mode&=-147}};function Wn(C,R={}){if(C=It(C),!C)return{path:"",node:null};if(R=Object.assign({pb:!0,jb:0},R),8<R.jb)throw new ct(32);C=C.split("/").filter(Ve=>!!Ve);for(var H=Rn,$="/",fe=0;fe<C.length;fe++){var Oe=fe===C.length-1;if(Oe&&R.parent)break;if(H=fr(H,C[fe]),$=Ne($+"/"+C[fe]),H.Ua&&(!Oe||Oe&&R.pb)&&(H=H.Ua.root),!Oe||R.Ra){for(Oe=0;(H.mode&61440)===40960;)if(H=sc($),$=It(je($),H),H=Wn($,{jb:R.jb+1}).node,40<Oe++)throw new ct(32)}}return{path:$,node:H}}function xo(C){for(var R;;){if(C===C.parent)return C=C.Qa.sb,R?C[C.length-1]!=="/"?`${C}/${R}`:C+R:C;R=R?`${C.name}/${R}`:C.name,C=C.parent}}function hs(C,R){for(var H=0,$=0;$<R.length;$++)H=(H<<5)-H+R.charCodeAt($)|0;return(C+H>>>0)%zi.length}function Pr(C){var R=hs(C.parent.id,C.name);if(zi[R]===C)zi[R]=C.Va;else for(R=zi[R];R;){if(R.Va===C){R.Va=C.Va;break}R=R.Va}}function fr(C,R){var H=wi(C.mode)?(H=_r(C,"x"))?H:C.Fa.lookup?0:2:54;if(H)throw new ct(H);for(H=zi[hs(C.id,R)];H;H=H.Va){var $=H.name;if(H.parent.id===C.id&&$===R)return H}return C.Fa.lookup(C,R)}function ec(C,R,H,$){return C=new Ql(C,R,H,$),R=hs(C.parent.id,C.name),C.Va=zi[R],zi[R]=C}function wi(C){return(C&61440)===16384}function ps(C){var R=["r","w","rw"][C&3];return C&512&&(R+="w"),R}function _r(C,R){if(kr)return 0;if(!R.includes("r")||C.mode&292){if(R.includes("w")&&!(C.mode&146)||R.includes("x")&&!(C.mode&73))return 2}else return 2;return 0}function tc(C,R){try{return fr(C,R),20}catch{}return _r(C,"wx")}function nc(C,R,H){try{var $=fr(C,R)}catch(fe){return fe.Ja}if(C=_r(C,"wx"))return C;if(H){if(!wi($.mode))return 54;if($===$.parent||xo($)==="/")return 10}else if(wi($.mode))return 31;return 0}function si(C){if(C=oi[C],!C)throw new ct(8);return C}function Sa(C,R=-1){if(C=Object.assign(new Ld,C),R==-1)e:{for(R=0;4096>=R;R++)if(!oi[R])break e;throw new ct(33)}return C.fd=R,oi[R]=C}function ic(C,R=-1){var H,$;return C=Sa(C,R),($=(H=C.Ga)==null?void 0:H.Jb)==null||$.call(H,C),C}var rc={open(C){var R,H;C.Ga=en[C.node.rdev].Ga,(H=(R=C.Ga).open)==null||H.call(R,C)},Sa(){throw new ct(70)}};function Ea(C,R){en[C]={Ga:R}}function oc(C,R){var H=R==="/";if(H&&Rn)throw new ct(10);if(!H&&R){var $=Wn(R,{pb:!1});if(R=$.path,$=$.node,$.Ua)throw new ct(10);if(!wi($.mode))throw new ct(54)}R={type:C,Ob:{},sb:R,Bb:[]},C=C.Qa(R),C.Qa=R,R.root=C,H?Rn=C:$&&($.Ua=R,$.Qa&&$.Qa.Bb.push(R))}function fs(C,R,H){var $=Wn(C,{parent:!0}).node;if(C=$e(C),!C||C==="."||C==="..")throw new ct(28);var fe=tc($,C);if(fe)throw new ct(fe);if(!$.Fa.$a)throw new ct(63);return $.Fa.$a($,C,R,H)}function Li(C,R){return fs(C,(R!==void 0?R:511)&1023|16384,0)}function So(C,R,H){typeof H>"u"&&(H=R,R=438),fs(C,R|8192,H)}function ms(C,R){if(!It(C))throw new ct(44);var H=Wn(R,{parent:!0}).node;if(!H)throw new ct(44);R=$e(R);var $=tc(H,R);if($)throw new ct($);if(!H.Fa.symlink)throw new ct(63);H.Fa.symlink(H,R,C)}function Ta(C){var R=Wn(C,{parent:!0}).node;C=$e(C);var H=fr(R,C),$=nc(R,C,!0);if($)throw new ct($);if(!R.Fa.rmdir)throw new ct(63);if(H.Ua)throw new ct(10);R.Fa.rmdir(R,C),Pr(H)}function Ca(C){var R=Wn(C,{parent:!0}).node;if(!R)throw new ct(44);C=$e(C);var H=fr(R,C),$=nc(R,C,!1);if($)throw new ct($);if(!R.Fa.unlink)throw new ct(63);if(H.Ua)throw new ct(10);R.Fa.unlink(R,C),Pr(H)}function sc(C){if(C=Wn(C).node,!C)throw new ct(44);if(!C.Fa.readlink)throw new ct(28);return It(xo(C.parent),C.Fa.readlink(C))}function Vr(C,R){if(C=Wn(C,{Ra:!R}).node,!C)throw new ct(44);if(!C.Fa.Oa)throw new ct(63);return C.Fa.Oa(C)}function gs(C){return Vr(C,!0)}function Eo(C,R){if(C=typeof C=="string"?Wn(C,{Ra:!0}).node:C,!C.Fa.Na)throw new ct(63);C.Fa.Na(C,{mode:R&4095|C.mode&-4096,timestamp:Date.now()})}function ka(C,R){if(0>R)throw new ct(28);if(C=typeof C=="string"?Wn(C,{Ra:!0}).node:C,!C.Fa.Na)throw new ct(63);if(wi(C.mode))throw new ct(31);if((C.mode&61440)!==32768)throw new ct(28);var H=_r(C,"w");if(H)throw new ct(H);C.Fa.Na(C,{size:R,timestamp:Date.now()})}function Rr(C,R,H){if(C==="")throw new ct(44);if(typeof R=="string"){var $={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[R];if(typeof $>"u")throw Error(`Unknown file open mode: ${R}`);R=$}if(H=R&64?(typeof H>"u"?438:H)&4095|32768:0,typeof C=="object")var fe=C;else{C=Ne(C);try{fe=Wn(C,{Ra:!(R&131072)}).node}catch{}}if($=!1,R&64)if(fe){if(R&128)throw new ct(20)}else fe=fs(C,H,0),$=!0;if(!fe)throw new ct(44);if((fe.mode&61440)===8192&&(R&=-513),R&65536&&!wi(fe.mode))throw new ct(54);if(!$&&(H=fe?(fe.mode&61440)===40960?32:wi(fe.mode)&&(ps(R)!=="r"||R&512)?31:_r(fe,ps(R)):44))throw new ct(H);return R&512&&!$&&ka(fe,0),R&=-131713,fe=Sa({node:fe,path:xo(fe),flags:R,seekable:!0,position:0,Ga:fe.Ga,Db:[],error:!1}),fe.Ga.open&&fe.Ga.open(fe),!f.logReadFiles||R&1||(Ur||(Ur={}),C in Ur||(Ur[C]=1)),fe}function vs(C){if(C.fd===null)throw new ct(8);C.gb&&(C.gb=null);try{C.Ga.close&&C.Ga.close(C)}catch(R){throw R}finally{oi[C.fd]=null}C.fd=null}function Pa(C,R,H){if(C.fd===null)throw new ct(8);if(!C.seekable||!C.Ga.Sa)throw new ct(70);if(H!=0&&H!=1&&H!=2)throw new ct(28);C.position=C.Ga.Sa(C,R,H),C.Db=[]}function ac(C,R,H,$,fe){if(0>$||0>fe)throw new ct(28);if(C.fd===null)throw new ct(8);if((C.flags&2097155)===1)throw new ct(8);if(wi(C.node.mode))throw new ct(31);if(!C.Ga.read)throw new ct(28);var Oe=typeof fe<"u";if(!Oe)fe=C.position;else if(!C.seekable)throw new ct(70);return R=C.Ga.read(C,R,H,$,fe),Oe||(C.position+=R),R}function Fe(C,R,H,$,fe){if(0>$||0>fe)throw new ct(28);if(C.fd===null)throw new ct(8);if(!(C.flags&2097155))throw new ct(8);if(wi(C.node.mode))throw new ct(31);if(!C.Ga.write)throw new ct(28);C.seekable&&C.flags&1024&&Pa(C,0,2);var Oe=typeof fe<"u";if(!Oe)fe=C.position;else if(!C.seekable)throw new ct(70);return R=C.Ga.write(C,R,H,$,fe,void 0),Oe||(C.position+=R),R}function _a(C){var R,H=Rr(C,H||0);C=Vr(C).size;var $=new Uint8Array(C);return ac(H,$,0,C,0),R=$,vs(H),R}var or;function To(C,R,H){C=Ne("/dev/"+C);var $=lt(!!R,!!H);Co||(Co=64);var fe=Co++<<8|0;Ea(fe,{open(Oe){Oe.seekable=!1},close(){var Oe;(Oe=H?.buffer)!=null&&Oe.length&&H(10)},read(Oe,Ve,Wt,an){for(var Kt=0,Vn=0;Vn<an;Vn++){try{var Kn=R()}catch{throw new ct(29)}if(Kn===void 0&&Kt===0)throw new ct(6);if(Kn==null)break;Kt++,Ve[Wt+Vn]=Kn}return Kt&&(Oe.node.timestamp=Date.now()),Kt},write(Oe,Ve,Wt,an){for(var Kt=0;Kt<an;Kt++)try{H(Ve[Wt+Kt])}catch{throw new ct(29)}return an&&(Oe.node.timestamp=Date.now()),Kt}}),So(C,$,fe)}var Co,Sn={},Ur;function Xi(C,R,H){if(R.charAt(0)==="/")return R;if(C=C===-100?"/":si(C).path,R.length==0){if(!H)throw new ct(44);return C}return Ne(C+"/"+R)}function Or(C,R,H){C=C(R),pe[H>>2]=C.dev,pe[H+4>>2]=C.mode,be[H+8>>2]=C.nlink,pe[H+12>>2]=C.uid,pe[H+16>>2]=C.gid,pe[H+20>>2]=C.rdev,xt=[C.size>>>0,(Ye=C.size,1<=+Math.abs(Ye)?0<Ye?+Math.floor(Ye/4294967296)>>>0:~~+Math.ceil((Ye-+(~~Ye>>>0))/4294967296)>>>0:0)],pe[H+24>>2]=xt[0],pe[H+28>>2]=xt[1],pe[H+32>>2]=4096,pe[H+36>>2]=C.blocks,R=C.atime.getTime();var $=C.mtime.getTime(),fe=C.ctime.getTime();return xt=[Math.floor(R/1e3)>>>0,(Ye=Math.floor(R/1e3),1<=+Math.abs(Ye)?0<Ye?+Math.floor(Ye/4294967296)>>>0:~~+Math.ceil((Ye-+(~~Ye>>>0))/4294967296)>>>0:0)],pe[H+40>>2]=xt[0],pe[H+44>>2]=xt[1],be[H+48>>2]=R%1e3*1e3,xt=[Math.floor($/1e3)>>>0,(Ye=Math.floor($/1e3),1<=+Math.abs(Ye)?0<Ye?+Math.floor(Ye/4294967296)>>>0:~~+Math.ceil((Ye-+(~~Ye>>>0))/4294967296)>>>0:0)],pe[H+56>>2]=xt[0],pe[H+60>>2]=xt[1],be[H+64>>2]=$%1e3*1e3,xt=[Math.floor(fe/1e3)>>>0,(Ye=Math.floor(fe/1e3),1<=+Math.abs(Ye)?0<Ye?+Math.floor(Ye/4294967296)>>>0:~~+Math.ceil((Ye-+(~~Ye>>>0))/4294967296)>>>0:0)],pe[H+72>>2]=xt[0],pe[H+76>>2]=xt[1],be[H+80>>2]=fe%1e3*1e3,xt=[C.ino>>>0,(Ye=C.ino,1<=+Math.abs(Ye)?0<Ye?+Math.floor(Ye/4294967296)>>>0:~~+Math.ceil((Ye-+(~~Ye>>>0))/4294967296)>>>0:0)],pe[H+88>>2]=xt[0],pe[H+92>>2]=xt[1],0}var ko=void 0;function sr(){var C=pe[+ko>>2];return ko+=4,C}var ar=(C,R)=>R+2097152>>>0<4194305-!!C?(C>>>0)+4294967296*R:NaN,Fd=[0,31,60,91,121,152,182,213,244,274,305,335],jd=[0,31,59,90,120,151,181,212,243,273,304,334],Ra={},Oa=()=>{if(!ys){var C={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:k||"./this.program"},R;for(R in Ra)Ra[R]===void 0?delete C[R]:C[R]=Ra[R];var H=[];for(R in C)H.push(`${R}=${C[R]}`);ys=H}return ys},ys,Da=C=>{var R=me(C)+1,H=lr(R);return Ie(C,ie,H,R),H},lc=(C,R,H,$)=>{var fe={string:Kt=>{var Vn=0;return Kt!=null&&Kt!==0&&(Vn=Da(Kt)),Vn},array:Kt=>{var Vn=lr(Kt.length);return de.set(Kt,Vn),Vn}};C=f["_"+C];var Oe=[],Ve=0;if($)for(var Wt=0;Wt<$.length;Wt++){var an=fe[H[Wt]];an?(Ve===0&&(Ve=_o()),Oe[Wt]=an($[Wt])):Oe[Wt]=$[Wt]}return H=C(...Oe),H=function(Kt){return Ve!==0&&Gr(Ve),R==="string"?Kt?I(ie,Kt):"":R==="boolean"?!!Kt:Kt}(H)},Po=0,bs=(C,R)=>(R=R==1?lr(C.length):Aa(C.length),C.subarray||C.slice||(C=new Uint8Array(C)),ie.set(C,R),R),Dr,Dn=[],Gn,Wr=C=>{Dr.delete(Gn.get(C)),Gn.set(C,null),Dn.push(C)},ws=(C,R)=>{if(!Dr){Dr=new WeakMap;var H=Gn.length;if(Dr)for(var $=0;$<0+H;$++){var fe=Gn.get($);fe&&Dr.set(fe,$)}}if(H=Dr.get(C)||0)return H;if(Dn.length)H=Dn.pop();else{try{Gn.grow(1)}catch(Wt){throw Wt instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Wt}H=Gn.length-1}try{Gn.set(H,C)}catch(Wt){if(!(Wt instanceof TypeError))throw Wt;if(typeof WebAssembly.Function=="function"){$=WebAssembly.Function,fe={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"};for(var Oe={parameters:[],results:R[0]=="v"?[]:[fe[R[0]]]},Ve=1;Ve<R.length;++Ve)Oe.parameters.push(fe[R[Ve]]);R=new $(Oe,C)}else{for($=[1],fe=R.slice(0,1),R=R.slice(1),Oe={i:127,p:127,j:126,f:125,d:124,e:111},$.push(96),Ve=R.length,128>Ve?$.push(Ve):$.push(Ve%128|128,Ve>>7),Ve=0;Ve<R.length;++Ve)$.push(Oe[R[Ve]]);fe=="v"?$.push(0):$.push(1,Oe[fe]),R=[0,97,115,109,1,0,0,0,1],fe=$.length,128>fe?R.push(fe):R.push(fe%128|128,fe>>7),R.push(...$),R.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),R=new WebAssembly.Module(new Uint8Array(R)),R=new WebAssembly.Instance(R,{e:{f:C}}).exports.f}Gn.set(H,R)}return Dr.set(C,H),H};[44].forEach(C=>{ds[C]=new ct(C),ds[C].stack="<generic error, no stack>"}),zi=Array(4096),oc(He,"/"),Li("/tmp"),Li("/home"),Li("/home/web_user"),function(){Li("/dev"),Ea(259,{read:()=>0,write:($,fe,Oe,Ve)=>Ve}),So("/dev/null",259),W(1280,Te),W(1536,Ue),So("/dev/tty",1280),So("/dev/tty1",1536);var C=new Uint8Array(1024),R=0,H=()=>(R===0&&(R=Et(C).byteLength),C[--R]);To("random",H),To("urandom",H),Li("/dev/shm"),Li("/dev/shm/tmp")}(),function(){Li("/proc");var C=Li("/proc/self");Li("/proc/self/fd"),oc({Qa(){var R=ec(C,"fd",16895,73);return R.Fa={lookup(H,$){var fe=si(+$);return H={parent:null,Qa:{sb:"fake"},Fa:{readlink:()=>fe.path}},H.parent=H}},R}},"/proc/self/fd")}();var Nd={a:(C,R,H,$)=>{ee(`Assertion failed: ${C?I(ie,C):""}, at: `+[R?R?I(ie,R):"":"unknown filename",H,$?$?I(ie,$):"":"unknown function"])},h:function(C,R){try{return C=C?I(ie,C):"",Eo(C,R),0}catch(H){if(typeof Sn>"u"||H.name!=="ErrnoError")throw H;return-H.Ja}},H:function(C,R,H){try{if(R=R?I(ie,R):"",R=Xi(C,R),H&-8)return-28;var $=Wn(R,{Ra:!0}).node;return $?(C="",H&4&&(C+="r"),H&2&&(C+="w"),H&1&&(C+="x"),C&&_r($,C)?-2:0):-44}catch(fe){if(typeof Sn>"u"||fe.name!=="ErrnoError")throw fe;return-fe.Ja}},i:function(C,R){try{var H=si(C);return Eo(H.node,R),0}catch($){if(typeof Sn>"u"||$.name!=="ErrnoError")throw $;return-$.Ja}},g:function(C){try{var R=si(C).node,H=typeof R=="string"?Wn(R,{Ra:!0}).node:R;if(!H.Fa.Na)throw new ct(63);return H.Fa.Na(H,{timestamp:Date.now()}),0}catch($){if(typeof Sn>"u"||$.name!=="ErrnoError")throw $;return-$.Ja}},b:function(C,R,H){ko=H;try{var $=si(C);switch(R){case 0:var fe=sr();if(0>fe)break;for(;oi[fe];)fe++;return ic($,fe).fd;case 1:case 2:return 0;case 3:return $.flags;case 4:return fe=sr(),$.flags|=fe,0;case 12:return fe=sr(),ge[fe+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(Oe){if(typeof Sn>"u"||Oe.name!=="ErrnoError")throw Oe;return-Oe.Ja}},f:function(C,R){try{var H=si(C);return Or(Vr,H.path,R)}catch($){if(typeof Sn>"u"||$.name!=="ErrnoError")throw $;return-$.Ja}},n:function(C,R,H){R=ar(R,H);try{if(isNaN(R))return 61;var $=si(C);if(!($.flags&2097155))throw new ct(28);return ka($.node,R),0}catch(fe){if(typeof Sn>"u"||fe.name!=="ErrnoError")throw fe;return-fe.Ja}},C:function(C,R){try{if(R===0)return-28;var H=me("/")+1;return R<H?-68:(Ie("/",ie,C,R),H)}catch($){if(typeof Sn>"u"||$.name!=="ErrnoError")throw $;return-$.Ja}},F:function(C,R){try{return C=C?I(ie,C):"",Or(gs,C,R)}catch(H){if(typeof Sn>"u"||H.name!=="ErrnoError")throw H;return-H.Ja}},z:function(C,R,H){try{return R=R?I(ie,R):"",R=Xi(C,R),R=Ne(R),R[R.length-1]==="/"&&(R=R.substr(0,R.length-1)),Li(R,H),0}catch($){if(typeof Sn>"u"||$.name!=="ErrnoError")throw $;return-$.Ja}},E:function(C,R,H,$){try{R=R?I(ie,R):"";var fe=$&256;return R=Xi(C,R,$&4096),Or(fe?gs:Vr,R,H)}catch(Oe){if(typeof Sn>"u"||Oe.name!=="ErrnoError")throw Oe;return-Oe.Ja}},x:function(C,R,H,$){ko=$;try{R=R?I(ie,R):"",R=Xi(C,R);var fe=$?sr():0;return Rr(R,H,fe).fd}catch(Oe){if(typeof Sn>"u"||Oe.name!=="ErrnoError")throw Oe;return-Oe.Ja}},v:function(C,R,H,$){try{if(R=R?I(ie,R):"",R=Xi(C,R),0>=$)return-28;var fe=sc(R),Oe=Math.min($,me(fe)),Ve=de[H+Oe];return Ie(fe,ie,H,$+1),de[H+Oe]=Ve,Oe}catch(Wt){if(typeof Sn>"u"||Wt.name!=="ErrnoError")throw Wt;return-Wt.Ja}},u:function(C){try{return C=C?I(ie,C):"",Ta(C),0}catch(R){if(typeof Sn>"u"||R.name!=="ErrnoError")throw R;return-R.Ja}},G:function(C,R){try{return C=C?I(ie,C):"",Or(Vr,C,R)}catch(H){if(typeof Sn>"u"||H.name!=="ErrnoError")throw H;return-H.Ja}},r:function(C,R,H){try{return R=R?I(ie,R):"",R=Xi(C,R),H===0?Ca(R):H===512?Ta(R):ee("Invalid flags passed to unlinkat"),0}catch($){if(typeof Sn>"u"||$.name!=="ErrnoError")throw $;return-$.Ja}},q:function(C,R,H){try{if(R=R?I(ie,R):"",R=Xi(C,R,!0),H){var $=be[H>>2]+4294967296*pe[H+4>>2],fe=pe[H+8>>2];Oe=1e3*$+fe/1e6,H+=16,$=be[H>>2]+4294967296*pe[H+4>>2],fe=pe[H+8>>2],Ve=1e3*$+fe/1e6}else var Oe=Date.now(),Ve=Oe;C=Oe;var Wt=Wn(R,{Ra:!0}).node;return Wt.Fa.Na(Wt,{timestamp:Math.max(C,Ve)}),0}catch(an){if(typeof Sn>"u"||an.name!=="ErrnoError")throw an;return-an.Ja}},l:function(C,R,H){C=new Date(1e3*ar(C,R)),pe[H>>2]=C.getSeconds(),pe[H+4>>2]=C.getMinutes(),pe[H+8>>2]=C.getHours(),pe[H+12>>2]=C.getDate(),pe[H+16>>2]=C.getMonth(),pe[H+20>>2]=C.getFullYear()-1900,pe[H+24>>2]=C.getDay(),R=C.getFullYear(),pe[H+28>>2]=(R%4!==0||R%100===0&&R%400!==0?jd:Fd)[C.getMonth()]+C.getDate()-1|0,pe[H+36>>2]=-(60*C.getTimezoneOffset()),R=new Date(C.getFullYear(),6,1).getTimezoneOffset();var $=new Date(C.getFullYear(),0,1).getTimezoneOffset();pe[H+32>>2]=(R!=$&&C.getTimezoneOffset()==Math.min($,R))|0},j:function(C,R,H,$,fe,Oe,Ve,Wt){fe=ar(fe,Oe);try{if(isNaN(fe))return 61;var an=si($);if(R&2&&!(H&2)&&(an.flags&2097155)!==2)throw new ct(2);if((an.flags&2097155)===1)throw new ct(2);if(!an.Ga.ab)throw new ct(43);var Kt=an.Ga.ab(an,C,fe,R,H),Vn=Kt.Cb;return pe[Ve>>2]=Kt.tb,be[Wt>>2]=Vn,0}catch(Kn){if(typeof Sn>"u"||Kn.name!=="ErrnoError")throw Kn;return-Kn.Ja}},k:function(C,R,H,$,fe,Oe,Ve){Oe=ar(Oe,Ve);try{var Wt=si(fe);if(H&2){if((Wt.node.mode&61440)!==32768)throw new ct(43);if(!($&2)){var an=ie.slice(C,C+R);Wt.Ga.bb&&Wt.Ga.bb(Wt,an,Oe,R,$)}}}catch(Kt){if(typeof Sn>"u"||Kt.name!=="ErrnoError")throw Kt;return-Kt.Ja}},y:(C,R,H,$)=>{var fe=new Date().getFullYear(),Oe=new Date(fe,0,1).getTimezoneOffset();fe=new Date(fe,6,1).getTimezoneOffset(),be[C>>2]=60*Math.max(Oe,fe),pe[R>>2]=+(Oe!=fe),R=Ve=>{var Wt=Math.abs(Ve);return`UTC${0<=Ve?"-":"+"}${String(Math.floor(Wt/60)).padStart(2,"0")}${String(Wt%60).padStart(2,"0")}`},C=R(Oe),R=R(fe),fe<Oe?(Ie(C,ie,H,17),Ie(R,ie,$,17)):(Ie(C,ie,$,17),Ie(R,ie,H,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:C=>{var R=ie.length;if(C>>>=0,2147483648<C)return!1;for(var H=1;4>=H;H*=2){var $=R*(1+.2/H);$=Math.min($,C+100663296);var fe=Math;$=Math.max(C,$);e:{fe=(fe.min.call(fe,2147483648,$+(65536-$%65536)%65536)-se.buffer.byteLength+65535)/65536;try{se.grow(fe),Se();var Oe=1;break e}catch{}Oe=void 0}if(Oe)return!0}return!1},A:(C,R)=>{var H=0;return Oa().forEach(($,fe)=>{var Oe=R+H;for(fe=be[C+4*fe>>2]=Oe,Oe=0;Oe<$.length;++Oe)de[fe++]=$.charCodeAt(Oe);de[fe]=0,H+=$.length+1}),0},B:(C,R)=>{var H=Oa();be[C>>2]=H.length;var $=0;return H.forEach(fe=>$+=fe.length+1),be[R>>2]=$,0},e:function(C){try{var R=si(C);return vs(R),0}catch(H){if(typeof Sn>"u"||H.name!=="ErrnoError")throw H;return H.Ja}},p:function(C,R){try{var H=si(C);return de[R]=H.tty?2:wi(H.mode)?3:(H.mode&61440)===40960?7:4,ge[R+2>>1]=0,xt=[0,(Ye=0,1<=+Math.abs(Ye)?0<Ye?+Math.floor(Ye/4294967296)>>>0:~~+Math.ceil((Ye-+(~~Ye>>>0))/4294967296)>>>0:0)],pe[R+8>>2]=xt[0],pe[R+12>>2]=xt[1],xt=[0,(Ye=0,1<=+Math.abs(Ye)?0<Ye?+Math.floor(Ye/4294967296)>>>0:~~+Math.ceil((Ye-+(~~Ye>>>0))/4294967296)>>>0:0)],pe[R+16>>2]=xt[0],pe[R+20>>2]=xt[1],0}catch($){if(typeof Sn>"u"||$.name!=="ErrnoError")throw $;return $.Ja}},w:function(C,R,H,$){try{e:{var fe=si(C);C=R;for(var Oe,Ve=R=0;Ve<H;Ve++){var Wt=be[C>>2],an=be[C+4>>2];C+=8;var Kt=ac(fe,de,Wt,an,Oe);if(0>Kt){var Vn=-1;break e}if(R+=Kt,Kt<an)break;typeof Oe<"u"&&(Oe+=Kt)}Vn=R}return be[$>>2]=Vn,0}catch(Kn){if(typeof Sn>"u"||Kn.name!=="ErrnoError")throw Kn;return Kn.Ja}},m:function(C,R,H,$,fe){R=ar(R,H);try{if(isNaN(R))return 61;var Oe=si(C);return Pa(Oe,R,$),xt=[Oe.position>>>0,(Ye=Oe.position,1<=+Math.abs(Ye)?0<Ye?+Math.floor(Ye/4294967296)>>>0:~~+Math.ceil((Ye-+(~~Ye>>>0))/4294967296)>>>0:0)],pe[fe>>2]=xt[0],pe[fe+4>>2]=xt[1],Oe.gb&&R===0&&$===0&&(Oe.gb=null),0}catch(Ve){if(typeof Sn>"u"||Ve.name!=="ErrnoError")throw Ve;return Ve.Ja}},D:function(C){var R;try{var H=si(C);return(R=H.Ga)!=null&&R.fsync?H.Ga.fsync(H):0}catch($){if(typeof Sn>"u"||$.name!=="ErrnoError")throw $;return $.Ja}},t:function(C,R,H,$){try{e:{var fe=si(C);C=R;for(var Oe,Ve=R=0;Ve<H;Ve++){var Wt=be[C>>2],an=be[C+4>>2];C+=8;var Kt=Fe(fe,de,Wt,an,Oe);if(0>Kt){var Vn=-1;break e}R+=Kt,typeof Oe<"u"&&(Oe+=Kt)}Vn=R}return be[$>>2]=Vn,0}catch(Kn){if(typeof Sn>"u"||Kn.name!=="ErrnoError")throw Kn;return Kn.Ja}}},_t=function(){var C;function R($){var fe;return _t=$.exports,se=_t.I,Se(),Gn=_t.K,Re.unshift(_t.J),ze--,(fe=f.monitorRunDependencies)==null||fe.call(f,ze),ze==0&&st&&($=st,st=null,$()),_t}var H={a:Nd};if(ze++,(C=f.monitorRunDependencies)==null||C.call(f,ze),f.instantiateWasm)try{return f.instantiateWasm(H,R)}catch($){return K(`Module.instantiateWasm callback failed with error: ${$}`),!1}return at||(at=Ct("sql-wasm.wasm")?"sql-wasm.wasm":f.locateFile?f.locateFile("sql-wasm.wasm",P):P+"sql-wasm.wasm"),rt(H,function($){R($.instance)}),{}}();f._sqlite3_free=C=>(f._sqlite3_free=_t.L)(C),f._sqlite3_value_text=C=>(f._sqlite3_value_text=_t.M)(C),f._sqlite3_prepare_v2=(C,R,H,$,fe)=>(f._sqlite3_prepare_v2=_t.N)(C,R,H,$,fe),f._sqlite3_step=C=>(f._sqlite3_step=_t.O)(C),f._sqlite3_reset=C=>(f._sqlite3_reset=_t.P)(C),f._sqlite3_exec=(C,R,H,$,fe)=>(f._sqlite3_exec=_t.Q)(C,R,H,$,fe),f._sqlite3_finalize=C=>(f._sqlite3_finalize=_t.R)(C),f._sqlite3_column_name=(C,R)=>(f._sqlite3_column_name=_t.S)(C,R),f._sqlite3_column_text=(C,R)=>(f._sqlite3_column_text=_t.T)(C,R),f._sqlite3_column_type=(C,R)=>(f._sqlite3_column_type=_t.U)(C,R),f._sqlite3_errmsg=C=>(f._sqlite3_errmsg=_t.V)(C),f._sqlite3_clear_bindings=C=>(f._sqlite3_clear_bindings=_t.W)(C),f._sqlite3_value_blob=C=>(f._sqlite3_value_blob=_t.X)(C),f._sqlite3_value_bytes=C=>(f._sqlite3_value_bytes=_t.Y)(C),f._sqlite3_value_double=C=>(f._sqlite3_value_double=_t.Z)(C),f._sqlite3_value_int=C=>(f._sqlite3_value_int=_t._)(C),f._sqlite3_value_type=C=>(f._sqlite3_value_type=_t.$)(C),f._sqlite3_result_blob=(C,R,H,$)=>(f._sqlite3_result_blob=_t.aa)(C,R,H,$),f._sqlite3_result_double=(C,R)=>(f._sqlite3_result_double=_t.ba)(C,R),f._sqlite3_result_error=(C,R,H)=>(f._sqlite3_result_error=_t.ca)(C,R,H),f._sqlite3_result_int=(C,R)=>(f._sqlite3_result_int=_t.da)(C,R),f._sqlite3_result_int64=(C,R,H)=>(f._sqlite3_result_int64=_t.ea)(C,R,H),f._sqlite3_result_null=C=>(f._sqlite3_result_null=_t.fa)(C),f._sqlite3_result_text=(C,R,H,$)=>(f._sqlite3_result_text=_t.ga)(C,R,H,$),f._sqlite3_aggregate_context=(C,R)=>(f._sqlite3_aggregate_context=_t.ha)(C,R),f._sqlite3_column_count=C=>(f._sqlite3_column_count=_t.ia)(C),f._sqlite3_data_count=C=>(f._sqlite3_data_count=_t.ja)(C),f._sqlite3_column_blob=(C,R)=>(f._sqlite3_column_blob=_t.ka)(C,R),f._sqlite3_column_bytes=(C,R)=>(f._sqlite3_column_bytes=_t.la)(C,R),f._sqlite3_column_double=(C,R)=>(f._sqlite3_column_double=_t.ma)(C,R),f._sqlite3_bind_blob=(C,R,H,$,fe)=>(f._sqlite3_bind_blob=_t.na)(C,R,H,$,fe),f._sqlite3_bind_double=(C,R,H)=>(f._sqlite3_bind_double=_t.oa)(C,R,H),f._sqlite3_bind_int=(C,R,H)=>(f._sqlite3_bind_int=_t.pa)(C,R,H),f._sqlite3_bind_text=(C,R,H,$,fe)=>(f._sqlite3_bind_text=_t.qa)(C,R,H,$,fe),f._sqlite3_bind_parameter_index=(C,R)=>(f._sqlite3_bind_parameter_index=_t.ra)(C,R),f._sqlite3_sql=C=>(f._sqlite3_sql=_t.sa)(C),f._sqlite3_normalized_sql=C=>(f._sqlite3_normalized_sql=_t.ta)(C),f._sqlite3_changes=C=>(f._sqlite3_changes=_t.ua)(C),f._sqlite3_close_v2=C=>(f._sqlite3_close_v2=_t.va)(C),f._sqlite3_create_function_v2=(C,R,H,$,fe,Oe,Ve,Wt,an)=>(f._sqlite3_create_function_v2=_t.wa)(C,R,H,$,fe,Oe,Ve,Wt,an),f._sqlite3_open=(C,R)=>(f._sqlite3_open=_t.xa)(C,R);var Aa=f._malloc=C=>(Aa=f._malloc=_t.ya)(C),Yi=f._free=C=>(Yi=f._free=_t.za)(C);f._RegisterExtensionFunctions=C=>(f._RegisterExtensionFunctions=_t.Aa)(C);var xs=(C,R)=>(xs=_t.Ba)(C,R),Gr=C=>(Gr=_t.Ca)(C),lr=C=>(lr=_t.Da)(C),_o=()=>(_o=_t.Ea)();f.stackSave=()=>_o(),f.stackRestore=C=>Gr(C),f.stackAlloc=C=>lr(C),f.cwrap=(C,R,H,$)=>{var fe=!H||H.every(Oe=>Oe==="number"||Oe==="boolean");return R!=="string"&&fe&&!$?f["_"+C]:(...Oe)=>lc(C,R,H,Oe)},f.addFunction=ws,f.removeFunction=Wr,f.UTF8ToString=Q,f.ALLOC_NORMAL=Po,f.allocate=bs,f.allocateUTF8OnStack=Da;var Ss;st=function C(){Ss||cc(),Ss||(st=C)};function cc(){function C(){var R;if(!Ss&&(Ss=!0,f.calledRun=!0,!ce)){if(f.noFSInit||or||(or=!0,f.stdin=f.stdin,f.stdout=f.stdout,f.stderr=f.stderr,f.stdin?To("stdin",f.stdin):ms("/dev/tty","/dev/stdin"),f.stdout?To("stdout",null,f.stdout):ms("/dev/tty","/dev/stdout"),f.stderr?To("stderr",null,f.stderr):ms("/dev/tty1","/dev/stderr"),Rr("/dev/stdin",0),Rr("/dev/stdout",1),Rr("/dev/stderr",1)),kr=!1,Ht(Re),(R=f.onRuntimeInitialized)==null||R.call(f),f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;){var H=f.postRun.shift();_e.unshift(H)}Ht(_e)}}if(!(0<ze)){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)J();Ht(ve),0<ze||(f.setStatus?(f.setStatus("Running..."),setTimeout(function(){setTimeout(function(){f.setStatus("")},1),C()},1)):C())}}if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);0<f.preInit.length;)f.preInit.pop()();return cc(),d}),t)};e.exports=i,e.exports.default=i})(FP);var f$=FP.exports;const jP=Er(f$),m$="1.12.0",NP={version:m$};function g$(e){return ri({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"}}]})(e)}function HP(){return L.jsxs("div",{className:"loading",children:[L.jsx(g$,{}),L.jsx("span",{children:"Loading"})]})}function tr(e){const n=[];for(;e.step();)n.push(e.getAsObject());return n}const $l=M.createContext({categories:[],tags:[]});function Qu(e){return L.jsxs("button",{className:e.isActive?"active pill":"pill",onClick:e.onClick,type:"button",children:[e.children,e.label]})}const tE=20;function v$(e){const n=M.useMemo(()=>{const t=[];return e.phrases.forEach(i=>{i.layer===e.layer&&(t.includes(i.name)||(i.name.length>tE?t.push(`${i.name.slice(0,tE)}...`):t.push(i.name)))}),t.join("; ")},[e.layer,e.phrases]);return L.jsx("p",{children:n})}function y$(e){const n=M.useContext($l),[t,i]=M.useState(Object.keys(n.layers)[0]),r=M.useMemo(()=>Object.keys(e.tagCounts).filter(l=>e.tagCounts[l].phrases.some(h=>h.layer===t)),[t,e.tagCounts]);return L.jsxs("div",{className:"phrase-list-table-container",style:{display:e.visible?"initial":"none"},children:[L.jsxs("div",{className:"layer-select-container",children:[L.jsx("span",{children:"Layer"}),L.jsx("select",{className:"layer-select",onChange:l=>i(l.target.value),children:Object.keys(n.layers).map(l=>L.jsx("option",{value:l,children:n.layers[l]},l))})]}),L.jsxs("table",{className:"phrase-list-table",children:[L.jsx("thead",{children:L.jsxs("tr",{children:[L.jsx("th",{children:"Tags for phrases"}),L.jsx("th",{children:L.jsx("span",{children:"References in this layer"})})]})}),L.jsxs("tbody",{children:[r.length===0&&L.jsx("tr",{children:L.jsx("td",{colSpan:2,children:L.jsx("div",{className:"empty-table-container",children:"No tags in this layer."})})}),r.map(l=>L.jsxs("tr",{children:[L.jsx("td",{children:L.jsx(Qu,{label:l,isActive:n.tags.includes(e.tagCounts[l].id),children:L.jsx("span",{className:"tag-count",children:e.tagCounts[l].count})})}),L.jsx("td",{children:L.jsx(v$,{layer:t,phrases:e.tagCounts[l].phrases})})]},l))]})]})]})}function b$(e){return e.element_name?`${e.element_name} - ${e.surface_name}`:e.surface_name}function nE(e,n){return e.map(t=>n.find(i=>i.xml_id===t)).filter(Boolean)}function w$(e,n,t,i){return`${e}#/ec/${n.surface_xml_id}/f/${n.surface_xml_id}/${n.layer_xml_id}?tags=${[...t,...i].join(",")}`}function x$(e){return L.jsx("button",{"aria-label":"Toggle phrases",className:"phrase-toggle",onClick:e.onClick,type:"button",children:e.toggled?L.jsx(EK,{}):L.jsx(SK,{})})}function S$(e){const[n,t]=M.useState(!1),i=M.useContext($l),r=M.useMemo(()=>nE(e.div.tagging_ids,e.tags),[e.div.tagging_ids,e.tags]),l=M.useMemo(()=>{const h={};return e.childElements.forEach(d=>{nE(d.tagging_ids,e.tags).forEach(p=>{h[p.name]?(h[p.name].count++,h[p.name].phrases.push({name:d.element_name,layer:d.layer_xml_id})):h[p.name]={id:p.xml_id,count:1,phrases:[{name:d.element_name,layer:d.layer_xml_id}]}})}),h},[e.childElements,e.tags]);return L.jsxs("div",{className:"record-box",children:[L.jsx("p",{children:L.jsx("a",{href:w$(e.viewerUrl,e.div,i.categories,i.tags),target:"_blank",rel:"noopener noreferrer",children:b$(e.div)})}),L.jsx("div",{className:"category-list",children:r.map(h=>L.jsx(Qu,{label:h.name,isActive:i.categories.includes(h.xml_id)},h.id))}),L.jsxs("div",{className:"tag-list",children:[L.jsx("span",{className:"tag-list-label",children:"Tags"}),Object.keys(l).map(h=>L.jsx(Qu,{label:h,isActive:i.tags.includes(l[h].id),children:L.jsx("span",{className:"tag-count",children:l[h].count})},h)),L.jsx(x$,{toggled:n,onClick:()=>t(!n)})]}),L.jsx(y$,{tagCounts:l,elements:e.childElements,visible:n})]})}function E$(e){return{...e,tagging_ids:e.tagging_ids.split(",")}}function T$(e){const n=e.prepare(`
  SELECT
    elements.id AS id,
    elements.name AS element_name,
    elements.type AS element_type,
    elements.parent_id AS parent_id,
    surfaces.name AS surface_name,
    surfaces.xml_id AS surface_xml_id,
    layers.xml_id AS layer_xml_id,
    GROUP_CONCAT(tags.xml_id) as tagging_ids
  FROM
    taggings
  INNER JOIN elements
    ON elements.id = taggings.element_id
  INNER JOIN tags
    ON tags.id = taggings.tag_id
  INNER JOIN surfaces
    ON surfaces.id = elements.surface_id
  INNER JOIN layers
    ON layers.id = elements.layer_id
  GROUP BY elements.id`),t=e.prepare("SELECT * from tags");return{elements:tr(n).map(E$),tags:tr(t)}}function C$(e,n){const t=e.categories.length===0||n.element.tagging_ids.some(r=>e.categories.includes(r)),i=e.tags.length===0||n.childTags.some(r=>e.tags.includes(r));return t&&i}function k$(e){const n=M.useContext($l),{elements:t,tags:i}=M.useMemo(()=>T$(e.db),[e.db]),r=M.useMemo(()=>{const l=[];for(const h of t){if(h.element_type!=="div")continue;const d=t.filter(f=>f.parent_id===h.id),p=d.flatMap(f=>f.tagging_ids);l.push({element:h,children:d,childTags:p})}return l},[t]);return L.jsxs("div",{className:"record-list-view",children:[L.jsxs("h1",{className:"entries-header",children:[e.recordLabel||"Records"," ","(",r.length,")"]}),r.map(l=>C$(n,l)?L.jsx(S$,{childElements:t.filter(h=>h.parent_id===l.element.id),div:l.element,tags:i,viewerUrl:e.viewerUrl},l.element.id):null)]})}function iE(e){const[n,t]=M.useState(!0);return L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"collapsible-menu",children:L.jsxs("button",{className:"collapsible-menu-toggle",onClick:()=>t(!n),type:"button",children:[L.jsx("p",{className:"collapsible-menu-title",children:e.title}),n?L.jsx(vK,{}):L.jsx(gK,{})]})}),n&&e.children]})}function P$(e){const{categories:n,toggleCategoryFilter:t,tags:i,toggleTagFilter:r}=M.useContext($l),l=e.type==="categories"?t:r,h=M.useMemo(()=>e.type==="categories"?n.includes(e.tag.xml_id):i.includes(e.tag.xml_id),[e.type,e.tag.xml_id,n,i]);return L.jsx(Qu,{isActive:h,onClick:()=>l(e.tag.xml_id),label:e.tag.name,children:h&&L.jsx(xK,{})})}function rE(e){return L.jsx("div",{className:"sidebar-tag-list",children:e.tags.map(n=>L.jsx(P$,{type:e.type,tag:n},n.id))})}function _$(e){const n=e.prepare(`
    SELECT
      tags.id AS id,
      tags.name AS name,
      tags.xml_id AS xml_id
    FROM
      tags
    INNER JOIN taggings
      ON taggings.tag_id = tags.id
    INNER JOIN elements
      ON elements.id = taggings.element_id
    WHERE
      elements.type = 'seg'
    GROUP BY
      tags.xml_id`),t=tr(n),i=e.prepare(`
    SELECT
      tags.id AS id,
      tags.name AS name,
      tags.xml_id AS xml_id
    FROM
      tags
    INNER JOIN taggings
      ON taggings.tag_id = tags.id
    INNER JOIN elements
      ON elements.id = taggings.element_id
    WHERE
      elements.type = 'div'
    GROUP BY
      tags.xml_id`),r=tr(i),l=e.prepare("SELECT * FROM taggings"),h=tr(l);return{tags:t.map(d=>{if(d.parent_id){const p=t.find(f=>f.id===d.parent_id);return{...d,name:`${p.name} - ${d.name}`}}return d}),categories:r,taggings:h}}function R$(e){const n=M.useMemo(()=>_$(e.db),[e.db]);return L.jsxs("div",{className:"ec-sidebar",children:[L.jsx("h2",{children:"Filters"}),L.jsx("div",{className:"h-separator"}),L.jsx(iE,{title:"Categories",children:L.jsx(rE,{tags:n.categories,type:"categories"})}),L.jsx("div",{className:"h-separator"}),L.jsx(iE,{title:"Tags",children:L.jsx(rE,{tags:n.tags,type:"tags"})})]})}const O$={categories:[],tags:[]};async function D$(e){const n=await fetch(e);if(!n.ok)throw new Error("Failed fetching SQLite file.");const t=await n.arrayBuffer(),i=new Uint8Array(t),r=await jP({locateFile:l=>`https://cdnjs.cloudflare.com/ajax/libs/sql.js/${NP.version}/${l}`});return new r.Database(i)}function mQ(e){const[n,t]=M.useState(null),[i,r]=M.useState(O$),l=M.useCallback(p=>r({...i,categories:i.categories.includes(p)?i.categories.filter(f=>f!==p):[...i.categories,p]}),[i]),h=M.useCallback(p=>r({...i,tags:i.tags.includes(p)?i.tags.filter(f=>f!==p):[...i.tags,p]}),[i]),d=M.useMemo(()=>({...i,toggleCategoryFilter:l,toggleTagFilter:h,layers:e.layers}),[i,l,h,e.layers]);return M.useEffect(()=>(n||(async()=>{const p=await D$(e.dbUrl);t(p)})(),()=>{n&&n.close()}),[e.dbUrl,n]),n?L.jsx($l.Provider,{value:d,children:L.jsxs("div",{className:"editioncrafter-record-list",children:[L.jsx(R$,{db:n}),L.jsx(k$,{db:n,recordLabel:e.recordLabel,viewerUrl:e.viewerUrl})]})}):L.jsx(HP,{})}function A$(e){const{helpRef:n,toggleDrawer:t,toggleHelp:i}=e;return L.jsx(jl,{className:"narrow-sidebar",children:L.jsxs(kg,{children:[L.jsx(oo,{onClick:t,button:!0,children:L.jsx(aS,{children:L.jsx(mP,{})})}),L.jsx(oo,{onClick:i,ref:n,button:!0,children:L.jsx(aS,{children:L.jsx(Nm,{})})})]})})}var av={},BP={exports:{}};(function(e){function n(t){return t&&t.__esModule?t:{default:t}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(BP);var lv=BP.exports,VP={exports:{}},UP={exports:{}};(function(e){function n(t){"@babel/helpers - typeof";return e.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(UP);var I$=UP.exports;(function(e){var n=I$.default;function t(r){if(typeof WeakMap!="function")return null;var l=new WeakMap,h=new WeakMap;return(t=function(d){return d?h:l})(r)}function i(r,l){if(!l&&r&&r.__esModule)return r;if(r===null||n(r)!=="object"&&typeof r!="function")return{default:r};var h=t(l);if(h&&h.has(r))return h.get(r);var d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in r)if(f!=="default"&&Object.prototype.hasOwnProperty.call(r,f)){var g=p?Object.getOwnPropertyDescriptor(r,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=r[f]}return d.default=r,h&&h.set(r,d),d}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports})(VP);var cv=VP.exports,oE={};const M$=Um(sH);var sE;function uv(){return sE||(sE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=M$}(oE)),oE}var z$=lv,L$=cv;Object.defineProperty(av,"__esModule",{value:!0});var WP=av.default=void 0,F$=L$(vt),j$=z$(uv()),N$=(0,j$.default)(F$.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");WP=av.default=N$;var dv={},H$=lv,B$=cv;Object.defineProperty(dv,"__esModule",{value:!0});var GP=dv.default=void 0,V$=B$(vt),U$=H$(uv()),W$=(0,U$.default)(V$.createElement("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}),"Tune");GP=dv.default=W$;var hv={},G$=lv,q$=cv;Object.defineProperty(hv,"__esModule",{value:!0});var pv=hv.default=void 0,X$=q$(vt),Y$=G$(uv()),K$=(0,Y$.default)(X$.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");pv=hv.default=K$;function Z$(){return L.jsx("svg",{width:"28",height:"21",viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsxs("g",{children:[L.jsx("path",{id:"Vector",d:"M1.26984 0H6.34921C6.68599 0 7.00898 0.158035 7.24712 0.43934C7.48526 0.720644 7.61905 1.10218 7.61905 1.5V10.5C7.61905 10.8978 7.48526 11.2794 7.24712 11.5607C7.00898 11.842 6.68599 12 6.34921 12H1.26984C0.933058 12 0.610069 11.842 0.371928 11.5607C0.133786 11.2794 0 10.8978 0 10.5V1.5C0 1.10218 0.133786 0.720644 0.371928 0.43934C0.610069 0.158035 0.933058 0 1.26984 0ZM1.26984 0.75C1.10145 0.75 0.939955 0.829018 0.820885 0.96967C0.701814 1.11032 0.634921 1.30109 0.634921 1.5V10.5C0.634921 10.6989 0.701814 10.8897 0.820885 11.0303C0.939955 11.171 1.10145 11.25 1.26984 11.25H6.34921C6.5176 11.25 6.67909 11.171 6.79816 11.0303C6.91723 10.8897 6.98413 10.6989 6.98413 10.5V1.5C6.98413 1.30109 6.91723 1.11032 6.79816 0.96967C6.67909 0.829018 6.5176 0.75 6.34921 0.75H1.26984Z",fill:"white"}),L.jsx("path",{id:"Vector_2",opacity:"0.4",d:"M9.6507 0H14.7301C15.0668 0 15.3898 0.158035 15.628 0.43934C15.8661 0.720644 15.9999 1.10218 15.9999 1.5V10.5C15.9999 10.8978 15.8661 11.2794 15.628 11.5607C15.3898 11.842 15.0668 12 14.7301 12H9.6507C9.31392 12 8.99093 11.842 8.75279 11.5607C8.51465 11.2794 8.38086 10.8978 8.38086 10.5V1.5C8.38086 1.10218 8.51465 0.720644 8.75279 0.43934C8.99093 0.158035 9.31392 0 9.6507 0ZM9.6507 0.75C9.48231 0.75 9.32081 0.829018 9.20174 0.96967C9.08267 1.11032 9.01578 1.30109 9.01578 1.5V10.5C9.01578 10.6989 9.08267 10.8897 9.20174 11.0303C9.32081 11.171 9.48231 11.25 9.6507 11.25H14.7301C14.8985 11.25 15.06 11.171 15.179 11.0303C15.2981 10.8897 15.365 10.6989 15.365 10.5V1.5C15.365 1.30109 15.2981 1.11032 15.179 0.96967C15.06 0.829018 14.8985 0.75 14.7301 0.75H9.6507Z",fill:"white"}),L.jsx("path",{id:"Vector_3",d:"M5.82826 6.11765C5.82826 6.16445 5.81101 6.20934 5.7803 6.24243C5.74959 6.27553 5.70794 6.29412 5.66451 6.29412H4.02709V8.05882C4.02709 8.10563 4.00984 8.15051 3.97913 8.18361C3.94842 8.2167 3.90677 8.23529 3.86335 8.23529C3.81992 8.23529 3.77827 8.2167 3.74756 8.18361C3.71686 8.15051 3.6996 8.10563 3.6996 8.05882V6.29412H2.06218C2.01875 6.29412 1.9771 6.27553 1.9464 6.24243C1.91569 6.20934 1.89844 6.16445 1.89844 6.11765C1.89844 6.07084 1.91569 6.02596 1.9464 5.99286C1.9771 5.95977 2.01875 5.94118 2.06218 5.94118H3.6996V4.17647C3.6996 4.12967 3.71686 4.08478 3.74756 4.05169C3.77827 4.01859 3.81992 4 3.86335 4C3.90677 4 3.94842 4.01859 3.97913 4.05169C4.00984 4.08478 4.02709 4.12967 4.02709 4.17647V5.94118H5.66451C5.70794 5.94118 5.74959 5.95977 5.7803 5.99286C5.81101 6.02596 5.82826 6.07084 5.82826 6.11765Z",fill:"white"})]})})}function J$(){return L.jsx("svg",{width:"28",height:"21",viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsxs("g",{children:[L.jsx("path",{opacity:"0.4",d:"M1.27 0H6.35C6.68682 0 7.00985 0.158035 7.24802 0.43934C7.4862 0.720644 7.62 1.10218 7.62 1.5V10.5C7.62 10.8978 7.4862 11.2794 7.24802 11.5607C7.00985 11.842 6.68682 12 6.35 12H1.27C0.933175 12 0.610146 11.842 0.371974 11.5607C0.133803 11.2794 0 10.8978 0 10.5V1.5C0 1.10218 0.133803 0.720644 0.371974 0.43934C0.610146 0.158035 0.933175 0 1.27 0ZM1.27 0.75C1.10159 0.75 0.940073 0.829018 0.820987 0.96967C0.701902 1.11032 0.635 1.30109 0.635 1.5V10.5C0.635 10.6989 0.701902 10.8897 0.820987 11.0303C0.940073 11.171 1.10159 11.25 1.27 11.25H6.35C6.51841 11.25 6.67993 11.171 6.79901 11.0303C6.9181 10.8897 6.985 10.6989 6.985 10.5V1.5C6.985 1.30109 6.9181 1.11032 6.79901 0.96967C6.67993 0.829018 6.51841 0.75 6.35 0.75H1.27Z",fill:"white"}),L.jsx("path",{d:"M9.64988 0H14.7299C15.0667 0 15.3897 0.158035 15.6279 0.43934C15.8661 0.720644 15.9999 1.10218 15.9999 1.5V10.5C15.9999 10.8978 15.8661 11.2794 15.6279 11.5607C15.3897 11.842 15.0667 12 14.7299 12H9.64988C9.31306 12 8.99003 11.842 8.75186 11.5607C8.51369 11.2794 8.37988 10.8978 8.37988 10.5V1.5C8.37988 1.10218 8.51369 0.720644 8.75186 0.43934C8.99003 0.158035 9.31306 0 9.64988 0ZM9.64988 0.75C9.48147 0.75 9.31996 0.829018 9.20087 0.96967C9.08178 1.11032 9.01488 1.30109 9.01488 1.5V10.5C9.01488 10.6989 9.08178 10.8897 9.20087 11.0303C9.31996 11.171 9.48147 11.25 9.64988 11.25H14.7299C14.8983 11.25 15.0598 11.171 15.1789 11.0303C15.298 10.8897 15.3649 10.6989 15.3649 10.5V1.5C15.3649 1.30109 15.298 1.11032 15.1789 0.96967C15.0598 0.829018 14.8983 0.75 14.7299 0.75H9.64988Z",fill:"white"}),L.jsx("path",{d:"M14.2096 6.10028C14.2096 6.1404 14.1924 6.17887 14.1616 6.20724C14.1309 6.23561 14.0893 6.25154 14.0458 6.25154H12.4082V7.76415C12.4082 7.80426 12.391 7.84274 12.3603 7.87111C12.3295 7.89947 12.2879 7.91541 12.2445 7.91541C12.201 7.91541 12.1594 7.89947 12.1287 7.87111C12.0979 7.84274 12.0807 7.80426 12.0807 7.76415V6.25154H10.4431C10.3996 6.25154 10.358 6.23561 10.3273 6.20724C10.2966 6.17887 10.2793 6.1404 10.2793 6.10028C10.2793 6.06017 10.2966 6.02169 10.3273 5.99332C10.358 5.96496 10.3996 5.94902 10.4431 5.94902H12.0807V4.43642C12.0807 4.3963 12.0979 4.35783 12.1287 4.32946C12.1594 4.30109 12.201 4.28516 12.2445 4.28516C12.2879 4.28516 12.3295 4.30109 12.3603 4.32946C12.391 4.35783 12.4082 4.3963 12.4082 4.43642V5.94902H14.0458C14.0893 5.94902 14.1309 5.96496 14.1616 5.99332C14.1924 6.02169 14.2096 6.06017 14.2096 6.10028Z",fill:"white"})]})})}const ia=100;function $$(e,n,t=[]){const i=e.prepare(`
      SELECT
        surfaces.id AS id,
        surfaces.name AS name,
        surfaces.xml_id AS xml_id,
        surfaces.width AS width,
        surfaces.height AS height,
        surfaces.image_type AS image_type,
        surfaces.image_url AS image_url,
        surfaces.position AS position,
        taggings.tag_id
      FROM
        surfaces
      LEFT JOIN
        elements
      ON
        surfaces.id = elements.surface_id
      LEFT JOIN
        taggings
      ON
        elements.id = taggings.element_id
      WHERE
        document_id=${n}${t.length?` AND taggings.tag_id IN (${t.join(",")})`:""} 
      ORDER BY
        surfaces.id, position
    `),r=tr(i);for(const l of r)l.thumbnail_url=Q$(l);return r}function Q$(e){const{image_url:n,width:t,height:i,image_type:r}=e,l=i!==0?t/i:0;let h=[];return l>1?h=[ia,Math.round(ia/l)]:h=[Math.round(ia*l),ia],r==="iiif"?`${n}/full/${h.join(",")}/0/default.jpg`:n}function eQ(e){const{surfaceID:n,name:t,imageURL:i,thumbnailURL:r,onClick:l,selection:h,info:d}=e,p=M.useMemo(()=>{var y,S;return h&&((y=h?.left)==null?void 0:y.localID)===d?.localID&&((S=h?.left)==null?void 0:S.surfaceID)===d?.surfaceID},[h,d]),f=M.useMemo(()=>{var y,S;return h&&((y=h?.right)==null?void 0:y.localID)===d?.localID&&((S=h?.right)==null?void 0:S.surfaceID)===d?.surfaceID},[h,d]),g=y=>{y.onerror=null;const S=`${i.slice(0,-9)}full/full/0/default.jpg`;y.src!==S&&(y.src=S)};return L.jsxs(uC,{className:"surface-thumbnail",children:[L.jsxs("figure",{className:"surface-thumbnail-figure",children:[p?L.jsx("a",{onDoubleClick:l.right,title:"Double click to insert right",children:L.jsx("div",{className:"surface-thumbnail-overlay-selected left",children:L.jsxs("div",{children:[L.jsx(FC,{}),L.jsx(kn,{children:"Left"})]})})}):f?L.jsx("a",{onDoubleClick:l.left,title:"Double click to insert left",children:L.jsx("div",{className:"surface-thumbnail-overlay-selected right",children:L.jsxs("div",{children:[L.jsx(jC,{}),L.jsx(kn,{children:"Right"})]})})}):L.jsx("div",{className:"surface-thumbnail-overlay",children:L.jsxs("div",{className:"surface-thumbnail-overlay-content",children:[L.jsx("a",{onClick:l.left,title:"Insert left",children:L.jsx(Z$,{})}),L.jsx("a",{onClick:l.right,title:"Insert right",children:L.jsx(J$,{})})]})}),L.jsx("div",{id:n,children:L.jsx("img",{src:r,alt:t,style:{maxWidth:`${ia}px`,maxHeight:`${ia}px`},onError:g})})]}),L.jsx("figcaption",{className:"surface-thumbnail-caption",children:t})]})}function tQ(e){const{surfaces:n,selection:t,navigateToSelection:i,documentLocalID:r}=e;return L.jsx(uC,{className:"thumbnail-grid",container:!0,children:n.map(l=>L.jsx(eQ,{surfaceID:l.id,name:l.name,imageURL:l.image_url,thumbnailURL:l.thumbnail_url,selection:t,info:{localID:r,surfaceID:l.xml_id},onClick:{left:h=>{h.preventDefault(),i({left:{localID:r,surfaceID:l.xml_id},right:t.right})},right:h=>{h.preventDefault(),i({left:t.left,right:{localID:r,surfaceID:l.xml_id}})}}},`doc-detail-thumb-${l.id}`))})}function nQ(e){const{db:n,documentName:t,documentID:i,documentLocalID:r,navigateToSelection:l,updatePageCount:h,selection:d,tags:p}=e,f=M.useMemo(()=>{const g=$$(n,i,p),y=[];for(const S of g)if(!y.find(T=>T.id===S.id)){const T=g.filter(k=>k.id===S.id).map(k=>k.tag_id);y.push({...S,tag_id:[...new Set(T)]})}return y.filter(S=>p.every(T=>S.tag_id.includes(T)))},[n,i,p]);return M.useEffect(()=>{h(f?.length)},[f,h,p]),!p.length||f.length?L.jsxs(eC,{children:[L.jsxs(nC,{expandIcon:L.jsx(pv,{}),"aria-controls":`document-detail-${i}-content`,id:`document-detail-${i}`,className:"accordion-summary",children:[L.jsx(kn,{children:t}),L.jsx(kn,{children:f?.length||""})]}),L.jsx(tC,{className:"accordion-detail",children:L.jsx(tQ,{navigateToSelection:l,documentLocalID:r,surfaces:f,selection:d})})]}):null}function iQ(e){const n=e.prepare(`
    SELECT
      *
    FROM
      taxonomies;
    ORDER BY
      name ASC;
  `),t=e.prepare(`
    SELECT
      *
    FROM 
      categories
    ORDER BY
      name ASC; 
  `),i=e.prepare(`
    SELECT
      tags.id AS id,
      tags.name AS name,
      tags.xml_id AS xml_id,
      tags.parent_category_id AS parent_category_id,
      taxonomies.name as taxonomy,
      taxonomies.id as taxonomy_id
    FROM
      tags
    LEFT JOIN taxonomies
      ON tags.taxonomy_id = taxonomies.id
    GROUP BY
      tags.xml_id
    ORDER BY
      tags.name ASC`);return{tags:tr(i),categories:tr(t),taxonomies:tr(n)}}function qP(e){const{name:n,categoryId:t,tags:i,categories:r,toggleTag:l,onToggleSelected:h,isSurface:d,filters:p}=e,f=M.useCallback(S=>{var T;if((T=i?.filter(P=>P.parent_category_id===S))!=null&&T.length)return!0;const k=r?.filter(P=>P.parent_category_id===S);for(const P of k)if(f(P.id))return!0;return!1},[i,r]),g=M.useMemo(()=>i?.filter(S=>S.parent_category_id===t),[i,t]),y=M.useMemo(()=>r?.filter(S=>S.parent_category_id===t),[r,t]);return f(t)&&L.jsxs(eC,{children:[L.jsxs(nC,{expandIcon:L.jsx(pv,{}),"aria-controls":`category-tags-${n}-content`,id:`category-tags-${n}`,className:"accordion-summary",children:[L.jsx(kn,{children:n}),L.jsx(kn,{children:g?.length||""})]}),L.jsxs(tC,{className:"accordion-detail",children:[!!(g!=null&&g.length)&&L.jsx("ul",{children:g?.map(S=>L.jsx(cC,{as:"li",control:L.jsx(rC,{checked:p.includes(S.id),onChange:()=>{h(S.id),d&&(l(S.xml_id,"left"),l(S.xml_id,"right"))}}),label:S.name},S.id))}),!!(y!=null&&y.length)&&L.jsx(L.Fragment,{children:y.map(S=>L.jsx(qP,{name:S.name,categoryId:S.id,tags:i,categories:r,toggleTag:l,onToggleSelected:h,isSurface:d,filters:p},S.id))})]})]})}function rQ(e){var n;const{onToggleSelected:t,filters:i,query:r}=e,l=M.useMemo(()=>iQ(e.db),[e.db]),[h,d]=M.useState({}),{toggleTag:p}=M.useContext(va);return M.useEffect(()=>{const f={},g=l.tags.filter(y=>!r||!r.length||y.name.toLowerCase().includes(r.toLowerCase()));for(let y=0;y<l.taxonomies.length;y++){const S=l.taxonomies[y],T=g.filter(k=>k.taxonomy_id===S.id);T!=null&&T.length&&(f[S.id]=T)}d(f)},[l,r]),L.jsx(L.Fragment,{children:(n=l?.tags)!=null&&n.length?L.jsx("div",{className:"tag-list",children:L.jsx(CB,{children:l.taxonomies.map(f=>{var g,y;const S=h[f.id],T=S?.filter(k=>!k.parent_category_id);return S!=null&&S.length?L.jsxs("div",{children:[L.jsx(kn,{children:`${f.name.slice(0,1).toUpperCase()}${f.name.slice(1)}`}),!!(T!=null&&T.length)&&L.jsx("ul",{children:T?.map(k=>L.jsx(cC,{as:"li",control:L.jsx(rC,{checked:i.includes(k.id),onChange:()=>{t(k.id),f.is_surface&&(p(k.xml_id,"left"),p(k.xml_id,"right"))}}),label:k.name},k.id))}),(y=(g=l.categories)==null?void 0:g.filter(k=>k.taxonomy_id===f.id&&!k.parent_category_id))==null?void 0:y.map(k=>L.jsx(qP,{name:k.name,categoryId:k.id,tags:S,categories:l.categories,toggleTag:p,onToggleSelected:t,isSurface:f.is_surface,filters:i},k.id))]},f.id):null})})}):null})}function oQ(e){const n=e.prepare(`
      SELECT
        d.id AS id,
        d.name AS name,
        d.local_id AS local_id,
        json_group_array(document_taggings.tag) as tags
      FROM
        documents d
          LEFT JOIN document_taggings ON d.id = document_taggings.document
      GROUP BY d.id, d.name, d.local_id
    `);return tr(n)}function sQ(e){const n=e.prepare(`
    SELECT
      tags.id AS id
    FROM
      tags
        LEFT JOIN taxonomies ON tags.taxonomy_id = taxonomies.id
    WHERE
      taxonomies.is_surface = 0 OR taxonomies.is_surface IS NULL
    `);return tr(n)}function aE(e){if(!e)return null;const n=e.split("_"),t=n.slice(0,n.length-1).join("_"),i=n[n.length-1];return{localID:t,surfaceID:i}}function aQ(e){const n=e.split("/"),t=n[2],i=n[4],r=aE(t),l=aE(i);return{left:r,right:l}}function lQ(e){const{db:n,open:t,toggleOpen:i}=e,r=M.useMemo(()=>oQ(n),[n]),l=M.useMemo(()=>{var de;return(de=sQ(n))==null?void 0:de.map(ie=>ie.id)},[n]),[h,d]=M.useState({}),[p,f]=M.useState(0),[g,y]=M.useState([]),[S,T]=M.useState(!1),[k,P]=M.useState(void 0),_=M.useCallback((de,ie)=>de.filter(ge=>{var pe;const be=ge.id;for(const Ae of ie)if(l.includes(Ae)&&!((pe=JSON.parse(ge.tags))!=null&&pe.includes(Ae))){const Le=h;return Le[be]=0,d(Le),!1}return!0}),[l,h]),D=M.useMemo(()=>_(r,g),[_,r,g]),{clearTags:q}=M.useContext(va),G=ga(),ne=Hr(),K=M.useMemo(()=>aQ(ne.pathname),[ne]),Y=M.useCallback(de=>{const ie=de!=null&&de.left?`${de.left.localID}_${de.left.surfaceID}`:null,ge=de!=null&&de.right?`${de.right.localID}_${de.right.surfaceID}`:null,pe=`/ec/${ie||"-1"}/${ie?"f":"g"}/${ge||"-1"}/${ge?"f":"g"}`;G(pe+ne.search)},[ne.search,G]),se=M.useCallback((de,ie)=>{const ge=h;ge[de]=ie,d(ge)},[h]);M.useEffect(()=>{let de=0;for(const ie of Object.keys(h))de+=h[ie];f(de)},[h,g]);const ce=M.useMemo(()=>D.map(de=>L.jsx(nQ,{db:n,documentName:de.name,documentLocalID:de.local_id,documentID:de.id,selection:K,navigateToSelection:Y,updatePageCount:ie=>se(de.id,ie),tags:g?.filter(ie=>!l.includes(ie))},`document-detail-${de.id}`)),[n,l,D,Y,K,g,se]);return L.jsx($T,{in:t,horizontal:!0,children:L.jsxs(eS,{className:"surface-browser",children:[L.jsx(xg,{onClick:i,className:"surface-browser-close",children:L.jsx(WP,{})}),L.jsx(hB,{}),L.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[L.jsx(kn,{children:"Contents"}),L.jsxs("div",{children:[g&&g.length?L.jsx(nS,{onClick:()=>{y([]),q()},style:{marginRight:"24px"},children:"Clear All"}):null,L.jsxs(nS,{startIcon:L.jsx(GP,{}),onClick:()=>T(de=>!de),children:["Filter",g&&g.length?L.jsx("div",{style:{fontSize:"small",backgroundColor:"red",borderRadius:"999px",display:"flex",justifyContent:"center",alignItems:"center",padding:"3px",color:"white",height:"16px",width:"16px",position:"absolute",top:"0",left:"-12px"},children:g.length}):null]})]})]}),L.jsxs(kn,{children:[p," ","Page",p!==1?"s":""]}),S&&L.jsxs("div",{className:"tag-filters",children:[L.jsx(Cg,{placeholder:"Search for filters",value:k,onChange:de=>{P(de.target.value)},className:"tag-filters-search"}),L.jsx(rQ,{db:n,filters:g,query:k,onToggleSelected:de=>{g.includes(de)?y(ie=>ie.filter(ge=>ge!==de)):y(ie=>[...ie,de])}})]}),L.jsx(eS,{className:"surface-browser-document-details",children:ce})]})})}function cQ(e){const{db:n}=e,[t,i]=M.useState(!1),[r,l]=M.useState(!1),h=()=>{i(!t)},d=()=>{l(!r)},p=M.useRef(null),f={marginLeft:"60px",backgroundColor:"#242629",zIndex:"9999"},g=Km({palette:{type:"dark"}});return L.jsx("div",{className:"tag-explore-sidebar",children:L.jsxs(HE,{theme:g,children:[L.jsx(A$,{toggleDrawer:d,toggleHelp:h,helpRef:p}),L.jsx(lQ,{db:n,open:r,toggleOpen:d}),L.jsx(Hm,{marginStyle:f,anchorEl:p.current,open:t,onClose:h})]})})}const uQ={categories:[],tags:[]};async function dQ(e){const n=await fetch(e);if(!n.ok)throw new Error("Failed fetching SQLite file.");const t=await n.arrayBuffer(),i=new Uint8Array(t);return await jP({locateFile:r=>`https://cdnjs.cloudflare.com/ajax/libs/sql.js/${NP.version}/${r}`}).then(r=>new r.Database(i))}function hQ(e){const n=e.prepare(`
    SELECT
      documents.name AS name,
      documents.local_id AS local_id
    FROM
      documents
  `);return tr(n)}function pQ(e,n){const t=hQ(n),{documentName:i,baseURL:r,transcriptionTypes:l,manifestPath:h="/iiif/manifest.json"}=e,d={};for(const p of t)d[p.local_id]={documentName:p.name,transcriptionTypes:l,iiifManifest:`${r}/${p.local_id}${h}`};return{documentName:i,documentInfo:d,tagExplorerMode:!0}}function gQ(e){const[n,t]=M.useState(null),[i,r]=M.useState(null);return M.useState(uQ),M.useEffect(()=>(n||(async()=>{const l=await dQ(e.dbUrl),h=pQ(e,l);t(l),r(h)})(),()=>{n&&n.close()}),[e.dbUrl,n]),!n||!i?L.jsx(HP,{}):L.jsx("div",{className:"tag-explore",children:L.jsx(aT,{children:L.jsxs(lT,{children:[L.jsx(cQ,{db:n}),L.jsx(d$,{...i})]})})})}export{mQ as RecordList,gQ as TagExplore,d$ as default};
